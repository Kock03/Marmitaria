"use strict";(self.webpackChunkMarmitaria=self.webpackChunkMarmitaria||[]).push([[179],{2011:(un,ct,z)=>{z.d(ct,{Dh:()=>Ve,GT:()=>We,cc:()=>mt,hO:()=>Dt,on:()=>le,pX:()=>Re,xv:()=>Ye});var a=z(4650),te=z(127),H=z(5813);un=z.hmd(un);const ke=["ngOnDestroy"],Re=(je,Yt,Kt,pt={})=>new Proxy(je,{get:(ht,tt)=>Kt.runOutsideAngular(()=>{var Pt;if(je[tt])return!(null===(Pt=pt?.spy)||void 0===Pt)&&Pt.get&&pt.spy.get(tt,je[tt]),je[tt];if(ke.indexOf(tt)>-1)return()=>{};const Ie=Yt.toPromise().then(Ne=>{const Ze=Ne&&Ne[tt];return"function"==typeof Ze?Ze.bind(Ne):Ze&&Ze.then?Ze.then(ve=>Kt.run(()=>ve)):Kt.run(()=>Ze)});return new Proxy(()=>{},{get:(Ne,Ze)=>Ie[Ze],apply:(Ne,Ze,ve)=>Ie.then(Se=>{var He;const Me=Se&&Se(...ve);return!(null===(He=pt?.spy)||void 0===He)&&He.apply&&pt.spy.apply(tt,ve,Me),Me})})})}),We=(je,Yt)=>{Yt.forEach(Kt=>{Object.getOwnPropertyNames(Kt.prototype||Kt).forEach(pt=>{Object.defineProperty(je.prototype,pt,Object.getOwnPropertyDescriptor(Kt.prototype||Kt,pt))})})};class Te{constructor(Yt){return Yt}}const Ve=new a.OlP("angularfire2.app.options"),Ye=new a.OlP("angularfire2.app.name");function le(je,Yt,Kt){const ht="object"==typeof Kt&&Kt||{};ht.name=ht.name||"string"==typeof Kt&&Kt||"[DEFAULT]";const Pt=te.Z.apps.filter(Ie=>Ie&&Ie.name===ht.name)[0]||Yt.runOutsideAngular(()=>te.Z.initializeApp(je,ht));try{JSON.stringify(je)!==JSON.stringify(Pt.options)&&ce("error",`${Pt.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(Pt)}const ce=(je,...Yt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[je](...Yt)},be={provide:Te,useFactory:le,deps:[Ve,a.R0b,[new a.FiY,Ye]]};let Dt=(()=>{class je{constructor(Kt){te.Z.registerVersion("angularfire",H.q4.full,"core"),te.Z.registerVersion("angularfire",H.q4.full,"app-compat"),te.Z.registerVersion("angular",a.q4F.full,Kt.toString())}static initializeApp(Kt,pt){return{ngModule:je,providers:[{provide:Ve,useValue:Kt},{provide:Ye,useValue:pt}]}}}return je.\u0275fac=function(Kt){return new(Kt||je)(a.LFG(a.Lbi))},je.\u0275mod=a.oAB({type:je}),je.\u0275inj=a.cJS({providers:[be]}),je})();function mt(je,Yt,Kt,pt,ht){const[,tt,Pt]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===je)||[];if(tt)return function et(je,Yt){try{return je.toString()===Yt.toString()}catch{return je===Yt}}(ht,Pt)||(Ke("error",`${Yt} was already initialized on the ${Kt} Firebase App with different settings.${tn?" You may need to reload as Firebase is not HMR aware.":""}`),Ke("warn",{is:ht,was:Pt})),tt;{const Ie=pt();return globalThis.\u0275AngularfireInstanceCache.push([je,Ie,ht]),Ie}}const tn=!!un.hot,Ke=(je,...Yt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[je](...Yt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(un,ct,z)=>{z.d(ct,{q4:()=>Uu,iC:()=>Kr,fc:()=>Pc,HU:()=>zp,vb:()=>Md,JM:()=>t0});var a=z(4650),te=z(5867),H=z(5861),ke=z(9681),Re=z(2090),We=z(4859),Te=z(1877),Ve=z(8766);const Ye="@firebase/installations",le="0.5.12",be=`w:${le}`,Dt="FIS_v2",Yt=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kt(k){return k instanceof Re.ZR&&k.code.includes("request-failed")}function pt({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function ht(k){return{token:k.token,requestStatus:2,expiresIn:Se(k.expiresIn),creationTime:Date.now()}}function tt(k,R){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,H.Z)(function*(k,R){const Q=(yield R.json()).error;return Yt.create("request-failed",{requestName:k,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function Ie({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Ne(k,{refreshToken:R}){const N=Ie(k);return N.append("Authorization",function He(k){return`${Dt} ${k}`}(R)),N}function Ze(k){return ve.apply(this,arguments)}function ve(){return(ve=(0,H.Z)(function*(k){const R=yield k();return R.status>=500&&R.status<600?k():R})).apply(this,arguments)}function Se(k){return Number(k.replace("s","000"))}function Me(k,R){return bt.apply(this,arguments)}function bt(){return(bt=(0,H.Z)(function*({appConfig:k,heartbeatServiceProvider:R},{fid:N}){const Q=pt(k),xe=Ie(k),Fe=R.getImmediate({optional:!0});if(Fe){const An=yield Fe.getHeartbeatsHeader();An&&xe.append("x-firebase-client",An)}const Bt={method:"POST",headers:xe,body:JSON.stringify({fid:N,authVersion:Dt,appId:k.appId,sdkVersion:be})},yn=yield Ze(()=>fetch(Q,Bt));if(yn.ok){const An=yield yn.json();return{fid:An.fid||N,registrationStatus:2,refreshToken:An.refreshToken,authToken:ht(An.authToken)}}throw yield tt("Create Installation",yn)})).apply(this,arguments)}function Ct(k){return new Promise(R=>{setTimeout(R,k)})}const Qn=/^[cdef][\w-]{21}$/;function Lt(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const N=function Ir(k){return function pn(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return Qn.test(N)?N:""}catch{return""}}function qr(k){return`${k.appName}!${k.appId}`}const or=new Map;function Jn(k,R){const N=qr(k);fs(N,R),function qa(k,R){const N=function Vr(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=k=>{fs(k.data.key,k.data.fid)}),ps}();N&&N.postMessage({key:k,fid:R}),function zo(){0===or.size&&ps&&(ps.close(),ps=null)}()}(N,R)}function fs(k,R){const N=or.get(k);if(N)for(const Q of N)Q(R)}let ps=null;const ri="firebase-installations-store";let $o=null;function fn(){return $o||($o=(0,Ve.X3)("firebase-installations-database",1,{upgrade:(k,R)=>{0===R&&k.createObjectStore(ri)}})),$o}function kr(k,R){return gs.apply(this,arguments)}function gs(){return(gs=(0,H.Z)(function*(k,R){const N=qr(k),xe=(yield fn()).transaction(ri,"readwrite"),Fe=xe.objectStore(ri),_t=yield Fe.get(N);return yield Fe.put(R,N),yield xe.done,(!_t||_t.fid!==R.fid)&&Jn(k,R.fid),R})).apply(this,arguments)}function ar(k){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,H.Z)(function*(k){const R=qr(k),Q=(yield fn()).transaction(ri,"readwrite");yield Q.objectStore(ri).delete(R),yield Q.done})).apply(this,arguments)}function ms(k,R){return ki.apply(this,arguments)}function ki(){return(ki=(0,H.Z)(function*(k,R){const N=qr(k),xe=(yield fn()).transaction(ri,"readwrite"),Fe=xe.objectStore(ri),_t=yield Fe.get(N),Bt=R(_t);return void 0===Bt?yield Fe.delete(N):yield Fe.put(Bt,N),yield xe.done,Bt&&(!_t||_t.fid!==Bt.fid)&&Jn(k,Bt.fid),Bt})).apply(this,arguments)}function Cr(k){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,H.Z)(function*(k){let R;const N=yield ms(k.appConfig,Q=>{const xe=Mr(Q),Fe=rn(k,xe);return R=Fe.registrationPromise,Fe.installationEntry});return""===N.fid?{installationEntry:yield R}:{installationEntry:N,registrationPromise:R}})).apply(this,arguments)}function Mr(k){return $r(k||{fid:Lt(),registrationStatus:0})}function rn(k,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Yt.create("app-offline"))};const N={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},Q=function en(k,R){return Or.apply(this,arguments)}(k,N);return{installationEntry:N,registrationPromise:Q}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:As(k)}:{installationEntry:R}}function Or(){return(Or=(0,H.Z)(function*(k,R){try{const N=yield Me(k,R);return kr(k.appConfig,N)}catch(N){throw Kt(N)&&409===N.customData.serverCode?yield ar(k.appConfig):yield kr(k.appConfig,{fid:R.fid,registrationStatus:0}),N}})).apply(this,arguments)}function As(k){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,H.Z)(function*(k){let R=yield Nn(k.appConfig);for(;1===R.registrationStatus;)yield Ct(100),R=yield Nn(k.appConfig);if(0===R.registrationStatus){const{installationEntry:N,registrationPromise:Q}=yield Cr(k);return Q||N}return R})).apply(this,arguments)}function Nn(k){return ms(k,R=>{if(!R)throw Yt.create("installation-not-found");return $r(R)})}function $r(k){return function Is(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function kn(k,R){return ro.apply(this,arguments)}function ro(){return(ro=(0,H.Z)(function*({appConfig:k,heartbeatServiceProvider:R},N){const Q=Dn(k,N),xe=Ne(k,N),Fe=R.getImmediate({optional:!0});if(Fe){const An=yield Fe.getHeartbeatsHeader();An&&xe.append("x-firebase-client",An)}const Bt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:be,appId:k.appId}})},yn=yield Ze(()=>fetch(Q,Bt));if(yn.ok)return ht(yield yn.json());throw yield tt("Generate Auth Token",yn)})).apply(this,arguments)}function Dn(k,{fid:R}){return`${pt(k)}/${R}/authTokens:generate`}function ye(k){return ae.apply(this,arguments)}function ae(){return(ae=(0,H.Z)(function*(k,R=!1){let N;const Q=yield ms(k.appConfig,Fe=>{if(!_n(Fe))throw Yt.create("not-registered");const _t=Fe.authToken;if(!R&&hr(_t))return Fe;if(1===_t.requestStatus)return N=ne(k,R),Fe;{if(!navigator.onLine)throw Yt.create("app-offline");const Bt=fi(Fe);return N=ot(k,Bt),Bt}});return N?yield N:Q.authToken})).apply(this,arguments)}function ne(k,R){return de.apply(this,arguments)}function de(){return(de=(0,H.Z)(function*(k,R){let N=yield fe(k.appConfig);for(;1===N.authToken.requestStatus;)yield Ct(100),N=yield fe(k.appConfig);const Q=N.authToken;return 0===Q.requestStatus?ye(k,R):Q})).apply(this,arguments)}function fe(k){return ms(k,R=>{if(!_n(R))throw Yt.create("not-registered");return function _e(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function ot(k,R){return It.apply(this,arguments)}function It(){return(It=(0,H.Z)(function*(k,R){try{const N=yield kn(k,R),Q=Object.assign(Object.assign({},R),{authToken:N});return yield kr(k.appConfig,Q),N}catch(N){if(!Kt(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const Q=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield kr(k.appConfig,Q)}else yield ar(k.appConfig);throw N}})).apply(this,arguments)}function _n(k){return void 0!==k&&2===k.registrationStatus}function hr(k){return 2===k.requestStatus&&!function fr(k){const R=Date.now();return R<k.creationTime||k.creationTime+k.expiresIn<R+36e5}(k)}function fi(k){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:R})}function oe(){return(oe=(0,H.Z)(function*(k){const R=k,{installationEntry:N,registrationPromise:Q}=yield Cr(R);return Q?Q.catch(console.error):ye(R).catch(console.error),N.fid})).apply(this,arguments)}function At(){return(At=(0,H.Z)(function*(k,R=!1){const N=k;return yield at(N),(yield ye(N,R)).token})).apply(this,arguments)}function at(k){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,H.Z)(function*(k){const{registrationPromise:R}=yield Cr(k);R&&(yield R)})).apply(this,arguments)}function Fn(k){return Yt.create("missing-app-config-values",{valueName:k})}const _u="installations",hc=k=>{const R=k.getProvider("app").getImmediate(),N=function ya(k){if(!k||!k.options)throw Fn("App Configuration");if(!k.name)throw Fn("App Name");const R=["projectId","apiKey","appId"];for(const N of R)if(!k.options[N])throw Fn(N);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(R);return{app:R,appConfig:N,heartbeatServiceProvider:(0,ke._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Sl=k=>{const R=k.getProvider("app").getImmediate(),N=(0,ke._getProvider)(R,_u).getImmediate();return{getId:()=>function ue(k){return oe.apply(this,arguments)}(N),getToken:xe=>function Qe(k){return At.apply(this,arguments)}(N,xe)}};(function Gi(){(0,ke._registerComponent)(new We.wA(_u,hc,"PUBLIC")),(0,ke._registerComponent)(new We.wA("installations-internal",Sl,"PRIVATE"))})(),(0,ke.registerVersion)(Ye,le),(0,ke.registerVersion)(Ye,le,"esm2017");const Tl="@firebase/remote-config",Un=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vu{constructor(R,N,Q,xe){this.client=R,this.storage=N,this.storageCache=Q,this.logger=xe}isCachedDataFresh(R,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-N,xe=Q<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${xe}.`),xe}fetch(R){var N=this;return(0,H.Z)(function*(){const[Q,xe]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(xe&&N.isCachedDataFresh(R.cacheMaxAgeMillis,Q))return xe;R.eTag=xe&&xe.eTag;const Fe=yield N.client.fetch(R),_t=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&_t.push(N.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(_t),Fe})()}}function fd(k=navigator){return k.languages&&k.languages[0]||k.language}class Al{constructor(R,N,Q,xe,Fe,_t){this.firebaseInstallations=R,this.sdkVersion=N,this.namespace=Q,this.projectId=xe,this.apiKey=Fe,this.appId=_t}fetch(R){var N=this;return(0,H.Z)(function*(){var Q,xe,Fe;const[_t,Bt]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),An=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},mn={sdk_version:N.sdkVersion,app_instance_id:_t,app_instance_id_token:Bt,app_id:N.appId,language_code:fd()},es={method:"POST",headers:Mn,body:JSON.stringify(mn)},js=fetch(An,es),Od=new Promise((Nc,Pd)=>{R.signal.addEventListener(()=>{const sf=new Error("The operation was aborted.");sf.name="AbortError",Pd(sf)})});let ta;try{yield Promise.race([js,Od]),ta=yield js}catch(Nc){let Pd="fetch-client-network";throw"AbortError"===(null===(Q=Nc)||void 0===Q?void 0:Q.name)&&(Pd="fetch-timeout"),Un.create(Pd,{originalErrorMessage:null===(xe=Nc)||void 0===xe?void 0:xe.message})}let Ta=ta.status;const r0=ta.headers.get("ETag")||void 0;let rf,Gu;if(200===ta.status){let Nc;try{Nc=yield ta.json()}catch(Pd){throw Un.create("fetch-client-parse",{originalErrorMessage:null===(Fe=Pd)||void 0===Fe?void 0:Fe.message})}rf=Nc.entries,Gu=Nc.state}if("INSTANCE_STATE_UNSPECIFIED"===Gu?Ta=500:"NO_CHANGE"===Gu?Ta=304:("NO_TEMPLATE"===Gu||"EMPTY_CONFIG"===Gu)&&(rf={}),304!==Ta&&200!==Ta)throw Un.create("fetch-status",{httpStatus:Ta});return{status:Ta,eTag:r0,config:rf}})()}}class xa{constructor(R,N){this.client=R,this.storage=N}fetch(R){var N=this;return(0,H.Z)(function*(){const Q=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(R,Q)})()}attemptFetch(R,{throttleEndTimeMillis:N,backoffCount:Q}){var xe=this;return(0,H.Z)(function*(){yield function so(k,R){return new Promise((N,Q)=>{const xe=Math.max(R-Date.now(),0),Fe=setTimeout(N,xe);k.addEventListener(()=>{clearTimeout(Fe),Q(Un.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,N);try{const Fe=yield xe.client.fetch(R);return yield xe.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function ky(k){if(!(k instanceof Re.ZR&&k.customData))return!1;const R=Number(k.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Fe))throw Fe;const _t={throttleEndTimeMillis:Date.now()+(0,Re.$s)(Q),backoffCount:Q+1};return yield xe.storage.setThrottleMetadata(_t),xe.attemptFetch(R,_t)}})()}}class Ry{constructor(R,N,Q,xe,Fe){this.app=R,this._client=N,this._storageCache=Q,this._storage=xe,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xu(k,R){var N;const Q=k.target.error||void 0;return Un.create(R,{originalErrorMessage:Q&&(null===(N=Q)||void 0===N?void 0:N.message)})}const gc="app_namespace_store";class pd{constructor(R,N,Q,xe=function Oy(){return new Promise((k,R)=>{var N;try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=xe=>{R(xu(xe,"storage-open"))},Q.onsuccess=xe=>{k(xe.target.result)},Q.onupgradeneeded=xe=>{0===xe.oldVersion&&xe.target.result.createObjectStore(gc,{keyPath:"compositeKey"})}}catch(Q){R(Un.create("storage-open",{originalErrorMessage:null===(N=Q)||void 0===N?void 0:N.message}))}})}()){this.appId=R,this.appName=N,this.namespace=Q,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var N=this;return(0,H.Z)(function*(){const Q=yield N.openDbPromise;return new Promise((xe,Fe)=>{var _t;const yn=Q.transaction([gc],"readonly").objectStore(gc),An=N.createCompositeKey(R);try{const Mn=yn.get(An);Mn.onerror=mn=>{Fe(xu(mn,"storage-get"))},Mn.onsuccess=mn=>{const es=mn.target.result;xe(es?es.value:void 0)}}catch(Mn){Fe(Un.create("storage-get",{originalErrorMessage:null===(_t=Mn)||void 0===_t?void 0:_t.message}))}})})()}set(R,N){var Q=this;return(0,H.Z)(function*(){const xe=yield Q.openDbPromise;return new Promise((Fe,_t)=>{var Bt;const An=xe.transaction([gc],"readwrite").objectStore(gc),Mn=Q.createCompositeKey(R);try{const mn=An.put({compositeKey:Mn,value:N});mn.onerror=es=>{_t(xu(es,"storage-set"))},mn.onsuccess=()=>{Fe()}}catch(mn){_t(Un.create("storage-set",{originalErrorMessage:null===(Bt=mn)||void 0===Bt?void 0:Bt.message}))}})})()}delete(R){var N=this;return(0,H.Z)(function*(){const Q=yield N.openDbPromise;return new Promise((xe,Fe)=>{var _t;const yn=Q.transaction([gc],"readwrite").objectStore(gc),An=N.createCompositeKey(R);try{const Mn=yn.delete(An);Mn.onerror=mn=>{Fe(xu(mn,"storage-delete"))},Mn.onsuccess=()=>{xe()}}catch(Mn){Fe(Un.create("storage-delete",{originalErrorMessage:null===(_t=Mn)||void 0===_t?void 0:_t.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class wa{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,H.Z)(function*(){const N=R.storage.getLastFetchStatus(),Q=R.storage.getLastSuccessfulFetchTimestampMillis(),xe=R.storage.getActiveConfig(),Fe=yield N;Fe&&(R.lastFetchStatus=Fe);const _t=yield Q;_t&&(R.lastSuccessfulFetchTimestampMillis=_t);const Bt=yield xe;Bt&&(R.activeConfig=Bt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function _c(){return wu.apply(this,arguments)}function wu(){return(wu=(0,H.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}!function Py(){(0,ke._registerComponent)(new We.wA("remote-config",function k(R,{instanceIdentifier:N}){const Q=R.getProvider("app").getImmediate(),xe=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,Re.hl)())throw Un.create("indexed-db-unavailable");const{projectId:Fe,apiKey:_t,appId:Bt}=Q.options;if(!Fe)throw Un.create("registration-project-id");if(!_t)throw Un.create("registration-api-key");if(!Bt)throw Un.create("registration-app-id");const yn=new pd(Bt,Q.name,N=N||"firebase"),An=new wa(yn),Mn=new Te.Yd(Tl);Mn.logLevel=Te.in.ERROR;const mn=new Al(xe,ke.SDK_VERSION,N,Fe,_t,Bt),es=new xa(mn,yn),js=new vu(es,yn,An,Mn),Od=new Ry(Q,js,An,yn,Mn);return function Sr(k){const R=(0,Re.m9)(k);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Od),Od},"PUBLIC").setMultipleInstances(!0)),(0,ke.registerVersion)(Tl,"0.3.11"),(0,ke.registerVersion)(Tl,"0.3.11","esm2017")}();const oo="/firebase-messaging-sw.js",Il="/firebase-cloud-messaging-push-scope",yc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bu="google.c.a.c_id",gd="google.c.a.c_l",Fm="google.c.a.ts",kl="google.c.a.e";var Yr=(()=>{return(k=Yr||(Yr={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",Yr;var k})();function To(k){const R=new Uint8Array(k);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ip(k){const N=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(N),xe=new Uint8Array(Q.length);for(let Fe=0;Fe<Q.length;++Fe)xe[Fe]=Q.charCodeAt(Fe);return xe}const Rl="fcm_token_details_db",ba="fcm_token_object_Store";function mi(k){return md.apply(this,arguments)}function md(){return md=(0,H.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(Rl))return null;let R=null;return(yield(0,Ve.X3)(Rl,5,{upgrade:(Q=(0,H.Z)(function*(xe,Fe,_t,Bt){var yn;if(Fe<2||!xe.objectStoreNames.contains(ba))return;const An=Bt.objectStore(ba),Mn=yield An.index("fcmSenderId").get(k);if(yield An.clear(),Mn)if(2===Fe){const mn=Mn;if(!mn.auth||!mn.p256dh||!mn.endpoint)return;R={token:mn.fcmToken,createTime:null!==(yn=mn.createTime)&&void 0!==yn?yn:Date.now(),subscriptionOptions:{auth:mn.auth,p256dh:mn.p256dh,endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:"string"==typeof mn.vapidKey?mn.vapidKey:To(mn.vapidKey)}}}else if(3===Fe){const mn=Mn;R={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:To(mn.auth),p256dh:To(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:To(mn.vapidKey)}}}else if(4===Fe){const mn=Mn;R={token:mn.fcmToken,createTime:mn.createTime,subscriptionOptions:{auth:To(mn.auth),p256dh:To(mn.p256dh),endpoint:mn.endpoint,swScope:mn.swScope,vapidKey:To(mn.vapidKey)}}}}),function(Fe,_t,Bt,yn){return Q.apply(this,arguments)})})).close(),yield(0,Ve.Lj)(Rl),yield(0,Ve.Lj)("fcm_vapid_details_db"),yield(0,Ve.Lj)("undefined"),kp(R)?R:null;var Q}),md.apply(this,arguments)}function kp(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:R}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Ka="firebase-messaging-store";let Fl=null;function Ca(){return Fl||(Fl=(0,Ve.X3)("firebase-messaging-database",1,{upgrade:(k,R)=>{0===R&&k.createObjectStore(Ka)}})),Fl}function Ji(k){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,H.Z)(function*(k){const R=Pl(k),Q=yield(yield Ca()).transaction(Ka).objectStore(Ka).get(R);if(Q)return Q;{const xe=yield mi(k.appConfig.senderId);if(xe)return yield qo(k,xe),xe}})).apply(this,arguments)}function qo(k,R){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,H.Z)(function*(k,R){const N=Pl(k),xe=(yield Ca()).transaction(Ka,"readwrite");return yield xe.objectStore(Ka).put(R,N),yield xe.done,R})).apply(this,arguments)}function Zo(k){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,H.Z)(function*(k){const R=Pl(k),Q=(yield Ca()).transaction(Ka,"readwrite");yield Q.objectStore(Ka).delete(R),yield Q.done})).apply(this,arguments)}function Pl({appConfig:k}){return k.appId}const ii=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Om(k,R){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,H.Z)(function*(k,R){var N;const Q=yield lt(k),xe=Nl(R),Fe={method:"POST",headers:Q,body:JSON.stringify(xe)};let _t;try{_t=yield(yield fetch(_d(k.appConfig),Fe)).json()}catch(Bt){throw ii.create("token-subscribe-failed",{errorInfo:null===(N=Bt)||void 0===N?void 0:N.toString()})}if(_t.error)throw ii.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw ii.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Mp(k,R){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,H.Z)(function*(k,R){var N;const Q=yield lt(k),xe=Nl(R.subscriptionOptions),Fe={method:"PATCH",headers:Q,body:JSON.stringify(xe)};let _t;try{_t=yield(yield fetch(`${_d(k.appConfig)}/${R.token}`,Fe)).json()}catch(Bt){throw ii.create("token-update-failed",{errorInfo:null===(N=Bt)||void 0===N?void 0:N.toString()})}if(_t.error)throw ii.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw ii.create("token-update-no-token");return _t.token})).apply(this,arguments)}function vc(k,R){return xc.apply(this,arguments)}function xc(){return(xc=(0,H.Z)(function*(k,R){var N;const xe={method:"DELETE",headers:yield lt(k)};try{const _t=yield(yield fetch(`${_d(k.appConfig)}/${R}`,xe)).json();if(_t.error)throw ii.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(Fe){throw ii.create("token-unsubscribe-failed",{errorInfo:null===(N=Fe)||void 0===N?void 0:N.toString()})}})).apply(this,arguments)}function _d({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function lt(k){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,H.Z)(function*({appConfig:k,installations:R}){const N=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Nl({p256dh:k,auth:R,endpoint:N,vapidKey:Q}){const xe={web:{endpoint:N,auth:R,p256dh:k}};return Q!==yc&&(xe.web.applicationPubKey=Q),xe}const Ll=6048e5;function si(k){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,H.Z)(function*(k){const R=yield Lw(k.swRegistration,k.vapidKey),N={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:R.endpoint,auth:To(R.getKey("auth")),p256dh:To(R.getKey("p256dh"))},Q=yield Ji(k.firebaseDependencies);if(Q){if(ji(Q.subscriptionOptions,N))return Date.now()>=Q.createTime+Ll?Hh(k,{token:Q.token,createTime:Date.now(),subscriptionOptions:N}):Q.token;try{yield vc(k.firebaseDependencies,Q.token)}catch(xe){console.warn(xe)}return Su(k.firebaseDependencies,N)}return Su(k.firebaseDependencies,N)})).apply(this,arguments)}function wc(k){return ks.apply(this,arguments)}function ks(){return(ks=(0,H.Z)(function*(k){const R=yield Ji(k.firebaseDependencies);R&&(yield vc(k.firebaseDependencies,R.token),yield Zo(k.firebaseDependencies));const N=yield k.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Hh(k,R){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,H.Z)(function*(k,R){try{const N=yield Mp(k.firebaseDependencies,R),Q=Object.assign(Object.assign({},R),{token:N,createTime:Date.now()});return yield qo(k.firebaseDependencies,Q),N}catch(N){throw yield wc(k),N}})).apply(this,arguments)}function Su(k,R){return bc.apply(this,arguments)}function bc(){return(bc=(0,H.Z)(function*(k,R){const Q={token:yield Om(k,R),createTime:Date.now(),subscriptionOptions:R};return yield qo(k,Q),Q.token})).apply(this,arguments)}function Lw(k,R){return Do.apply(this,arguments)}function Do(){return(Do=(0,H.Z)(function*(k,R){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ip(R)})})).apply(this,arguments)}function ji(k,R){return R.vapidKey===k.vapidKey&&R.endpoint===k.endpoint&&R.auth===k.auth&&R.p256dh===k.p256dh}function ao(k){const R={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function Gh(k,R){if(!R.notification)return;k.notification={};const N=R.notification.title;N&&(k.notification.title=N);const Q=R.notification.body;Q&&(k.notification.body=Q);const xe=R.notification.image;xe&&(k.notification.image=xe)}(R,k),function Ul(k,R){!R.data||(k.data=R.data)}(R,k),function Ao(k,R){var N,Q,xe,Fe,_t;if(!(R.fcmOptions||null!==(N=R.notification)&&void 0!==N&&N.click_action))return;k.fcmOptions={};const Bt=null!==(xe=null===(Q=R.fcmOptions)||void 0===Q?void 0:Q.link)&&void 0!==xe?xe:null===(Fe=R.notification)||void 0===Fe?void 0:Fe.click_action;Bt&&(k.fcmOptions.link=Bt);const yn=null===(_t=R.fcmOptions)||void 0===_t?void 0:_t.analytics_label;yn&&(k.fcmOptions.analyticsLabel=yn)}(R,k),R}function Pm(k){return"object"==typeof k&&!!k&&bu in k}function jh(k,R){const N=[];for(let Q=0;Q<k.length;Q++)N.push(k.charAt(Q)),Q<R.length&&N.push(R.charAt(Q));return N.join("")}function zh(k){return ii.create("missing-app-config-values",{valueName:k})}jh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tu{constructor(R,N,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function yd(k){if(!k||!k.options)throw zh("App Configuration Object");if(!k.name)throw zh("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:N}=k;for(const Q of R)if(!N[Q])throw zh(Q);return{appName:k.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:xe,installations:N,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function Du(k){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,H.Z)(function*(k){var R;try{k.swRegistration=yield navigator.serviceWorker.register(oo,{scope:Il}),k.swRegistration.update().catch(()=>{})}catch(N){throw ii.create("failed-service-worker-registration",{browserErrorMessage:null===(R=N)||void 0===R?void 0:R.message})}})).apply(this,arguments)}function $h(k,R){return Au.apply(this,arguments)}function Au(){return(Au=(0,H.Z)(function*(k,R){if(!R&&!k.swRegistration&&(yield Du(k)),R||!k.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");k.swRegistration=R}})).apply(this,arguments)}function vd(k,R){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,H.Z)(function*(k,R){R?k.vapidKey=R:k.vapidKey||(k.vapidKey=yc)})).apply(this,arguments)}function Sc(){return(Sc=(0,H.Z)(function*(k,R){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield vd(k,R?.vapidKey),yield $h(k,R?.serviceWorkerRegistration),si(k)})).apply(this,arguments)}function Fp(k,R,N){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,H.Z)(function*(k,R,N){const Q=xd(R);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:N[bu],message_name:N[gd],message_time:N[Fm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xd(k){switch(k){case Yr.NOTIFICATION_CLICKED:return"notification_open";case Yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Iu(){return(Iu=(0,H.Z)(function*(k,R){const N=R.data;if(!N.isFirebaseMessaging)return;k.onMessageHandler&&N.messageType===Yr.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(ao(N)):k.onMessageHandler.next(ao(N)));const Q=N.data;Pm(Q)&&"1"===Q[kl]&&(yield Fp(k,N.messageType,Q))})).apply(this,arguments)}const _i="@firebase/messaging",Tr=k=>{const R=new Tu(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Nm(k,R){return Iu.apply(this,arguments)}(R,N)),R},Lm=k=>{const R=k.getProvider("messaging").getImmediate();return{getToken:Q=>function Rp(k,R){return Sc.apply(this,arguments)}(R,Q)}};function Vm(){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,H.Z)(function*(){try{yield(0,Re.eu)()}catch{return!1}return typeof window<"u"&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bm(){(0,ke._registerComponent)(new We.wA("messaging",Tr,"PUBLIC")),(0,ke._registerComponent)(new We.wA("messaging-internal",Lm,"PRIVATE")),(0,ke.registerVersion)(_i,"0.9.16"),(0,ke.registerVersion)(_i,"0.9.16","esm2017")}();const Ko="analytics",Dc="firebase_id",Ic="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yh="https://www.googletagmanager.com/gtag/js",zi=new Te.Yd("@firebase/analytics");function Gm(k){return Promise.all(k.map(R=>R.catch(N=>N)))}function Vw(k,R){const N=document.createElement("script");N.src=`${Yh}?l=${k}&id=${R}`,N.async=!0,document.head.appendChild(N)}function Mu(k,R,N,Q,xe,Fe){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,H.Z)(function*(k,R,N,Q,xe,Fe){const _t=Q[xe];try{if(_t)yield R[_t];else{const yn=(yield Gm(N)).find(An=>An.measurementId===xe);yn&&(yield R[yn.appId])}}catch(Bt){zi.error(Bt)}k("config",xe,Fe)})).apply(this,arguments)}function Ru(k,R,N,Q,xe){return kc.apply(this,arguments)}function kc(){return(kc=(0,H.Z)(function*(k,R,N,Q,xe){try{let Fe=[];if(xe&&xe.send_to){let _t=xe.send_to;Array.isArray(_t)||(_t=[_t]);const Bt=yield Gm(N);for(const yn of _t){const An=Bt.find(mn=>mn.measurementId===yn),Mn=An&&R[An.appId];if(!Mn){Fe=[];break}Fe.push(Mn)}}0===Fe.length&&(Fe=Object.values(R)),yield Promise.all(Fe),k("event",Q,xe||{})}catch(Fe){zi.error(Fe)}})).apply(this,arguments)}function Fu(){const k=window.document.getElementsByTagName("script");for(const R of Object.values(k))if(R.src&&R.src.includes(Yh))return R;return null}const Ri=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pp=new class Wm{constructor(R={},N=1e3){this.throttleMetadata=R,this.intervalMillis=N}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,N){this.throttleMetadata[R]=N}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function el(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function $i(k){return vr.apply(this,arguments)}function vr(){return(vr=(0,H.Z)(function*(k){var R;const{appId:N,apiKey:Q}=k,xe={method:"GET",headers:el(Q)},Fe=Ic.replace("{app-id}",N),_t=yield fetch(Fe,xe);if(200!==_t.status&&304!==_t.status){let Bt="";try{const yn=yield _t.json();null!==(R=yn.error)&&void 0!==R&&R.message&&(Bt=yn.error.message)}catch{}throw Ri.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:Bt})}return _t.json()})).apply(this,arguments)}function Rc(k){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,H.Z)(function*(k,R=Pp,N){const{appId:Q,apiKey:xe,measurementId:Fe}=k.options;if(!Q)throw Ri.create("no-app-id");if(!xe){if(Fe)return{measurementId:Fe,appId:Q};throw Ri.create("no-api-key")}const _t=R.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Bt=new Nu;return setTimeout((0,H.Z)(function*(){Bt.abort()}),void 0!==N?N:6e4),Pu({appId:Q,apiKey:xe,measurementId:Fe},_t,Bt,R)})).apply(this,arguments)}function Pu(k,R,N){return Io.apply(this,arguments)}function Io(){return(Io=(0,H.Z)(function*(k,{throttleEndTimeMillis:R,backoffCount:N},Q,xe=Pp){var Fe,_t;const{appId:Bt,measurementId:yn}=k;try{yield bd(Q,R)}catch(An){if(yn)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null===(Fe=An)||void 0===Fe?void 0:Fe.message}]`),{appId:Bt,measurementId:yn};throw An}try{const An=yield $i(k);return xe.deleteThrottleMetadata(Bt),An}catch(An){const Mn=An;if(!tl(Mn)){if(xe.deleteThrottleMetadata(Bt),yn)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:Bt,measurementId:yn};throw An}const mn=503===Number(null===(_t=Mn?.customData)||void 0===_t?void 0:_t.httpStatus)?(0,Re.$s)(N,xe.intervalMillis,30):(0,Re.$s)(N,xe.intervalMillis),es={throttleEndTimeMillis:Date.now()+mn,backoffCount:N+1};return xe.setThrottleMetadata(Bt,es),zi.debug(`Calling attemptFetch again in ${mn} millis`),Pu(k,es,Q,xe)}})).apply(this,arguments)}function bd(k,R){return new Promise((N,Q)=>{const xe=Math.max(R-Date.now(),0),Fe=setTimeout(N,xe);k.addEventListener(()=>{clearTimeout(Fe),Q(Ri.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function tl(k){if(!(k instanceof Re.ZR&&k.customData))return!1;const R=Number(k.customData.httpStatus);return 429===R||500===R||503===R||504===R}class Nu{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Qo,yi;function Cd(){return(Cd=(0,H.Z)(function*(k,R,N,Q,xe){if(xe&&xe.global)k("event",N,Q);else{const Fe=yield R;k("event",N,Object.assign(Object.assign({},Q),{send_to:Fe}))}})).apply(this,arguments)}function Ea(k){yi=k}function er(k){Qo=k}function Qt(){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,H.Z)(function*(){var k;if(!(0,Re.hl)())return zi.warn(Ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(R){return zi.warn(Ri.create("indexeddb-unavailable",{errorInfo:null===(k=R)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function sl(){return(sl=(0,H.Z)(function*(k,R,N,Q,xe,Fe,_t){var Bt;const yn=Rc(k);yn.then(js=>{N[js.measurementId]=js.appId,k.options.measurementId&&js.measurementId!==k.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${js.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(js=>zi.error(js)),R.push(yn);const An=Qt().then(js=>{if(js)return Q.getId()}),[Mn,mn]=yield Promise.all([yn,An]);Fu()||Vw(Fe,Mn.measurementId),yi&&(xe("consent","default",yi),Ea(void 0)),xe("js",new Date);const es=null!==(Bt=_t?.config)&&void 0!==Bt?Bt:{};return es.origin="firebase",es.update=!0,null!=mn&&(es[Dc]=mn),xe("config",Mn.measurementId,es),Qo&&(xe("set",Qo),er(void 0)),Mn.measurementId})).apply(this,arguments)}class Bu{constructor(R){this.app=R}_delete(){return delete Fi[this.app.options.appId],Promise.resolve()}}let Fi={},Xh=[];const Vu={};let qm,Gn,Jo="dataLayer",Td=!1;function Lp(k,R,N){!function Hw(){const k=[];if((0,Re.ru)()&&k.push("This is a browser extension environment."),(0,Re.zI)()||k.push("Cookies are not available."),k.length>0){const R=k.map((Q,xe)=>`(${xe+1}) ${Q}`).join(" "),N=Ri.create("invalid-analytics-context",{errorInfo:R});zi.warn(N.message)}}();const Q=k.options.appId;if(!Q)throw Ri.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Ri.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fi[Q])throw Ri.create("already-exists",{id:Q});if(!Td){!function jm(k){let R=[];Array.isArray(window[k])?R=window[k]:window[k]=R}(Jo);const{wrappedGtag:Fe,gtagCore:_t}=function $m(k,R,N,Q,xe){let Fe=function(..._t){window[Q].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(Fe=window[xe]),window[xe]=function zm(k,R,N,Q){function Fe(){return(Fe=(0,H.Z)(function*(_t,Bt,yn){try{"event"===_t?yield Ru(k,R,N,Bt,yn):"config"===_t?yield Mu(k,R,N,Q,Bt,yn):"consent"===_t?k("consent","update",yn):k("set",Bt)}catch(An){zi.error(An)}})).apply(this,arguments)}return function xe(_t,Bt,yn){return Fe.apply(this,arguments)}}(Fe,k,R,N),{gtagCore:Fe,wrappedGtag:window[xe]}}(Fi,Xh,Vu,Jo,"gtag");Gn=Fe,qm=_t,Td=!0}return Fi[Q]=function Np(k,R,N,Q,xe,Fe,_t){return sl.apply(this,arguments)}(k,Xh,Vu,R,qm,Jo,N),new Bu(k)}function Bp(){return ol.apply(this,arguments)}function ol(){return(ol=(0,H.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}const ys="@firebase/analytics";!function Jh(){(0,ke._registerComponent)(new We.wA(Ko,(R,{options:N})=>Lp(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ke._registerComponent)(new We.wA("analytics-internal",function k(R){try{const N=R.getProvider(Ko).getImmediate();return{logEvent:(Q,xe,Fe)=>function Vp(k,R,N,Q){k=(0,Re.m9)(k),function Lu(k,R,N,Q,xe){return Cd.apply(this,arguments)}(Gn,Fi[k.app.options.appId],R,N,Q).catch(xe=>zi.error(xe))}(N,Q,xe,Fe)}}catch(N){throw Ri.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ke.registerVersion)(ys,"0.8.0"),(0,ke.registerVersion)(ys,"0.8.0","esm2017")}();var ef=z(4408),Dd=z(7565);const Xm=new class Up extends Dd.v{}(class Oc extends ef.o{constructor(R,N){super(R,N),this.scheduler=R,this.work=N}schedule(R,N=0){return N>0?super.schedule(R,N):(this.delay=N,this.state=R,this.scheduler.flush(this),this)}execute(R,N){return N>0||this.closed?super.execute(R,N):this._execute(R,N)}requestAsyncId(R,N,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(R,N,Q):R.flush(this)}});var $w=z(4986),Gl=z(8505),vs=z(5363),Ad=z(9468);const Uu=new a.GfV("7.4.1"),Qm="__angularfire_symbol__analyticsIsSupportedValue",Hu="__angularfire_symbol__analyticsIsSupported",tf="__angularfire_symbol__remoteConfigIsSupportedValue",Hp="__angularfire_symbol__remoteConfigIsSupported",Gp="__angularfire_symbol__messagingIsSupportedValue",Id="__angularfire_symbol__messagingIsSupported";function t0(k,R,N){if(R){if(1===R.length)return R[0];const Fe=R.filter(_t=>_t.app===N);if(1===Fe.length)return Fe[0]}return N.container.getProvider(k).getImmediate({optional:!0})}globalThis[Hu]||(globalThis[Hu]=Bp().then(k=>globalThis[Qm]=k).catch(()=>globalThis[Qm]=!1)),globalThis[Id]||(globalThis[Id]=Vm().then(k=>globalThis[Gp]=k).catch(()=>globalThis[Gp]=!1)),globalThis[Hp]||(globalThis[Hp]=_c().then(k=>globalThis[tf]=k).catch(()=>globalThis[tf]=!1));const Md=(k,R)=>{const N=R?[R]:(0,te.C6)(),Q=[];return N.forEach(xe=>{xe.container.getProvider(k).instances.forEach(_t=>{Q.includes(_t)||Q.push(_t)})}),Q};function Mo(){}class Rd{constructor(R,N=Xm){this.zone=R,this.delegate=N}now(){return this.delegate.now()}schedule(R,N,Q){const xe=this.zone;return this.delegate.schedule(function(_t){xe.runGuarded(()=>{R.apply(this,[_t])})},N,Q)}}class By{constructor(R){this.zone=R,this.task=null}call(R,N){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),N.pipe((0,Gl.b)({next:Q,complete:Q,error:Q})).subscribe(R).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zp=(()=>{class k{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new Rd(Zone.current)),this.insideAngular=N.run(()=>new Rd(Zone.current,$w.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(N){return new(N||k)(a.LFG(a.R0b))},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function al(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function Pc(k){return k.pipe((0,vs.Q)(al().outsideAngular))}function Kr(k){return al(),function n0(k){return function(N){return(N=N.lift(new By(k.ngZone))).pipe((0,Ad.R)(k.outsideAngular),(0,vs.Q)(k.insideAngular))}}(al())(k)}},6457:(un,ct,z)=>{z.d(ct,{$:()=>_d,A:()=>ce,B:()=>mt,G:()=>Sl,H:()=>Hs,J:()=>xa,L:()=>hr,M:()=>wu,N:()=>Rm,P:()=>$w,Q:()=>bu,R:()=>Km,T:()=>gd,U:()=>yc,V:()=>Yr,W:()=>To,X:()=>mi,Y:()=>wn,Z:()=>Om,_:()=>Mp,a:()=>Mc,a0:()=>si,a1:()=>wc,a2:()=>Hh,a3:()=>Su,a4:()=>Lw,a5:()=>ji,a6:()=>Gh,a7:()=>Ul,a8:()=>Pm,a9:()=>jh,aA:()=>js,aB:()=>yn,aC:()=>Pc,aD:()=>ea,aE:()=>Zr,aI:()=>el,aL:()=>kl,aa:()=>Du,ab:()=>$h,ac:()=>vd,af:()=>Fp,ag:()=>xd,ah:()=>Nm,ak:()=>Ka,al:()=>qh,an:()=>Yh,ao:()=>Kh,ap:()=>pi,aq:()=>Ze,ar:()=>Vn,as:()=>at,at:()=>Kt,au:()=>Hy,av:()=>r0,aw:()=>pt,ax:()=>Ie,ay:()=>Se,az:()=>fr,b:()=>Ri,c:()=>Gp,d:()=>e0,e:()=>jp,f:()=>n0,g:()=>Q,h:()=>k,i:()=>Sd,j:()=>_t,k:()=>Jw,l:()=>Sa,m:()=>ju,o:()=>Ve,r:()=>ef,s:()=>zw,u:()=>Xm});var a=z(5861),te=z(2090),H=z(9681),ke=z(655),Re=z(1877),We=z(4859);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const mt=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function Dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tn=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new Re.Yd("@firebase/auth");function Yt(C,...y){je.logLevel<=Re.in.ERROR&&je.error(`Auth (${H.SDK_VERSION}): ${C}`,...y)}function Kt(C,...y){throw Pt(C,...y)}function pt(C,...y){return Pt(C,...y)}function ht(C,y,x){const A=Object.assign(Object.assign({},et()),{[y]:x});return new te.LL("auth","Firebase",A).create(y,{appName:C.name})}function tt(C,y,x){if(!(y instanceof x))throw x.name!==y.constructor.name&&Kt(C,"argument-error"),ht(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pt(C,...y){if("string"!=typeof C){const x=y[0],A=[...y.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(x,...A)}return tn.create(C,...y)}function Ie(C,y,...x){if(!C)throw Pt(y,...x)}function Ne(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Yt(y),new Error(y)}function Ze(C,y){C||Ne(y)}const ve=new Map;function Se(C){Ze(C instanceof Function,"Expected a class definition");let y=ve.get(C);return y?(Ze(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ve.set(C,y),y)}function bt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ct(){return"http:"===pn()||"https:"===pn()}function pn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Lt{constructor(y,x){this.shortDelay=y,this.longDelay=x,Ze(x>y,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function Qn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ct()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ir(C,y){Ze(C.emulator,"Emulator should always be set here");const{url:x}=C.emulator;return y?`${x}${y.startsWith("/")?y.slice(1):y}`:x}class qr{static initialize(y,x,A){this.fetchImpl=y,x&&(this.headersImpl=x),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jn=new Lt(3e4,6e4);function zn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Pn(C,y,x,A){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(C,y,x,A,O={}){return qa(C,O,(0,a.Z)(function*(){let j={},De={};A&&("GET"===y?De=A:j={body:JSON.stringify(A)});const rt=(0,te.xO)(Object.assign({key:C.config.apiKey},De)).slice(1),Ht=yield C._getAdditionalHeaders();return Ht["Content-Type"]="application/json",C.languageCode&&(Ht["X-Firebase-Locale"]=C.languageCode),qr.fetch()(to(C,C.config.apiHost,x,rt),Object.assign({method:y,headers:Ht,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function qa(C,y,x){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(C,y,x){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},or),y);try{const O=new no(C),j=yield Promise.race([x(),O.promise]);O.clearNetworkTimeout();const De=yield j.json();if("needConfirmation"in De)throw ri(C,"account-exists-with-different-credential",De);if(j.ok&&!("errorMessage"in De))return De;{const rt=j.ok?De.errorMessage:De.error.message,[Ht,kt]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw ri(C,"credential-already-in-use",De);if("EMAIL_EXISTS"===Ht)throw ri(C,"email-already-in-use",De);if("USER_DISABLED"===Ht)throw ri(C,"user-disabled",De);const Jt=A[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(kt)throw ht(C,Jt,kt);Kt(C,Jt)}}catch(O){if(O instanceof te.ZR)throw O;Kt(C,"network-request-failed")}})).apply(this,arguments)}function Vr(C,y,x,A){return zo.apply(this,arguments)}function zo(){return(zo=(0,a.Z)(function*(C,y,x,A,O={}){const j=yield Pn(C,y,x,A,O);return"mfaPendingCredential"in j&&Kt(C,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function to(C,y,x,A){const O=`${y}${x}?${A}`;return C.config.emulator?Ir(C.config,O):`${C.config.apiScheme}://${O}`}class no{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((x,A)=>{this.timer=setTimeout(()=>A(pt(this.auth,"network-request-failed")),Jn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(C,y,x){const A={appName:C.name};x.email&&(A.email=x.email),x.phoneNumber&&(A.phoneNumber=x.phoneNumber);const O=pt(C,y,A);return O.customData._tokenResponse=x,O}function fn(){return(fn=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function kr(C,y){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ar(C,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function ms(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function Ds(){return(Ds=(0,a.Z)(function*(C,y=!1){const x=(0,te.m9)(C),A=yield x.getIdToken(y),O=rn(A);Ie(O&&O.exp&&O.auth_time&&O.iat,x.auth,"internal-error");const j="object"==typeof O.firebase?O.firebase:void 0,De=j?.sign_in_provider;return{claims:O,token:A,authTime:ms(Mr(O.auth_time)),issuedAtTime:ms(Mr(O.iat)),expirationTime:ms(Mr(O.exp)),signInProvider:De||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function Mr(C){return 1e3*Number(C)}function rn(C){var y;const[x,A,O]=C.split(".");if(void 0===x||void 0===A||void 0===O)return Yt("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,te.tV)(A);return j?JSON.parse(j):(Yt("Failed to decode base64 JWT payload"),null)}catch(j){return Yt("Caught error parsing JWT payload as JSON",null===(y=j)||void 0===y?void 0:y.toString()),null}}function Or(C,y){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(C,y,x=!1){if(x)return y;try{return yield y}catch(A){throw A instanceof te.ZR&&Ur(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}function Ur({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Nn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var x;if(y){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const O=(null!==(x=this.user.stsTokenManager.expirationTime)&&void 0!==x?x:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(y=!1){var x=this;if(!this.isRunning)return;const A=this.getInterval(y);this.timerId=setTimeout((0,a.Z)(function*(){yield x.iteration()}),A)}iteration(){var y=this;return(0,a.Z)(function*(){var x;try{yield y.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(x=A)||void 0===x?void 0:x.code)&&y.schedule(!0))}y.schedule()})()}}class $r{constructor(y,x){this.createdAt=y,this.lastLoginAt=x,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Is(C){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(C){var y;const x=C.auth,A=yield C.getIdToken(),O=yield Or(C,ar(x,{idToken:A}));Ie(O?.users.length,x,"internal-error");const j=O.users[0];C._notifyReloadListener(j);const De=null!==(y=j.providerUserInfo)&&void 0!==y&&y.length?ae(j.providerUserInfo):[],rt=ye(C.providerData,De),Jt=!!C.isAnonymous&&!(C.email&&j.passwordHash||rt?.length),Dr={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:rt,metadata:new $r(j.createdAt,j.lastLoginAt),isAnonymous:Jt};Object.assign(C,Dr)})).apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(C){const y=(0,te.m9)(C);yield Is(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function ye(C,y){return[...C.filter(A=>!y.some(O=>O.providerId===A.providerId)),...y]}function ae(C){return C.map(y=>{var{providerId:x}=y,A=(0,ke._T)(y,["providerId"]);return{providerId:x,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function de(){return(de=(0,a.Z)(function*(C,y){const x=yield qa(C,{},(0,a.Z)(function*(){const A=(0,te.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:O,apiKey:j}=C.config,De=to(C,O,"/v1/token",`key=${j}`),rt=yield C._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",qr.fetch()(De,{method:"POST",headers:rt,body:A})}));return{accessToken:x.access_token,expiresIn:x.expires_in,refreshToken:x.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ie(y.idToken,"internal-error"),Ie(typeof y.idToken<"u","internal-error"),Ie(typeof y.refreshToken<"u","internal-error");const x="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function en(C){const y=rn(C);return Ie(y,"internal-error"),Ie(typeof y.exp<"u","internal-error"),Ie(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,x)}getToken(y,x=!1){var A=this;return(0,a.Z)(function*(){return Ie(!A.accessToken||A.refreshToken,y,"user-token-expired"),x||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(y,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,x){var A=this;return(0,a.Z)(function*(){const{accessToken:O,refreshToken:j,expiresIn:De}=yield function ne(C,y){return de.apply(this,arguments)}(y,x);A.updateTokensAndExpiration(O,j,Number(De))})()}updateTokensAndExpiration(y,x,A){this.refreshToken=x||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(y,x){const{refreshToken:A,accessToken:O,expirationTime:j}=x,De=new fe;return A&&(Ie("string"==typeof A,"internal-error",{appName:y}),De.refreshToken=A),O&&(Ie("string"==typeof O,"internal-error",{appName:y}),De.accessToken=O),j&&(Ie("number"==typeof j,"internal-error",{appName:y}),De.expirationTime=j),De}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return Ne("not implemented")}}function ot(C,y){Ie("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class It{constructor(y){var{uid:x,auth:A,stsTokenManager:O}=y,j=(0,ke._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=x,this.auth=A,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new $r(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(y){var x=this;return(0,a.Z)(function*(){const A=yield Or(x,x.stsTokenManager.getToken(x.auth,y));return Ie(A,x.auth,"internal-error"),x.accessToken!==A&&(x.accessToken=A,yield x.auth._persistUserIfCurrent(x),x.auth._notifyListenersIfCurrent(x)),A})()}getIdTokenResult(y){return function Cr(C){return Ds.apply(this,arguments)}(this,y)}reload(){return function ro(C){return Dn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ie(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(x=>Object.assign({},x)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new It(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,x=!1){var A=this;return(0,a.Z)(function*(){let O=!1;y.idToken&&y.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(y),O=!0),x&&(yield Is(A)),yield A.auth._persistUserIfCurrent(A),O&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var y=this;return(0,a.Z)(function*(){const x=yield y.getIdToken();return yield Or(y,function $o(C,y){return fn.apply(this,arguments)}(y.auth,{idToken:x})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,x){var A,O,j,De,rt,Ht,kt,Jt;const Dr=null!==(A=x.displayName)&&void 0!==A?A:void 0,Da=null!==(O=x.email)&&void 0!==O?O:void 0,ll=null!==(j=x.phoneNumber)&&void 0!==j?j:void 0,li=null!==(De=x.photoURL)&&void 0!==De?De:void 0,jl=null!==(rt=x.tenantId)&&void 0!==rt?rt:void 0,Yp=null!==(Ht=x._redirectEventId)&&void 0!==Ht?Ht:void 0,vi=null!==(kt=x.createdAt)&&void 0!==kt?kt:void 0,lf=null!==(Jt=x.lastLoginAt)&&void 0!==Jt?Jt:void 0,{uid:jy,emailVerified:zy,isAnonymous:cf,providerData:c0,stsTokenManager:$y}=x;Ie(jy&&$y,y,"internal-error");const eb=fe.fromJSON(this.name,$y);Ie("string"==typeof jy,y,"internal-error"),ot(Dr,y.name),ot(Da,y.name),Ie("boolean"==typeof zy,y,"internal-error"),Ie("boolean"==typeof cf,y,"internal-error"),ot(ll,y.name),ot(li,y.name),ot(jl,y.name),ot(Yp,y.name),ot(vi,y.name),ot(lf,y.name);const u0=new It({uid:jy,auth:y,email:Da,emailVerified:zy,displayName:Dr,isAnonymous:cf,photoURL:li,phoneNumber:ll,tenantId:jl,stsTokenManager:eb,createdAt:vi,lastLoginAt:lf});return c0&&Array.isArray(c0)&&(u0.providerData=c0.map(d0=>Object.assign({},d0))),Yp&&(u0._redirectEventId=Yp),u0}static _fromIdTokenResponse(y,x,A=!1){return(0,a.Z)(function*(){const O=new fe;O.updateFromServerResponse(x);const j=new It({uid:x.localId,auth:y,stsTokenManager:O,isAnonymous:A});return yield Is(j),j})()}}const hr=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(x,A){var O=this;return(0,a.Z)(function*(){O.storage[x]=A})()}_get(x){var A=this;return(0,a.Z)(function*(){const O=A.storage[x];return void 0===O?null:O})()}_remove(x){var A=this;return(0,a.Z)(function*(){delete A.storage[x]})()}_addListener(x,A){}_removeListener(x,A){}}return C.type="NONE",C})();function fr(C,y,x){return`firebase:${C}:${y}:${x}`}class fi{constructor(y,x,A){this.persistence=y,this.auth=x,this.userKey=A;const{config:O,name:j}=this.auth;this.fullUserKey=fr(this.userKey,O.apiKey,j),this.fullPersistenceKey=fr("persistence",O.apiKey,j),this.boundEventHandler=x._onStorageEvent.bind(x),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,a.Z)(function*(){const x=yield y.persistence._get(y.fullUserKey);return x?It._fromJSON(y.auth,x):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var x=this;return(0,a.Z)(function*(){if(x.persistence===y)return;const A=yield x.getCurrentUser();return yield x.removeCurrentUser(),x.persistence=y,A?x.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,x,A="authUser"){return(0,a.Z)(function*(){if(!x.length)return new fi(Se(hr),y,A);const O=(yield Promise.all(x.map(function(){var kt=(0,a.Z)(function*(Jt){if(yield Jt._isAvailable())return Jt});return function(Jt){return kt.apply(this,arguments)}}()))).filter(kt=>kt);let j=O[0]||Se(hr);const De=fr(A,y.config.apiKey,y.name);let rt=null;for(const kt of x)try{const Jt=yield kt._get(De);if(Jt){const Dr=It._fromJSON(y,Jt);kt!==j&&(rt=Dr),j=kt;break}}catch{}const Ht=O.filter(kt=>kt._shouldAllowMigration);return j._shouldAllowMigration&&Ht.length?(j=Ht[0],rt&&(yield j._set(De,rt.toJSON())),yield Promise.all(x.map(function(){var kt=(0,a.Z)(function*(Jt){if(Jt!==j)try{yield Jt._remove(De)}catch{}});return function(Jt){return kt.apply(this,arguments)}}())),new fi(j,y,A)):new fi(j,y,A)})()}}function _e(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(At(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ue(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Nt(y))return"Blackberry";if(gn(y))return"Webos";if(oe(y))return"Safari";if((y.includes("chrome/")||Qe(y))&&!y.includes("edge/"))return"Chrome";if(at(y))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function ue(C=(0,te.z$)()){return/firefox\//i.test(C)}function oe(C=(0,te.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Qe(C=(0,te.z$)()){return/crios\//i.test(C)}function At(C=(0,te.z$)()){return/iemobile/i.test(C)}function at(C=(0,te.z$)()){return/android/i.test(C)}function Nt(C=(0,te.z$)()){return/blackberry/i.test(C)}function gn(C=(0,te.z$)()){return/webos/i.test(C)}function Vn(C=(0,te.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function pi(C=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function lr(C=(0,te.z$)()){return Vn(C)||at(C)||gn(C)||Nt(C)||/windows phone/i.test(C)||At(C)}function ya(C,y=[]){let x;switch(C){case"Browser":x=_e((0,te.z$)());break;case"Worker":x=`${_e((0,te.z$)())}-${C}`;break;default:x=C}const A=y.length?y.join(","):"FirebaseCore-web";return`${x}/JsCore/${H.SDK_VERSION}/${A}`}class Fn{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,x){const A=j=>new Promise((De,rt)=>{try{De(y(j))}catch(Ht){rt(Ht)}});A.onAbort=x,this.queue.push(A);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(y){var x=this;return(0,a.Z)(function*(){var A;if(x.auth.currentUser===y)return;const O=[];try{for(const j of x.queue)yield j(y),j.onAbort&&O.push(j.onAbort)}catch(j){O.reverse();for(const De of O)try{De()}catch{}throw x.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=j)||void 0===A?void 0:A.message})}})()}}class _u{constructor(y,x,A){this.app=y,this.heartbeatServiceProvider=x,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hc(this),this.idTokenSubscription=new hc(this),this.beforeStateQueue=new Fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(y,x){var A=this;return x&&(this._popupRedirectResolver=Se(x)),this._initializationPromise=this.queue((0,a.Z)(function*(){var O,j;if(!A._deleted&&(A.persistenceManager=yield fi.create(A,y),!A._deleted)){if(null!==(O=A._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(x),A.lastNotifiedUid=(null===(j=A.currentUser)||void 0===j?void 0:j.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,a.Z)(function*(){if(y._deleted)return;const x=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||x){if(y.currentUser&&x&&y.currentUser.uid===x.uid)return y._currentUser._assign(x),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(x,!0)}})()}initializeCurrentUser(y){var x=this;return(0,a.Z)(function*(){var A;const O=yield x.assertedPersistence.getCurrentUser();let j=O,De=!1;if(y&&x.config.authDomain){yield x.getOrInitRedirectPersistenceManager();const rt=null===(A=x.redirectUser)||void 0===A?void 0:A._redirectEventId,Ht=j?._redirectEventId,kt=yield x.tryRedirectSignIn(y);(!rt||rt===Ht)&&kt?.user&&(j=kt.user,De=!0)}if(!j)return x.directlySetCurrentUser(null);if(!j._redirectEventId){if(De)try{yield x.beforeStateQueue.runMiddleware(j)}catch(rt){j=O,x._popupRedirectResolver._overrideRedirectResult(x,()=>Promise.reject(rt))}return j?x.reloadAndSetCurrentUserOrClear(j):x.directlySetCurrentUser(null)}return Ie(x._popupRedirectResolver,x,"argument-error"),yield x.getOrInitRedirectPersistenceManager(),x.redirectUser&&x.redirectUser._redirectEventId===j._redirectEventId?x.directlySetCurrentUser(j):x.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(y){var x=this;return(0,a.Z)(function*(){let A=null;try{A=yield x._popupRedirectResolver._completeRedirectFn(x,y,!0)}catch{yield x._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(y){var x=this;return(0,a.Z)(function*(){var A;try{yield Is(y)}catch(O){if("auth/network-request-failed"!==(null===(A=O)||void 0===A?void 0:A.code))return x.directlySetCurrentUser(null)}return x.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function jn(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,a.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var x=this;return(0,a.Z)(function*(){const A=y?(0,te.m9)(y):null;return A&&Ie(A.auth.config.apiKey===x.config.apiKey,x,"invalid-user-token"),x._updateCurrentUser(A&&A._clone(x))})()}_updateCurrentUser(y,x=!1){var A=this;return(0,a.Z)(function*(){if(!A._deleted)return y&&Ie(A.tenantId===y.tenantId,A,"tenant-id-mismatch"),x||(yield A.beforeStateQueue.runMiddleware(y)),A.queue((0,a.Z)(function*(){yield A.directlySetCurrentUser(y),A.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,a.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var x=this;return this.queue((0,a.Z)(function*(){yield x.assertedPersistence.setPersistence(Se(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new te.LL("auth","Firebase",y())}onAuthStateChanged(y,x,A){return this.registerStateListener(this.authStateSubscription,y,x,A)}beforeAuthStateChanged(y,x){return this.beforeStateQueue.pushCallback(y,x)}onIdTokenChanged(y,x,A){return this.registerStateListener(this.idTokenSubscription,y,x,A)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,x){var A=this;return(0,a.Z)(function*(){const O=yield A.getOrInitRedirectPersistenceManager(x);return null===y?O.removeCurrentUser():O.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var x=this;return(0,a.Z)(function*(){if(!x.redirectPersistenceManager){const A=y&&Se(y)||x._popupRedirectResolver;Ie(A,x,"argument-error"),x.redirectPersistenceManager=yield fi.create(x,[Se(A._redirectPersistence)],"redirectUser"),x.redirectUser=yield x.redirectPersistenceManager.getCurrentUser()}return x.redirectPersistenceManager})()}_redirectUserForId(y){var x=this;return(0,a.Z)(function*(){var A,O;return x._isInitialized&&(yield x.queue((0,a.Z)(function*(){}))),(null===(A=x._currentUser)||void 0===A?void 0:A._redirectEventId)===y?x._currentUser:(null===(O=x.redirectUser)||void 0===O?void 0:O._redirectEventId)===y?x.redirectUser:null})()}_persistUserIfCurrent(y){var x=this;return(0,a.Z)(function*(){if(y===x.currentUser)return x.queue((0,a.Z)(function*(){return x.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,x;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(x=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==x?x:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,x,A,O){if(this._deleted)return()=>{};const j="function"==typeof x?x:x.next.bind(x),De=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(De,this,"internal-error"),De.then(()=>j(this.currentUser)),"function"==typeof x?y.addObserver(x,A,O):y.addObserver(x)}directlySetCurrentUser(y){var x=this;return(0,a.Z)(function*(){x.currentUser&&x.currentUser!==y&&(x._currentUser._stopProactiveRefresh(),y&&x.isProactiveRefreshEnabled&&y._startProactiveRefresh()),x.currentUser=y,y?yield x.assertedPersistence.setCurrentUser(y):yield x.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,a.Z)(function*(){var x;const A={"X-Client-Version":y.clientVersion};y.app.options.appId&&(A["X-Firebase-gmpid"]=y.app.options.appId);const O=yield null===(x=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===x?void 0:x.getHeartbeatsHeader();return O&&(A["X-Firebase-Client"]=O),A})()}}function Zr(C){return(0,te.m9)(C)}class hc{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,te.ne)(x=>this.observer=x)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sl(C,y,x){const A=Zr(C);Ie(A._canInitEmulator,A,"emulator-config-failed"),Ie(/^https?:\/\//.test(y),A,"invalid-emulator-scheme");const O=!!x?.disableWarnings,j=Gi(y),{host:De,port:rt}=function Tl(C){const y=Gi(C),x=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!x)return{host:"",port:null};const A=x[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(A);if(O){const j=O[1];return{host:j,port:Wo(A.substr(j.length+1))}}{const[j,De]=A.split(":");return{host:j,port:Wo(De)}}}(y);A.config.emulator={url:`${j}//${De}${null===rt?"":`:${rt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:De,port:rt,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Us(){function C(){const y=document.createElement("p"),x=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Gi(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function Wo(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Hs{constructor(y,x){this.providerId=y,this.signInMethod=x}toJSON(){return Ne("not implemented")}_getIdTokenResponse(y){return Ne("not implemented")}_linkToIdToken(y,x){return Ne("not implemented")}_getReauthenticationResolver(y){return Ne("not implemented")}}function Lh(C,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:resetPassword",zn(C,y))})).apply(this,arguments)}function Sp(C,y){return fc.apply(this,arguments)}function fc(){return(fc=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function hd(C,y){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:update",zn(C,y))})).apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithPassword",zn(C,y))})).apply(this,arguments)}function _s(C,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:sendOobCode",zn(C,y))})).apply(this,arguments)}function Bh(C,y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(C,y){return _s(C,y)})).apply(this,arguments)}function So(C,y){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(C,y){return _s(C,y)})).apply(this,arguments)}function yu(C,y){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(C,y){return _s(C,y)})).apply(this,arguments)}function io(C,y){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,a.Z)(function*(C,y){return _s(C,y)})).apply(this,arguments)}function Uh(){return(Uh=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithEmailLink",zn(C,y))})).apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithEmailLink",zn(C,y))})).apply(this,arguments)}class fd extends Hs{constructor(y,x,A,O=null){super("password",A),this._email=y,this._password=x,this._tenantId=O}static _fromEmailAndPassword(y,x){return new fd(y,x,"password")}static _fromEmailAndCode(y,x,A=null){return new fd(y,x,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y;if(x?.email&&x?.password){if("password"===x.signInMethod)return this._fromEmailAndPassword(x.email,x.password);if("emailLink"===x.signInMethod)return this._fromEmailAndCode(x.email,x.password,x.tenantId)}return null}_getIdTokenResponse(y){var x=this;return(0,a.Z)(function*(){switch(x.signInMethod){case"password":return function pc(C,y){return Za.apply(this,arguments)}(y,{returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Tp(C,y){return Uh.apply(this,arguments)}(y,{email:x._email,oobCode:x._password});default:Kt(y,"internal-error")}})()}_linkToIdToken(y,x){var A=this;return(0,a.Z)(function*(){switch(A.signInMethod){case"password":return Sp(y,{idToken:x,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Mm(C,y){return vu.apply(this,arguments)}(y,{idToken:x,email:A._email,oobCode:A._password});default:Kt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Al(C,y){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithIdp",zn(C,y))})).apply(this,arguments)}class xa extends Hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const x=new xa(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(x.idToken=y.idToken),y.accessToken&&(x.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(x.nonce=y.nonce),y.pendingToken&&(x.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(x.accessToken=y.oauthToken,x.secret=y.oauthTokenSecret):Kt("argument-error"),x}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:O}=x,j=(0,ke._T)(x,["providerId","signInMethod"]);if(!A||!O)return null;const De=new xa(A,O);return De.idToken=j.idToken||void 0,De.accessToken=j.accessToken||void 0,De.secret=j.secret,De.nonce=j.nonce,De.pendingToken=j.pendingToken||null,De}_getIdTokenResponse(y){return Al(y,this.buildRequest())}_linkToIdToken(y,x){const A=this.buildRequest();return A.idToken=x,Al(y,A)}_getReauthenticationResolver(y){const x=this.buildRequest();return x.autoCreate=!1,Al(y,x)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const x={};this.idToken&&(x.id_token=this.idToken),this.accessToken&&(x.access_token=this.accessToken),this.secret&&(x.oauth_token_secret=this.secret),x.providerId=this.providerId,this.nonce&&!this.pendingToken&&(x.nonce=this.nonce),y.postBody=(0,te.xO)(x)}return y}}function My(C,y){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:sendVerificationCode",zn(C,y))})).apply(this,arguments)}function xu(){return(xu=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithPhoneNumber",zn(C,y))})).apply(this,arguments)}function Ap(){return(Ap=(0,a.Z)(function*(C,y){const x=yield Vr(C,"POST","/v1/accounts:signInWithPhoneNumber",zn(C,y));if(x.temporaryProof)throw ri(C,"account-exists-with-different-credential",x);return x})).apply(this,arguments)}const Fy={USER_NOT_FOUND:"user-not-found"};function pd(){return(pd=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithPhoneNumber",zn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Fy)})).apply(this,arguments)}class wa extends Hs{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,x){return new wa({verificationId:y,verificationCode:x})}static _fromTokenResponse(y,x){return new wa({phoneNumber:y,temporaryProof:x})}_getIdTokenResponse(y){return function Ry(C,y){return xu.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,x){return function gc(C,y){return Ap.apply(this,arguments)}(y,Object.assign({idToken:x},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Oy(C,y){return pd.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:x,verificationId:A,verificationCode:O}=this.params;return y&&x?{temporaryProof:y,phoneNumber:x}:{sessionInfo:A,code:O}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:x,verificationCode:A,phoneNumber:O,temporaryProof:j}=y;return A||x||O||j?new wa({verificationId:x,verificationCode:A,phoneNumber:O,temporaryProof:j}):null}}class mc{constructor(y){var x,A,O,j,De,rt;const Ht=(0,te.zd)((0,te.pd)(y)),kt=null!==(x=Ht.apiKey)&&void 0!==x?x:null,Jt=null!==(A=Ht.oobCode)&&void 0!==A?A:null,Dr=function Py(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Ht.mode)&&void 0!==O?O:null);Ie(kt&&Jt&&Dr,"argument-error"),this.apiKey=kt,this.operation=Dr,this.code=Jt,this.continueUrl=null!==(j=Ht.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(De=Ht.languageCode)&&void 0!==De?De:null,this.tenantId=null!==(rt=Ht.tenantId)&&void 0!==rt?rt:null}static parseLink(y){const x=function Nw(C){const y=(0,te.zd)((0,te.pd)(C)).link,x=y?(0,te.zd)((0,te.pd)(y)).deep_link_id:null,A=(0,te.zd)((0,te.pd)(C)).deep_link_id;return(A?(0,te.zd)((0,te.pd)(A)).link:null)||A||x||y||C}(y);try{return new mc(x)}catch{return null}}}let wu=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(x,A){return fd._fromEmailAndPassword(x,A)}static credentialWithLink(x,A){const O=mc.parseLink(A);return Ie(O,"argument-error"),fd._fromEmailAndCode(x,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class oo{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Il extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class yc extends Il{static credentialFromJSON(y){const x="string"==typeof y?JSON.parse(y):y;return Ie("providerId"in x&&"signInMethod"in x,"argument-error"),xa._fromParams(x)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ie(y.idToken||y.accessToken,"argument-error"),xa._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return yc.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return yc.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:x,oauthAccessToken:A,oauthTokenSecret:O,pendingToken:j,nonce:De,providerId:rt}=y;if(!A&&!O&&!x&&!j||!rt)return null;try{return new yc(rt)._credential({idToken:x,accessToken:A,nonce:De,pendingToken:j})}catch{return null}}}let Rm=(()=>{class C extends Il{constructor(){super("facebook.com")}static credential(x){return xa._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return C.credentialFromTaggedObject(x)}static credentialFromError(x){return C.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return C.credential(x.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),bu=(()=>{class C extends Il{constructor(){super("google.com"),this.addScope("profile")}static credential(x,A){return xa._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:x,accessToken:A})}static credentialFromResult(x){return C.credentialFromTaggedObject(x)}static credentialFromError(x){return C.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthIdToken:A,oauthAccessToken:O}=x;if(!A&&!O)return null;try{return C.credential(A,O)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),gd=(()=>{class C extends Il{constructor(){super("github.com")}static credential(x){return xa._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:x})}static credentialFromResult(x){return C.credentialFromTaggedObject(x)}static credentialFromError(x){return C.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x||!("oauthAccessToken"in x)||!x.oauthAccessToken)return null;try{return C.credential(x.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class kl extends Hs{constructor(y,x){super(y,y),this.pendingToken=x}_getIdTokenResponse(y){return Al(y,this.buildRequest())}_linkToIdToken(y,x){const A=this.buildRequest();return A.idToken=x,Al(y,A)}_getReauthenticationResolver(y){const x=this.buildRequest();return x.autoCreate=!1,Al(y,x)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const x="string"==typeof y?JSON.parse(y):y,{providerId:A,signInMethod:O,pendingToken:j}=x;return A&&O&&j&&A===O?new kl(A,j):null}static _create(y,x){return new kl(y,x)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yr extends oo{constructor(y){Ie(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return Yr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return Yr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const x=kl.fromJSON(y);return Ie(x,"argument-error"),x}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:x,providerId:A}=y;if(!x||!A)return null;try{return kl._create(A,x)}catch{return null}}}let To=(()=>{class C extends Il{constructor(){super("twitter.com")}static credential(x,A){return xa._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:x,oauthTokenSecret:A})}static credentialFromResult(x){return C.credentialFromTaggedObject(x)}static credentialFromError(x){return C.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{oauthAccessToken:A,oauthTokenSecret:O}=x;if(!A||!O)return null;try{return C.credential(A,O)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ip(C,y){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signUp",zn(C,y))})).apply(this,arguments)}class Mi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,x,A,O=!1){return(0,a.Z)(function*(){const j=yield It._fromIdTokenResponse(y,A,O),De=ba(A);return new Mi({user:j,providerId:De,_tokenResponse:A,operationType:x})})()}static _forOperation(y,x,A){return(0,a.Z)(function*(){yield y._updateTokensIfNecessary(A,!0);const O=ba(A);return new Mi({user:y,providerId:O,_tokenResponse:A,operationType:x})})()}}function ba(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function mi(C){return md.apply(this,arguments)}function md(){return(md=(0,a.Z)(function*(C){var y;const x=Zr(C);if(yield x._initializationPromise,null!==(y=x.currentUser)&&void 0!==y&&y.isAnonymous)return new Mi({user:x.currentUser,providerId:null,operationType:"signIn"});const A=yield Ip(x,{returnSecureToken:!0}),O=yield Mi._fromIdTokenResponse(x,"signIn",A,!0);return yield x._updateCurrentUser(O.user),O})).apply(this,arguments)}class kp extends te.ZR{constructor(y,x,A,O){var j;super(x.code,x.message),this.operationType=A,this.user=O,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:y.name,tenantId:null!==(j=y.tenantId)&&void 0!==j?j:void 0,_serverResponse:x.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(y,x,A,O){return new kp(y,x,A,O)}}function Cu(C,y,x,A){return("reauthenticate"===y?x._getReauthenticationResolver(C):x._getIdTokenResponse(C)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?kp._fromErrorAndOperation(C,j,y,A):j})}function Gs(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Ka(C,y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(C,y){const x=(0,te.m9)(C);yield Ol(!0,x,y);const{providerUserInfo:A}=yield kr(x.auth,{idToken:yield x.getIdToken(),deleteProvider:[y]}),O=Gs(A||[]);return x.providerData=x.providerData.filter(j=>O.has(j.providerId)),O.has("phone")||(x.phoneNumber=null),yield x.auth._persistUserIfCurrent(x),x})).apply(this,arguments)}function Ca(C,y){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,a.Z)(function*(C,y,x=!1){const A=yield Or(C,y._linkToIdToken(C.auth,yield C.getIdToken()),x);return Mi._forOperation(C,"link",A)})).apply(this,arguments)}function Ol(C,y,x){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(C,y,x){yield Is(y);const O=!1===C?"provider-already-linked":"no-such-provider";Ie(Gs(y.providerData).has(x)===C,y.auth,O)})).apply(this,arguments)}function Xa(C,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(C,y,x=!1){var A;const{auth:O}=C,j="reauthenticate";try{const De=yield Or(C,Cu(O,j,y,C),x);Ie(De.idToken,O,"internal-error");const rt=rn(De.idToken);Ie(rt,O,"internal-error");const{sub:Ht}=rt;return Ie(C.uid===Ht,O,"user-mismatch"),Mi._forOperation(C,j,De)}catch(De){throw"auth/user-not-found"===(null===(A=De)||void 0===A?void 0:A.code)&&Kt(O,"user-mismatch"),De}})).apply(this,arguments)}function Qa(C,y){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(C,y,x=!1){const A="signIn",O=yield Cu(C,A,y),j=yield Mi._fromIdTokenResponse(C,A,O);return x||(yield C._updateCurrentUser(j.user)),j})).apply(this,arguments)}function wn(C,y){return ii.apply(this,arguments)}function ii(){return(ii=(0,a.Z)(function*(C,y){return Qa(Zr(C),y)})).apply(this,arguments)}function Om(C,y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,a.Z)(function*(C,y){const x=(0,te.m9)(C);return yield Ol(!1,x,y.providerId),Ca(x,y)})).apply(this,arguments)}function Mp(C,y){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,a.Z)(function*(C,y){return Xa((0,te.m9)(C),y)})).apply(this,arguments)}function vc(C,y){return xc.apply(this,arguments)}function xc(){return(xc=(0,a.Z)(function*(C,y){return Vr(C,"POST","/v1/accounts:signInWithCustomToken",zn(C,y))})).apply(this,arguments)}function _d(C,y){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(C,y){const x=Zr(C),A=yield vc(x,{token:y,returnSecureToken:!0}),O=yield Mi._fromIdTokenResponse(x,"signIn",A);return yield x._updateCurrentUser(O.user),O})).apply(this,arguments)}class Hn{constructor(y,x){this.factorId=y,this.uid=x.mfaEnrollmentId,this.enrollmentTime=new Date(x.enrolledAt).toUTCString(),this.displayName=x.displayName}static _fromServerResponse(y,x){return"phoneInfo"in x?Nl._fromServerResponse(y,x):Kt(y,"internal-error")}}class Nl extends Hn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,x){return new Nl(x)}}function Ll(C,y,x){var A;Ie((null===(A=x.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),Ie(typeof x.dynamicLinkDomain>"u"||x.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=x.url,y.dynamicLinkDomain=x.dynamicLinkDomain,y.canHandleCodeInApp=x.handleCodeInApp,x.iOS&&(Ie(x.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=x.iOS.bundleId),x.android&&(Ie(x.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=x.android.installApp,y.androidMinimumVersionCode=x.android.minimumVersion,y.androidPackageName=x.android.packageName)}function si(C,y,x){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C),O={requestType:"PASSWORD_RESET",email:y};x&&Ll(A,O,x),yield So(A,O)})).apply(this,arguments)}function wc(C,y,x){return ks.apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(C,y,x){yield Lh((0,te.m9)(C),{oobCode:y,newPassword:x})})).apply(this,arguments)}function Hh(C,y){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(C,y){yield hd((0,te.m9)(C),{oobCode:y})})).apply(this,arguments)}function Su(C,y){return bc.apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(C,y){const x=(0,te.m9)(C),A=yield Lh(x,{oobCode:y}),O=A.requestType;switch(Ie(O,x,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(A.newEmail,x,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(A.mfaInfo,x,"internal-error");default:Ie(A.email,x,"internal-error")}let j=null;return A.mfaInfo&&(j=Hn._fromServerResponse(Zr(x),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:j},operation:O}})).apply(this,arguments)}function Lw(C,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(C,y){const{data:x}=yield Su((0,te.m9)(C),y);return x.email})).apply(this,arguments)}function ji(C,y,x){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(C,y,x){const A=Zr(C),O=yield Ip(A,{returnSecureToken:!0,email:y,password:x}),j=yield Mi._fromIdTokenResponse(A,"signIn",O);return yield A._updateCurrentUser(j.user),j})).apply(this,arguments)}function Gh(C,y,x){return wn((0,te.m9)(C),wu.credential(y,x))}function Ul(C,y,x){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C),O={requestType:"EMAIL_SIGNIN",email:y};Ie(x.handleCodeInApp,A,"argument-error"),x&&Ll(A,O,x),yield yu(A,O)})).apply(this,arguments)}function Pm(C,y){return"EMAIL_SIGNIN"===mc.parseLink(y)?.operation}function jh(C,y,x){return yd.apply(this,arguments)}function yd(){return(yd=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C),O=wu.credentialWithLink(y,x||bt());return Ie(O._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),wn(A,O)})).apply(this,arguments)}function zh(C,y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:createAuthUri",zn(C,y))})).apply(this,arguments)}function Du(C,y){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,a.Z)(function*(C,y){const A={identifier:y,continueUri:Ct()?bt():"http://localhost"},{signinMethods:O}=yield zh((0,te.m9)(C),A);return O||[]})).apply(this,arguments)}function $h(C,y){return Au.apply(this,arguments)}function Au(){return(Au=(0,a.Z)(function*(C,y){const x=(0,te.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Ll(x.auth,O,y);const{email:j}=yield Bh(x.auth,O);j!==C.email&&(yield C.reload())})).apply(this,arguments)}function vd(C,y,x){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};x&&Ll(A.auth,j,x);const{email:De}=yield io(A.auth,j);De!==C.email&&(yield C.reload())})).apply(this,arguments)}function Rp(C,y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,a.Z)(function*(C,y){return Pn(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Fp(C,y){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(C,{displayName:y,photoURL:x}){if(void 0===y&&void 0===x)return;const A=(0,te.m9)(C),j={idToken:yield A.getIdToken(),displayName:y,photoUrl:x,returnSecureToken:!0},De=yield Or(A,Rp(A.auth,j));A.displayName=De.displayName||null,A.photoURL=De.photoUrl||null;const rt=A.providerData.find(({providerId:Ht})=>"password"===Ht);rt&&(rt.displayName=A.displayName,rt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(De)})).apply(this,arguments)}function xd(C,y){return Iu((0,te.m9)(C),y,null)}function Nm(C,y){return Iu((0,te.m9)(C),null,y)}function Iu(C,y,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(C,y,x){const{auth:A}=C,j={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(j.email=y),x&&(j.password=x);const De=yield Or(C,Sp(A,j));yield C._updateTokensIfNecessary(De,!0)})).apply(this,arguments)}class Tr{constructor(y,x,A={}){this.isNewUser=y,this.providerId=x,this.profile=A}}class Lm extends Tr{constructor(y,x,A,O){super(y,x,A),this.username=O}}class Bm extends Tr{constructor(y,x){super(y,"facebook.com",x)}}class Vm extends Lm{constructor(y,x){super(y,"github.com",x,"string"==typeof x?.login?x?.login:null)}}class Wh extends Tr{constructor(y,x){super(y,"google.com",x)}}class Op extends Lm{constructor(y,x,A){super(y,"twitter.com",x,A)}}function qh(C){const{user:y,_tokenResponse:x}=C;return y.isAnonymous&&!x?{providerId:null,isNewUser:!1,profile:null}:function Yo(C){var y,x;if(!C)return null;const{providerId:A}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},j=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&C?.idToken){const De=null===(x=null===(y=rn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===x?void 0:x.sign_in_provider;if(De)return new Tr(j,"anonymous"!==De&&"custom"!==De?De:null)}if(!A)return null;switch(A){case"facebook.com":return new Bm(j,O);case"github.com":return new Vm(j,O);case"google.com":return new Wh(j,O);case"twitter.com":return new Op(j,O,C.screenName||null);case"custom":case"anonymous":return new Tr(j,null);default:return new Tr(j,A,O)}}(x)}class Ac{constructor(y,x){this.type=y,this.credential=x}static _fromIdtoken(y){return new Ac("enroll",y)}static _fromMfaPendingCredential(y){return new Ac("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var x,A;if(y?.multiFactorSession){if(null!==(x=y.multiFactorSession)&&void 0!==x&&x.pendingCredential)return Ac._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(A=y.multiFactorSession)&&void 0!==A&&A.idToken)return Ac._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Ic{constructor(y,x,A){this.session=y,this.hints=x,this.signInResolver=A}static _fromError(y,x){const A=Zr(y),O=x.customData._serverResponse,j=(O.mfaInfo||[]).map(rt=>Hn._fromServerResponse(A,rt));Ie(O.mfaPendingCredential,A,"internal-error");const De=Ac._fromMfaPendingCredential(O.mfaPendingCredential);return new Ic(De,j,function(){var rt=(0,a.Z)(function*(Ht){const kt=yield Ht._process(A,De);delete O.mfaInfo,delete O.mfaPendingCredential;const Jt=Object.assign(Object.assign({},O),{idToken:kt.idToken,refreshToken:kt.refreshToken});switch(x.operationType){case"signIn":const Dr=yield Mi._fromIdTokenResponse(A,x.operationType,Jt);return yield A._updateCurrentUser(Dr.user),Dr;case"reauthenticate":return Ie(x.user,A,"internal-error"),Mi._forOperation(x.user,x.operationType,Jt);default:Kt(A,"internal-error")}});return function(Ht){return rt.apply(this,arguments)}}())}resolveSignIn(y){var x=this;return(0,a.Z)(function*(){return x.signInResolver(y)})()}}function Yh(C,y){var x;const A=(0,te.m9)(C),O=y;return Ie(y.customData.operationType,A,"argument-error"),Ie(null===(x=O.customData._serverResponse)||void 0===x?void 0:x.mfaPendingCredential,A,"argument-error"),Ic._fromError(A,O)}function zi(C,y){return Pn(C,"POST","/v2/accounts/mfaEnrollment:start",zn(C,y))}class jm{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(x=>{x.mfaInfo&&(this.enrolledFactors=x.mfaInfo.map(A=>Hn._fromServerResponse(y.auth,A)))})}static _fromUser(y){return new jm(y)}getSession(){var y=this;return(0,a.Z)(function*(){return Ac._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,x){var A=this;return(0,a.Z)(function*(){const O=y,j=yield A.getSession(),De=yield Or(A.user,O._process(A.user.auth,j,x));return yield A.user._updateTokensIfNecessary(De),A.user.reload()})()}unenroll(y){var x=this;return(0,a.Z)(function*(){var A;const O="string"==typeof y?y:y.uid,j=yield x.user.getIdToken(),De=yield Or(x.user,function Vw(C,y){return Pn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",zn(C,y))}(x.user.auth,{idToken:j,mfaEnrollmentId:O}));x.enrolledFactors=x.enrolledFactors.filter(({uid:rt})=>rt!==O),yield x.user._updateTokensIfNecessary(De);try{yield x.user.reload()}catch(rt){if("auth/user-token-expired"!==(null===(A=rt)||void 0===A?void 0:A.code))throw rt}})()}}const Mu=new WeakMap;function Kh(C){const y=(0,te.m9)(C);return Mu.has(y)||Mu.set(y,jm._fromUser(y)),Mu.get(y)}const Ru="__sak";class kc{constructor(y,x){this.storageRetriever=y,this.type=x}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,x){return this.storage.setItem(y,JSON.stringify(x)),Promise.resolve()}_get(y){const x=this.storage.getItem(y);return Promise.resolve(x?JSON.parse(x):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ri=(()=>{class C extends kc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(x,A)=>this.onStorageEvent(x,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zm(){const C=(0,te.z$)();return oe(C)||Vn(C)}()&&function El(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lr(),this._shouldAllowMigration=!0}forAllChangedKeys(x){for(const A of Object.keys(this.listeners)){const O=this.storage.getItem(A),j=this.localCache[A];O!==j&&x(A,j,O)}}onStorageEvent(x,A=!1){if(!x.key)return void this.forAllChangedKeys((rt,Ht,kt)=>{this.notifyListeners(rt,kt)});const O=x.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(O);if(x.newValue!==rt)null!==x.newValue?this.storage.setItem(O,x.newValue):this.storage.removeItem(O);else if(this.localCache[O]===x.newValue&&!A)return}const j=()=>{const rt=this.storage.getItem(O);!A&&this.localCache[O]===rt||this.notifyListeners(O,rt)},De=this.storage.getItem(O);!function Rn(){return(0,te.w1)()&&10===document.documentMode}()||De===x.newValue||x.newValue===x.oldValue?j():setTimeout(j,10)}notifyListeners(x,A){this.localCache[x]=A;const O=this.listeners[x];if(O)for(const j of Array.from(O))j(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((x,A,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:x,oldValue:A,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(x,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[x]||(this.listeners[x]=new Set,this.localCache[x]=this.storage.getItem(x)),this.listeners[x].add(A)}_removeListener(x,A){this.listeners[x]&&(this.listeners[x].delete(A),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(x,A){var O=()=>super._set,j=this;return(0,a.Z)(function*(){yield O().call(j,x,A),j.localCache[x]=JSON.stringify(A)})()}_get(x){var A=()=>super._get,O=this;return(0,a.Z)(function*(){const j=yield A().call(O,x);return O.localCache[x]=JSON.stringify(j),j})()}_remove(x){var A=()=>super._remove,O=this;return(0,a.Z)(function*(){yield A().call(O,x),delete O.localCache[x]})()}}return C.type="LOCAL",C})(),Mc=(()=>{class C extends kc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(x,A){}_removeListener(x,A){}}return C.type="SESSION",C})();let Pp=(()=>{class C{constructor(x){this.eventTarget=x,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(x){const A=this.receivers.find(j=>j.isListeningto(x));if(A)return A;const O=new C(x);return this.receivers.push(O),O}isListeningto(x){return this.eventTarget===x}handleEvent(x){var A=this;return(0,a.Z)(function*(){const O=x,{eventId:j,eventType:De,data:rt}=O.data,Ht=A.handlersMap[De];if(!Ht?.size)return;O.ports[0].postMessage({status:"ack",eventId:j,eventType:De});const kt=Array.from(Ht).map(function(){var Dr=(0,a.Z)(function*(Da){return Da(O.origin,rt)});return function(Da){return Dr.apply(this,arguments)}}()),Jt=yield function Wm(C){return Promise.all(C.map(function(){var y=(0,a.Z)(function*(x){try{return{fulfilled:!0,value:yield x}}catch(A){return{fulfilled:!1,reason:A}}});return function(x){return y.apply(this,arguments)}}()))}(kt);O.ports[0].postMessage({status:"done",eventId:j,eventType:De,response:Jt})})()}_subscribe(x,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[x]||(this.handlersMap[x]=new Set),this.handlersMap[x].add(A)}_unsubscribe(x,A){this.handlersMap[x]&&A&&this.handlersMap[x].delete(A),(!A||0===this.handlersMap[x].size)&&delete this.handlersMap[x],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function el(C="",y=10){let x="";for(let A=0;A<y;A++)x+=Math.floor(10*Math.random());return C+x}class $i{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,x,A=50){var O=this;return(0,a.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let De,rt;return new Promise((Ht,kt)=>{const Jt=el("",20);j.port1.start();const Dr=setTimeout(()=>{kt(new Error("unsupported_event"))},A);rt={messageChannel:j,onMessage(Da){const ll=Da;if(ll.data.eventId===Jt)switch(ll.data.status){case"ack":clearTimeout(Dr),De=setTimeout(()=>{kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(De),Ht(ll.data.response);break;default:clearTimeout(Dr),clearTimeout(De),kt(new Error("invalid_response"))}}},O.handlers.add(rt),j.port1.addEventListener("message",rt.onMessage),O.target.postMessage({eventType:y,eventId:Jt,data:x},[j.port2])}).finally(()=>{rt&&O.removeMessageHandler(rt)})})()}}function vr(){return window}function Xo(){return typeof vr().WorkerGlobalScope<"u"&&"function"==typeof vr().importScripts}function Io(){return(Io=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nu="firebaseLocalStorageDb",Lu="firebaseLocalStorage",Cd="fbase_key";class nl{constructor(y){this.request=y}toPromise(){return new Promise((y,x)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{x(this.request.error)})})}}function Fc(C,y){return C.transaction([Lu],y?"readwrite":"readonly").objectStore(Lu)}function ko(){const C=indexedDB.open(Nu,1);return new Promise((y,x)=>{C.addEventListener("error",()=>{x(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(Lu,{keyPath:Cd})}catch(O){x(O)}}),C.addEventListener("success",(0,a.Z)(function*(){const A=C.result;A.objectStoreNames.contains(Lu)?y(A):(A.close(),yield function Ed(){const C=indexedDB.deleteDatabase(Nu);return new nl(C).toPromise()}(),y(yield ko()))}))})}function rl(C,y,x){return il.apply(this,arguments)}function il(){return(il=(0,a.Z)(function*(C,y,x){const A=Fc(C,!0).put({[Cd]:y,value:x});return new nl(A).toPromise()})).apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(C,y){const x=Fc(C,!1).get(y),A=yield new nl(x).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function yi(C,y){const x=Fc(C,!0).delete(y);return new nl(x).toPromise()}const Sd=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var x=this;return(0,a.Z)(function*(){return x.db||(x.db=yield ko()),x.db})()}_withRetries(x){var A=this;return(0,a.Z)(function*(){let O=0;for(;;)try{const j=yield A._openDb();return yield x(j)}catch(j){if(O++>3)throw j;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var x=this;return(0,a.Z)(function*(){return Xo()?x.initializeReceiver():x.initializeSender()})()}initializeReceiver(){var x=this;return(0,a.Z)(function*(){x.receiver=Pp._getInstance(function tl(){return Xo()?self:null}()),x.receiver._subscribe("keyChanged",function(){var A=(0,a.Z)(function*(O,j){return{keyProcessed:(yield x._poll()).includes(j.key)}});return function(O,j){return A.apply(this,arguments)}}()),x.receiver._subscribe("ping",function(){var A=(0,a.Z)(function*(O,j){return["keyChanged"]});return function(O,j){return A.apply(this,arguments)}}())})()}initializeSender(){var x=this;return(0,a.Z)(function*(){var A,O;if(x.activeServiceWorker=yield function Pu(){return Io.apply(this,arguments)}(),!x.activeServiceWorker)return;x.sender=new $i(x.activeServiceWorker);const j=yield x.sender._send("ping",{},800);!j||(null===(A=j[0])||void 0===A?void 0:A.fulfilled)&&(null===(O=j[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(x.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(x){var A=this;return(0,a.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function bd(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:x},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const x=yield ko();return yield rl(x,Ru,"1"),yield yi(x,Ru),!0}catch{}return!1})()}_withPendingWrite(x){var A=this;return(0,a.Z)(function*(){A.pendingWrites++;try{yield x()}finally{A.pendingWrites--}})()}_set(x,A){var O=this;return(0,a.Z)(function*(){return O._withPendingWrite((0,a.Z)(function*(){return yield O._withRetries(j=>rl(j,x,A)),O.localCache[x]=A,O.notifyServiceWorker(x)}))})()}_get(x){var A=this;return(0,a.Z)(function*(){const O=yield A._withRetries(j=>function hn(C,y){return oi.apply(this,arguments)}(j,x));return A.localCache[x]=O,O})()}_remove(x){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(O=>yi(O,x)),delete A.localCache[x],A.notifyServiceWorker(x)}))})()}_poll(){var x=this;return(0,a.Z)(function*(){const A=yield x._withRetries(De=>{const rt=Fc(De,!1).getAll();return new nl(rt).toPromise()});if(!A)return[];if(0!==x.pendingWrites)return[];const O=[],j=new Set;for(const{fbase_key:De,value:rt}of A)j.add(De),JSON.stringify(x.localCache[De])!==JSON.stringify(rt)&&(x.notifyListeners(De,rt),O.push(De));for(const De of Object.keys(x.localCache))x.localCache[De]&&!j.has(De)&&(x.notifyListeners(De,null),O.push(De));return O})()}notifyListeners(x,A){this.localCache[x]=A;const O=this.listeners[x];if(O)for(const j of Array.from(O))j(A)}startPolling(){var x=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return x._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(x,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[x]||(this.listeners[x]=new Set,this._get(x)),this.listeners[x].add(A)}_removeListener(x,A){this.listeners[x]&&(this.listeners[x].delete(A),0===this.listeners[x].size&&delete this.listeners[x]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Np(C,y){return Pn(C,"POST","/v2/accounts/mfaSignIn:start",zn(C,y))}function Fi(){return(Fi=(0,a.Z)(function*(C){return(yield Pn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vu(C){return new Promise((y,x)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=y,A.onerror=O=>{const j=pt("internal-error");j.customData=O,x(j)},A.type="text/javascript",A.charset="UTF-8",function Xh(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(A)})}function Jo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Gn=1e12;class Td{constructor(y){this.auth=y,this.counter=Gn,this._widgets=new Map}render(y,x){const A=this.counter;return this._widgets.set(A,new fT(y,this.auth.name,x||{})),this.counter++,A}reset(y){var x;const A=y||Gn;null===(x=this._widgets.get(A))||void 0===x||x.delete(),this._widgets.delete(A)}getResponse(y){var x;return(null===(x=this._widgets.get(y||Gn))||void 0===x?void 0:x.getResponse())||""}execute(y){var x=this;return(0,a.Z)(function*(){var A;return null===(A=x._widgets.get(y||Gn))||void 0===A||A.execute(),""})()}}class fT{constructor(y,x,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof y?document.getElementById(y):y;Ie(O,"argument-error",{appName:x}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hw(C){const y=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)y.push(x.charAt(Math.floor(Math.random()*x.length)));return y.join("")}(50);const{callback:y,"expired-callback":x}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,x)try{x()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lp=Jo("rcb"),Gw=new Lt(3e4,6e4);class Bp{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=vr().grecaptcha)||void 0===y||!y.render)}load(y,x=""){return Ie(function ol(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(x),y,"argument-error"),this.shouldResolveImmediately(x)?Promise.resolve(vr().grecaptcha):new Promise((A,O)=>{const j=vr().setTimeout(()=>{O(pt(y,"network-request-failed"))},Gw.get());vr()[Lp]=()=>{vr().clearTimeout(j),delete vr()[Lp];const rt=vr().grecaptcha;if(!rt)return void O(pt(y,"internal-error"));const Ht=rt.render;rt.render=(kt,Jt)=>{const Dr=Ht(kt,Jt);return this.counter++,Dr},this.hostLanguage=x,A(rt)},Vu(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:Lp,render:"explicit",hl:x})}`).catch(()=>{clearTimeout(j),O(pt(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var x;return!(null===(x=vr().grecaptcha)||void 0===x||!x.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ym{load(y){return(0,a.Z)(function*(){return new Td(y)})()}clearedOneInstance(){}}const jw="recaptcha",Wi={theme:"light",type:"image"};class Km{constructor(y,x=Object.assign({},Wi),A){this.parameters=x,this.type=jw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zr(A),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof y?document.getElementById(y):y;Ie(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ym:new Bp,this.validateStartingState()}verify(){var y=this;return(0,a.Z)(function*(){y.assertNotDestroyed();const x=yield y.render(),A=y.getAssertedRecaptcha();return A.getResponse(x)||new Promise(j=>{const De=rt=>{!rt||(y.tokenChangeListeners.delete(De),j(rt))};y.tokenChangeListeners.add(De),y.isInvisible&&A.execute(x)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return x=>{if(this.tokenChangeListeners.forEach(A=>A(x)),"function"==typeof y)y(x);else if("string"==typeof y){const A=vr()[y];"function"==typeof A&&A(x)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,a.Z)(function*(){if(yield y.init(),!y.widgetId){let x=y.container;if(!y.isInvisible){const A=document.createElement("div");x.appendChild(A),x=A}y.widgetId=y.getAssertedRecaptcha().render(x,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,a.Z)(function*(){Ie(Ct()&&!Xo(),y.auth,"internal-error"),yield function Qh(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const x=yield function Bu(C){return Fi.apply(this,arguments)}(y.auth);Ie(x,y.auth,"internal-error"),y.parameters.sitekey=x})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vp{constructor(y,x){this.verificationId=y,this.onConfirmation=x}confirm(y){const x=wa._fromVerification(this.verificationId,y);return this.onConfirmation(x)}}function zw(C,y,x){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(C,y,x){const A=Zr(C),O=yield Dd(A,y,(0,te.m9)(x));return new Vp(O,j=>wn(A,j))})).apply(this,arguments)}function Sa(C,y,x){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C);yield Ol(!1,A,"phone");const O=yield Dd(A.auth,y,(0,te.m9)(x));return new Vp(O,j=>Om(A,j))})).apply(this,arguments)}function ef(C,y,x){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C),O=yield Dd(A.auth,y,(0,te.m9)(x));return new Vp(O,j=>Mp(A,j))})).apply(this,arguments)}function Dd(C,y,x){return Up.apply(this,arguments)}function Up(){return(Up=(0,a.Z)(function*(C,y,x){var A;const O=yield x.verify();try{let j;if(Ie("string"==typeof O,C,"argument-error"),Ie(x.type===jw,C,"argument-error"),j="string"==typeof y?{phoneNumber:y}:y,"session"in j){const De=j.session;if("phoneNumber"in j)return Ie("enroll"===De.type,C,"internal-error"),(yield zi(C,{idToken:De.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Ie("signin"===De.type,C,"internal-error");const rt=(null===(A=j.multiFactorHint)||void 0===A?void 0:A.uid)||j.multiFactorUid;return Ie(rt,C,"missing-multi-factor-info"),(yield Np(C,{mfaPendingCredential:De.credential,mfaEnrollmentId:rt,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:De}=yield My(C,{phoneNumber:j.phoneNumber,recaptchaToken:O});return De}}finally{x._reset()}})).apply(this,arguments)}function Xm(C,y){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,a.Z)(function*(C,y){yield Ca((0,te.m9)(C),y)})).apply(this,arguments)}let $w=(()=>{class C{constructor(x){this.providerId=C.PROVIDER_ID,this.auth=Zr(x)}verifyPhoneNumber(x,A){return Dd(this.auth,x,(0,te.m9)(A))}static credential(x,A){return wa._fromVerification(x,A)}static credentialFromResult(x){return C.credentialFromTaggedObject(x)}static credentialFromError(x){return C.credentialFromTaggedObject(x.customData||{})}static credentialFromTaggedObject({_tokenResponse:x}){if(!x)return null;const{phoneNumber:A,temporaryProof:O}=x;return A&&O?wa._fromTokenResponse(A,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Gl(C,y){return y?Se(y):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class vs extends Hs{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Al(y,this._buildIdpRequest())}_linkToIdToken(y,x){return Al(y,this._buildIdpRequest(x))}_getReauthenticationResolver(y){return Al(y,this._buildIdpRequest())}_buildIdpRequest(y){const x={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(x.idToken=y),x}}function Ad(C){return Qa(C.auth,new vs(C),C.bypassAuthState)}function Uu(C){const{auth:y,user:x}=C;return Ie(x,y,"internal-error"),Xa(x,new vs(C),C.bypassAuthState)}function Qm(C){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,a.Z)(function*(C){const{auth:y,user:x}=C;return Ie(x,y,"internal-error"),Ca(x,new vs(C),C.bypassAuthState)})).apply(this,arguments)}class tf{constructor(y,x,A,O,j=!1){this.auth=y,this.resolver=A,this.user=O,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(x)?x:[x]}execute(){var y=this;return new Promise(function(){var x=(0,a.Z)(function*(A,O){y.pendingPromise={resolve:A,reject:O};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(j){y.reject(j)}});return function(A,O){return x.apply(this,arguments)}}())}onAuthEvent(y){var x=this;return(0,a.Z)(function*(){const{urlResponse:A,sessionId:O,postBody:j,tenantId:De,error:rt,type:Ht}=y;if(rt)return void x.reject(rt);const kt={auth:x.auth,requestUri:A,sessionId:O,tenantId:De||void 0,postBody:j||void 0,user:x.user,bypassAuthState:x.bypassAuthState};try{x.resolve(yield x.getIdpTask(Ht)(kt))}catch(Jt){x.reject(Jt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Ad;case"linkViaPopup":case"linkViaRedirect":return Qm;case"reauthViaPopup":case"reauthViaRedirect":return Uu;default:Kt(this.auth,"internal-error")}}resolve(y){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hp=new Lt(2e3,1e4);function Gp(C,y,x){return Id.apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(C,y,x){const A=Zr(C);tt(C,y,oo);const O=Gl(A,x);return new t0(A,"signInViaPopup",y,O).executeNotNull()})).apply(this,arguments)}function jp(C,y,x){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C);tt(A.auth,y,oo);const O=Gl(A.auth,x);return new t0(A.auth,"reauthViaPopup",y,O,A).executeNotNull()})).apply(this,arguments)}function e0(C,y,x){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C);tt(A.auth,y,oo);const O=Gl(A.auth,x);return new t0(A.auth,"linkViaPopup",y,O,A).executeNotNull()})).apply(this,arguments)}let t0=(()=>{class C extends tf{constructor(x,A,O,j,De){super(x,A,j,De),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var x=this;return(0,a.Z)(function*(){const A=yield x.execute();return Ie(A,x.auth,"internal-error"),A})()}onExecution(){var x=this;return(0,a.Z)(function*(){Ze(1===x.filter.length,"Popup operations only handle one event");const A=el();x.authWindow=yield x.resolver._openPopup(x.auth,x.provider,x.filter[0],A),x.authWindow.associatedEvent=A,x.resolver._originValidation(x.auth).catch(O=>{x.reject(O)}),x.resolver._isIframeWebStorageSupported(x.auth,O=>{O||x.reject(pt(x.auth,"web-storage-unsupported"))}),x.pollUserCancellation()})()}get eventId(){var x;return(null===(x=this.authWindow)||void 0===x?void 0:x.associatedEvent)||null}cancel(){this.reject(pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const x=()=>{var A,O;this.pollId=null!==(O=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(x,Hp.get())};x()}}return C.currentPopupAction=null,C})();const Mo=new Map;class Rd extends tf{constructor(y,x,A=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],x,void 0,A),this.eventId=null}execute(){var y=()=>super.execute,x=this;return(0,a.Z)(function*(){let A=Mo.get(x.auth._key());if(!A){try{const j=(yield function By(C,y){return zp.apply(this,arguments)}(x.resolver,x.auth))?yield y().call(x):null;A=()=>Promise.resolve(j)}catch(O){A=()=>Promise.reject(O)}Mo.set(x.auth._key(),A)}return x.bypassAuthState||Mo.set(x.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(y){var x=()=>super.onAuthEvent,A=this;return(0,a.Z)(function*(){if("signInViaRedirect"===y.type)return x().call(A,y);if("unknown"!==y.type){if(y.eventId){const O=yield A.auth._redirectUserForId(y.eventId);if(O)return A.user=O,x().call(A,y);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function zp(){return(zp=(0,a.Z)(function*(C,y){const x=Kr(y),A=Vy(C);if(!(yield A._isAvailable()))return!1;const O="true"===(yield A._get(x));return yield A._remove(x),O})).apply(this,arguments)}function al(C,y){return nf.apply(this,arguments)}function nf(){return(nf=(0,a.Z)(function*(C,y){return Vy(C)._set(Kr(y),"true")})).apply(this,arguments)}function ea(){Mo.clear()}function Pc(C,y){Mo.set(C._key(),y)}function Vy(C){return Se(C._redirectPersistence)}function Kr(C){return fr("pendingRedirect",C.config.apiKey,C.name)}function n0(C,y,x){return function $p(C,y,x){return Fd.apply(this,arguments)}(C,y,x)}function Fd(){return(Fd=(0,a.Z)(function*(C,y,x){const A=Zr(C);tt(C,y,oo);const O=Gl(A,x);return yield al(O,A),O._openRedirect(A,y,"signInViaRedirect")})).apply(this,arguments)}function k(C,y,x){return function R(C,y,x){return N.apply(this,arguments)}(C,y,x)}function N(){return(N=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C);tt(A.auth,y,oo);const O=Gl(A.auth,x);yield al(O,A.auth);const j=yield Mn(A);return O._openRedirect(A.auth,y,"reauthViaRedirect",j)})).apply(this,arguments)}function Q(C,y,x){return function xe(C,y,x){return Fe.apply(this,arguments)}(C,y,x)}function Fe(){return(Fe=(0,a.Z)(function*(C,y,x){const A=(0,te.m9)(C);tt(A.auth,y,oo);const O=Gl(A.auth,x);yield Ol(!1,A,y.providerId),yield al(O,A.auth);const j=yield Mn(A);return O._openRedirect(A.auth,y,"linkViaRedirect",j)})).apply(this,arguments)}function _t(C,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(C,y){return yield Zr(C)._initializationPromise,yn(C,y,!1)})).apply(this,arguments)}function yn(C,y){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(C,y,x=!1){const A=Zr(C),O=Gl(A,y),De=yield new Rd(A,O,x).execute();return De&&!x&&(delete De.user._redirectEventId,yield A._persistUserIfCurrent(De.user),yield A._setRedirectUser(null,y)),De})).apply(this,arguments)}function Mn(C){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(C){const y=el(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class js{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let x=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(y,A)&&(x=!0,this.sendToConsumer(y,A),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Ta(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ta(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,x||(this.queuedRedirectEvent=y,x=!0)),x}sendToConsumer(y,x){var A;if(y.error&&!ta(y)){const O=(null===(A=y.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";x.onError(pt(this.auth,O))}else x.onAuthEvent(y)}isEventForConsumer(y,x){const A=null===x.eventId||!!y.eventId&&y.eventId===x.eventId;return x.filter.includes(y.type)&&A}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Od(y))}saveEventToCache(y){this.cachedEventUids.add(Od(y)),this.lastProcessedEventTime=Date.now()}}function Od(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function ta({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function r0(C){return rf.apply(this,arguments)}function rf(){return(rf=(0,a.Z)(function*(C,y={}){return Pn(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nc=/^https?/;function sf(){return(sf=(0,a.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield r0(C);for(const x of y)try{if(pT(x))return}catch{}Kt(C,"unauthorized-domain")})).apply(this,arguments)}function pT(C){const y=bt(),{protocol:x,hostname:A}=new URL(y);if(C.startsWith("chrome-extension://")){const De=new URL(C);return""===De.hostname&&""===A?"chrome-extension:"===x&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===x&&De.hostname===A}if(!Nc.test(x))return!1;if(Gu.test(C))return A===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(A)}const gT=new Lt(3e4,6e4);function Wp(){const C=vr().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let x=0;x<C.CP.length;x++)C.CP[x]=null}let s0=null;function qw(C){return s0=s0||function Ww(C){return new Promise((y,x)=>{var A,O,j;function De(){Wp(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Wp(),x(pt(C,"network-request-failed"))},timeout:gT.get()})}if(null!==(O=null===(A=vr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==O&&O.Iframe)y(gapi.iframes.getContext());else{if(null===(j=vr().gapi)||void 0===j||!j.load){const rt=Jo("iframefcb");return vr()[rt]=()=>{gapi.load?De():x(pt(C,"network-request-failed"))},Vu(`https://apis.google.com/js/api.js?onload=${rt}`).catch(Ht=>x(Ht))}De()}}).catch(y=>{throw s0=null,y})}(C),s0}const xF=new Lt(5e3,15e3),Uy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(C){const y=C.config;Ie(y.authDomain,C,"auth-domain-config-required");const x=y.emulator?Ir(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,A={apiKey:y.apiKey,appName:C.name,v:H.SDK_VERSION},O=mT.get(C.config.apiHost);O&&(A.eid=O);const j=C._getFrameworks();return j.length&&(A.fw=j.join(",")),`${x}?${(0,te.xO)(A).slice(1)}`}function qp(){return qp=(0,a.Z)(function*(C){const y=yield qw(C),x=vr().gapi;return Ie(x,C,"internal-error"),y.open({where:document.body,url:Yw(C),messageHandlersFilter:x.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uy,dontclear:!0},A=>new Promise(function(){var O=(0,a.Z)(function*(j,De){yield A.restyle({setHideOnLeave:!1});const rt=pt(C,"network-request-failed"),Ht=vr().setTimeout(()=>{De(rt)},xF.get());function kt(){vr().clearTimeout(Ht),j(A)}A.ping(kt).then(kt,()=>{De(rt)})});return function(j,De){return O.apply(this,arguments)}}()))}),qp.apply(this,arguments)}const af={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class l0{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hy(C,y,x,A,O,j){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const De={apiKey:C.config.apiKey,appName:C.name,authType:x,redirectUrl:A,v:H.SDK_VERSION,eventId:O};if(y instanceof oo){y.setDefaultLanguage(C.languageCode),De.providerId=y.providerId||"",(0,te.xb)(y.getCustomParameters())||(De.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ht,kt]of Object.entries(j||{}))De[Ht]=kt}if(y instanceof Il){const Ht=y.getScopes().filter(kt=>""!==kt);Ht.length>0&&(De.scopes=Ht.join(","))}C.tenantId&&(De.tid=C.tenantId);const rt=De;for(const Ht of Object.keys(rt))void 0===rt[Ht]&&delete rt[Ht];return`${function vT({config:C}){return C.emulator?Ir(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,te.xO)(rt).slice(1)}`}const Gy="webStorageSupport",Jw=class xT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mc,this._completeRedirectFn=yn,this._overrideRedirectResult=Pc}_openPopup(y,x,A,O){var j=this;return(0,a.Z)(function*(){var De;Ze(null===(De=j.eventManagers[y._key()])||void 0===De?void 0:De.manager,"_initialize() not called before _openPopup()");const rt=Hy(y,x,A,bt(),O);return function Kw(C,y,x,A=500,O=600){const j=Math.max((window.screen.availHeight-O)/2,0).toString(),De=Math.max((window.screen.availWidth-A)/2,0).toString();let rt="";const Ht=Object.assign(Object.assign({},af),{width:A.toString(),height:O.toString(),top:j,left:De}),kt=(0,te.z$)().toLowerCase();x&&(rt=Qe(kt)?"_blank":x),ue(kt)&&(y=y||"http://localhost",Ht.scrollbars="yes");const Jt=Object.entries(Ht).reduce((Da,[ll,li])=>`${Da}${ll}=${li},`,"");if(function Er(C=(0,te.z$)()){var y;return Vn(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(kt)&&"_self"!==rt)return function Xw(C,y){const x=document.createElement("a");x.href=C,x.target=y;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),x.dispatchEvent(A)}(y||"",rt),new l0(null);const Dr=window.open(y||"",rt,Jt);Ie(Dr,C,"popup-blocked");try{Dr.focus()}catch{}return new l0(Dr)}(y,rt,el())})()}_openRedirect(y,x,A,O){var j=this;return(0,a.Z)(function*(){return yield j._originValidation(y),function Rc(C){vr().location.href=C}(Hy(y,x,A,bt(),O)),new Promise(()=>{})})()}_initialize(y){const x=y._key();if(this.eventManagers[x]){const{manager:O,promise:j}=this.eventManagers[x];return O?Promise.resolve(O):(Ze(j,"If manager is not set, promise should be"),j)}const A=this.initAndGetManager(y);return this.eventManagers[x]={promise:A},A.catch(()=>{delete this.eventManagers[x]}),A}initAndGetManager(y){var x=this;return(0,a.Z)(function*(){const A=yield function o0(C){return qp.apply(this,arguments)}(y),O=new js(y);return A.register("authEvent",j=>(Ie(j?.authEvent,y,"invalid-auth-event"),{status:O.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),x.eventManagers[y._key()]={manager:O},x.iframes[y._key()]=A,O})()}_isIframeWebStorageSupported(y,x){this.iframes[y._key()].send(Gy,{type:Gy},O=>{var j;const De=null===(j=O?.[0])||void 0===j?void 0:j[Gy];void 0!==De&&x(!!De),Kt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const x=y._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function Pd(C){return sf.apply(this,arguments)}(y)),this.originValidationPromises[x]}get _shouldInitProactively(){return lr()||oe()||Vn()}};class Bc extends class Lc{constructor(y){this.factorId=y}_process(y,x,A){switch(x.type){case"enroll":return this._finalizeEnroll(y,x.credential,A);case"signin":return this._finalizeSignIn(y,x.credential);default:return Ne("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Bc(y)}_finalizeEnroll(y,x,A){return function Gm(C,y){return Pn(C,"POST","/v2/accounts/mfaEnrollment:finalize",zn(C,y))}(y,{idToken:x,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,x){return function sl(C,y){return Pn(C,"POST","/v2/accounts/mfaSignIn:finalize",zn(C,y))}(y,{mfaPendingCredential:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ju=(()=>{class C{constructor(){}static assertion(x){return Bc._fromCredential(x)}}return C.FACTOR_ID="phone",C})();var ai="@firebase/auth";class Oi{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var x=this;return(0,a.Z)(function*(){return x.assertAuthConfigured(),yield x.auth._initializationPromise,x.auth.currentUser?{accessToken:yield x.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const x=this.auth.onIdTokenChanged(A=>{var O;y((null===(O=A)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,x),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const x=this.internalListeners.get(y);!x||(this.internalListeners.delete(y),x(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Zp(C){(0,H._registerComponent)(new We.wA("auth",(y,{options:x})=>{const A=y.getProvider("app").getImmediate(),O=y.getProvider("heartbeat"),{apiKey:j,authDomain:De}=A.options;return((rt,Ht)=>{Ie(j&&!j.includes(":"),"invalid-api-key",{appName:rt.name}),Ie(!De?.includes(":"),"argument-error",{appName:rt.name});const kt={apiKey:j,authDomain:De,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ya(C)},Jt=new _u(rt,Ht,kt);return function Me(C,y){const x=y?.persistence||[],A=(Array.isArray(x)?x:[x]).map(Se);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(A,y?.popupRedirectResolver)}(Jt,x),Jt})(A,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,x,A)=>{y.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new We.wA("auth-internal",y=>{const x=Zr(y.getProvider("auth").getImmediate());return new Oi(x)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(ai,"0.20.5",function Xr(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,H.registerVersion)(ai,"0.20.5","esm2017")}("Browser")},2090:(un,ct,z)=>{z.d(ct,{$s:()=>Is,BH:()=>Dt,DV:()=>Pn,Dv:()=>ms,G6:()=>Ie,GJ:()=>Jn,L:()=>Ve,LL:()=>bt,Mn:()=>tt,Pz:()=>jn,Sg:()=>mt,UG:()=>Ke,UI:()=>qa,US:()=>We,Wj:()=>Ds,Yr:()=>Pt,ZB:()=>ce,ZR:()=>Me,b$:()=>Kt,cI:()=>Qn,d:()=>pt,dS:()=>rn,eu:()=>Ze,g5:()=>H,gK:()=>ki,gQ:()=>$o,h$:()=>Te,hl:()=>Ne,hu:()=>te,jU:()=>je,lb:()=>Mr,m9:()=>Dn,ne:()=>fn,p$:()=>le,pd:()=>ri,r3:()=>zn,ru:()=>Yt,tV:()=>Ye,uI:()=>tn,ug:()=>en,vZ:()=>ps,w1:()=>ht,w9:()=>or,xO:()=>to,xb:()=>fs,z$:()=>et,zI:()=>ve,zd:()=>no});const te=function(ye,ae){if(!ye)throw H(ae)},H=function(ye){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ye)},ke=function(ye){const ae=[];let ne=0;for(let de=0;de<ye.length;de++){let fe=ye.charCodeAt(de);fe<128?ae[ne++]=fe:fe<2048?(ae[ne++]=fe>>6|192,ae[ne++]=63&fe|128):55296==(64512&fe)&&de+1<ye.length&&56320==(64512&ye.charCodeAt(de+1))?(fe=65536+((1023&fe)<<10)+(1023&ye.charCodeAt(++de)),ae[ne++]=fe>>18|240,ae[ne++]=fe>>12&63|128,ae[ne++]=fe>>6&63|128,ae[ne++]=63&fe|128):(ae[ne++]=fe>>12|224,ae[ne++]=fe>>6&63|128,ae[ne++]=63&fe|128)}return ae},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ae){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let fe=0;fe<ye.length;fe+=3){const ot=ye[fe],It=fe+1<ye.length,_n=It?ye[fe+1]:0,hr=fe+2<ye.length,fr=hr?ye[fe+2]:0;let ue=(15&_n)<<2|fr>>6,oe=63&fr;hr||(oe=64,It||(ue=64)),de.push(ne[ot>>2],ne[(3&ot)<<4|_n>>4],ne[ue],ne[oe])}return de.join("")},encodeString(ye,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(ye):this.encodeByteArray(ke(ye),ae)},decodeString(ye,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(ye):function(ye){const ae=[];let ne=0,de=0;for(;ne<ye.length;){const fe=ye[ne++];if(fe<128)ae[de++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const ot=ye[ne++];ae[de++]=String.fromCharCode((31&fe)<<6|63&ot)}else if(fe>239&&fe<365){const hr=((7&fe)<<18|(63&ye[ne++])<<12|(63&ye[ne++])<<6|63&ye[ne++])-65536;ae[de++]=String.fromCharCode(55296+(hr>>10)),ae[de++]=String.fromCharCode(56320+(1023&hr))}else{const ot=ye[ne++],It=ye[ne++];ae[de++]=String.fromCharCode((15&fe)<<12|(63&ot)<<6|63&It)}}return ae.join("")}(this.decodeStringToByteArray(ye,ae))},decodeStringToByteArray(ye,ae){this.init_();const ne=ae?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let fe=0;fe<ye.length;){const ot=ne[ye.charAt(fe++)],_n=fe<ye.length?ne[ye.charAt(fe)]:0;++fe;const fr=fe<ye.length?ne[ye.charAt(fe)]:64;++fe;const _e=fe<ye.length?ne[ye.charAt(fe)]:64;if(++fe,null==ot||null==_n||null==fr||null==_e)throw Error();de.push(ot<<2|_n>>4),64!==fr&&(de.push(_n<<4&240|fr>>2),64!==_e&&de.push(fr<<6&192|_e))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},Te=function(ye){const ae=ke(ye);return We.encodeByteArray(ae,!0)},Ve=function(ye){return Te(ye).replace(/\./g,"")},Ye=function(ye){try{return We.decodeString(ye,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function le(ye){return ce(void 0,ye)}function ce(ye,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return ae}for(const ne in ae)!ae.hasOwnProperty(ne)||!be(ne)||(ye[ne]=ce(ye[ne],ae[ne]));return ye}function be(ye){return"__proto__"!==ye}class Dt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,ne)=>{this.resolve=ae,this.reject=ne})}wrapCallback(ae){return(ne,de)=>{ne?this.reject(ne):this.resolve(de),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(ne):ae(ne,de))}}}function mt(ye,ae){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=ae||"demo-project",fe=ye.iat||0,ot=ye.sub||ye.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const It=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:fe,exp:fe+3600,auth_time:fe,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(It)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Yt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){return et().indexOf("Electron/")>=0}function ht(){const ye=et();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function tt(){return et().indexOf("MSAppHost/")>=0}function Pt(){return!1}function Ie(){return!Ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){return"object"==typeof indexedDB}function Ze(){return new Promise((ye,ae)=>{try{let ne=!0;const de="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(de);fe.onsuccess=()=>{fe.result.close(),ne||self.indexedDB.deleteDatabase(de),ye(!0)},fe.onupgradeneeded=()=>{ne=!1},fe.onerror=()=>{var ot;ae((null===(ot=fe.error)||void 0===ot?void 0:ot.message)||"")}}catch(ne){ae(ne)}})}function ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor(ae,ne,de){super(ne),this.code=ae,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(ae,ne,de){this.service=ae,this.serviceName=ne,this.errors=de}create(ae,...ne){const de=ne[0]||{},fe=`${this.service}/${ae}`,ot=this.errors[ae],It=ot?function Ct(ye,ae){return ye.replace(pn,(ne,de)=>{const fe=ae[de];return null!=fe?String(fe):`<${de}?>`})}(ot,de):"Error";return new Me(fe,`${this.serviceName}: ${It} (${fe}).`,de)}}const pn=/\{\$([^}]+)}/g;function Qn(ye){return JSON.parse(ye)}function jn(ye){return JSON.stringify(ye)}const Lt=function(ye){let ae={},ne={},de={},fe="";try{const ot=ye.split(".");ae=Qn(Ye(ot[0])||""),ne=Qn(Ye(ot[1])||""),fe=ot[2],de=ne.d||{},delete ne.d}catch{}return{header:ae,claims:ne,data:de,signature:fe}},or=function(ye){const ne=Lt(ye).claims;return!!ne&&"object"==typeof ne&&ne.hasOwnProperty("iat")},Jn=function(ye){const ae=Lt(ye).claims;return"object"==typeof ae&&!0===ae.admin};function zn(ye,ae){return Object.prototype.hasOwnProperty.call(ye,ae)}function Pn(ye,ae){if(Object.prototype.hasOwnProperty.call(ye,ae))return ye[ae]}function fs(ye){for(const ae in ye)if(Object.prototype.hasOwnProperty.call(ye,ae))return!1;return!0}function qa(ye,ae,ne){const de={};for(const fe in ye)Object.prototype.hasOwnProperty.call(ye,fe)&&(de[fe]=ae.call(ne,ye[fe],fe,ye));return de}function ps(ye,ae){if(ye===ae)return!0;const ne=Object.keys(ye),de=Object.keys(ae);for(const fe of ne){if(!de.includes(fe))return!1;const ot=ye[fe],It=ae[fe];if(Vr(ot)&&Vr(It)){if(!ps(ot,It))return!1}else if(ot!==It)return!1}for(const fe of de)if(!ne.includes(fe))return!1;return!0}function Vr(ye){return null!==ye&&"object"==typeof ye}function to(ye){const ae=[];for(const[ne,de]of Object.entries(ye))Array.isArray(de)?de.forEach(fe=>{ae.push(encodeURIComponent(ne)+"="+encodeURIComponent(fe))}):ae.push(encodeURIComponent(ne)+"="+encodeURIComponent(de));return ae.length?"&"+ae.join("&"):""}function no(ye){const ae={};return ye.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[fe,ot]=de.split("=");ae[decodeURIComponent(fe)]=decodeURIComponent(ot)}}),ae}function ri(ye){const ae=ye.indexOf("?");if(!ae)return"";const ne=ye.indexOf("#",ae);return ye.substring(ae,ne>0?ne:void 0)}class $o{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,ne){ne||(ne=0);const de=this.W_;if("string"==typeof ae)for(let _e=0;_e<16;_e++)de[_e]=ae.charCodeAt(ne)<<24|ae.charCodeAt(ne+1)<<16|ae.charCodeAt(ne+2)<<8|ae.charCodeAt(ne+3),ne+=4;else for(let _e=0;_e<16;_e++)de[_e]=ae[ne]<<24|ae[ne+1]<<16|ae[ne+2]<<8|ae[ne+3],ne+=4;for(let _e=16;_e<80;_e++){const ue=de[_e-3]^de[_e-8]^de[_e-14]^de[_e-16];de[_e]=4294967295&(ue<<1|ue>>>31)}let fr,fi,fe=this.chain_[0],ot=this.chain_[1],It=this.chain_[2],_n=this.chain_[3],hr=this.chain_[4];for(let _e=0;_e<80;_e++){_e<40?_e<20?(fr=_n^ot&(It^_n),fi=1518500249):(fr=ot^It^_n,fi=1859775393):_e<60?(fr=ot&It|_n&(ot|It),fi=2400959708):(fr=ot^It^_n,fi=3395469782);const ue=(fe<<5|fe>>>27)+fr+hr+fi+de[_e]&4294967295;hr=_n,_n=It,It=4294967295&(ot<<30|ot>>>2),ot=fe,fe=ue}this.chain_[0]=this.chain_[0]+fe&4294967295,this.chain_[1]=this.chain_[1]+ot&4294967295,this.chain_[2]=this.chain_[2]+It&4294967295,this.chain_[3]=this.chain_[3]+_n&4294967295,this.chain_[4]=this.chain_[4]+hr&4294967295}update(ae,ne){if(null==ae)return;void 0===ne&&(ne=ae.length);const de=ne-this.blockSize;let fe=0;const ot=this.buf_;let It=this.inbuf_;for(;fe<ne;){if(0===It)for(;fe<=de;)this.compress_(ae,fe),fe+=this.blockSize;if("string"==typeof ae){for(;fe<ne;)if(ot[It]=ae.charCodeAt(fe),++It,++fe,It===this.blockSize){this.compress_(ot),It=0;break}}else for(;fe<ne;)if(ot[It]=ae[fe],++It,++fe,It===this.blockSize){this.compress_(ot),It=0;break}}this.inbuf_=It,this.total_+=ne}digest(){const ae=[];let ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let fe=this.blockSize-1;fe>=56;fe--)this.buf_[fe]=255&ne,ne/=256;this.compress_(this.buf_);let de=0;for(let fe=0;fe<5;fe++)for(let ot=24;ot>=0;ot-=8)ae[de]=this.chain_[fe]>>ot&255,++de;return ae}}function fn(ye,ae){const ne=new kr(ye,ae);return ne.subscribe.bind(ne)}class kr{constructor(ae,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{ae(this)}).catch(de=>{this.error(de)})}next(ae){this.forEachObserver(ne=>{ne.next(ae)})}error(ae){this.forEachObserver(ne=>{ne.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,ne,de){let fe;if(void 0===ae&&void 0===ne&&void 0===de)throw new Error("Missing Observer.");fe=function ar(ye,ae){if("object"!=typeof ye||null===ye)return!1;for(const ne of ae)if(ne in ye&&"function"==typeof ye[ne])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:ne,complete:de},void 0===fe.next&&(fe.next=Ii),void 0===fe.error&&(fe.error=Ii),void 0===fe.complete&&(fe.complete=Ii);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),ot}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,ae)}sendOne(ae,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{ne(this.observers[ae])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ii(){}const ms=function(ye,ae,ne,de){let fe;if(de<ae?fe="at least "+ae:de>ne&&(fe=0===ne?"none":"no more than "+ne),fe)throw new Error(ye+" failed: Was called with "+de+(1===de?" argument.":" arguments.")+" Expects "+fe+".")};function ki(ye,ae){return`${ye} failed: ${ae} argument `}function Ds(ye,ae,ne,de){if((!de||ne)&&"function"!=typeof ne)throw new Error(ki(ye,ae)+"must be a valid function.")}function Mr(ye,ae,ne,de){if((!de||ne)&&("object"!=typeof ne||null===ne))throw new Error(ki(ye,ae)+"must be a valid context object.")}const rn=function(ye){const ae=[];let ne=0;for(let de=0;de<ye.length;de++){let fe=ye.charCodeAt(de);if(fe>=55296&&fe<=56319){const ot=fe-55296;de++,te(de<ye.length,"Surrogate pair missing trail surrogate."),fe=65536+(ot<<10)+(ye.charCodeAt(de)-56320)}fe<128?ae[ne++]=fe:fe<2048?(ae[ne++]=fe>>6|192,ae[ne++]=63&fe|128):fe<65536?(ae[ne++]=fe>>12|224,ae[ne++]=fe>>6&63|128,ae[ne++]=63&fe|128):(ae[ne++]=fe>>18|240,ae[ne++]=fe>>12&63|128,ae[ne++]=fe>>6&63|128,ae[ne++]=63&fe|128)}return ae},en=function(ye){let ae=0;for(let ne=0;ne<ye.length;ne++){const de=ye.charCodeAt(ne);de<128?ae++:de<2048?ae+=2:de>=55296&&de<=56319?(ae+=4,ne++):ae+=3}return ae};function Is(ye,ae=1e3,ne=2){const de=ae*Math.pow(ne,ye),fe=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+fe)}function Dn(ye){return ye&&ye._delegate?ye._delegate:ye}},929:(un,ct,z)=>{var a=z(4650);let te=null;function H(){return te}const Te=new a.OlP("DocumentToken");let Ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ye(){return(0,a.LFG)(ce)}()},providedIn:"platform"}),n})();const le=new a.OlP("Location Initialized");let ce=(()=>{class n extends Ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){be()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){be()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Dt(){return new ce((0,a.LFG)(Te))}()},providedIn:"platform"}),n})();function be(){return!!window.history.pushState}function mt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function et(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function tn(n){return n&&"?"!==n[0]?"?"+n:n}let Ke=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Yt)},providedIn:"root"}),n})();const je=new a.OlP("appBaseHref");let Yt=(()=>{class n extends Ke{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return mt(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const o=this.prepareExternalUrl(i+tn(s));this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){const o=this.prepareExternalUrl(i+tn(s));this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ve),a.LFG(je,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kt=(()=>{class n extends Ke{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=mt(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let o=this.prepareExternalUrl(i+tn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,r,o)}replaceState(e,r,i,s){let o=this.prepareExternalUrl(i+tn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ve),a.LFG(je,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),pt=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=et(Pt(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+tn(r))}normalize(e){return n.stripTrailingSlash(function tt(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Pt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=tn,n.joinWithSlash=mt,n.stripTrailingSlash=et,n.\u0275fac=function(e){return new(e||n)(a.LFG(Ke))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ht(){return new pt((0,a.LFG)(Ke))}()},providedIn:"root"}),n})();function Pt(n){return n.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Format=0]="Format",ve[ve.Standalone=1]="Standalone",ve))(),Se=(()=>((Se=Se||{})[Se.Narrow=0]="Narrow",Se[Se.Abbreviated=1]="Abbreviated",Se[Se.Wide=2]="Wide",Se[Se.Short=3]="Short",Se))(),He=(()=>((He=He||{})[He.Short=0]="Short",He[He.Medium=1]="Medium",He[He.Long=2]="Long",He[He.Full=3]="Full",He))(),Me=(()=>((Me=Me||{})[Me.Decimal=0]="Decimal",Me[Me.Group=1]="Group",Me[Me.List=2]="List",Me[Me.PercentSign=3]="PercentSign",Me[Me.PlusSign=4]="PlusSign",Me[Me.MinusSign=5]="MinusSign",Me[Me.Exponential=6]="Exponential",Me[Me.SuperscriptingExponent=7]="SuperscriptingExponent",Me[Me.PerMille=8]="PerMille",Me[Me.Infinity=9]="Infinity",Me[Me.NaN=10]="NaN",Me[Me.TimeSeparator=11]="TimeSeparator",Me[Me.CurrencyDecimal=12]="CurrencyDecimal",Me[Me.CurrencyGroup=13]="CurrencyGroup",Me))();function or(n,t){return kr((0,a.cg1)(n)[a.wAp.DateFormat],t)}function Jn(n,t){return kr((0,a.cg1)(n)[a.wAp.TimeFormat],t)}function zn(n,t){return kr((0,a.cg1)(n)[a.wAp.DateTimeFormat],t)}function Pn(n,t){const e=(0,a.cg1)(n),r=e[a.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===Me.CurrencyDecimal)return e[a.wAp.NumberSymbols][Me.Decimal];if(t===Me.CurrencyGroup)return e[a.wAp.NumberSymbols][Me.Group]}return r}function no(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function gs(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ki=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cr={},Ds=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mr=(()=>((Mr=Mr||{})[Mr.Short=0]="Short",Mr[Mr.ShortGMT=1]="ShortGMT",Mr[Mr.Long=2]="Long",Mr[Mr.Extended=3]="Extended",Mr))(),rn=(()=>((rn=rn||{})[rn.FullYear=0]="FullYear",rn[rn.Month=1]="Month",rn[rn.Date=2]="Date",rn[rn.Hours=3]="Hours",rn[rn.Minutes=4]="Minutes",rn[rn.Seconds=5]="Seconds",rn[rn.FractionalSeconds=6]="FractionalSeconds",rn[rn.Day=7]="Day",rn))(),en=(()=>((en=en||{})[en.DayPeriods=0]="DayPeriods",en[en.Days=1]="Days",en[en.Months=2]="Months",en[en.Eras=3]="Eras",en))();function Or(n,t,e,r){let i=function oe(n){if(At(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(c=>+c);return As(i,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(ki))return function Qe(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,c=Number(n[5]||0)-r,h=Number(n[6]||0),p=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,c,h,p),t}(r)}const t=new Date(n);if(!At(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ur(e,t)||t;let c,o=[];for(;t;){if(c=Ds.exec(t),!c){o.push(t);break}{o=o.concat(c.slice(1));const m=o.pop();if(!m)break;t=m}}let h=i.getTimezoneOffset();r&&(h=fi(r,h),i=function ue(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function _e(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(fi(t,i)-i))}(i,r,!0));let p="";return o.forEach(m=>{const v=function fr(n){if(hr[n])return hr[n];let t;switch(n){case"G":case"GG":case"GGG":t=Dn(en.Eras,Se.Abbreviated);break;case"GGGG":t=Dn(en.Eras,Se.Wide);break;case"GGGGG":t=Dn(en.Eras,Se.Narrow);break;case"y":t=kn(rn.FullYear,1,0,!1,!0);break;case"yy":t=kn(rn.FullYear,2,0,!0,!0);break;case"yyy":t=kn(rn.FullYear,3,0,!1,!0);break;case"yyyy":t=kn(rn.FullYear,4,0,!1,!0);break;case"Y":t=_n(1);break;case"YY":t=_n(2,!0);break;case"YYY":t=_n(3);break;case"YYYY":t=_n(4);break;case"M":case"L":t=kn(rn.Month,1,1);break;case"MM":case"LL":t=kn(rn.Month,2,1);break;case"MMM":t=Dn(en.Months,Se.Abbreviated);break;case"MMMM":t=Dn(en.Months,Se.Wide);break;case"MMMMM":t=Dn(en.Months,Se.Narrow);break;case"LLL":t=Dn(en.Months,Se.Abbreviated,ve.Standalone);break;case"LLLL":t=Dn(en.Months,Se.Wide,ve.Standalone);break;case"LLLLL":t=Dn(en.Months,Se.Narrow,ve.Standalone);break;case"w":t=It(1);break;case"ww":t=It(2);break;case"W":t=It(1,!0);break;case"d":t=kn(rn.Date,1);break;case"dd":t=kn(rn.Date,2);break;case"c":case"cc":t=kn(rn.Day,1);break;case"ccc":t=Dn(en.Days,Se.Abbreviated,ve.Standalone);break;case"cccc":t=Dn(en.Days,Se.Wide,ve.Standalone);break;case"ccccc":t=Dn(en.Days,Se.Narrow,ve.Standalone);break;case"cccccc":t=Dn(en.Days,Se.Short,ve.Standalone);break;case"E":case"EE":case"EEE":t=Dn(en.Days,Se.Abbreviated);break;case"EEEE":t=Dn(en.Days,Se.Wide);break;case"EEEEE":t=Dn(en.Days,Se.Narrow);break;case"EEEEEE":t=Dn(en.Days,Se.Short);break;case"a":case"aa":case"aaa":t=Dn(en.DayPeriods,Se.Abbreviated);break;case"aaaa":t=Dn(en.DayPeriods,Se.Wide);break;case"aaaaa":t=Dn(en.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":t=Dn(en.DayPeriods,Se.Abbreviated,ve.Standalone,!0);break;case"bbbb":t=Dn(en.DayPeriods,Se.Wide,ve.Standalone,!0);break;case"bbbbb":t=Dn(en.DayPeriods,Se.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":t=Dn(en.DayPeriods,Se.Abbreviated,ve.Format,!0);break;case"BBBB":t=Dn(en.DayPeriods,Se.Wide,ve.Format,!0);break;case"BBBBB":t=Dn(en.DayPeriods,Se.Narrow,ve.Format,!0);break;case"h":t=kn(rn.Hours,1,-12);break;case"hh":t=kn(rn.Hours,2,-12);break;case"H":t=kn(rn.Hours,1);break;case"HH":t=kn(rn.Hours,2);break;case"m":t=kn(rn.Minutes,1);break;case"mm":t=kn(rn.Minutes,2);break;case"s":t=kn(rn.Seconds,1);break;case"ss":t=kn(rn.Seconds,2);break;case"S":t=kn(rn.FractionalSeconds,1);break;case"SS":t=kn(rn.FractionalSeconds,2);break;case"SSS":t=kn(rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ae(Mr.Short);break;case"ZZZZZ":t=ae(Mr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ae(Mr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ae(Mr.Long);break;default:return null}return hr[n]=t,t}(m);p+=v?v(i,e,h):"''"===m?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function As(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Ur(n,t){const e=function Ct(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Cr[e]=Cr[e]||{},Cr[e][t])return Cr[e][t];let r="";switch(t){case"shortDate":r=or(n,He.Short);break;case"mediumDate":r=or(n,He.Medium);break;case"longDate":r=or(n,He.Long);break;case"fullDate":r=or(n,He.Full);break;case"shortTime":r=Jn(n,He.Short);break;case"mediumTime":r=Jn(n,He.Medium);break;case"longTime":r=Jn(n,He.Long);break;case"fullTime":r=Jn(n,He.Full);break;case"short":const i=Ur(n,"shortTime"),s=Ur(n,"shortDate");r=Nn(zn(n,He.Short),[i,s]);break;case"medium":const o=Ur(n,"mediumTime"),c=Ur(n,"mediumDate");r=Nn(zn(n,He.Medium),[o,c]);break;case"long":const h=Ur(n,"longTime"),p=Ur(n,"longDate");r=Nn(zn(n,He.Long),[h,p]);break;case"full":const m=Ur(n,"fullTime"),v=Ur(n,"fullDate");r=Nn(zn(n,He.Full),[m,v])}return r&&(Cr[e][t]=r),r}function Nn(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function $r(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return r&&(o=o.slice(o.length-t)),s+o}function kn(n,t,e=0,r=!1,i=!1){return function(s,o){let c=function ro(n,t){switch(n){case rn.FullYear:return t.getFullYear();case rn.Month:return t.getMonth();case rn.Date:return t.getDate();case rn.Hours:return t.getHours();case rn.Minutes:return t.getMinutes();case rn.Seconds:return t.getSeconds();case rn.FractionalSeconds:return t.getMilliseconds();case rn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===rn.Hours)0===c&&-12===e&&(c=12);else if(n===rn.FractionalSeconds)return function Is(n,t){return $r(n,3).substring(0,t)}(c,t);const h=Pn(o,Me.MinusSign);return $r(c,t,h,r,i)}}function Dn(n,t,e=ve.Format,r=!1){return function(i,s){return function ye(n,t,e,r,i,s){switch(e){case en.Months:return function jn(n,t,e){const r=(0,a.cg1)(n),s=kr([r[a.wAp.MonthsFormat],r[a.wAp.MonthsStandalone]],t);return kr(s,e)}(t,i,r)[n.getMonth()];case en.Days:return function Qn(n,t,e){const r=(0,a.cg1)(n),s=kr([r[a.wAp.DaysFormat],r[a.wAp.DaysStandalone]],t);return kr(s,e)}(t,i,r)[n.getDay()];case en.DayPeriods:const o=n.getHours(),c=n.getMinutes();if(s){const p=function ri(n){const t=(0,a.cg1)(n);return no(t),(t[a.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?gs(r):[gs(r[0]),gs(r[1])])}(t),m=function $o(n,t,e){const r=(0,a.cg1)(n);no(r);const s=kr([r[a.wAp.ExtraData][0],r[a.wAp.ExtraData][1]],t)||[];return kr(s,e)||[]}(t,i,r),v=p.findIndex(w=>{if(Array.isArray(w)){const[E,D]=w,S=o>=E.hours&&c>=E.minutes,M=o<D.hours||o===D.hours&&c<D.minutes;if(E.hours<D.hours){if(S&&M)return!0}else if(S||M)return!0}else if(w.hours===o&&w.minutes===c)return!0;return!1});if(-1!==v)return m[v]}return function pn(n,t,e){const r=(0,a.cg1)(n),s=kr([r[a.wAp.DayPeriodsFormat],r[a.wAp.DayPeriodsStandalone]],t);return kr(s,e)}(t,i,r)[o<12?0:1];case en.Eras:return function Lt(n,t){return kr((0,a.cg1)(n)[a.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function ae(n){return function(t,e,r){const i=-1*r,s=Pn(e,Me.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Mr.Short:return(i>=0?"+":"")+$r(o,2,s)+$r(Math.abs(i%60),2,s);case Mr.ShortGMT:return"GMT"+(i>=0?"+":"")+$r(o,1,s);case Mr.Long:return"GMT"+(i>=0?"+":"")+$r(o,2,s)+":"+$r(Math.abs(i%60),2,s);case Mr.Extended:return 0===r?"Z":(i>=0?"+":"")+$r(o,2,s)+":"+$r(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function ot(n){return As(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function It(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();i=1+Math.floor((o+s)/7)}else{const s=ot(e),o=function fe(n){const t=As(n,0,1).getDay();return As(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),c=s.getTime()-o.getTime();i=1+Math.round(c/6048e5)}return $r(i,n,Pn(r,Me.MinusSign))}}function _n(n,t=!1){return function(e,r){return $r(ot(e).getFullYear(),n,Pn(r,Me.MinusSign),t)}}const hr={};function fi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function At(n){return n instanceof Date&&!isNaN(n.valueOf())}let fc=(()=>{class n{constructor(e,r,i,s){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Za{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Za(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,o),gi(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{gi(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function gi(n,t){n.context.$implicit=t.item}let Sr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new So,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ya("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ya("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class So{constructor(){this.$implicit=null,this.ngIf=null}}function Ya(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class yu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let va=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),io=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new yu(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(va,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Vh=(()=>{class n{constructor(e,r,i){i._addDefault(new yu(e,r))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(va,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),vu=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,s]=e.split("."),o=-1===i.indexOf("-")?void 0:a.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Yr="browser";function Mi(n){return n===Yr}function ba(n){return"server"===n}let Cu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Gs((0,a.LFG)(Te),window)}),n})();class Gs{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Fl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ka(this.window.history)||Ka(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ka(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qo extends class Ol extends class We{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Re(n){te||(te=n)}(new qo)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Zo(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}();return null==e?null:function Pl(n){Qa=Qa||document.createElement("a"),Qa.setAttribute("href",n);const t=Qa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Sp(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Qa,Xa=null;const wn=new a.OlP("TRANSITION_ID"),Om=[{provide:a.ip1,useFactory:function ii(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const r=H(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[wn,Te,a.zs3],multi:!0}];let Mp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=new a.OlP("EventManagerPlugins");let vc=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ja),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class xc{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=H().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let _d=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),lt=(()=>{class n extends _d{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Hn),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hn))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Hn(n){H().remove(n)}const Nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ll=/%COMP%/g;function Su(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Su(n,i,e):(i=i.replace(Ll,n),e.push(i))}return e}function bc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Do=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ji(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ao(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case a.ifc.ShadowDom:return new Pm(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Su(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vc),a.LFG(lt),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ji{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Nl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ul(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Ul(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=Nl[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Nl[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,r,i&a.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bc(r)):this.eventManager.addEventListener(t,e,bc(r))}}function Ul(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ao extends ji{constructor(t,e,r,i){super(t),this.component=r;const s=Su(i+"-"+r.id,r.styles,[]);e.addStyles(s),this.contentAttr=function Hh(n){return"_ngcontent-%COMP%".replace(Ll,n)}(i+"-"+r.id),this.hostAttr=function Vl(n){return"_nghost-%COMP%".replace(Ll,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Pm extends ji{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Su(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const c=document.createElement("style");c.textContent=s[o],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jh=(()=>{class n extends xc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const yd=["alt","control","meta","shift"],Tu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Du={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $h=(()=>{class n extends xc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(yd.forEach(h=>{const p=r.indexOf(h);p>-1&&(r.splice(p,1),o+=h+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static getEventFullKey(e){let r="",i=function Au(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Du.hasOwnProperty(t)&&(t=Du[t]))}return Tu[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yd.forEach(s=>{s!=i&&(0,Cc[s])(e)&&(r+=s+".")}),r+=i,r}static eventCallback(e,r,i){return s=>{n.getEventFullKey(s)===e&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Nm=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Yr},{provide:a.g9A,useValue:function Sc(){qo.makeCurrent()},multi:!0},{provide:Te,useFactory:function Tc(){return(0,a.RDi)(document),document},deps:[]}]),Iu=new a.OlP(""),_i=[{provide:a.rWj,useClass:class Eu{addToWindow(t){a.dqk.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let s=i.length,o=!1;const c=function(h){o=o||h,s--,0==s&&r(o)};i.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?H().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Yo=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Fp(){return new a.qLn},deps:[]},{provide:Ja,useClass:jh,multi:!0,deps:[Te,a.R0b,a.Lbi]},{provide:Ja,useClass:$h,multi:!0,deps:[Te]},{provide:Do,useClass:Do,deps:[vc,lt,a.AFp]},{provide:a.FYo,useExisting:Do},{provide:_d,useExisting:lt},{provide:lt,useClass:lt,deps:[Te]},{provide:vc,useClass:vc,deps:[Ja,a.R0b]},{provide:class Ji{},useClass:Mp,deps:[]},[]];let Tr=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:wn,useExisting:a.AFp},Om]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Iu,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Yo,..._i],imports:[Ml,a.hGG]}),n})(),Op=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Wh(){return new Op((0,a.LFG)(Te))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let el,Ou=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):a.LFG(Wm),r},providedIn:"root"}),n})(),Wm=(()=>{class n extends Ou{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function Mc(n){return new Wm(n.get(Te))}(a.LFG(a.zs3)),r},providedIn:"root"}),n})();try{el=typeof Intl<"u"&&Intl.v8BreakIterator}catch{el=!1}let Rc,$i=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Mi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!el)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xo=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Pu(){if(Rc)return Rc;if("object"!=typeof document||!document)return Rc=new Set(Xo),Rc;let n=document.createElement("input");return Rc=new Set(Xo.filter(t=>(n.setAttribute("type",t),n.type===t))),Rc}let Io,Qo,nl;function tl(n){return function bd(){if(null==Io&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Io=!0}))}finally{Io=Io||!1}return Io}()?n:!!n.capture}function Lu(){if(null==Qo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qo=!1,Qo;if("scrollBehavior"in document.documentElement.style)Qo=!0;else{const n=Element.prototype.scrollTo;Qo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qo}function ko(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rl(n){return n.composedPath?n.composedPath()[0]:n.target}function il(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var hn=z(7579),oi=z(727);class yi extends hn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var Ea=z(3269),er=z(8996);function Qt(...n){const t=(0,Ea.yG)(n);return(0,er.D)(n,t)}function ju(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ai=z(8505),Ld=z(4986),Oi=z(4482),Xr=z(5403);function Zp(n,t=Ld.z){return(0,Oi.e)((e,r)=>{let i=null,s=null,o=null;const c=()=>{if(i){i.unsubscribe(),i=null;const p=s;s=null,r.next(p)}};function h(){const p=o+n,m=t.now();if(m<p)return i=this.schedule(void 0,p-m),void r.add(i);c()}e.subscribe((0,Xr.x)(r,p=>{s=p,o=t.now(),i||(i=t.schedule(h,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{s=i=null}))})}function Wr(n,t){return(0,Oi.e)((e,r)=>{let i=0;e.subscribe((0,Xr.x)(r,s=>n.call(t,s,i++)&&r.next(s)))})}var C=z(4004),y=z(515);function x(n){return n<=0?()=>y.E:(0,Oi.e)((t,e)=>{let r=0;t.subscribe((0,Xr.x)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function A(n){return Wr((t,e)=>n<=e)}var O=z(4671);function j(n,t=O.y){return n=n??De,(0,Oi.e)((e,r)=>{let i,s=!0;e.subscribe((0,Xr.x)(r,o=>{const c=t(o);(s||!n(i,c))&&(s=!1,i=c,r.next(o))}))})}function De(n,t){return n===t}var rt=z(8421),Ht=z(5032);function kt(n){return(0,Oi.e)((t,e)=>{(0,rt.Xf)(n).subscribe((0,Xr.x)(e,()=>e.complete(),Ht.Z)),!e.closed&&t.subscribe(e)})}function Jt(n){return null!=n&&"false"!=`${n}`}function Dr(n,t=0){return function Da(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function ll(n){return Array.isArray(n)?n:[n]}function li(n){return null==n?"":"string"==typeof n?n:`${n}px`}function jl(n){return n instanceof a.SBq?n.nativeElement:n}var vi=z(9751);let lf=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jy=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=jl(e);return new vi.y(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new hn.x,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(lf))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zy=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Dr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Zp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(jy),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[lf]}),n})();const{isArray:c0}=Array,{getPrototypeOf:$y,prototype:eb,keys:u0}=Object;function d0(n){if(1===n.length){const t=n[0];if(c0(t))return{args:t,keys:null};if(function Wy(n){return n&&"object"==typeof n&&$y(n)===eb}(t)){const e=u0(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:wT}=Array;function nb(n){return(0,C.U)(t=>function tb(n,t){return wT(t)?n(...t):n(t)}(n,t))}function Pi(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var CF=z(9672);function rb(...n){const t=(0,Ea.yG)(n),e=(0,Ea.jO)(n),{args:r,keys:i}=d0(n);if(0===r.length)return(0,er.D)([],t);const s=new vi.y(function ib(n,t,e=O.y){return r=>{sb(t,()=>{const{length:i}=n,s=new Array(i);let o=i,c=i;for(let h=0;h<i;h++)sb(t,()=>{const p=(0,er.D)(n[h],t);let m=!1;p.subscribe((0,Xr.x)(r,v=>{s[h]=v,m||(m=!0,c--),c||r.next(e(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>Pi(i,o):O.y));return e?s.pipe(nb(e)):s}function sb(n,t,e){n?(0,CF.f)(e,n,t):t()}var h0=z(8189);function qy(...n){return function EF(){return(0,h0.J)(1)}()((0,er.D)(n,(0,Ea.yG)(n)))}function cl(...n){const t=(0,Ea.yG)(n);return(0,Oi.e)((e,r)=>{(t?qy(n,e,t):qy(n,e)).subscribe(r)})}const SF=new Set;let f0,p0=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bT}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ob(n){if(!SF.has(n))try{f0||(f0=document.createElement("style"),f0.setAttribute("type","text/css"),document.head.appendChild(f0)),f0.sheet&&(f0.sheet.insertRule(`@media ${n} {body{ }}`,0),SF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bT(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Zy=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new hn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ab(ll(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=rb(ab(ll(e)).map(o=>this._registerQuery(o).observable));return s=qy(s.pipe(x(1)),s.pipe(A(1),Zp(0))),s.pipe((0,C.U)(o=>{const c={matches:!1,breakpoints:{}};return o.forEach(({matches:h,query:p})=>{c.matches=c.matches||h,c.breakpoints[p]=h}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new vi.y(o=>{const c=h=>this._zone.run(()=>o.next(h));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(cl(r),(0,C.U)(({matches:o})=>({query:e,matches:o})),kt(this._destroySubject)),mql:r};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(p0),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ab(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class kF extends class Yy{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new hn.x,this._typeaheadSubscription=oi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new hn.x,this.change=new hn.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ai.b)(e=>this._pressedLetters.push(e)),Zp(t),Wr(()=>this._pressedLetters.length>0),(0,C.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||ju(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let Vc=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function db(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function DT(n){try{return n.frameElement}catch{return null}}(function PF(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===kT(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=kT(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function OF(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function hb(n){return!function RF(n){return function Xp(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function MF(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function AT(n){return function FF(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||IT(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IT(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function kT(n){if(!IT(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class MT{constructor(t,e,r,i,s=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(x(1)).subscribe(t)}}let fb=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new MT(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Vc),a.LFG(a.R0b),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function RT(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const QV=new a.OlP("cdk-input-modality-detector-options"),FT={ignoreKeys:[18,17,224,91,16]},Jp=tl({passive:!0,capture:!0});let LF=(()=>{class n{constructor(e,r,i,s){this._platform=e,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rl(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Qp(o)?"keyboard":"mouse"),this._mostRecentTarget=rl(o))},this._onTouchstart=o=>{RT(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rl(o))},this._options={...FT,...s},this.modalityDetected=this._modality.pipe(A(1)),this.modalityChanged=this.modalityDetected.pipe(j()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Jp),i.addEventListener("mousedown",this._onMousedown,Jp),i.addEventListener("touchstart",this._onTouchstart,Jp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jp),document.removeEventListener("mousedown",this._onMousedown,Jp),document.removeEventListener("touchstart",this._onTouchstart,Jp))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i),a.LFG(a.R0b),a.LFG(Te),a.LFG(QV,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PT=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function NT(){return null}}),pb=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let gb=(()=>{class n{constructor(e,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let s,o;return 1===r.length&&"number"==typeof r[0]?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(PT,8),a.LFG(a.R0b),a.LFG(Te),a.LFG(pb,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mb=new a.OlP("cdk-focus-monitor-default-options"),_b=tl({passive:!0,capture:!0});let Xy=(()=>{class n{constructor(e,r,i,s,o){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new hn.x,this._rootNodeFocusAndBlurListener=c=>{for(let p=rl(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(e,r=!1){const i=jl(e);if(!this._platform.isBrowser||1!==i.nodeType)return Qt(null);const s=function Ed(n){if(function Fc(){if(null==nl){const n=typeof document<"u"?document.head:null;nl=!(!n||!n.createShadowRoot&&!n.attachShadow)}return nl}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const c={checkChildren:r,subject:new hn.x,rootNode:s};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=jl(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=jl(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,h])=>this._originChanged(c,r,h)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=rl(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,_b),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,_b)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(kt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_b),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_b),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG($i),a.LFG(LF),a.LFG(Te,8),a.LFG(mb,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BF="cdk-high-contrast-black-on-white",VF="cdk-high-contrast-white-on-black",BT="cdk-high-contrast-active";let UF=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,a.f3M)(Zy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(BT,BF,VF),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(BT,BF):2===r&&e.add(BT,VF)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HF=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(UF))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cf]}),n})();var lo=z(5577),VT=z(1144),na=z(576);const UT=["addListener","removeListener"],HT=["addEventListener","removeEventListener"],GT=["on","off"];function eg(n,t,e,r){if((0,na.m)(e)&&(r=e,e=void 0),r)return eg(n,t,e).pipe(nb(r));const[i,s]=function GF(n){return(0,na.m)(n.addEventListener)&&(0,na.m)(n.removeEventListener)}(n)?HT.map(o=>c=>n[o](t,c,e)):function yb(n){return(0,na.m)(n.addListener)&&(0,na.m)(n.removeListener)}(n)?UT.map(jT(n,t)):function m0(n){return(0,na.m)(n.on)&&(0,na.m)(n.off)}(n)?GT.map(jT(n,t)):[];if(!i&&(0,VT.z)(n))return(0,lo.z)(o=>eg(o,t,e))((0,rt.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new vi.y(o=>{const c=(...h)=>o.next(1<h.length?h:h[0]);return i(c),()=>s(c)})}function jT(n,t){return e=>r=>n[e](t,r)}var zT=z(4408);const _0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=_0;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(s=>{e=void 0,n(s)});return new oi.w0(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=_0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=_0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var WT=z(7565);new class jF extends WT.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class $T extends zT.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=_0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(_0.cancelAnimationFrame(e),t._scheduled=void 0)}});let xb,vb=1;const Qy={};function qT(n){return n in Qy&&(delete Qy[n],!0)}const ZT={setImmediate(n){const t=vb++;return Qy[t]=!0,xb||(xb=Promise.resolve()),xb.then(()=>qT(t)&&n()),t},clearImmediate(n){qT(n)}},{setImmediate:$F,clearImmediate:Ro}=ZT,tg={setImmediate(...n){const{delegate:t}=tg;return(t?.setImmediate||$F)(...n)},clearImmediate(n){const{delegate:t}=tg;return(t?.clearImmediate||Ro)(n)},delegate:void 0};new class wb extends WT.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class YT extends zT.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=tg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(tg.clearImmediate(e),t._scheduled=void 0)}});var WF=z(3532);function XT(n,t=Ld.z){return function bb(n){return(0,Oi.e)((t,e)=>{let r=!1,i=null,s=null,o=!1;const c=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const p=i;i=null,e.next(p)}o&&e.complete()},h=()=>{s=null,o&&e.complete()};t.subscribe((0,Xr.x)(e,p=>{r=!0,i=p,s||(0,rt.Xf)(n(p)).subscribe(s=(0,Xr.x)(e,c,h))},()=>{o=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>function KT(n=0,t,e=Ld.P){let r=-1;return null!=t&&((0,WF.K)(t)?e=t:r=t),new vi.y(i=>{let s=function qF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,t))}const QT=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function ZF(){return(0,a.f3M)(Te)}}),JT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function YF(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?JT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(QT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),lU=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vi.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(XT(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Wr(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=jl(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>eg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG($i),a.LFG(Te,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Aa=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new hn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(XT(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i),a.LFG(a.R0b),a.LFG(Te,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),tv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ng,rg,ng,rg]}),n})();class Cb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class x0 extends Cb{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class nv extends Cb{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class eO extends Cb{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class rv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof x0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof nv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof eO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sD extends rv{constructor(t,e,r,i,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");c.parentNode.insertBefore(h,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=s}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let w0=(()=>{class n extends rv{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const o=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(c,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=r.createComponent(s,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(Te))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),ig=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var zs=z(6451);function Eb(n,t=!1){return(0,Oi.e)((e,r)=>{let i=0;e.subscribe((0,Xr.x)(r,s=>{const o=n(s,i++);(o||t)&&r.next(s),!o&&r.complete()}))})}const Sb=Lu();class rO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=li(-this._previousScrollPosition.left),t.style.top=li(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Sb&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Sb&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class iv{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lD{enable(){}disable(){}attach(){}}function sv(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Tb(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class cD{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();sv(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Db=(()=>{class n{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new lD,this.close=o=>new iv(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new rO(this._viewportRuler,this._document),this.reposition=o=>new cD(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(lU),a.LFG(Aa),a.LFG(a.R0b),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class b0{constructor(t){if(this.scrollStrategy=new lD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class uD{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ov=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C0=(()=>{class n extends ov{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const c=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sO=(()=>{class n extends ov{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rl(s)},this._clickListener=s=>{const o=rl(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let p=h.length-1;p>-1;p--){const m=h[p];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(o)||m.overlayElement.contains(c))break;const v=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(s)):v.next(s)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te),a.LFG($i),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E0=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||il()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(e),il()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te),a.LFG($i))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class S0{constructor(t,e,r,i,s,o,c,h,p,m=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=h,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new hn.x,this._attachments=new hn.x,this._detachments=new hn.x,this._locationChanges=oi.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new hn.x,this._outsidePointerEvents=new hn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(x(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=li(this._config.width),t.height=li(this._config.height),t.minWidth=li(this._config.minWidth),t.minHeight=li(this._config.minHeight),t.maxWidth=li(this._config.maxWidth),t.maxHeight=li(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=ll(e||[]).filter(s=>!!s);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(kt((0,zs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hD="cdk-overlay-connected-position-bounding-box",fD=/([A-Za-z%]+)$/;class kb{constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new hn.x,this._resizeSubscription=oi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(hD),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let c of this._preferredPositions){let h=this._getOriginPoint(t,i,c),p=this._getOverlayPoint(h,e,c),m=this._getOverlayFit(p,e,r,c);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(m,p,r)?s.push({position:c,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:p,originPoint:h,position:c,overlayRect:e})}if(s.length){let c=null,h=-1;for(const p of s){const m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>h&&(h=m,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hD),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,s;if("center"==r.originX)i=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==r.originX?o:c}return e.left<0&&(i-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=Mb(e);let{x:o,y:c}=t,h=this._getOffset(i,"x"),p=this._getOffset(i,"y");h&&(o+=h),p&&(c+=p);let w=0-c,E=c+s.height-r.height,D=this._subtractOverflows(s.width,0-o,o+s.width-r.width),S=this._subtractOverflows(s.height,w,E),M=D*S;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:D==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,o=oO(this._overlayRef.getConfig().minHeight),c=oO(this._overlayRef.getConfig().minWidth),p=t.fitsInViewportHorizontally||null!=c&&c<=s;return(t.fitsInViewportVertically||null!=o&&o<=i)&&p}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Mb(e),s=this._viewportRect,o=Math.max(t.x+i.width-s.width,0),c=Math.max(t.y+i.height-s.height,0),h=Math.max(s.top-r.top-t.y,0),p=Math.max(s.left-r.left-t.x,0);let m=0,v=0;return m=i.width<=s.width?p||-o:t.x<this._viewportMargin?s.left-r.left-t.x:0,v=i.height<=s.height?h||-c:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:m,y:v},{x:t.x+m,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new uD(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,o,c,m,v,w;if("top"===e.overlayY)o=t.y,s=r.height-o+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-t.y+2*this._viewportMargin,s=r.height-c+this._viewportMargin;else{const E=Math.min(r.bottom-t.y+r.top,t.y),D=this._lastBoundingBoxSize.height;s=2*E,o=t.y-E,s>D&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-D/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)w=r.width-t.x+this._viewportMargin,m=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)v=t.x,m=r.right-t.x;else{const E=Math.min(r.right-t.x+r.left,t.x),D=this._lastBoundingBoxSize.width;m=2*E,v=t.x-E,m>D&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-D/2)}return{top:o,left:v,bottom:c,right:w,width:m,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=li(r.height),i.top=li(r.top),i.bottom=li(r.bottom),i.width=li(r.width),i.left=li(r.left),i.right=li(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=li(s)),o&&(i.maxWidth=li(o))}this._lastBoundingBoxSize=r,Vd(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Vd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const m=this._viewportRuler.getViewportScrollPosition();Vd(r,this._getExactOverlayY(e,t,m)),Vd(r,this._getExactOverlayX(e,t,m))}else r.position="static";let c="",h=this._getOffset(e,"x"),p=this._getOffset(e,"y");h&&(c+=`translateX(${h}px) `),p&&(c+=`translateY(${p}px)`),r.transform=c.trim(),o.maxHeight&&(i?r.maxHeight=li(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=li(o.maxWidth):s&&(r.maxWidth="")),Vd(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=li(s.y),i}_getExactOverlayX(t,e,r){let o,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=li(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Tb(t,r),isOriginOutsideView:sv(t,r),isOverlayClipped:Tb(e,r),isOverlayOutsideView:sv(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ll(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Vd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function oO(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(fD);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Mb(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pD="cdk-global-overlay-wrapper";class lO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pD),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:c}=r,h=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),p=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),m=this._xPosition,v=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let E="",D="",S="";h?S="flex-start":"center"===m?(S="center",w?D=v:E=v):w?"left"===m||"end"===m?(S="flex-end",E=v):("right"===m||"start"===m)&&(S="flex-start",D=v):"left"===m||"start"===m?(S="flex-start",E=v):("right"===m||"end"===m)&&(S="flex-end",D=v),t.position=this._cssPosition,t.marginLeft=h?"0":E,t.marginTop=p?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":D,e.justifyContent=S,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(pD),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let zl=(()=>{class n{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new lO}flexibleConnectedTo(e){return new kb(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Aa),a.LFG(Te),a.LFG($i),a.LFG(E0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cO=0,ul=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v,w,E){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=c,this._ngZone=h,this._document=p,this._directionality=m,this._location=v,this._outsideClickDispatcher=w,this._animationsModuleType=E}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new b0(e);return o.direction=o.direction||this._directionality.value,new S0(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+cO++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new sD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Db),a.LFG(E0),a.LFG(a._Vd),a.LFG(zl),a.LFG(C0),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(Te),a.LFG(Uc),a.LFG(pt),a.LFG(sO),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const uO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gD=new a.OlP("cdk-connected-overlay-scroll-strategy");let mD=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),_D=(()=>{class n{constructor(e,r,i,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=oi.w0.EMPTY,this._attachSubscription=oi.w0.EMPTY,this._detachSubscription=oi.w0.EMPTY,this._positionSubscription=oi.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new nv(r,i),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Jt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Jt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Jt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Jt(e)}get push(){return this._push}set push(e){this._push=Jt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=uO);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!ju(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new b0({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mD?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Eb(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ul),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(gD),a.Y36(Uc,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const dO={provide:gD,deps:[ul],useFactory:function yD(n){return()=>n.scrollStrategies.reposition()}};let T0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ul,dO],imports:[ng,ig,tv,tv]}),n})();function In(n){return new vi.y(t=>{(0,rt.Xf)(n()).subscribe(t)})}function vD(n,t){}class D0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let xD=(()=>{class n extends rv{constructor(e,r,i,s,o,c,h,p){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=c,this._overlayRef=h,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>{this._portalOutlet.hasAttached();const v=this._portalOutlet.attachDomPortal(m);return this._contentAttached(),v},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=ko(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=ko();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ko())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(fb),a.Y36(Te,8),a.Y36(D0),a.Y36(Vc),a.Y36(a.R0b),a.Y36(S0),a.Y36(Xy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,r){if(1&e&&a.Gf(w0,7),2&e){let i;a.iGM(i=a.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,r){2&e&&a.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&a.YNc(0,vD,0,0,"ng-template",0)},dependencies:[w0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Rb{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new hn.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!ju(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Fb=new a.OlP("DialogScrollStrategy"),fO=new a.OlP("DialogData"),wD=new a.OlP("DefaultDialogConfig"),gO={provide:Fb,deps:[ul],useFactory:function pO(n){return()=>n.scrollStrategies.block()}};let yU=0,Ob=(()=>{class n{constructor(e,r,i,s,o,c){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new hn.x,this._afterOpenedAtThisLevel=new hn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=In(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cl(void 0))),this._scrollStrategy=c}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,r){(r={...this._defaultOptions||new D0,...r}).id=r.id||"cdk-dialog-"+yU++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),c=new Rb(o,r),h=this._attachContainer(o,c,r);return c.containerInstance=h,this._attachDialogContent(e,c,h,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){av(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){av(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),av(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new b0({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const s=i.injector??i.viewContainerRef?.injector,o=[{provide:D0,useValue:i},{provide:Rb,useValue:r},{provide:S0,useValue:e}];let c;i.container?"function"==typeof i.container?c=i.container:(c=i.container.type,o.push(...i.container.providers(i))):c=xD;const h=new x0(c,i.viewContainerRef,a.zs3.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,r,i,s){const o=this._createInjector(s,r,i);if(e instanceof a.Rgc){let c={$implicit:s.data,dialogRef:r};s.templateContext&&(c={...c,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new nv(e,null,c,o))}else{const c=i.attachComponentPortal(new x0(e,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=c.instance}}_createInjector(e,r,i){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:fO,useValue:e.data},{provide:Rb,useValue:r}];return e.providers&&("function"==typeof e.providers?o.push(...e.providers(r,e,i)):o.push(...e.providers)),e.direction&&(!s||!s.get(Uc,null,a.XFs.Optional))&&o.push({provide:Uc,useValue:{value:e.direction,change:Qt()}}),a.zs3.create({parent:e.injector||s||this._injector,providers:o})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ul),a.LFG(a.zs3),a.LFG(wD,8),a.LFG(n,12),a.LFG(E0),a.LFG(Fb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function av(n,t){let e=n.length;for(;e--;)t(n[e])}let uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ob,gO],imports:[T0,ig,HF,ig]}),n})();function mO(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function vU(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const xU=["*"],vO=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function bU(){return!0}});let pr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!il()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(UF),a.LFG(vO,8),a.LFG(Te))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ng,ng]}),n})();function lv(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Jt(t)}}}function sg(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Nb(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Jt(t)}}}function Lb(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Dr(e):this.defaultTabIndex}}}function SD(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let cv=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SO{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uv={enterDuration:225,exitDuration:150},I0=tl({passive:!0}),Vb=["mousedown","touchstart"],dv=["mouseup","mouseleave","touchend","touchcancel"];class AU{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jl(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...uv,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=r.radius||function ID(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),c=t-i.left,h=e-i.top,p=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=c-o+"px",m.style.top=h-o+"px",m.style.height=2*o+"px",m.style.width=2*o+"px",null!=r.color&&(m.style.backgroundColor=r.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);const v=window.getComputedStyle(m),E=v.transitionDuration,D="none"===v.transitionProperty||"0s"===E||"0s, 0s"===E,S=new SO(this,m,r,D);m.style.transform="scale3d(1, 1, 1)",S.state=0,r.persistent||(this._mostRecentTransientRipple=S);let M=null;return!D&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const P=()=>this._finishRippleTransition(S),V=()=>this._destroyRipple(S);m.addEventListener("transitionend",P),m.addEventListener("transitioncancel",V),M={onTransitionEnd:P,onTransitionCancel:V}}),this._activeRipples.set(S,M),(D||!p)&&this._finishRippleTransition(S),S}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...uv,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=jl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Vb))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dv),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Qp(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!RT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,I0)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Vb.forEach(t=>{this._triggerElement.removeEventListener(t,this,I0)}),this._pointerUpEventsRegistered&&dv.forEach(t=>{this._triggerElement.removeEventListener(t,this,I0)}))}}const IU=new a.OlP("mat-ripple-global-options");let df=(()=>{class n{constructor(e,r,i,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new AU(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36($i),a.Y36(IU,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),og=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pr,pr]}),n})(),Ub=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,r){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Hb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pr]}),n})();const hv=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),kD=new a.OlP("MatOptgroup");let MD=0;class FU{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let TO=(()=>{class n{constructor(e,r,i,s){this._element=e,this._changeDetectorRef=r,this._parent=i,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+MD++,this.onSelectionChange=new a.vpe,this._stateChanges=new hn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Jt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ju(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new FU(this,e))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),DO=(()=>{class n extends TO{constructor(e,r,i,s){super(e,r,i,s)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(hv,8),a.Y36(kD,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&e&&(a.Ikx("id",r.id),a.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),a.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:xU,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(a.F$t(),a.YNc(0,mO,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,vU,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",r.multiple),a.xp6(3),a.Q6J("ngIf",r.group&&r.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[df,Sr,Ub],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function Gb(n,t,e){if(e.length){let r=t.toArray(),i=e.toArray(),s=0;for(let o=0;o<n+1;o++)r[o].group&&r[o].group===i[s]&&s++;return s}return 0}let FD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[og,Ml,pr,Hb]}),n})();class fv{}const Ud="*";function k0(n,t){return{type:7,name:n,definitions:t,options:{}}}function Hd(n,t=null){return{type:4,styles:t,timings:n}}function AO(n,t=null){return{type:3,steps:n,options:t}}function IO(n,t=null){return{type:2,steps:n,options:t}}function ts(n){return{type:6,styles:n,offset:null}}function $u(n,t,e){return{type:0,name:n,styles:t,options:e}}function Wu(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function M0(n=null){return{type:9,options:n}}function pv(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function jb(n){Promise.resolve(null).then(n)}class ff{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class PD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const s=this.players.length;0==s?jb(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function ND(n,t){}const ag={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},zb={dialogContainer:k0("dialogContainer",[$u("void, exit",ts({opacity:0,transform:"scale(0.7)"})),$u("enter",ts({transform:"none"})),Wu("* => enter",AO([Hd("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",ts({transform:"none",opacity:1})),pv("@*",M0(),{optional:!0})]),ag),Wu("* => void, * => exit",AO([Hd("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",ts({opacity:0})),pv("@*",M0(),{optional:!0})]),ag)])};class gv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=ag.params.enterAnimationDuration,this.exitAnimationDuration=ag.params.exitAnimationDuration}}let LD=(()=>{class n extends xD{constructor(e,r,i,s,o,c,h,p){super(e,r,i,s,o,c,h,p),this._animationStateChanged=new a.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(fb),a.Y36(Te,8),a.Y36(gv),a.Y36(Vc),a.Y36(a.R0b),a.Y36(S0),a.Y36(Xy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],features:[a.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),kO=(()=>{class n extends LD{constructor(e,r,i,s,o,c,h,p,m){super(e,r,i,s,o,c,h,m),this._changeDetectorRef=p,this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?this._openAnimationDone(r):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||ag.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||ag.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(fb),a.Y36(Te,8),a.Y36(gv),a.Y36(Vc),a.Y36(a.R0b),a.Y36(S0),a.Y36(a.sBO),a.Y36(Xy))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,r){1&e&&a.WFA("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&e&&(a.Ikx("id",r._config.id),a.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.d8E("@dialogContainer",r._getAnimationState()))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&a.YNc(0,ND,0,0,"ng-template",0)},dependencies:[w0],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[zb.dialogContainer]}}),n})();class Gd{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new hn.x,this._beforeClosed=new hn.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,r._animationStateChanged.pipe(Wr(i=>"opened"===i.state),x(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Wr(i=>"closed"===i.state),x(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,zs.T)(this.backdropClick(),this.keydownEvents().pipe(Wr(i=>27===i.keyCode&&!this.disableClose&&!ju(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),R0(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Wr(e=>"closing"===e.state),x(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function R0(n,t,e){return n._closeInteractionType=t,n.close(e)}const jd=new a.OlP("MatDialogData"),$b=new a.OlP("mat-dialog-default-options"),pf=new a.OlP("mat-dialog-scroll-strategy"),MO={provide:pf,deps:[ul],useFactory:function F0(n){return()=>n.scrollStrategies.block()}};let BD=0,VD=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v){this._overlay=e,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=h,this._dialogContainerType=p,this._dialogDataToken=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new hn.x,this._afterOpenedAtThisLevel=new hn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=In(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cl(void 0))),this._scrollStrategy=c,this._dialog=r.get(Ob)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){let i;(r={...this._defaultOptions||new gv,...r}).id=r.id||`${this._idPrefix}${BD++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:gv,useValue:r},{provide:D0,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,c,h)=>(i=new this._dialogRefConstructor(o,r,h),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$l=(()=>{class n extends VD{constructor(e,r,i,s,o,c,h,p){super(e,r,s,c,h,o,Gd,kO,jd,p)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ul),a.LFG(a.zs3),a.LFG(pt,8),a.LFG($b,8),a.LFG(pf),a.LFG(n,12),a.LFG(E0),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),qb=0,Zb=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=UD(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){R0(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gd,8),a.Y36(a.SBq),a.Y36($l))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&a.NdJ("click",function(s){return r._onButtonClick(s)}),2&e&&a.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),n})(),mv=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+qb++}ngOnInit(){this._dialogRef||(this._dialogRef=UD(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gd,8),a.Y36(a.SBq),a.Y36($l))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&a.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),RO=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,r){2&e&&a.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),n})();function UD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let HD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$l,MO],imports:[uf,T0,ig,pr,pr]}),n})();function GD(...n){const t=(0,Ea.jO)(n),{args:e,keys:r}=d0(n),i=new vi.y(s=>{const{length:o}=e;if(!o)return void s.complete();const c=new Array(o);let h=o,p=o;for(let m=0;m<o;m++){let v=!1;(0,rt.Xf)(e[m]).subscribe((0,Xr.x)(s,w=>{v||(v=!0,p--),c[m]=w},()=>h--,void 0,()=>{(!h||!v)&&(p||s.next(r?Pi(r,c):c),s.complete())}))}});return t?i.pipe(nb(t)):i}let Yb=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),zd=(()=>{class n extends Yb{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Wl=new a.OlP("NgValueAccessor"),FO={provide:Wl,useExisting:(0,a.Gpc)(()=>dl),multi:!0},OO=new a.OlP("CompositionEventMode");let dl=(()=>{class n extends Yb{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function BU(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(OO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[a._Bn([FO]),a.qOj]}),n})();function $d(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function zD(n){return null!=n&&"number"==typeof n.length}const $s=new a.OlP("NgValidators"),qu=new a.OlP("NgAsyncValidators"),PO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ws{static min(t){return $D(t)}static max(t){return function WD(n){return t=>{if($d(t.value)||$d(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Xb(n){return $d(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Qb(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function qD(n){return $d(n.value)||PO.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ql(n){return t=>$d(t.value)||!zD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function _v(n){return t=>zD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ZD(n){if(!n)return yv;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if($d(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return XD(t)}static composeAsync(t){return O0(t)}}function $D(n){return t=>{if($d(t.value)||$d(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function yv(n){return null}function NO(n){return null!=n}function Jb(n){return(0,a.QGY)(n)?(0,er.D)(n):n}function YD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function KD(n,t){return t.map(e=>e(n))}function vv(n){return n.map(t=>function LO(n){return!n.validate}(t)?t:e=>t.validate(e))}function XD(n){if(!n)return null;const t=n.filter(NO);return 0==t.length?null:function(e){return YD(KD(e,t))}}function e1(n){return null!=n?XD(vv(n)):null}function O0(n){if(!n)return null;const t=n.filter(NO);return 0==t.length?null:function(e){return GD(KD(e,t).map(Jb)).pipe((0,C.U)(YD))}}function P0(n){return null!=n?O0(vv(n)):null}function QD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function t1(n){return n._rawValidators}function xv(n){return n._rawAsyncValidators}function wv(n){return n?Array.isArray(n)?n:[n]:[]}function n1(n,t){return Array.isArray(n)?n.includes(t):n===t}function BO(n,t){const e=wv(t);return wv(n).forEach(i=>{n1(e,i)||e.push(i)}),e}function bv(n,t){return wv(t).filter(e=>!n1(n,e))}class VO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=e1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=P0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Oo extends VO{get formDirective(){return null}get path(){return null}}class Zl extends VO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r1{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gc=(()=>{class n extends r1{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zl,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),ka=(()=>{class n extends r1{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Oo,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const cg="VALID",ug="INVALID",dg="PENDING",mf="DISABLED";function a1(n){return(Ev(n)?n.validators:n)||null}function tA(n){return Array.isArray(n)?e1(n):n||null}function l1(n,t){return(Ev(t)?t.asyncValidators:n)||null}function nA(n){return Array.isArray(n)?P0(n):n||null}function Ev(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function rA(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")}function L0(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})}class jc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tA(this._rawValidators),this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cg}get invalid(){return this.status===ug}get pending(){return this.status==dg}get disabled(){return this.status===mf}get enabled(){return this.status!==mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nA(t)}addValidators(t){this.setValidators(BO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(BO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bv(t,this._rawAsyncValidators))}hasValidator(t){return n1(this._rawValidators,t)}hasAsyncValidator(t){return n1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=dg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mf,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cg,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cg||this.status===dg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mf:cg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=dg,this._hasOwnPendingAsyncValidator=!0;const e=Jb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?mf:this.errors?ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dg)?dg:this._anyControlsHaveStatus(ug)?ug:cg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ev(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class c1 extends jc{constructor(t,e,r){super(a1(e),l1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){L0(this,0,t),Object.keys(t).forEach(r=>{rA(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Tv(n,t){return[...t.path,n]}function ra(n,t){hg(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function u1(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yf(n,t)})}(n,t),function pg(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function fg(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yf(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function _f(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wd(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Po(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xs(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hg(n,t){const e=t1(n);null!==t.validator?n.setValidators(QD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=xv(n);null!==t.asyncValidator?n.setAsyncValidators(QD(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xs(t._rawValidators,i),xs(t._rawAsyncValidators,i)}function Po(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=t1(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=xv(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return xs(t._rawValidators,r),xs(t._rawAsyncValidators,r),e}function yf(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vf(n,t){hg(n,t)}function Dv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function d1(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Av(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===dl?e=s:function sA(n){return Object.getPrototypeOf(n.constructor)===zd}(s)?r=s:i=s}),i||r||e||null}const aA={provide:Oo,useExisting:(0,a.Gpc)(()=>yg)},_g=(()=>Promise.resolve(null))();let yg=(()=>{class n extends Oo{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new c1({},e1(e),P0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_g.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),ra(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_g.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_g.then(()=>{const r=this._findContainer(e.path),i=new c1({});vf(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_g.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){_g.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,d1(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($s,10),a.Y36(qu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([aA]),a.qOj]}),n})();function lA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cA(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const U0=class extends jc{constructor(t=null,e,r){super(a1(e),l1(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ev(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cA(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},KO={provide:Zl,useExisting:(0,a.Gpc)(()=>qd)},H0=(()=>Promise.resolve(null))();let qd=(()=>{class n extends Zl{constructor(e,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new U0,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Av(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Dv(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ra(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){H0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&(0,a.D6c)(r);H0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Tv(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Oo,9),a.Y36($s,10),a.Y36(qu,10),a.Y36(Wl,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([KO]),a.qOj,a.TTD]}),n})(),wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const hA={provide:Wl,useExisting:(0,a.Gpc)(()=>bf),multi:!0};let bf=(()=>{class n extends zd{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&a.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([hA]),a.qOj]}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Rv=new a.OlP("NgModelWithFormControlWarning"),yA={provide:Oo,useExisting:(0,a.Gpc)(()=>zc)};let zc=(()=>{class n extends Oo{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Po(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return ra(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Wd(e.control||null,e,!1),function oA(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,d1(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Wd(r||null,e),(n=>n instanceof U0)(i)&&(ra(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);vf(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function gg(n,t){return Po(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hg(this.form,this),this._oldForm&&Po(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($s,10),a.Y36(qu,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&a.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([yA]),a.qOj,a.TTD]}),n})();const xA={provide:Zl,useExisting:(0,a.Gpc)(()=>Cf)};let Cf=(()=>{class n extends Zl{constructor(e,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Av(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Dv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Tv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Oo,13),a.Y36($s,10),a.Y36(qu,10),a.Y36(Wl,10),a.Y36(Rv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([xA]),a.qOj,a.TTD]}),n})();let Ef=(()=>{class n{constructor(){this._validator=yv}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const vg={provide:$s,useExisting:(0,a.Gpc)(()=>b1),multi:!0};let b1=(()=>{class n extends Ef{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function x1(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>$D(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&a.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[a._Bn([vg]),a.qOj]}),n})(),AA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Mv]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[AA]}),n})(),IA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[AA]}),n})();class kA extends jc{constructor(t,e,r){super(a1(e),l1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){L0(this,0,t),t.forEach((r,i)=>{rA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function RA(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let j0=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return RA(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new c1(i,s)}control(e,r,i){let s={};return this.useNonNullable?(RA(r)?s=r:(s.validators=r,s.asyncValidators=i),new U0(e,{...s,nonNullable:!0})):new U0(e,r,i)}array(e,r,i){const s=e.map(o=>this._createControl(o));return new kA(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof U0||e instanceof jc?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:IA}),n})();var gr=z(5813);function S1(){return(0,Oi.e)((n,t)=>{let e,r=!1;n.subscribe((0,Xr.x)(t,i=>{const s=e;e=i,r&&t.next([s,i]),r=!0}))})}function FA(n,t,e,r,i){return(s,o)=>{let c=e,h=t,p=0;s.subscribe((0,Xr.x)(o,m=>{const v=p++;h=c?n(h,m,v):(c=!0,m),r&&o.next(h)},i&&(()=>{c&&o.next(h),o.complete()})))}}function Zd(n,t){return(0,Oi.e)(FA(n,t,arguments.length>=2,!0))}var ln,qi=z(2011),z0=(z(5881),z(3942)),qe=z(5861),uo=z(9681),fl=z(4859),pl=z(1877),G=z(2090),OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qc={},D1=D1||{},Ln=OA||self;function Bv(){}function A1(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function $0(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var I1="closure_uid_"+(1e9*Math.random()>>>0),uP=0;function dP(n,t,e){return n.call.apply(n.bind,arguments)}function hP(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function qs(n,t,e){return(qs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dP:hP).apply(null,arguments)}function Vv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zs(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),c=2;c<arguments.length;c++)o[c-2]=arguments[c];return t.prototype[i].apply(r,o)}}function Yd(){this.s=this.s,this.o=this.o}var pP={};Yd.prototype.s=!1,Yd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function cP(n){return Object.prototype.hasOwnProperty.call(n,I1)&&n[I1]||(n[I1]=++uP)}(this);delete pP[n]}},Yd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PA=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},k1=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&t.call(e,i[s],s,n)};function M1(n){return Array.prototype.concat.apply([],arguments)}function Uv(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function W0(n){return/^[\s\xa0]*$/.test(n)}var fo,R1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ho(n,t){return-1!=n.indexOf(t)}function Hv(n,t){return n<t?-1:n>t?1:0}e:{var Gv=Ln.navigator;if(Gv){var jv=Gv.userAgent;if(jv){fo=jv;break e}}fo=""}function Zu(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function LA(n){const t={};for(const e in n)t[e]=n[e];return t}var BA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sf(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let s=0;s<BA.length;s++)e=BA[s],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function VA(n){return VA[" "](n),n}VA[" "]=Bv;var zv,n,ZU=ho(fo,"Opera"),Tf=ho(fo,"Trident")||ho(fo,"MSIE"),O1=ho(fo,"Edge"),UA=O1||Tf,bn=ho(fo,"Gecko")&&!(ho(fo.toLowerCase(),"webkit")&&!ho(fo,"Edge"))&&!(ho(fo,"Trident")||ho(fo,"MSIE"))&&!ho(fo,"Edge"),gP=ho(fo.toLowerCase(),"webkit")&&!ho(fo,"Edge");function HA(){var n=Ln.document;return n?n.documentMode:void 0}e:{var Kd="",P1=(n=fo,bn?/rv:([^\);]+)(\)|;)/.exec(n):O1?/Edge\/([\d\.]+)/.exec(n):Tf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gP?/WebKit\/(\S+)/.exec(n):ZU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(P1&&(Kd=P1?P1[1]:""),Tf){var xg=HA();if(null!=xg&&xg>parseFloat(Kd)){zv=String(xg);break e}}zv=Kd}var $v={};var jA=Ln.document&&Tf&&(HA()||parseInt(zv,10))||void 0,mP=function(){if(!Ln.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ln.addEventListener("test",Bv,t),Ln.removeEventListener("test",Bv,t)}catch{}return n}();function Ys(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function wg(n,t){if(Ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(bn){e:{try{VA(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wg.Z.h.call(this)}}Ys.prototype.h=function(){this.defaultPrevented=!0},Zs(wg,Ys);var zA={2:"touch",3:"pen",4:"mouse"};wg.prototype.h=function(){wg.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),_P=0;function yP(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++_P,this.ca=this.fa=!1}function Wv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Xd(n){this.src=n,this.g={},this.h=0}function L1(n,t){var e=t.type;if(e in n.g){var s,r=n.g[e],i=PA(r,t);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function B1(n,t,e,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==r)return i}return-1}Xd.prototype.add=function(n,t,e,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=B1(n,t,r,i);return-1<o?(t=n[o],e||(t.fa=!1)):((t=new yP(t,this.src,s,!!r,i)).fa=e,n.push(t)),t};var V1="closure_lm_"+(1e6*Math.random()|0),Cg={};function U1(n,t,e,r,i){if(r&&r.once)return WA(n,t,e,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)U1(n,t[s],e,r,i);return null}return e=Zv(e),n&&n[bg]?n.N(t,e,$0(r)?!!r.capture:!!r,i):H1(n,t,e,!1,r,i)}function H1(n,t,e,r,i,s){if(!t)throw Error("Invalid event type");var o=$0(i)?!!i.capture:!!i,c=G1(n);if(c||(n[V1]=c=new Xd(n)),(e=c.add(t,e,r,o,s)).proxy)return e;if(r=function $A(){var t=vP;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)mP||(i=o),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(qA(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function WA(n,t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)WA(n,t[s],e,r,i);return null}return e=Zv(e),n&&n[bg]?n.O(t,e,$0(r)?!!r.capture:!!r,i):H1(n,t,e,!0,r,i)}function Eg(n,t,e,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Eg(n,t[s],e,r,i);else r=$0(r)?!!r.capture:!!r,e=Zv(e),n&&n[bg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=B1(s=n.g[t],e,r,i))&&(Wv(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=G1(n))&&(t=n.g[t.toString()],n=-1,t&&(n=B1(t,e,r,i)),(e=-1<n?t[n]:null)&&Df(e))}function Df(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[bg])L1(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(qA(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=G1(t))?(L1(e,n),0==e.h&&(e.src=null,t[V1]=null)):Wv(n)}}}function qA(n){return n in Cg?Cg[n]:Cg[n]="on"+n}function vP(n,t){if(n.ca)n=!0;else{t=new wg(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&Df(n),n=e.call(r,t)}return n}function G1(n){return(n=n[V1])instanceof Xd?n:null}var qv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(n){return"function"==typeof n?n:(n[qv]||(n[qv]=function(t){return n.handleEvent(t)}),n[qv])}function ws(){Yd.call(this),this.i=new Xd(this),this.P=this,this.I=null}function Ks(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Ys(t,n);else if(t instanceof Ys)t.target=t.target||n;else{var i=t;Sf(t=new Ys(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];i=q0(o,r,!0,t)&&i}if(i=q0(o=t.g=n,r,!0,t)&&i,i=q0(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=q0(o=t.g=e[s],r,!1,t)&&i}function q0(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==e){var c=o.listener,h=o.ia||o.src;o.fa&&L1(n.i,o),i=!1!==c.call(h,r)&&i}}return i&&!r.defaultPrevented}Zs(ws,Yd),ws.prototype[bg]=!0,ws.prototype.removeEventListener=function(n,t,e,r){Eg(this,n,t,e,r)},ws.prototype.M=function(){if(ws.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)Wv(e[r]);delete n.g[t],n.h--}}this.I=null},ws.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},ws.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var j1=Ln.JSON.stringify;function xP(){var n=$1;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Sg,wP=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KU,n=>n.reset());class KU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function XU(n){Ln.setTimeout(()=>{throw n},0)}function Yv(n,t){Sg||function bP(){var n=Ln.Promise.resolve(void 0);Sg=function(){n.then(Z0)}}(),z1||(Sg(),z1=!0),$1.add(n,t)}var z1=!1,$1=new class YU{constructor(){this.h=this.g=null}add(t,e){const r=wP.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function Z0(){for(var n;n=xP();){try{n.h.call(n.g)}catch(e){XU(e)}var t=wP;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}z1=!1}function Kv(n,t){ws.call(this),this.h=n||1,this.g=t||Ln,this.j=qs(this.kb,this),this.l=Date.now()}function W1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function q1(n,t,e){if("function"==typeof n)e&&(n=qs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ln.setTimeout(n,t||0)}function ZA(n){n.g=q1(()=>{n.g=null,n.i&&(n.i=!1,ZA(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Zs(Kv,ws),(ln=Kv.prototype).da=!1,ln.S=null,ln.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ks(this,"tick"),this.da&&(W1(this),this.start()))}},ln.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ln.M=function(){Kv.Z.M.call(this),W1(this),delete this.g};class CP extends Yd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ZA(this)}M(){super.M(),this.g&&(Ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tg(n){Yd.call(this),this.h=n,this.g={}}Zs(Tg,Yd);var YA=[];function KA(n,t,e,r){Array.isArray(e)||(e&&(YA[0]=e.toString()),e=YA);for(var i=0;i<e.length;i++){var s=U1(t,e[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Af(n){Zu(n.g,function(t,e){this.g.hasOwnProperty(e)&&Df(t)},n),n.g={}}function Xv(){this.g=!0}function If(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function QA(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return j1(e)}catch{return t}}(n,e)+(r?" "+r:"")})}Tg.prototype.M=function(){Tg.Z.M.call(this),Af(this)},Tg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xv.prototype.Aa=function(){this.g=!1},Xv.prototype.info=function(){};var kf={},Qv=null;function Jv(){return Qv=Qv||new ws}function Z1(n){Ys.call(this,kf.Ma,n)}function Dg(n){const t=Jv();Ks(t,new Z1(t,n))}function JA(n,t){Ys.call(this,kf.STAT_EVENT,n),this.stat=t}function No(n){const t=Jv();Ks(t,new JA(t,n))}function eI(n,t){Ys.call(this,kf.Na,n),this.size=t}function Mf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ln.setTimeout(function(){n()},t)}kf.Ma="serverreachability",Zs(Z1,Ys),kf.STAT_EVENT="statevent",Zs(JA,Ys),kf.Na="timingevent",Zs(eI,Ys);var ex={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Y1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function K1(){}function nI(){}K1.prototype.h=null;var J1,Y0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function X1(){Ys.call(this,"d")}function Q1(){Ys.call(this,"c")}function tx(){}function Ag(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Tg(this),this.P=TP,this.W=new Kv(n=UA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eC}function eC(){this.i=null,this.g="",this.h=!1}Zs(X1,Ys),Zs(Q1,Ys),Zs(tx,K1),tx.prototype.g=function(){return new XMLHttpRequest},tx.prototype.i=function(){return{}},J1=new tx;var TP=45e3,tC={},K0={};function nC(n,t,e){n.K=1,n.v=Q0(Kl(t)),n.s=e,n.U=!0,rI(n,null)}function rI(n,t){n.F=Date.now(),Ig(n),n.A=Kl(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),uI(e.h,"t",r),n.C=0,e=n.l.H,n.h=new eC,n.g=SI(n.l,e?t:null,!n.s),0<n.O&&(n.L=new CP(qs(n.Ia,n,n.g),n.O)),KA(n.V,n.g,"readystatechange",n.gb),t=n.H?LA(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Dg(1),function XA(n,t,e,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",c=s.split("&"),h=0;h<c.length;h++){var p=c[h].split("=");if(1<p.length){var m=p[0];p=p[1];var v=m.split("_");o=2<=v.length&&"type"==v[1]?o+(m+"=")+p+"&":o+(m+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function iI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function nx(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=rC(n,e),i==K0){4==t&&(n.o=4,No(14),r=!1),If(n.j,n.m,null,"[Incomplete Response]");break}if(i==tC){n.o=4,No(15),If(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}If(n.j,n.m,i,null),iC(n,i)}iI(n)&&i!=K0&&i!=tC&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,No(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),xC(t),t.L=!0,No(11))):(If(n.j,n.m,e,"[Invalid Chunked Response]"),Yu(n),X0(n))}function rC(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?K0:(e=Number(t.substring(e,r)),isNaN(e)?tC:(r+=1)+e>t.length?K0:(t=t.substr(r,e),n.C=r+e,t))}function Ig(n){n.Y=Date.now()+n.P,rx(n,n.P)}function rx(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mf(qs(n.eb,n),t)}function ix(n){n.B&&(Ln.clearTimeout(n.B),n.B=null)}function X0(n){0==n.l.G||n.I||mx(n.l,n)}function Yu(n){ix(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,W1(n.W),Af(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function iC(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||uC(e.i,n)))if(e.I=n.N,!n.J&&uC(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;o_(e),px(e)}vC(e),No(18)}}else e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=Mf(qs(e.ab,e),6e3));if(1>=fI(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Jd(e,11)}else if((n.J||e.g==n)&&o_(e),!W0(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let p=i[t];if(e.U=p[0],p=p[1],2==e.G)if("c"==p[0]){e.J=p[1],e.la=p[2];const m=p[3];null!=m&&(e.ma=m,e.h.info("VER="+e.ma));const v=p[4];null!=v&&(e.za=v,e.h.info("SVER="+e.za));const w=p[5];null!=w&&"number"==typeof w&&0<w&&(e.K=r=1.5*w,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const E=n.g;if(E){const D=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var s=r.i;!s.g&&(ho(D,"spdy")||ho(D,"quic")||ho(D,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(dC(s,s.h),s.h=null))}if(r.D){const S=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.sa=S,Qr(r.F,r.D,S))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var o=n;if((r=e).oa=CC(r,r.H?r.la:null,r.W),o.J){Rg(r.i,o);var c=o,h=r.K;h&&c.setTimeout(h),c.B&&(ix(c),Ig(c)),r.g=o}else CI(r);0<e.l.length&&Pg(e)}else"stop"!=p[0]&&"close"!=p[0]||Jd(e,7);else 3==e.G&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?Jd(e,7):fx(e):"noop"!=p[0]&&e.j&&e.j.wa(p),e.A=0)}Dg(4)}catch{}}function Qd(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(A1(n)||"string"==typeof n)k1(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(A1(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;r=function sI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(A1(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],e&&e[s],n)}}function Rf(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Rf)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function sC(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];kg(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)kg(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function kg(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ln=Ag.prototype).setTimeout=function(n){this.P=n},ln.gb=function(n){n=n.target;const t=this.L;t&&3==gl(n)?t.l():this.Ia(n)},ln.Ia=function(n){try{if(n==this.g)e:{const m=gl(this.g);var t=this.g.Da();const v=this.g.ba();if(!(3>m)&&(3!=m||UA||this.g&&(this.h.h||this.g.ga()||xI(this.g)))){this.I||4!=m||7==t||Dg(8==t||0>=v?3:2),ix(this);var e=this.g.ba();this.N=e;t:if(iI(this)){var r=xI(this.g);n="";var i=r.length,s=4==gl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yu(this),X0(this);var o="";break t}this.h.i=new Ln.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==e,function EP(n,t,e,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,m,e),this.i){if(this.$&&!this.J){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W0(c)){var p=c;break t}}p=null}if(!(e=p)){this.i=!1,this.o=3,No(12),Yu(this),X0(this);break e}If(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iC(this,e)}this.U?(nx(this,m,o),UA&&this.i&&3==m&&(KA(this.V,this.W,"tick",this.fb),this.W.start())):(If(this.j,this.m,o,null),iC(this,o)),4==m&&Yu(this),this.i&&!this.I&&(4==m?mx(this.l,this):(this.i=!1,Ig(this)))}else 400==e&&0<o.indexOf("Unknown SID")?(this.o=3,No(12)):(this.o=0,No(13)),Yu(this),X0(this)}}}catch{}},ln.fb=function(){if(this.g){var n=gl(this.g),t=this.g.ga();this.C<t.length&&(ix(this),nx(this,n,t),this.i&&4!=n&&Ig(this))}},ln.cancel=function(){this.I=!0,Yu(this)},ln.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SP(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Dg(3),No(17)),Yu(this),this.o=2,X0(this)):rx(this,this.Y-n)},(ln=Rf.prototype).R=function(){sC(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ln.T=function(){return sC(this),this.g.concat()},ln.get=function(n,t){return kg(this.h,n)?this.h[n]:t},ln.set=function(n,t){kg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ln.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],s=this.get(i);n.call(t,s,i,this)}};var oC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ff(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ff){this.g=void 0!==t?t:n.g,sx(this,n.j),this.s=n.s,ox(this,n.i),Mg(this,n.m),this.l=n.l,t=n.h;var e=new ax;e.i=t.i,t.g&&(e.g=new Rf(t.g),e.h=t.h),lC(this,e),this.o=n.o}else n&&(e=String(n).match(oC))?(this.g=!!t,sx(this,e[1]||"",!0),this.s=J0(e[2]||""),ox(this,e[3]||"",!0),Mg(this,e[4]),this.l=J0(e[5]||"",!0),lC(this,e[6]||"",!0),this.o=J0(e[7]||"")):(this.g=!!t,this.h=new ax(null,this.g))}function Kl(n){return new Ff(n)}function sx(n,t,e){n.j=e?J0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ox(n,t,e){n.i=e?J0(t,!0):t}function Mg(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function lC(n,t,e){t instanceof ax?(n.h=t,function MP(n,t){t&&!n.j&&(Of(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(lI(this,r),uI(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=e_(t,IP)),n.h=new ax(t,n.g))}function Qr(n,t,e){n.h.set(t,e)}function Q0(n){return Qr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function J0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function e_(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,AP),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ff.prototype.toString=function(){var n=[],t=this.j;t&&n.push(e_(t,cC,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(e_(t,cC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(e_(e,"/"==e.charAt(0)?aI:QU,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",e_(e,kP)),n.join("")};var cC=/[#\/\?@]/g,QU=/[#\?:]/g,aI=/[#\?]/g,IP=/[#\?@]/g,kP=/#/g;function ax(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Of(n){n.g||(n.g=new Rf,n.h=0,n.i&&function aC(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var s=n[e].substring(0,r);i=n[e].substring(r+1)}else s=n[e];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function lI(n,t){Of(n),t=Pf(n,t),kg(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,kg((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&sC(n)))}function cI(n,t){return Of(n),t=Pf(n,t),kg(n.g.h,t)}function uI(n,t,e){lI(n,t),0<e.length&&(n.i=null,n.g.set(Pf(n,t),Uv(e)),n.h+=e.length)}function Pf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function dI(n){this.l=n||FP,n=Ln.PerformanceNavigationTiming?0<(n=Ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ln.g&&Ln.g.Ea&&Ln.g.Ea()&&Ln.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ln=ax.prototype).add=function(n,t){Of(this),this.i=null,n=Pf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ln.forEach=function(n,t){Of(this),this.g.forEach(function(e,r){k1(e,function(i){n.call(t,i,r,this)},this)},this)},ln.T=function(){Of(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],s=0;s<i.length;s++)e.push(t[r]);return e},ln.R=function(n){Of(this);var t=[];if("string"==typeof n)cI(this,n)&&(t=M1(t,this.g.get(Pf(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=M1(t,n[e])}return t},ln.set=function(n,t){return Of(this),this.i=null,cI(this,n=Pf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ln.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ln.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var FP=10;function hI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function fI(n){return n.h?1:n.g?n.g.size:0}function uC(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function dC(n,t){n.g?n.g.add(t):n.h=t}function Rg(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function hC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Uv(n.i)}function lx(){}function pI(){this.g=new lx}function gI(n,t,e){const r=e||"";try{Qd(n,function(i,s){let o=i;$0(i)&&(o=j1(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function t_(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function n_(n){this.l=n.$b||null,this.j=n.ib||!1}function fC(n,t){ws.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=pC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dI.prototype.cancel=function(){if(this.i=hC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},lx.prototype.stringify=function(n){return Ln.JSON.stringify(n,void 0)},lx.prototype.parse=function(n){return Ln.JSON.parse(n,void 0)},Zs(n_,K1),n_.prototype.g=function(){return new fC(this.l,this.j)},n_.prototype.i=function(n){return function(){return n}}({}),Zs(fC,ws);var pC=0;function gC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function r_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,i_(n)}function i_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ln=fC.prototype).open=function(n,t){if(this.readyState!=pC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,i_(this)},ln.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ln).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ln.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,r_(this)),this.readyState=pC},ln.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,i_(this)),this.g&&(this.readyState=3,i_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ln.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ln.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?r_(this):i_(this),3==this.readyState&&gC(this)}},ln.Ua=function(n){this.g&&(this.response=this.responseText=n,r_(this))},ln.Ta=function(n){this.g&&(this.response=n,r_(this))},ln.ha=function(){this.g&&r_(this)},ln.setRequestHeader=function(n,t){this.v.append(n,t)},ln.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ln.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(fC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var OP=Ln.JSON.parse;function ci(n){ws.call(this),this.headers=new Rf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_I,this.K=this.L=!1}Zs(ci,ws);var _I="",mC=/^https?$/i,Zc=["POST","PUT"];function cx(n){return"content-type"==n.toLowerCase()}function Fg(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,yI(n),ux(n)}function yI(n){n.D||(n.D=!0,Ks(n,"complete"),Ks(n,"error"))}function vI(n){if(n.h&&typeof D1<"u"&&(!n.C[1]||4!=gl(n)||2!=n.ba()))if(n.v&&4==gl(n))q1(n.Fa,0,n);else if(Ks(n,"readystatechange"),4==gl(n)){n.h=!1;try{const c=n.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===c){var i=String(n.H).match(oC)[1]||null;if(!i&&Ln.self&&Ln.self.location){var s=Ln.self.location.protocol;i=s.substr(0,s.length-1)}r=!mC.test(i?i.toLowerCase():"")}e=r}if(e)Ks(n,"complete"),Ks(n,"success");else{n.m=6;try{var o=2<gl(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.ba()+"]",yI(n)}}finally{ux(n)}}}function ux(n,t){if(n.g){s_(n);const e=n.g,r=n.C[0]?Bv:null;n.g=null,n.C=null,t||Ks(n,"ready");try{e.onreadystatechange=r}catch{}}}function s_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ln.clearTimeout(n.A),n.A=null)}function gl(n){return n.g?n.g.readyState:0}function xI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _I:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dx(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function NP(n){let t="";return Zu(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qr(n,t,e))}function Og(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function hx(n){this.za=0,this.l=[],this.h=new Xv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Og("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Og("baseRetryDelayMs",5e3,n),this.$a=Og("retryDelaySeedMs",1e4,n),this.Ya=Og("forwardChannelMaxRetries",2,n),this.ra=Og("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new dI(n&&n.concurrentRequestLimit),this.Ca=new pI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function fx(n){if(wI(n),3==n.G){var t=n.V++,e=Kl(n.F);Qr(e,"SID",n.J),Qr(e,"RID",t),Qr(e,"TYPE","terminate"),Nf(n,e),(t=new Ag(n,n.h,t,void 0)).K=2,t.v=Q0(Kl(e)),e=!1,Ln.navigator&&Ln.navigator.sendBeacon&&(e=Ln.navigator.sendBeacon(t.v.toString(),"")),!e&&Ln.Image&&((new Image).src=t.v,e=!0),e||(t.g=SI(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ig(t)}bC(n)}function px(n){n.g&&(xC(n),n.g.cancel(),n.g=null)}function wI(n){px(n),n.u&&(Ln.clearTimeout(n.u),n.u=null),o_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ln.clearTimeout(n.m),n.m=null)}function bI(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Pg(n)}function Pg(n){hI(n.i)||n.m||(n.m=!0,Yv(n.Ha,n),n.C=0)}function yC(n,t){var e;e=t?t.m:n.V++;const r=Kl(n.F);Qr(r,"SID",n.J),Qr(r,"RID",e),Qr(r,"AID",n.U),Nf(n,r),n.o&&n.s&&dx(r,n.o,n.s),e=new Ag(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=gx(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dC(n.i,e),nC(e,r,t)}function Nf(n,t){n.j&&Qd({},function(e,r){Qr(t,r,e)})}function gx(n,t,e){e=Math.min(n.l.length,e);var r=n.j?qs(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let c=!0;for(let h=0;h<e;h++){let p=i[h].h;const m=i[h].g;if(p-=s,0>p)s=Math.max(0,i[h].h-100),c=!1;else try{gI(m,o,"req"+p+"_")}catch{r&&r(m)}}if(c){r=o.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function CI(n){n.g||n.u||(n.Y=1,Yv(n.Ga,n),n.A=0)}function vC(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mf(qs(n.Ga,n),wC(n,n.A)),n.A++,0))}function xC(n){null!=n.B&&(Ln.clearTimeout(n.B),n.B=null)}function EI(n){n.g=new Ag(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Kl(n.oa);Qr(t,"RID","rpc"),Qr(t,"SID",n.J),Qr(t,"CI",n.N?"0":"1"),Qr(t,"AID",n.U),Nf(n,t),Qr(t,"TYPE","xmlhttp"),n.o&&n.s&&dx(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Q0(Kl(t)),e.s=null,e.U=!0,rI(e,n)}function o_(n){null!=n.v&&(Ln.clearTimeout(n.v),n.v=null)}function mx(n,t){var e=null;if(n.g==t){o_(n),xC(n),n.g=null;var r=2}else{if(!uC(n.i,t))return;e=t.D,Rg(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;Ks(r=Jv(),new eI(r,e,t,i)),Pg(n)}else CI(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function _C(n,t){return!(fI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mf(qs(n.Ha,n,t),wC(n,n.C)),n.C++,0)))}(n,t)||2==r&&vC(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:Jd(n,5);break;case 4:Jd(n,10);break;case 3:Jd(n,6);break;default:Jd(n,2)}}function wC(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Jd(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=qs(n.jb,n);e||(e=new Ff("//www.google.com/images/cleardot.gif"),Ln.location&&"http"==Ln.location.protocol||sx(e,"https"),Q0(e)),function mI(n,t){const e=new Xv;if(Ln.Image){const r=new Image;r.onload=Vv(t_,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Vv(t_,e,r,"TestLoadImage: error",!1,t),r.onabort=Vv(t_,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vv(t_,e,r,"TestLoadImage: timeout",!1,t),Ln.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else No(2);n.G=0,n.j&&n.j.va(t),bC(n),wI(n)}function bC(n){n.G=0,n.I=-1,n.j&&((0!=hC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Uv(n.l),n.l.length=0),n.j.ua())}function CC(n,t,e){let r=function oI(n){return n instanceof Ff?Kl(n):new Ff(n,void 0)}(e);if(""!=r.i)t&&ox(r,t+"."+r.i),Mg(r,r.m);else{const i=Ln.location;r=function DP(n,t,e,r){var i=new Ff(null,void 0);return n&&sx(i,n),t&&ox(i,t),e&&Mg(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&Zu(n.aa,function(i,s){Qr(r,s,i)}),e=n.sa,(t=n.D)&&e&&Qr(r,t,e),Qr(r,"VER",n.ma),Nf(n,r),r}function SI(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ci(e&&n.Ba&&!n.qa?new n_({ib:!0}):n.qa)).L=n.H,t}function EC(){}function a_(){if(Tf&&!(10<=Number(jA)))throw Error("Environmental error: no available transport.")}function Ma(n,t){ws.call(this),this.g=new hx(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!W0(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!W0(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ns(this)}function SC(n){X1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function TI(){Q1.call(this),this.status=1}function ns(n){this.g=n}(ln=ci.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():J1.g(),this.C=function tI(n){return n.h||(n.h=n.i())}(this.u?this.u:J1),this.g.onreadystatechange=qs(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Fg(this,s)}n=e||"";const i=new Rf(this.headers);r&&Qd(r,function(s,o){i.set(o,s)}),r=function NA(n){e:{var t=cx;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=Ln.FormData&&n instanceof Ln.FormData,!(0<=PA(Zc,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{s_(this),0<this.B&&((this.K=function PP(n){return Tf&&function Ni(){return function F1(n){var t=$v;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=R1(String(zv)).split("."),e=R1("9").split("."),r=Math.max(t.length,e.length);for(let o=0;0==n&&o<r;o++){var i=t[o]||"",s=e[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=Hv(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Hv(0==i[2].length,0==s[2].length)||Hv(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qs(this.pa,this)):this.A=q1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Fg(this,s)}},ln.pa=function(){typeof D1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ks(this,"timeout"),this.abort(8))},ln.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ks(this,"complete"),Ks(this,"abort"),ux(this))},ln.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ux(this,!0)),ci.Z.M.call(this)},ln.Fa=function(){this.s||(this.F||this.v||this.l?vI(this):this.cb())},ln.cb=function(){vI(this)},ln.ba=function(){try{return 2<gl(this)?this.g.status:-1}catch{return-1}},ln.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},ln.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),OP(t)}},ln.Da=function(){return this.m},ln.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ln=hx.prototype).ma=8,ln.G=1,ln.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},ln.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ag(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=LA(s),Sf(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=gx(this,i,t),Qr(e=Kl(this.F),"RID",n),Qr(e,"CVER",22),this.D&&Qr(e,"X-HTTP-Session-Id",this.D),Nf(this,e),this.o&&s&&dx(e,this.o,s),dC(this.i,i),this.Ra&&Qr(e,"TYPE","init"),this.ja?(Qr(e,"$req",t),Qr(e,"SID","null"),i.$=!0,nC(i,e,null)):nC(i,e,t),this.G=2}}else 3==this.G&&(n?yC(this,n):0==this.l.length||hI(this.i)||yC(this))},ln.Ga=function(){if(this.u=null,EI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mf(qs(this.bb,this),n)}},ln.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,No(10),px(this),EI(this))},ln.ab=function(){null!=this.v&&(this.v=null,px(this),vC(this),No(19))},ln.jb=function(n){n?(this.h.info("Successfully pinged google.com"),No(2)):(this.h.info("Failed to ping google.com"),No(1))},(ln=EC.prototype).xa=function(){},ln.wa=function(){},ln.va=function(){},ln.ua=function(){},ln.Oa=function(){},a_.prototype.g=function(n,t){return new Ma(n,t)},Zs(Ma,ws),Ma.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Yv(qs(n.hb,n,t))),No(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=CC(n,null,n.W),Pg(n)},Ma.prototype.close=function(){fx(this.g)},Ma.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,bI(this.g,t)}else this.v?((t={}).__data__=j1(n),bI(this.g,t)):bI(this.g,n)},Ma.prototype.M=function(){this.g.j=null,delete this.j,fx(this.g),delete this.g,Ma.Z.M.call(this)},Zs(SC,X1),Zs(TI,Q1),Zs(ns,EC),ns.prototype.xa=function(){Ks(this.g,"a")},ns.prototype.wa=function(n){Ks(this.g,new SC(n))},ns.prototype.va=function(n){Ks(this.g,new TI(n))},ns.prototype.ua=function(){Ks(this.g,"b")},a_.prototype.createWebChannel=a_.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,ex.NO_ERROR=0,ex.TIMEOUT=8,ex.HTTP_ERROR=6,Y1.COMPLETE="complete",nI.EventType=Y0,Y0.OPEN="a",Y0.CLOSE="b",Y0.ERROR="c",Y0.MESSAGE="d",ws.prototype.listen=ws.prototype.N,ci.prototype.listenOnce=ci.prototype.O,ci.prototype.getLastError=ci.prototype.La,ci.prototype.getLastErrorCode=ci.prototype.Da,ci.prototype.getStatus=ci.prototype.ba,ci.prototype.getResponseJson=ci.prototype.Qa,ci.prototype.getResponseText=ci.prototype.ga,ci.prototype.send=ci.prototype.ea;var Ng=qc.createWebChannelTransport=function(){return new a_},LP=qc.getStatEventTarget=function(){return Jv()},TC=qc.ErrorCode=ex,JU=qc.EventType=Y1,e6=qc.Event=kf,DC=qc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},DI=qc.FetchXmlHttpFactory=n_,eh=qc.WebChannel=nI,BP=qc.XhrIo=ci;const _x="@firebase/firestore";class Rs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");let Lf="9.9.2";const th=new pl.Yd("@firebase/firestore");function AC(){return th.logLevel}function St(n,...t){if(th.logLevel<=pl.in.DEBUG){const e=t.map(yx);th.debug(`Firestore (${Lf}): ${n}`,...e)}}function xi(n,...t){if(th.logLevel<=pl.in.ERROR){const e=t.map(yx);th.error(`Firestore (${Lf}): ${n}`,...e)}}function nh(n,...t){if(th.logLevel<=pl.in.WARN){const e=t.map(yx);th.warn(`Firestore (${Lf}): ${n}`,...e)}}function yx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function an(n="Unexpected state"){const t=`FIRESTORE (${Lf}) INTERNAL ASSERTION FAILED: `+n;throw xi(t),new Error(t)}function En(n,t){n||an()}function Zt(n,t){return n}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends G.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class AI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Rs.UNAUTHENTICATED))}shutdown(){}}class IC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class n6{constructor(t){this.t=t,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const s=p=>this.i!==i?(i=this.i,e(p)):Promise.resolve();let o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=o;t.enqueueRetryable((0,qe.Z)(function*(){yield p.promise,yield s(r.currentUser)}))},h=p=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(En("string"==typeof r.accessToken),new AI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return En(null===t||"string"==typeof t),new Rs(t)}}class VP{constructor(t,e,r){this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class r6{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new VP(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UP{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const r=s=>{null!=s.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,St("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(En("string"==typeof e.token),this.p=e.token,new kI(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function MI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class kC{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=MI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%t.length))}return r}}function Bn(n,t){return n<t?-1:n>t?1:0}function Bf(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function MC(n){return n+"\0"}class ui{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ui.fromMillis(Date.now())}static fromDate(t){return ui.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ui(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bn(this.nanoseconds,t.nanoseconds):Bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Sn(t)}static min(){return new Sn(new ui(0,0))}static max(){return new Sn(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bg{constructor(t,e,r){void 0===e?e=0:e>t.length&&an(),void 0===r?r=t.length-e:r>t.length-e&&an(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Bg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bg?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=t.get(i),o=e.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class yr extends Bg{construct(t,e,r){return new yr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new xt($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new yr(e)}static emptyPath(){return new yr([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bi extends Bg{construct(t,e,r){return new bi(t,e,r)}static isValidIdentifier(t){return RI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bi(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(0===r.length)throw new xt($e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;i<t.length;){const c=t[i];if("\\"===c){if(i+1===t.length)throw new xt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[i+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new xt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=h,i+=2}else"`"===c?(o=!o,i++):"."!==c||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new xt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new bi(e)}static emptyPath(){return new bi([])}}class qt{constructor(t){this.path=t}static fromPath(t){return new qt(yr.fromString(t))}static fromName(t){return new qt(yr.fromString(t).popFirst(5))}static empty(){return new qt(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===yr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return yr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new yr(t.slice()))}}class l_{constructor(t,e,r,i){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=i}}function RC(n){return n.fields.find(t=>2===t.kind)}function Vf(n){return n.fields.filter(t=>2!==t.kind)}l_.UNKNOWN_ID=-1;class c_{constructor(t,e){this.fieldPath=t,this.kind=e}}class vx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new vx(0,ml.min())}}function HP(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Sn.fromTimestamp(1e9===r?new ui(e+1,0):new ui(e,r));return new ml(i,qt.empty(),t)}function GP(n){return new ml(n.readTime,n.key,-1)}class ml{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ml(Sn.min(),qt.empty(),-1)}static max(){return new ml(Sn.max(),qt.empty(),-1)}}function FI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qt.comparator(n.documentKey,t.documentKey),0!==e?e:Bn(n.largestBatchId,t.largestBatchId))}const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Xl(n){return OI.apply(this,arguments)}function OI(){return OI=(0,qe.Z)(function*(n){if(n.code!==$e.FAILED_PRECONDITION||n.message!==jP)throw n;St("LocalStore","Unexpectedly lost primary lease")}),OI.apply(this,arguments)}class Pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&an(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Pe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Pe?e:Pe.resolve(e)}catch(e){return Pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Pe.reject(e)}static resolve(t){return new Pe((e,r)=>{e(t)})}static reject(t){return new Pe((e,r)=>{r(t)})}static waitFor(t){return new Pe((e,r)=>{let i=0,s=0,o=!1;t.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&e()},h=>r(h))}),o=!0,s===i&&e()})}static or(t){let e=Pe.resolve(!1);for(const r of t)e=e.next(i=>i?Pe.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new Pe((r,i)=>{const s=t.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const p=h;e(t[p]).next(m=>{o[p]=m,++c,c===s&&r(o)},m=>i(m))}})}static doWhile(t,e){return new Pe((r,i)=>{const s=()=>{!0===t()?e().next(()=>{s()},i):r()};s()})}}class Uf{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new wi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new xx(t,e.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=LI(r.target.error);this.T.reject(new xx(t,i))}}static open(t,e,r,i){try{return new Uf(e,t.transaction(i,r))}catch(s){throw new xx(e,s)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(St("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new NI(e)}}class _l{constructor(t,e,r){this.name=t,this.version=e,this.P=r,12.2===_l.v((0,G.z$)())&&xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return St("SimpleDb","Removing database:",t),Hf(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,G.hl)())return!1;if(_l.S())return!0;const t=(0,G.z$)(),e=_l.v(t),r=0<e&&e<10,i=_l.D(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(t){var e=this;return(0,qe.Z)(function*(){return e.db||(St("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new xx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const c=o.target.error;i("VersionError"===c.name?new xt($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new xt($e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new xx(t,c))},s.onupgradeneeded=o=>{St("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.P.M(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{St("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=r=>e.O(r)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var s=this;return(0,qe.Z)(function*(){const o="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.k(t);const h=Uf.open(s.db,t,o?"readonly":"readwrite",r),p=i(h).next(m=>(h.R(),m)).catch(m=>(h.abort(m),Pe.reject(m))).toPromise();return p.catch(()=>{}),yield h.A,p}catch(h){const p=h,m="FirebaseError"!==p.name&&c<3;if(St("SimpleDb","Transaction failed with error:",p.message,"Retrying:",m),s.close(),!m)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PI{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return Hf(this.$.delete())}}class xx extends xt{constructor(t,e){super($e.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Yc(n){return"IndexedDbTransactionError"===n.name}class NI{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(St("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Hf(r)}add(t){return St("SimpleDb","ADD",this.store.name,t,t),Hf(this.store.add(t))}get(t){return Hf(this.store.get(t)).next(e=>(void 0===e&&(e=null),St("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return St("SimpleDb","DELETE",this.store.name,t),Hf(this.store.delete(t))}count(){return St("SimpleDb","COUNT",this.store.name),Hf(this.store.count())}K(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,c)=>{s.push(c)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Pe((s,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}}j(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new Pe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}W(t,e){St("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.H=!1;const i=this.cursor(r);return this.G(i,(s,o,c)=>c.delete())}J(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.G(i,e)}Y(t){const e=this.cursor({});return new Pe((r,i)=>{e.onerror=s=>{const o=LI(s.target.error);i(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(c=>{c?o.continue():r()}):r()}})}G(t,e){const r=[];return new Pe((i,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void i();const h=new PI(c),p=e(c.primaryKey,c.value,h);if(p instanceof Pe){const m=p.catch(v=>(h.done(),Pe.reject(v)));r.push(m)}h.isDone?i():null===h.U?c.continue():c.continue(h.U)}}).next(()=>Pe.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.H?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Hf(n){return new Pe((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=LI(r.target.error);e(i)}})}let FC=!1;function LI(n){const t=_l.v((0,G.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FC||(FC=!0,setTimeout(()=>{throw r},0)),r}}return n}class $P{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;St("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,qe.Z)(function*(){e.task=null;try{St("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(r){Yc(r)?St("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Xl(r)}yield e.Z(1)}))}}class WP{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,qe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.et(r,t))})()}et(t,e){const r=new Set;let i=e,s=!0;return Pe.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!r.has(o))return St("IndexBackiller",`Processing collection: ${o}`),this.nt(t,o,i).next(c=>{i-=c,r.add(o)});s=!1})).next(()=>e-i)}nt(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(i=>this.localStore.localDocuments.getNextDocuments(t,e,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.st(i,s)).next(c=>(St("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>o.size)}))}st(t,e){let r=t;return e.changes.forEach((i,s)=>{const o=GP(s);FI(o,r)>0&&(r=o)}),new ml(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ia{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.it(r),this.rt=r=>e.writeSequenceNumber(r))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function u_(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function qP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ia.ot=-1;class Zi{constructor(t,e){this.comparator=t,this.root=e||Xs.EMPTY}insert(t,e){return new Zi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(t){return new Zi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new OC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new OC(this.root,t,this.comparator,!1)}getReverseIterator(){return new OC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new OC(this.root,t,this.comparator,!0)}}class OC{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xs{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??Xs.RED,this.left=i??Xs.EMPTY,this.right=s??Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new Xs(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Xs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const t=this.left.check();if(t!==this.right.check())throw an();return t+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(n,t,e,r,i){return this}insert(n,t,e){return new Xs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(t){this.comparator=t,this.data=new Zi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new BI(this.data.getIterator())}getIteratorFrom(t){return new BI(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pr(this.comparator);return e.data=t,e}}class BI{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function d_(n){return n.hasNext()?n.getNext():void 0}class Ra{constructor(t){this.fields=t,t.sort(bi.comparator)}static empty(){return new Ra([])}unionWith(t){let e=new Pr(bi.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ra(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bf(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class rs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new rs(e)}static fromUint8Array(t){const e=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new rs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const l6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(En(!!n),"string"==typeof n){let t=0;const e=l6.exec(n);if(En(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Li(n.seconds),nanos:Li(n.nanos)}}function Li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ku(n){return"string"==typeof n?rs.fromBase64String(n):rs.fromUint8Array(n)}function PC(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function sa(n){const t=n.mapValue.fields.__previous_value__;return PC(t)?sa(t):t}function h_(n){const t=Fs(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}class NC{constructor(t,e,r,i,s,o,c,h){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.useFetchStreams=h}}class Xu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Xu&&t.projectId===this.projectId&&t.database===this.database}}function f_(n){return null==n}function jf(n){return 0===n&&1/n==-1/0}function LC(n){return"number"==typeof n&&Number.isInteger(n)&&!jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wx={nullValue:"NULL_VALUE"};function rh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?PC(n)?4:GI(n)?9007199254740991:10:an()}function Ql(n,t){if(n===t)return!0;const e=rh(n);if(e!==rh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return h_(n).isEqual(h_(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fs(r.timestampValue),o=Fs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,Ku(n.bytesValue).isEqual(Ku(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return Li(r.geoPointValue.latitude)===Li(i.geoPointValue.latitude)&&Li(r.geoPointValue.longitude)===Li(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Li(r.integerValue)===Li(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Li(r.doubleValue),o=Li(i.doubleValue);return s===o?jf(s)===jf(o):isNaN(s)&&isNaN(o)}return!1}(n,t);case 9:return Bf(n.arrayValue.values||[],t.arrayValue.values||[],Ql);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(u_(s)!==u_(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===o[c]||!Ql(s[c],o[c])))return!1;return!0}(n,t);default:return an()}var i}function p_(n,t){return void 0!==(n.values||[]).find(e=>Ql(e,t))}function Ju(n,t){if(n===t)return 0;const e=rh(n),r=rh(t);if(e!==r)return Bn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bn(n.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Li(i.integerValue||i.doubleValue),c=Li(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(n,t);case 3:return UI(n.timestampValue,t.timestampValue);case 4:return UI(h_(n),h_(t));case 5:return Bn(n.stringValue,t.stringValue);case 6:return function(i,s){const o=Ku(i),c=Ku(s);return o.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),c=s.split("/");for(let h=0;h<o.length&&h<c.length;h++){const p=Bn(o[h],c[h]);if(0!==p)return p}return Bn(o.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Bn(Li(i.latitude),Li(s.latitude));return 0!==o?o:Bn(Li(i.longitude),Li(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],c=s.values||[];for(let h=0;h<o.length&&h<c.length;++h){const p=Ju(o[h],c[h]);if(p)return p}return Bn(o.length,c.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Qu.mapValue&&s===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(s===Qu.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const v=Bn(c[m],p[m]);if(0!==v)return v;const w=Ju(o[c[m]],h[p[m]]);if(0!==w)return w}return Bn(c.length,p.length)}(n.mapValue,t.mapValue);default:throw an()}}function UI(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Bn(n,t);const e=Fs(n),r=Fs(t),i=Bn(e.seconds,r.seconds);return 0!==i?i:Bn(e.nanos,r.nanos)}function ih(n){return Kc(n)}function Kc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Fs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ku(n.bytesValue).toBase64():"referenceValue"in n?qt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Kc(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${Kc(r.fields[c])}`;return s+"}"}(n.mapValue):an();var t}function sh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function g_(n){return!!n&&"integerValue"in n}function Fa(n){return!!n&&"arrayValue"in n}function HI(n){return!!n&&"nullValue"in n}function ZP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bx(n){return!!n&&"mapValue"in n}function m_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Gf(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=m_(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=m_(n.arrayValue.values[e]);return t}return Object.assign({},n)}function GI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YP(n){return"nullValue"in n?wx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sh(Xu.empty(),qt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:an()}function jI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sh(Xu.empty(),qt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qu:an()}function KP(n,t){const e=Ju(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function BC(n,t){const e=Ju(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Qs{constructor(t){this.value=t}static empty(){return new Qs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!bx(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=m_(e)}setAll(t){let e=bi.emptyPath(),r={},i=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,r,i),r={},i=[],e=c.popLast()}o?r[c.lastSegment()]=m_(o):i.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());bx(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ql(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];bx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Gf(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Qs(m_(this.value))}}function VC(n){const t=[];return Gf(n.fields,(e,r)=>{const i=new bi([e]);if(bx(r)){const s=VC(r.mapValue).fields;if(0===s.length)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Ra(t)}class Jr{constructor(t,e,r,i,s,o){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Jr(t,0,Sn.min(),Sn.min(),Qs.empty(),0)}static newFoundDocument(t,e,r){return new Jr(t,1,e,Sn.min(),r,0)}static newNoDocument(t,e){return new Jr(t,2,e,Sn.min(),Qs.empty(),0)}static newUnknownDocument(t,e){return new Jr(t,3,e,Sn.min(),Qs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Jr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UC{constructor(t,e=null,r=[],i=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ut=null}}function HC(n,t=null,e=[],r=[],i=null,s=null,o=null){return new UC(n,t,e,r,i,s,o)}function oh(n){const t=Zt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ih(i.value);var i}).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),f_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>ih(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>ih(r)).join(",")),t.ut=e}return t.ut}function Vg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!d6(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Ql(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!t2(n.startAt,t.startAt)&&t2(n.endAt,t.endAt)}function __(n){return qt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zf(n,t){return n.filters.filter(e=>e instanceof Js&&e.field.isEqual(t))}function y_(n,t,e){let r=wx,i=!0;for(const s of zf(n,t)){let o=wx,c=!0;switch(s.op){case"<":case"<=":o=YP(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,c=!1;break;case"!=":case"not-in":o=wx}KP({value:r,inclusive:i},{value:o,inclusive:c})<0&&(r=o,i=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];KP({value:r,inclusive:i},{value:o,inclusive:e.inclusive})<0&&(r=o,i=e.inclusive);break}return{value:r,inclusive:i}}function GC(n,t,e){let r=Qu,i=!0;for(const s of zf(n,t)){let o=Qu,c=!0;switch(s.op){case">=":case">":o=jI(s.value),c=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,c=!1;break;case"!=":case"not-in":o=Qu}BC({value:r,inclusive:i},{value:o,inclusive:c})>0&&(r=o,i=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];BC({value:r,inclusive:i},{value:o,inclusive:e.inclusive})>0&&(r=o,i=e.inclusive);break}return{value:r,inclusive:i}}class Js extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,r):new zI(t,e,r):"array-contains"===e?new c6(t,r):"in"===e?new u6(t,r):"not-in"===e?new qI(t,r):"array-contains-any"===e?new JP(t,r):new Js(t,e,r)}static ct(t,e,r){return"in"===e?new $I(t,r):new QP(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Ju(e,this.value)):null!==e&&rh(this.value)===rh(e)&&this.at(Ju(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return an()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zI extends Js{constructor(t,e,r){super(t,e,r),this.key=qt.fromName(r.referenceValue)}matches(t){const e=qt.comparator(t.key,this.key);return this.at(e)}}class $I extends Js{constructor(t,e){super(t,"in",e),this.keys=WI(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class QP extends Js{constructor(t,e){super(t,"not-in",e),this.keys=WI(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WI(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>qt.fromName(r.referenceValue))}class c6 extends Js{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fa(e)&&p_(e.arrayValue,this.value)}}class u6 extends Js{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&p_(this.value.arrayValue,e)}}class qI extends Js{constructor(t,e){super(t,"not-in",e)}matches(t){if(p_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!p_(this.value.arrayValue,e)}}class JP extends Js{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fa(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>p_(this.value.arrayValue,r))}}class ah{constructor(t,e){this.position=t,this.inclusive=e}}class Ug{constructor(t,e="asc"){this.field=t,this.dir=e}}function d6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function e2(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],o=n.position[i];if(r=s.field.isKeyField()?qt.comparator(qt.fromName(o.referenceValue),e.key):Ju(o,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function t2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ql(n.position[e],t.position[e]))return!1;return!0}class lh{constructor(t,e=null,r=[],i=[],s=null,o="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.lt=null,this.ft=null}}function n2(n,t,e,r,i,s,o,c){return new lh(n,t,e,r,i,s,o,c)}function Hg(n){return new lh(n)}function v_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zC(n){for(const t of n.filters)if(t.ht())return t.field;return null}function Cx(n){return null!==n.collectionGroup}function yl(n){const t=Zt(n);if(null===t.lt){t.lt=[];const e=zC(t),r=jC(t);if(null!==e&&null===r)e.isKeyField()||t.lt.push(new Ug(e)),t.lt.push(new Ug(bi.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Ug(bi.keyField(),s))}}}return t.lt}function Lo(n){const t=Zt(n);if(!t.ft)if("F"===t.limitType)t.ft=HC(t.path,t.collectionGroup,yl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of yl(t))e.push(new Ug(s.field,"desc"===s.dir?"asc":"desc"));const r=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;t.ft=HC(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.ft}function Gg(n,t,e){return new lh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function $f(n,t){return Vg(Lo(n),Lo(t))&&n.limitType===t.limitType}function ZI(n){return`${oh(Lo(n))}|lt:${n.limitType}`}function x_(n){return`Query(target=${function XP(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${ih(r.value)}`;var r}).join(", ")}]`),f_(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>ih(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>ih(e)).join(",")),`Target(${t})`}(Lo(n))}; limitType=${n.limitType})`}function w_(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):qt.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(i,s,o){const c=e2(i,s,o);return i.inclusive?c<=0:c<0}(e.startAt,yl(e),r)||e.endAt&&!function(i,s,o){const c=e2(i,s,o);return i.inclusive?c>=0:c>0}(e.endAt,yl(e),r)));var e,r}function b_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function r2(n){return(t,e)=>{let r=!1;for(const i of yl(n)){const s=h6(i,t,e);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function h6(n,t,e){const r=n.field.isKeyField()?qt.comparator(t.key,e.key):function(i,s,o){const c=s.data.field(i),h=o.data.field(i);return null!==c&&null!==h?Ju(c,h):an()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return an()}}function s2(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function o2(n){return{integerValue:""+n}}function $C(n,t){return LC(t)?o2(t):s2(n,t)}class Ex{constructor(){this._=void 0}}function a2(n,t,e){return n instanceof Wf?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(e,t):n instanceof ch?WC(n,t):n instanceof qf?KI(n,t):function(r,i){const s=YI(r,i),o=Sx(s)+Sx(r._t);return g_(s)&&g_(r._t)?o2(o):s2(r.wt,o)}(n,t)}function l2(n,t,e){return n instanceof ch?WC(n,t):n instanceof qf?KI(n,t):e}function YI(n,t){return n instanceof Zf?g_(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class Wf extends Ex{}class ch extends Ex{constructor(t){super(),this.elements=t}}function WC(n,t){const e=c2(t);for(const r of n.elements)e.some(i=>Ql(i,r))||e.push(r);return{arrayValue:{values:e}}}class qf extends Ex{constructor(t){super(),this.elements=t}}function KI(n,t){let e=c2(t);for(const r of n.elements)e=e.filter(i=>!Ql(i,r));return{arrayValue:{values:e}}}class Zf extends Ex{constructor(t,e){super(),this.wt=t,this._t=e}}function Sx(n){return Li(n.integerValue||n.doubleValue)}function c2(n){return Fa(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jg{constructor(t,e){this.field=t,this.transform=e}}class u2{constructor(t,e){this.version=t,this.transformResults=e}}class Ci{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ZC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class YC{}function XI(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new S_(n.key,Ci.none()):new E_(n.key,n.data,Ci.none());{const e=n.data,r=Qs.empty();let i=new Pr(bi.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new uh(n.key,r,new Ra(i.toArray()),Ci.none())}}function d2(n,t,e){n instanceof E_?function(r,i,s){const o=r.value.clone(),c=QI(r.fieldTransforms,i,s.transformResults);o.setAll(c),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,t,e):n instanceof uh?function(r,i,s){if(!ZC(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=QI(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(f2(r)),c.setAll(o),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function C_(n,t,e,r){return n instanceof E_?function(i,s,o,c){if(!ZC(i.precondition,s))return o;const h=i.value.clone(),p=p2(i.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,t,e,r):n instanceof uh?function(i,s,o,c){if(!ZC(i.precondition,s))return o;const h=p2(i.fieldTransforms,c,s),p=s.data;return p.setAll(f2(i)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(n,t,e,r):(o=e,ZC(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function f6(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=YI(r.transform,i||null);null!=s&&(null===e&&(e=Qs.empty()),e.set(r.field,s))}return e||null}function h2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&Bf(e,r,(i,s)=>function qC(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof ch&&r instanceof ch||e instanceof qf&&r instanceof qf?Bf(e.elements,r.elements,Ql):e instanceof Zf&&r instanceof Zf?Ql(e._t,r._t):e instanceof Wf&&r instanceof Wf);var e,r}(i,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class E_ extends YC{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uh extends YC{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function QI(n,t,e){const r=new Map;En(n.length===e.length);for(let i=0;i<e.length;i++){const s=n[i],o=s.transform,c=t.data.field(s.field);r.set(s.field,l2(o,c,e[i]))}return r}function p2(n,t,e){const r=new Map;for(const i of n){const s=i.transform,o=e.data.field(i.field);r.set(i.field,a2(s,o,t))}return r}class S_ extends YC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JI extends YC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p6{constructor(t){this.count=t}}var bs,xr;function l(n){switch(n){default:return an();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function u(n){if(void 0===n)return xi("GRPC error has no .code"),$e.UNKNOWN;switch(n){case bs.OK:return $e.OK;case bs.CANCELLED:return $e.CANCELLED;case bs.UNKNOWN:return $e.UNKNOWN;case bs.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case bs.INTERNAL:return $e.INTERNAL;case bs.UNAVAILABLE:return $e.UNAVAILABLE;case bs.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case bs.NOT_FOUND:return $e.NOT_FOUND;case bs.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case bs.ABORTED:return $e.ABORTED;case bs.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case bs.DATA_LOSS:return $e.DATA_LOSS;default:return an()}}(xr=bs||(bs={}))[xr.OK=0]="OK",xr[xr.CANCELLED=1]="CANCELLED",xr[xr.UNKNOWN=2]="UNKNOWN",xr[xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xr[xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xr[xr.NOT_FOUND=5]="NOT_FOUND",xr[xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",xr[xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",xr[xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",xr[xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xr[xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xr[xr.ABORTED=10]="ABORTED",xr[xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",xr[xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",xr[xr.INTERNAL=13]="INTERNAL",xr[xr.UNAVAILABLE=14]="UNAVAILABLE",xr[xr.DATA_LOSS=15]="DATA_LOSS";class d{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Gf(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return qP(this.inner)}size(){return this.innerSize}}const f=new Zi(qt.comparator);function g(){return f}const _=new Zi(qt.comparator);function b(...n){let t=_;for(const e of n)t=t.insert(e.key,e);return t}function T(n){let t=_;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function I(){return L()}function F(){return L()}function L(){return new d(n=>n.toString(),(n,t)=>n.isEqual(t))}const q=new Zi(qt.comparator),ge=new Pr(qt.comparator);function me(...n){let t=ge;for(const e of n)t=t.add(e);return t}const it=new Pr(Bn);function Et(){return it}class Gt{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,sn.createSynthesizedTargetChangeForCurrentChange(t,e)),new Gt(Sn.min(),r,Et(),g(),me())}}class sn{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new sn(rs.EMPTY_BYTE_STRING,e,me(),me(),me())}}class xn{constructor(t,e,r,i){this.gt=t,this.removedTargetIds=e,this.key=r,this.yt=i}}class yt{constructor(t,e){this.targetId=t,this.It=e}}class vn{constructor(t,e,r=rs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class tr{constructor(){this.Tt=0,this.Et=Tx(),this.At=rs.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=me(),e=me(),r=me();return this.Et.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:an()}}),new sn(this.At,this.Rt,t,e,r)}Dt(){this.bt=!1,this.Et=Tx()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class ei{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=g(),this.Bt=dh(),this.Lt=new Pr(Bn)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const r=this.Qt(e);switch(t.state){case 0:this.jt(e)&&r.Vt(t.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(t.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(r.Mt(),r.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),r.Vt(t.resumeToken));break;default:an()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((r,i)=>{this.jt(i)&&e(i)})}zt(t){const e=t.targetId,r=t.It.count,i=this.Ht(e);if(i){const s=i.target;if(__(s))if(0===r){const o=new qt(s.path);this.Kt(e,o,Jr.newNoDocument(o,Sn.min()))}else En(1===r);else this.Jt(e)!==r&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,o)=>{const c=this.Ht(o);if(c){if(s.current&&__(c.target)){const h=new qt(c.target.path);null!==this.$t.get(h)||this.Xt(o,h)||this.Kt(o,h,Jr.newNoDocument(h,t))}s.vt&&(e.set(o,s.St()),s.Dt())}});let r=me();this.Bt.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const p=this.Ht(h);return!p||2===p.purpose||(c=!1,!1)}),c&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(t));const i=new Gt(t,e,this.Lt,this.$t,r);return this.$t=g(),this.Bt=dh(),this.Lt=new Pr(Bn),i}qt(t,e){if(!this.jt(t))return;const r=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,r),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,r){if(!this.jt(t))return;const i=this.Qt(t);this.Xt(t,e)?i.Ct(e,1):i.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),r&&(this.$t=this.$t.insert(e,r))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new tr,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new Pr(Bn),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||St("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new tr),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function dh(){return new Zi(qt.comparator)}function Tx(){return new Zi(qt.comparator)}const KC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class QC{constructor(t,e){this.databaseId=t,this.dt=e}}function Yf(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dx(n,t){return n.dt?t.toBase64():t.toUint8Array()}function JC(n,t){return Yf(n,t.toTimestamp())}function is(n){return En(!!n),Sn.fromTimestamp(function(t){const e=Fs(t);return new ui(e.seconds,e.nanos)}(n))}function T_(n,t){return(e=n,new yr(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function g6(n){const t=yr.fromString(n);return En(E6(t)),t}function eE(n,t){return T_(n.databaseId,t.path)}function hh(n,t){const e=g6(t);if(e.get(1)!==n.databaseId.projectId)throw new xt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qt(_6(e))}function g2(n,t){return T_(n.databaseId,t)}function m6(n){const t=g6(n);return 4===t.length?yr.emptyPath():_6(t)}function tE(n){return new yr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _6(n){return En(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function y6(n,t,e){return{name:eE(n,t),fields:e.value.mapValue.fields}}function v6(n,t,e){const r=hh(n,t.name),i=is(t.updateTime),s=new Qs({mapValue:{fields:t.fields}}),o=Jr.newFoundDocument(r,i,s);return e&&o.setHasCommittedMutations(),e?o.setHasCommittedMutations():o}function nE(n,t){let e;if(t instanceof E_)e={update:y6(n,t.key,t.value)};else if(t instanceof S_)e={delete:eE(n,t.key)};else if(t instanceof uh)e={update:y6(n,t.key,t.data),updateMask:CY(t.fieldMask)};else{if(!(t instanceof JI))return an();e={verify:eE(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Wf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ch)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zf)return{fieldPath:s.field.canonicalString(),increment:o._t};throw an()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:JC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:an()),e;var i}function m2(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?Ci.updateTime(is(i.updateTime)):void 0!==i.exists?Ci.exists(i.exists):Ci.none():Ci.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(s,o){let c=null;"setToServerValue"in o?(En("REQUEST_TIME"===o.setToServerValue),c=new Wf):"appendMissingElements"in o?c=new ch(o.appendMissingElements.values||[]):"removeAllFromArray"in o?c=new qf(o.removeAllFromArray.values||[]):"increment"in o?c=new Zf(s,o.increment):an();const h=bi.fromServerFormat(o.fieldPath);return new jg(h,c)}(n,i)):[];var i;if(t.update){const i=hh(n,t.update.name),s=new Qs({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new Ra((t.updateMask.fieldPaths||[]).map(p=>bi.fromServerFormat(p)));return new uh(i,s,o,e,r)}return new E_(i,s,e,r)}if(t.delete){const i=hh(n,t.delete);return new S_(i,e)}if(t.verify){const i=hh(n,t.verify);return new JI(i,e)}return an()}function x6(n,t){return{documents:[g2(n,t.path)]}}function w6(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=g2(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=g2(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(0===h.length)return;const p=h.map(m=>function(v){if("=="===v.op){if(ZP(v.value))return{unaryFilter:{field:Ax(v.field),op:"IS_NAN"}};if(HI(v.value))return{unaryFilter:{field:Ax(v.field),op:"IS_NULL"}}}else if("!="===v.op){if(ZP(v.value))return{unaryFilter:{field:Ax(v.field),op:"IS_NOT_NAN"}};if(HI(v.value))return{unaryFilter:{field:Ax(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ax(v.field),op:xY(v.op),value:v.value}}}(m));return 1===p.length?p[0]:{compositeFilter:{op:"AND",filters:p}}}(t.filters);i&&(e.structuredQuery.where=i);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:Ax((m=p).field),direction:vY(m.dir)};var m})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=(p=t.limit,n.dt||f_(p)?p:{value:p});var p,c,h;return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function b6(n){let t=m6(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){En(1===r);const m=e.from[0];m.allDescendants?i=m.collectionId:t=t.child(m.collectionId)}let s=[];e.where&&(s=C6(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(m=>{return new Ug(Ix((v=m).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction));var v}));let c=null;e.limit&&(c=function(m){let v;return v="object"==typeof m?m.value:m,f_(v)?null:v}(e.limit));let h=null;var m;e.startAt&&(h=new ah((m=e.startAt).values||[],!!m.before));let p=null;return e.endAt&&(p=function(m){return new ah(m.values||[],!m.before)}(e.endAt)),n2(t,i,o,s,c,"F",h,p)}function C6(n){return n?void 0!==n.unaryFilter?[bY(n)]:void 0!==n.fieldFilter?[wY(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>C6(t)).reduce((t,e)=>t.concat(e)):an():[]}function vY(n){return KC[n]}function xY(n){return XC[n]}function Ax(n){return{fieldPath:n.canonicalString()}}function Ix(n){return bi.fromServerFormat(n.fieldPath)}function wY(n){return Js.create(Ix(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return an()}}(n.fieldFilter.op),n.fieldFilter.value)}function bY(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Ix(n.unaryFilter.field);return Js.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Ix(n.unaryFilter.field);return Js.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ix(n.unaryFilter.field);return Js.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ix(n.unaryFilter.field);return Js.create(i,"!=",{nullValue:"NULL_VALUE"});default:return an()}}function CY(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function E6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oa(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=S6(t)),t=EY(n.get(e),t);return S6(t)}function EY(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function S6(n){return n+"\x01\x01"}function fh(n){const t=n.length;if(En(t>=2),2===t)return En("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yr.emptyPath();const e=t-2,r=[];let i="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&an(),n.charAt(o+1)){case"\x01":const c=n.substring(s,o);let h;0===i.length?h=c:(i+=c,h=i,i=""),r.push(h);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:an()}s=o+2}return new yr(r)}const T6=["userId","batchId"];function ek(n,t){return[n,Oa(t)]}function D6(n,t,e){return[n,Oa(t),e]}const SY={},TY=["prefixPath","collectionGroup","readTime","documentId"],DY=["prefixPath","collectionGroup","documentId"],AY=["collectionGroup","readTime","prefixPath","documentId"],IY=["canonicalId","targetId"],kY=["targetId","path"],MY=["path","targetId"],RY=["collectionId","parent"],FY=["indexId","uid"],OY=["uid","sequenceNumber"],PY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NY=["indexId","uid","orderedDocumentKey"],LY=["userId","collectionPath","documentId"],BY=["userId","collectionPath","largestBatchId"],VY=["userId","collectionGroup","largestBatchId"],A6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UY=[...A6,"documentOverlays"],I6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k6=I6,HY=[...k6,"indexConfiguration","indexState","indexEntries"];class _2 extends zP{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function po(n,t){const e=Zt(n);return _l.N(e.ee,t)}class y2{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&d2(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=C_(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=C_(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=F();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=e.has(i.key)?null:c;const h=XI(o,c);null!==h&&r.set(i.key,h),o.isValidDocument()||o.convertToNoDocument(Sn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),me())}isEqual(t){return this.batchId===t.batchId&&Bf(this.mutations,t.mutations,(e,r)=>h2(e,r))&&Bf(this.baseMutations,t.baseMutations,(e,r)=>h2(e,r))}}class v2{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){En(t.mutations.length===r.length);let i=q;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new v2(t,e,r,i)}}class x2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zg{constructor(t,e,r,i,s=Sn.min(),o=Sn.min(),c=rs.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c}withSequenceNumber(t){return new zg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new zg(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new zg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class M6{constructor(t){this.ne=t}}function R6(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:tk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:eE(i=n.ne,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Yf(i,s.version.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:D_(t.version)};else{if(!t.isUnknownDocument())return an();r.unknownDocument={path:e.path.toArray(),version:D_(t.version)}}var i,s;return r}function tk(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function D_(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function A_(n){const t=new ui(n.seconds,n.nanoseconds);return Sn.fromTimestamp(t)}function I_(n,t){const e=(t.baseMutations||[]).map(s=>m2(n.ne,s));for(let s=0;s<t.mutations.length-1;++s){const o=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(o.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(s=>m2(n.ne,s)),i=ui.fromMillis(t.localWriteTimeMs);return new y2(t.batchId,i,e,r)}function rE(n){const t=A_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?A_(n.lastLimboFreeSnapshotVersion):Sn.min();let r;var i;return void 0!==n.query.documents?(En(1===(i=n.query).documents.length),r=Lo(Hg(m6(i.documents[0])))):r=Lo(b6(n.query)),new zg(r,n.targetId,0,n.lastListenSequenceNumber,t,e,rs.fromBase64String(n.resumeToken))}function F6(n,t){const e=D_(t.snapshotVersion),r=D_(t.lastLimboFreeSnapshotVersion);let i;i=__(t.target)?x6(n.ne,t.target):w6(n.ne,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function w2(n){const t=b6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gg(t,t.limit,"L"):t}function b2(n,t){return new x2(t.largestBatchId,m2(n.ne,t.overlayMutation))}function O6(n,t){const e=t.path.lastSegment();return[n,Oa(t.path.popLast()),e]}function P6(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:D_(r.readTime),documentKey:Oa(r.documentKey.path),largestBatchId:r.largestBatchId}}class jY{getBundleMetadata(t,e){return N6(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:A_(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return N6(t).put({bundleId:(r=e).id,createTime:D_(is(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return L6(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:w2(i.bundledQuery),readTime:A_(i.readTime)};var i})}saveNamedQuery(t,e){return L6(t).put({name:(r=e).name,readTime:D_(is(r.readTime)),bundledQuery:r.bundledQuery});var r}}function N6(n){return po(n,"bundles")}function L6(n){return po(n,"namedQueries")}class nk{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new nk(t,e.uid||"")}getOverlay(t,e){return iE(t).get(O6(this.userId,e)).next(r=>r?b2(this.wt,r):null)}getOverlays(t,e){const r=I();return Pe.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){const i=[];return r.forEach((s,o)=>{const c=new x2(e,o);i.push(this.ie(t,c))}),Pe.waitFor(i)}removeOverlaysForBatchId(t,e,r){const i=new Set;e.forEach(o=>i.add(Oa(o.getCollectionPath())));const s=[];return i.forEach(o=>{const c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(iE(t).W("collectionPathOverlayIndex",c))}),Pe.waitFor(s)}getOverlaysForCollection(t,e,r){const i=I(),s=Oa(e),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return iE(t).K("collectionPathOverlayIndex",o).next(c=>{for(const h of c){const p=b2(this.wt,h);i.set(p.getKey(),p)}return i})}getOverlaysForCollectionGroup(t,e,r,i){const s=I();let o;const c=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return iE(t).J({index:"collectionGroupOverlayIndex",range:c},(h,p,m)=>{const v=b2(this.wt,p);s.size()<i||v.largestBatchId===o?(s.set(v.getKey(),v),o=v.largestBatchId):m.done()}).next(()=>s)}ie(t,e){return iE(t).put(function(r,i,s){const[o,c,h]=O6(i,s.mutation.key);return{userId:i,collectionPath:c,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:nE(r.ne,s.mutation)}}(this.wt,this.userId,e))}}function iE(n){return po(n,"documentOverlays")}class k_{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Li(t.integerValue));else if("doubleValue"in t){const r=Li(t.doubleValue);isNaN(r)?this.ce(e,13):(this.ce(e,15),jf(r)?e.ae(0):e.ae(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ce(e,20),"string"==typeof r?e.he(r):(e.he(`${r.seconds||""}`),e.ae(r.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Ku(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ce(e,45),e.ae(r.latitude||0),e.ae(r.longitude||0)}else"mapValue"in t?GI(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):an()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const r=t.fields||{};this.ce(e,55);for(const i of Object.keys(r))this.le(i,e),this.oe(r[i],e)}me(t,e){const r=t.values||[];this.ce(e,50);for(const i of r)this.oe(i,e)}_e(t,e){this.ce(e,37),qt.fromName(t).path.forEach(r=>{this.ce(e,60),this.ge(r,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function zY(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function B6(n){const t=64-function(e){let r=0;for(let i=0;i<8;++i){const s=zY(255&e[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}k_.ye=new k_;class $Y{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ie(r.value),r=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ae(r.value),r=e.next();this.Re()}be(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=e.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=e.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(t){const e=this.Ve(t),r=B6(e);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=255&e[i]}De(t){const e=this.Ve(t),r=B6(e);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=e.length-r;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let i=1;i<e.length;++i)e[i]^=r?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class WY{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class qY{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class sE{constructor(){this.Oe=new $Y,this.Fe=new WY(this.Oe),this.$e=new qY(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class M_{constructor(t,e,r,i){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=i}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new M_(this.indexId,this.documentKey,this.arrayValue,r)}}function R_(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=V6(n.arrayValue,t.arrayValue),0!==e?e:(e=V6(n.directionalValue,t.directionalValue),0!==e?e:qt.comparator(n.documentKey,t.documentKey)))}function V6(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class ZY{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const r=e;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(t){const e=RC(t);if(void 0!==e&&!this.Qe(e))return!1;const r=Vf(t);let i=0,s=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const o=r[i];if(!this.je(this.Ke,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class YY{constructor(){this.ze=new C2}addToCollectionParentIndex(t,e){return this.ze.add(e),Pe.resolve()}getCollectionParents(t,e){return Pe.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return Pe.resolve()}deleteFieldIndex(t,e){return Pe.resolve()}getDocumentsMatchingTarget(t,e){return Pe.resolve(null)}getIndexType(t,e){return Pe.resolve(0)}getFieldIndexes(t,e){return Pe.resolve([])}getNextCollectionGroupToUpdate(t){return Pe.resolve(null)}getMinOffset(t,e){return Pe.resolve(ml.min())}getMinOffsetFromCollectionGroup(t,e){return Pe.resolve(ml.min())}updateCollectionGroup(t,e,r){return Pe.resolve()}updateIndexEntries(t,e){return Pe.resolve()}}class C2{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Pr(yr.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Pr(yr.comparator)).toArray()}}const rk=new Uint8Array(0);class KY{constructor(t,e){this.user=t,this.databaseId=e,this.He=new C2,this.Je=new d(r=>oh(r),(r,i)=>Vg(r,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const s={collectionId:r,parent:Oa(i)};return U6(t).put(s)}return Pe.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[MC(e),""],!1,!0);return U6(t).K(i).next(s=>{for(const o of s){if(o.collectionId!==e)break;r.push(fh(o.parent))}return r})}addFieldIndex(t,e){const r=ik(t),i={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;delete i.indexId;const s=r.add(i);if(e.indexState){const o=aE(t);return s.next(c=>{o.put(P6(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const r=ik(t),i=aE(t),s=oE(t);return r.delete(e.indexId).next(()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=oE(t);let i=!0;const s=new Map;return Pe.forEach(this.Ye(e),o=>this.Xe(t,o).next(c=>{i&&(i=!!c),s.set(o,c)})).next(()=>{if(i){let o=me();const c=[];return Pe.forEach(s,(h,p)=>{var m;St("IndexedDbIndexManager",`Using index ${m=h,`id=${m.indexId}|cg=${m.collectionGroup}|f=${m.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`} to execute ${oh(e)}`);const v=function(B,X){const he=RC(X);if(void 0===he)return null;for(const we of zf(B,he.fieldPath))switch(we.op){case"array-contains-any":return we.value.arrayValue.values||[];case"array-contains":return[we.value]}return null}(p,h),w=function(B,X){const he=new Map;for(const we of Vf(X))for(const Y of zf(B,we.fieldPath))switch(Y.op){case"==":case"in":he.set(we.fieldPath.canonicalString(),Y.value);break;case"not-in":case"!=":return he.set(we.fieldPath.canonicalString(),Y.value),Array.from(he.values())}return null}(p,h),E=function(B,X){const he=[];let we=!0;for(const Y of Vf(X)){const Ee=0===Y.kind?y_(B,Y.fieldPath,B.startAt):GC(B,Y.fieldPath,B.startAt);he.push(Ee.value),we&&(we=Ee.inclusive)}return new ah(he,we)}(p,h),D=function(B,X){const he=[];let we=!0;for(const Y of Vf(X)){const Ee=0===Y.kind?GC(B,Y.fieldPath,B.endAt):y_(B,Y.fieldPath,B.endAt);he.push(Ee.value),we&&(we=Ee.inclusive)}return new ah(he,we)}(p,h),S=this.Ze(h,p,E),M=this.Ze(h,p,D),P=this.tn(h,p,w),V=this.en(h.indexId,v,S,E.inclusive,M,D.inclusive,P);return Pe.forEach(V,B=>r.j(B,e.limit).next(X=>{X.forEach(he=>{const we=qt.fromSegments(he.documentKey);o.has(we)||(o=o.add(we),c.push(we))})}))}).next(()=>c)}return Pe.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,r,i,s,o,c){const h=(null!=e?e.length:1)*Math.max(r.length,s.length),p=h/(null!=e?e.length:1),m=[];for(let v=0;v<h;++v){const w=e?this.nn(e[v/p]):rk,E=this.sn(t,w,r[v%p],i),D=this.rn(t,w,s[v%p],o),S=c.map(M=>this.sn(t,w,M,!0));m.push(...this.createRange(E,D,S))}return m}sn(t,e,r,i){const s=new M_(t,qt.empty(),e,r);return i?s:s.Le()}rn(t,e,r,i){const s=new M_(t,qt.empty(),e,r);return i?s.Le():s}Xe(t,e){const r=new ZY(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next(s=>{let o=null;for(const c of s)r.Ge(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o})}getIndexType(t,e){let r=2;return Pe.forEach(this.Ye(e),i=>this.Xe(t,i).next(s=>{s?0!==r&&s.fields.length<function(o){let c=new Pr(bi.comparator),h=!1;for(const p of o.filters){const m=p;m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:c=c.add(m.field))}for(const p of o.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(t,e){const r=new sE;for(const i of Vf(t)){const s=e.data.field(i.fieldPath);if(null==s)return null;const o=r.Be(i.kind);k_.ye.re(s,o)}return r.Me()}nn(t){const e=new sE;return k_.ye.re(t,e.Be(0)),e.Me()}un(t,e){const r=new sE;return k_.ye.re(sh(this.databaseId,e),r.Be(function(i){const s=Vf(i);return 0===s.length?0:s[s.length-1].kind}(t))),r.Me()}tn(t,e,r){if(null===r)return[];let i=[];i.push(new sE);let s=0;for(const o of Vf(t)){const c=r[s++];for(const h of i)if(this.cn(e,o.fieldPath)&&Fa(c))i=this.an(i,o,c);else{const p=h.Be(o.kind);k_.ye.re(c,p)}}return this.hn(i)}Ze(t,e,r){return this.tn(t,e,r.position)}hn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Me();return e}an(t,e,r){const i=[...t],s=[];for(const o of r.arrayValue.values||[])for(const c of i){const h=new sE;h.seed(c.Me()),k_.ye.re(o,h.Be(e.kind)),s.push(h)}return s}cn(t,e){return!!t.filters.find(r=>r instanceof Js&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=ik(t),i=aE(t);return(e?r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.K()).next(s=>{const o=[];return Pe.forEach(s,c=>i.get([c.indexId,this.uid]).next(h=>{o.push(function(p,m){const v=m?new vx(m.sequenceNumber,new ml(A_(m.readTime),new qt(fh(m.documentKey)),m.largestBatchId)):vx.empty(),w=p.fields.map(([E,D])=>new c_(bi.fromServerFormat(E),D));return new l_(p.indexId,p.collectionGroup,w,v)}(c,h))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Bn(r.collectionGroup,i.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const i=ik(t),s=aE(t);return this.ln(t).next(o=>i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Pe.forEach(c,h=>s.put(P6(h.indexId,this.user,o,r)))))}updateIndexEntries(t,e){const r=new Map;return Pe.forEach(e,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Pe.resolve(o):this.getFieldIndexes(t,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),Pe.forEach(c,h=>this.fn(t,i,h).next(p=>{const m=this.dn(s,h);return p.isEqual(m)?Pe.resolve():this._n(t,s,h,p,m)}))))})}wn(t,e,r,i){return oE(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,e.key),documentKey:e.key.path.toArray()})}mn(t,e,r,i){return oE(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,e.key),e.key.path.toArray()])}fn(t,e,r){const i=oE(t);let s=new Pr(R_);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,e)])},(o,c)=>{s=s.add(new M_(r.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}dn(t,e){let r=new Pr(R_);const i=this.on(e,t);if(null==i)return r;const s=RC(e);if(null!=s){const o=t.data.field(s.fieldPath);if(Fa(o))for(const c of o.arrayValue.values||[])r=r.add(new M_(e.indexId,t.key,this.nn(c),i))}else r=r.add(new M_(e.indexId,t.key,rk,i));return r}_n(t,e,r,i,s){St("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(c,h,p,m,v){const w=c.getIterator(),E=h.getIterator();let D=d_(w),S=d_(E);for(;D||S;){let M=!1,P=!1;if(D&&S){const V=p(D,S);V<0?P=!0:V>0&&(M=!0)}else null!=D?P=!0:M=!0;M?(m(S),S=d_(E)):P?(v(D),D=d_(w)):(D=d_(w),S=d_(E))}}(i,s,R_,c=>{o.push(this.wn(t,e,r,c))},c=>{o.push(this.mn(t,e,r,c))}),Pe.waitFor(o)}ln(t){let e=1;return aE(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),e=i.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((o,c)=>R_(o,c)).filter((o,c,h)=>!c||0!==R_(o,h[c-1]));const i=[];i.push(t);for(const o of r){const c=R_(o,t),h=R_(o,e);if(0===c)i[0]=t.Le();else if(c>0&&h<0)i.push(o),i.push(o.Le());else if(h>0)break}i.push(e);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,rk,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,rk,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(H6)}getMinOffset(t,e){return Pe.mapArray(this.Ye(e),r=>this.Xe(t,r).next(i=>i||an())).next(H6)}}function U6(n){return po(n,"collectionParents")}function oE(n){return po(n,"indexEntries")}function ik(n){return po(n,"indexConfiguration")}function aE(n){return po(n,"indexState")}function H6(n){En(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;FI(i,t)<0&&(t=i),e<i.largestBatchId&&(e=i.largestBatchId)}return new ml(t.readTime,t.documentKey,e)}const G6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vl{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new vl(t,vl.DEFAULT_COLLECTION_PERCENTILE,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function j6(n,t,e){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let c=0;const h=r.J({range:o},(m,v,w)=>(c++,w.delete()));s.push(h.next(()=>{En(1===c)}));const p=[];for(const m of e.mutations){const v=D6(t,m.key.path,e.batchId);s.push(i.delete(v)),p.push(m.key)}return Pe.waitFor(s).next(()=>p)}function sk(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw an();t=n.noDocument}return JSON.stringify(t).length}vl.DEFAULT_COLLECTION_PERCENTILE=10,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vl.DEFAULT=new vl(41943040,vl.DEFAULT_COLLECTION_PERCENTILE,vl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vl.DISABLED=new vl(-1,0,0);class ok{constructor(t,e,r,i){this.userId=t,this.wt=e,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(t,e,r,i){En(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new ok(s,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $g(t).J({index:"userMutationsIndex",range:r},(i,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const s=kx(t),o=$g(t);return o.add({}).next(c=>{En("number"==typeof c);const h=new y2(c,e,r,i),p=function(w,E,D){const S=D.baseMutations.map(P=>nE(w.ne,P)),M=D.mutations.map(P=>nE(w.ne,P));return{userId:E,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:S,mutations:M}}(this.wt,this.userId,h),m=[];let v=new Pr((w,E)=>Bn(w.canonicalString(),E.canonicalString()));for(const w of i){const E=D6(this.userId,w.key.path,c);v=v.add(w.key.path.popLast()),m.push(o.put(p)),m.push(s.put(E,SY))}return v.forEach(w=>{m.push(this.indexManager.addToCollectionParentIndex(t,w))}),t.addOnCommittedListener(()=>{this.gn[c]=h.keys()}),Pe.waitFor(m).next(()=>h)})}lookupMutationBatch(t,e){return $g(t).get(e).next(r=>r?(En(r.userId===this.userId),I_(this.wt,r)):null)}yn(t,e){return this.gn[e]?Pe.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.gn[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return $g(t).J({index:"userMutationsIndex",range:i},(o,c,h)=>{c.userId===this.userId&&(En(c.batchId>=r),s=I_(this.wt,c)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $g(t).J({index:"userMutationsIndex",range:e,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $g(t).K("userMutationsIndex",e).next(r=>r.map(i=>I_(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=ek(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return kx(t).J({range:i},(o,c,h)=>{const[p,m,v]=o,w=fh(m);if(p===this.userId&&e.path.isEqual(w))return $g(t).get(v).next(E=>{if(!E)throw an();En(E.userId===this.userId),s.push(I_(this.wt,E))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pr(Bn);const i=[];return e.forEach(s=>{const o=ek(this.userId,s.path),c=IDBKeyRange.lowerBound(o),h=kx(t).J({range:c},(p,m,v)=>{const[w,E,D]=p,S=fh(E);w===this.userId&&s.path.isEqual(S)?r=r.add(D):v.done()});i.push(h)}),Pe.waitFor(i).next(()=>this.pn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,s=ek(this.userId,r),o=IDBKeyRange.lowerBound(s);let c=new Pr(Bn);return kx(t).J({range:o},(h,p,m)=>{const[v,w,E]=h,D=fh(w);v===this.userId&&r.isPrefixOf(D)?D.length===i&&(c=c.add(E)):m.done()}).next(()=>this.pn(t,c))}pn(t,e){const r=[],i=[];return e.forEach(s=>{i.push($g(t).get(s).next(o=>{if(null===o)throw an();En(o.userId===this.userId),r.push(I_(this.wt,o))}))}),Pe.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return j6(t.ee,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),Pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return kx(t).J({range:r},(s,o,c)=>{if(s[0]===this.userId){const h=fh(s[1]);i.push(h)}else c.done()}).next(()=>{En(0===i.length)})})}containsKey(t,e){return z6(t,this.userId,e)}Tn(t){return $6(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z6(n,t,e){const r=ek(t,e.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return kx(n).J({range:s,H:!0},(c,h,p)=>{const[m,v,w]=c;m===t&&v===i&&(o=!0),p.done()}).next(()=>o)}function $g(n){return po(n,"mutations")}function kx(n){return po(n,"documentMutations")}function $6(n){return po(n,"mutationQueues")}class F_{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new F_(0)}static Rn(){return new F_(-1)}}class XY{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const r=new F_(e.highestTargetId);return e.highestTargetId=r.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Sn.fromTimestamp(new ui(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.bn(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Pn(t,i)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(r=>(r.targetCount+=1,this.Vn(e,r),this.Pn(t,r))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Mx(t).delete(e.targetId)).next(()=>this.bn(t)).next(r=>(En(r.targetCount>0),r.targetCount-=1,this.Pn(t,r)))}removeTargets(t,e,r){let i=0;const s=[];return Mx(t).J((o,c)=>{const h=rE(c);h.sequenceNumber<=e&&null===r.get(h.targetId)&&(i++,s.push(this.removeTargetData(t,h)))}).next(()=>Pe.waitFor(s)).next(()=>i)}forEachTarget(t,e){return Mx(t).J((r,i)=>{const s=rE(i);e(s)})}bn(t){return W6(t).get("targetGlobalKey").next(e=>(En(null!==e),e))}Pn(t,e){return W6(t).put("targetGlobalKey",e)}vn(t,e){return Mx(t).put(F6(this.wt,e))}Vn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const r=oh(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Mx(t).J({range:i,index:"queryTargetsIndex"},(o,c,h)=>{const p=rE(c);Vg(e,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(t,e,r){const i=[],s=Wg(t);return e.forEach(o=>{const c=Oa(o.path);i.push(s.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(t,r,o))}),Pe.waitFor(i)}removeMatchingKeys(t,e,r){const i=Wg(t);return Pe.forEach(e,s=>{const o=Oa(s.path);return Pe.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(t,r,s)])})}removeMatchingKeysForTargetId(t,e){const r=Wg(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=Wg(t);let s=me();return i.J({range:r,H:!0},(o,c,h)=>{const p=fh(o[1]),m=new qt(p);s=s.add(m)}).next(()=>s)}containsKey(t,e){const r=Oa(e.path),i=IDBKeyRange.bound([r],[MC(r)],!1,!0);let s=0;return Wg(t).J({index:"documentTargetsIndex",H:!0,range:i},([o,c],h,p)=>{0!==o&&(s++,p.done())}).next(()=>s>0)}te(t,e){return Mx(t).get(e).next(r=>r?rE(r):null)}}function Mx(n){return po(n,"targets")}function W6(n){return po(n,"targetGlobal")}function Wg(n){return po(n,"targetDocuments")}function q6([n,t],[e,r]){const i=Bn(n,e);return 0===i?Bn(t,r):i}class QY{constructor(t){this.Sn=t,this.buffer=new Pr(q6),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();q6(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class JY{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;St("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,qe.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Yc(r)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xl(r)}yield e.kn(3e5)}))}}class eK{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Pe.resolve(ia.ot);const r=new QY(e);return this.Mn.forEachTarget(t,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(t,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.Mn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(G6)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G6):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let r,i,s,o,c,h,p;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,o=Date.now(),this.nthSequenceNumber(t,i))).next(v=>(r=v,c=Date.now(),this.removeTargets(t,r,e))).next(v=>(s=v,h=Date.now(),this.removeOrphanedDocuments(t,r))).next(v=>(p=Date.now(),AC()<=pl.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-m}ms\n\tDetermined least recently used ${i} in `+(c-o)+`ms\n\tRemoved ${s} targets in `+(h-c)+`ms\n\tRemoved ${v} documents in `+(p-h)+`ms\nTotal Duration: ${p-m}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v})))}}class tK{constructor(t,e){this.db=t,this.garbageCollector=new eK(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}Bn(t){let e=0;return this.Fn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(r,i)=>e(i))}addReference(t,e,r){return ak(t,r)}removeReference(t,e,r){return ak(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return ak(t,e)}Un(t,e){return function(r,i){let s=!1;return $6(r).Y(o=>z6(r,o,i).next(c=>(c&&(s=!0),Pe.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Ln(t,(o,c)=>{if(c<=e){const h=this.Un(t,o).next(p=>{if(!p)return s++,r.getEntry(t,o).next(()=>(r.removeEntry(o,Sn.min()),Wg(t).delete([0,Oa(o.path)])))});i.push(h)}}).next(()=>Pe.waitFor(i)).next(()=>r.apply(t)).next(()=>s)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return ak(t,e)}Ln(t,e){const r=Wg(t);let i,s=ia.ot;return r.J({index:"documentTargetsIndex"},([o,c],{path:h,sequenceNumber:p})=>{0===o?(s!==ia.ot&&e(new qt(fh(i)),s),s=p,i=h):s=ia.ot}).next(()=>{s!==ia.ot&&e(new qt(fh(i)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ak(n,t){return Wg(n).put((r=n.currentSequenceNumber,{targetId:0,path:Oa(t.path),sequenceNumber:r}));var r}class Z6{constructor(){this.changes=new d(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Pe.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nK{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return O_(t).put(r)}removeEntry(t,e,r){return O_(t).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],tk(s),o[o.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.qn(t,r)))}getEntry(t,e){let r=Jr.newInvalidDocument(e);return O_(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(lE(e))},(i,s)=>{r=this.Kn(e,s)}).next(()=>r)}Gn(t,e){let r={size:0,document:Jr.newInvalidDocument(e)};return O_(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(lE(e))},(i,s)=>{r={document:this.Kn(e,s),size:sk(s)}}).next(()=>r)}getEntries(t,e){let r=g();return this.Qn(t,e,(i,s)=>{const o=this.Kn(i,s);r=r.insert(i,o)}).next(()=>r)}jn(t,e){let r=g(),i=new Zi(qt.comparator);return this.Qn(t,e,(s,o)=>{const c=this.Kn(s,o);r=r.insert(s,c),i=i.insert(s,sk(o))}).next(()=>({documents:r,Wn:i}))}Qn(t,e,r){if(e.isEmpty())return Pe.resolve();let i=new Pr(Q6);e.forEach(h=>i=i.add(h));const s=IDBKeyRange.bound(lE(i.first()),lE(i.last())),o=i.getIterator();let c=o.getNext();return O_(t).J({index:"documentKeyIndex",range:s},(h,p,m)=>{const v=qt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;c&&Q6(c,v)<0;)r(c,null),c=o.getNext();c&&c.isEqual(v)&&(r(c,p),c=o.hasNext()?o.getNext():null),c?m.q(lE(c)):m.done()}).next(()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null})}getAllFromCollection(t,e,r){const i=[e.popLast().toArray(),e.lastSegment(),tk(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return O_(t).K(IDBKeyRange.bound(i,s,!0)).next(o=>{let c=g();for(const h of o){const p=this.Kn(qt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);c=c.insert(p.key,p)}return c})}getAllFromCollectionGroup(t,e,r,i){let s=g();const o=X6(e,r),c=X6(e,ml.max());return O_(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,c,!0)},(h,p,m)=>{const v=this.Kn(qt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(v.key,v),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(t){return new rK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return K6(t).get("remoteDocumentGlobalKey").next(e=>(En(!!e),e))}qn(t,e){return K6(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const r=function GY(n,t){let e;if(t.document)e=v6(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=qt.fromSegments(t.noDocument.path),i=A_(t.noDocument.readTime);e=Jr.newNoDocument(r,i),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return an();{const r=qt.fromSegments(t.unknownDocument.path),i=A_(t.unknownDocument.version);e=Jr.newUnknownDocument(r,i)}}return t.readTime&&e.setReadTime(function(r){const i=new ui(r[0],r[1]);return Sn.fromTimestamp(i)}(t.readTime)),e}(this.wt,e);if(!r.isNoDocument()||!r.version.isEqual(Sn.min()))return r}return Jr.newInvalidDocument(t)}}function Y6(n){return new nK(n)}class rK extends Z6{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new d(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Pr((s,o)=>Bn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const c=this.Hn.get(s);if(e.push(this.zn.removeEntry(t,s,c.readTime)),o.isValidDocument()){const h=R6(this.zn.wt,o);i=i.add(s.path.popLast()),r+=sk(h)-c.size,e.push(this.zn.addEntry(t,s,h))}else if(r-=c.size,this.trackRemovals){const h=R6(this.zn.wt,o.convertToNoDocument(Sn.min()));e.push(this.zn.addEntry(t,s,h))}}),i.forEach(s=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.zn.updateMetadata(t,r)),Pe.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(r=>(this.Hn.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:r,Wn:i})=>(i.forEach((s,o)=>{this.Hn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function K6(n){return po(n,"remoteDocumentGlobal")}function O_(n){return po(n,"remoteDocumentsV14")}function lE(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function X6(n,t){const e=t.documentKey.path.toArray();return[n,tk(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Q6(n,t){const e=n.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<e.length-2&&s<r.length-2;++s)if(i=Bn(e[s],r[s]),i)return i;return i=Bn(e.length,r.length),i||(i=Bn(e[e.length-2],r[r.length-2]),i||Bn(e[e.length-1],r[r.length-1]))}class iK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class J6{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.getBaseDocument(t,e,r))).next(i=>(null!==r&&C_(r.mutation,i,Ra.empty(),ui.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,me()).next(()=>r))}getLocalViewOfDocuments(t,e,r=me()){const i=I();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=b();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const r=I();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,me()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,r,i){let s=g();const o=L(),c=L();return e.forEach((h,p)=>{const m=r.get(p.key);i.has(p.key)&&(void 0===m||m.mutation instanceof uh)?s=s.insert(p.key,p):void 0!==m&&(o.set(p.key,m.mutation.getFieldMask()),C_(m.mutation,p,m.mutation.getFieldMask(),ui.now()))}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((p,m)=>o.set(p,m)),e.forEach((p,m)=>{var v;return c.set(p,new iK(m,null!==(v=o.get(p))&&void 0!==v?v:null))}),c))}recalculateAndSaveOverlays(t,e){const r=L();let i=new Zi((o,c)=>o-c),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const c of o)c.keys().forEach(h=>{const p=e.get(h);if(null===p)return;let m=r.get(h)||Ra.empty();m=c.applyToLocalView(p,m),r.set(h,m);const v=(i.get(c.batchId)||me()).add(h);i=i.insert(c.batchId,v)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,m=h.value,v=F();m.forEach(w=>{if(!s.has(w)){const E=XI(e.get(w),r.get(w));null!==E&&v.set(w,E),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(t,p,v))}return Pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return qt.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Cx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var i}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):Pe.resolve(I());let c=-1,h=s;return o.next(p=>Pe.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(m)?Pe.resolve():this.getBaseDocument(t,m,v).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(t,p,s)).next(()=>this.computeViews(t,h,p,me())).next(m=>({batchId:c,changes:T(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qt(e)).next(r=>{let i=b();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const i=e.collectionGroup;let s=b();return this.indexManager.getCollectionParents(t,i).next(o=>Pe.forEach(o,c=>{const h=(p=e,m=c.child(i),new lh(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,m;return this.getDocumentsMatchingCollectionQuery(t,h,r).next(p=>{p.forEach((m,v)=>{s=s.insert(m,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,r){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId))).next(s=>{s.forEach((c,h)=>{const p=h.getKey();null===i.get(p)&&(i=i.insert(p,Jr.newInvalidDocument(p)))});let o=b();return i.forEach((c,h)=>{const p=s.get(c);void 0!==p&&C_(p.mutation,h,Ra.empty(),ui.now()),w_(e,h)&&(o=o.insert(c,h))}),o})}getBaseDocument(t,e,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(t,e):Pe.resolve(Jr.newInvalidDocument(e))}}class sK{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return Pe.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var r;return this.Jn.set(e.id,{id:(r=e).id,version:r.version,createTime:is(r.createTime)}),Pe.resolve()}getNamedQuery(t,e){return Pe.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(r=e).name,query:w2(r.bundledQuery),readTime:is(r.readTime)}),Pe.resolve();var r}}class oK{constructor(){this.overlays=new Zi(qt.comparator),this.Xn=new Map}getOverlay(t,e){return Pe.resolve(this.overlays.get(e))}getOverlays(t,e){const r=I();return Pe.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.ie(t,e,s)}),Pe.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),Pe.resolve()}getOverlaysForCollection(t,e,r){const i=I(),s=e.length+1,o=new qt(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Pe.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Zi((p,m)=>p-m);const o=this.overlays.getIterator();for(;o.hasNext();){const p=o.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let m=s.get(p.largestBatchId);null===m&&(m=I(),s=s.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=I(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return Pe.resolve(c)}ie(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x2(e,r));let s=this.Xn.get(e);void 0===s&&(s=me(),this.Xn.set(e,s)),this.Xn.set(e,s.add(r.key))}}class E2{constructor(){this.Zn=new Pr(go.ts),this.es=new Pr(go.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new go(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new go(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new qt(new yr([])),r=new go(e,t),i=new go(e,t+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new qt(new yr([])),r=new go(e,t),i=new go(e,t+1);let s=me();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new go(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class go{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return qt.comparator(t.key,e.key)||Bn(t.ls,e.ls)}static ns(t,e){return Bn(t.ls,e.ls)||qt.comparator(t.key,e.key)}}class aK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new Pr(go.ts)}checkEmpty(t){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const s=this.fs;this.fs++;const o=new y2(s,e,r,i);this.mutationQueue.push(o);for(const c of i)this.ds=this.ds.add(new go(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Pe.resolve(o)}lookupMutationBatch(t,e){return Pe.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.ws(e+1),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new go(e,0),i=new go(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const c=this._s(o.ls);s.push(c)}),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pr(Bn);return e.forEach(i=>{const s=new go(i,0),o=new go(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],c=>{r=r.add(c.ls)})}),Pe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;qt.isDocumentKey(s)||(s=s.child(""));const o=new go(new qt(s),0);let c=new Pr(Bn);return this.ds.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(h.ls)),!0)},o),Pe.resolve(this.gs(c))}gs(t){const e=[];return t.forEach(r=>{const i=this._s(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){En(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return Pe.forEach(e.mutations,i=>{const s=new go(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}In(t){}containsKey(t,e){const r=new go(e,0),i=this.ds.firstAfterOrEqual(r);return Pe.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return Pe.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class lK{constructor(t){this.ps=t,this.docs=new Zi(qt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Pe.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(e))}getEntries(t,e){let r=g();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),Pe.resolve(r)}getAllFromCollection(t,e,r){let i=g();const s=new qt(e.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:c,value:{document:h}}=o.getNext();if(!e.isPrefixOf(c.path))break;c.path.length>e.length+1||FI(GP(h),r)<=0||(i=i.insert(h.key,h.mutableCopy()))}return Pe.resolve(i)}getAllFromCollectionGroup(t,e,r,i){an()}Is(t,e){return Pe.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new cK(this)}getSize(t){return Pe.resolve(this.size)}}class cK extends Z6{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.zn.addEntry(t,i)):this.zn.removeEntry(r)}),Pe.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class uK{constructor(t){this.persistence=t,this.Ts=new d(e=>oh(e),Vg),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.Es=0,this.As=new E2,this.targetCount=0,this.Rs=F_.An()}forEachTarget(t,e){return this.Ts.forEach((r,i)=>e(i)),Pe.resolve()}getLastRemoteSnapshotVersion(t){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Pe.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Es&&(this.Es=e),Pe.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new F_(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,Pe.resolve()}updateTargetData(t,e){return this.vn(e),Pe.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.Ts.forEach((o,c)=>{c.sequenceNumber<=e&&null===r.get(c.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),Pe.waitFor(s).next(()=>i)}getTargetCount(t){return Pe.resolve(this.targetCount)}getTargetData(t,e){const r=this.Ts.get(e)||null;return Pe.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),Pe.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Pe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),Pe.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return Pe.resolve(r)}containsKey(t,e){return Pe.resolve(this.As.containsKey(e))}}class e8{constructor(t,e){this.bs={},this.overlays={},this.Ps=new ia(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new uK(this),this.indexManager=new YY,this.remoteDocumentCache=new lK(r=>this.referenceDelegate.Ss(r)),this.wt=new M6(e),this.Ds=new sK(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.bs[t.toKey()];return r||(r=new aK(e,this.referenceDelegate),this.bs[t.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,r){St("MemoryPersistence","Starting transaction:",t);const i=new dK(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(t,e){return Pe.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class dK extends zP{constructor(t){super(),this.currentSequenceNumber=t}}class lk{constructor(t){this.persistence=t,this.ks=new E2,this.Ms=null}static Os(t){return new lk(t)}get Fs(){if(this.Ms)return this.Ms;throw an()}addReference(t,e,r){return this.ks.addReference(r,e),this.Fs.delete(r.toString()),Pe.resolve()}removeReference(t,e,r){return this.ks.removeReference(r,e),this.Fs.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),Pe.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Fs,r=>{const i=qt.fromPath(r);return this.$s(t,i).next(s=>{s||e.removeEntry(i,Sn.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return Pe.or([()=>Pe.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class hK{constructor(t){this.wt=t}M(t,e,r,i){const s=new Uf("createOrUpgrade",e);var c;r<1&&i>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T6,{unique:!0}),c.createObjectStore("documentMutations"),t8(t),function(c){c.createObjectStore("remoteDocuments")}(t));let o=Pe.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),t8(t)),o=o.next(()=>function(c){const h=c.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,h){return h.store("mutations").K().next(p=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T6,{unique:!0});const m=h.store("mutations"),v=p.map(w=>m.put(w));return Pe.waitFor(v)})}(t,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&i>=5&&(o=o.next(()=>this.Bs(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(s)))),r<7&&i>=7&&(o=o.next(()=>this.Us(s))),r<8&&i>=8&&(o=o.next(()=>this.qs(t,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&i>=10&&(o=o.next(()=>this.Ks(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const h=c.createObjectStore("documentOverlays",{keyPath:LY});h.createIndex("collectionPathOverlayIndex",BY,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",VY,{unique:!1})}(t)})),r<13&&i>=13&&(o=o.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:TY});h.createIndex("documentKeyIndex",DY),h.createIndex("collectionGroupIndex",AY)}(t)).next(()=>this.Gs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Qs(t,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:FY}).createIndex("sequenceNumberIndex",OY,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:PY}).createIndex("documentKeyIndex",NY,{unique:!1})}(t))),o}Ls(t){let e=0;return t.store("remoteDocuments").J((r,i)=>{e+=sk(i)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.K().next(i=>Pe.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",o).next(c=>Pe.forEach(c,h=>{En(h.userId===s.userId);const p=I_(this.wt,h);return j6(t,s.userId,p).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,c)=>{const h=new yr(o),p=[0,Oa(h)];s.push(e.get(p).next(m=>m?Pe.resolve():e.put({targetId:0,path:Oa(h),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Pe.waitFor(s))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:RY});const r=e.store("collectionParents"),i=new C2,s=o=>{if(i.add(o)){const c=o.lastSegment(),h=o.popLast();return r.put({collectionId:c,parent:Oa(h)})}};return e.store("remoteDocuments").J({H:!0},(o,c)=>{const h=new yr(o);return s(h.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([o,c,h],p)=>{const m=fh(c);return s(m.popLast())}))}Ks(t){const e=t.store("targets");return e.J((r,i)=>{const s=rE(i),o=F6(this.wt,s);return e.put(o)})}Gs(t,e){const r=e.store("remoteDocuments"),i=[];return r.J((s,o)=>{const c=e.store("remoteDocumentsV14"),h=(p=o,p.document?new qt(yr.fromString(p.document.name).popFirst(5)):p.noDocument?qt.fromSegments(p.noDocument.path):p.unknownDocument?qt.fromSegments(p.unknownDocument.path):an()).path.toArray();var p;const m={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(c.put(m))}).next(()=>Pe.waitFor(i))}Qs(t,e){const r=e.store("mutations"),i=Y6(this.wt),s=new e8(lk.Os,this.wt.ne);return r.K().next(o=>{const c=new Map;return o.forEach(h=>{var p;let m=null!==(p=c.get(h.userId))&&void 0!==p?p:me();I_(this.wt,h).keys().forEach(v=>m=m.add(v)),c.set(h.userId,m)}),Pe.forEach(c,(h,p)=>{const m=new Rs(p),v=nk.se(this.wt,m),w=s.getIndexManager(m),E=ok.se(m,this.wt,w,s.referenceDelegate);return new J6(i,E,v,w).recalculateAndSaveOverlaysForDocumentKeys(new _2(e,ia.ot),h).next()})})}}function t8(n){n.createObjectStore("targetDocuments",{keyPath:kY}).createIndex("documentTargetsIndex",MY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IY,{unique:!0}),n.createObjectStore("targetGlobal")}const S2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class T2{constructor(t,e,r,i,s,o,c,h,p,m,v=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.js=s,this.window=o,this.document=c,this.Ws=p,this.zs=m,this.Hs=v,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=w=>Promise.resolve(),!T2.V())throw new xt($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tK(this,i),this.ei=e+"main",this.wt=new M6(h),this.ni=new _l(this.ei,this.Hs,new hK(this.wt)),this.Vs=new XY(this.referenceDelegate,this.wt),this.remoteDocumentCache=Y6(this.wt),this.Ds=new jY,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===m&&xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt($e.FAILED_PRECONDITION,S2);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new ia(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var r=(0,qe.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,qe.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,qe.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ck(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(Yc(t))return St("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return cE(t).get("owner").next(e=>Pe.resolve(this.di(e)))}_i(t){return ck(t).delete(this.clientId)}wi(){var t=this;return(0,qe.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=po(r,"clientMetadata");return i.K().next(s=>{const o=t.gi(s,18e5),c=s.filter(h=>-1===o.indexOf(h));return Pe.forEach(c,h=>i.delete(h.clientId)).next(()=>c)})}).catch(()=>[]);if(t.si)for(const r of e)t.si.removeItem(t.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?Pe.resolve(!0):cE(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new xt($e.FAILED_PRECONDITION,S2);return!1}}return!(!this.networkEnabled||!this.inForeground)||ck(t).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&c)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&St("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,qe.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new _2(e,ia.ot);return t.li(r).next(()=>t._i(r))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(r=>this.mi(r.updateTimeMs,e)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>ck(t).K().next(e=>this.gi(e,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return ok.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new KY(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return nk.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,r){St("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",s=15===(o=this.Hs)?HY:14===o?k6:13===o?I6:12===o?UY:11===o?A6:void an();var o;let c;return this.ni.runTransaction(t,i,s,h=>(c=new _2(h,this.Ps?this.Ps.next():ia.ot),"readwrite-primary"===e?this.ai(c).next(p=>!!p||this.hi(c)).next(p=>{if(!p)throw xi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new xt($e.FAILED_PRECONDITION,jP);return r(c)}).next(p=>this.fi(c).next(()=>p)):this.bi(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}bi(t){return cE(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xt($e.FAILED_PRECONDITION,S2)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cE(t).put("owner",e)}static V(){return _l.V()}li(t){const e=cE(t);return e.get("owner").next(r=>this.di(r)?(St("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Pe.resolve())}mi(t,e){const r=Date.now();return!(t<r-e||t>r&&(xi(`Detected an update time that is in the future: ${t} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,G.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const r=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return St("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){xi("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cE(n){return po(n,"owner")}function ck(n){return po(n,"clientMetadata")}function D2(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class A2{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Pi=r,this.vi=i}static Vi(t,e){let r=me(),i=me();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A2(t,e.fromCache,r,i)}}class n8{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,r,i){return this.Ci(t,e).next(s=>s||this.xi(t,e,i,r)).next(s=>s||this.Ni(t,e))}Ci(t,e){if(v_(e))return Pe.resolve(null);let r=Lo(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=Gg(e,null,"F"),r=Lo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=me(...s);return this.Di.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,r).next(h=>{const p=this.ki(e,c);return this.Mi(e,p,o,h.readTime)?this.Ci(t,Gg(e,null,"F")):this.Oi(t,p,e,h)}))})))}xi(t,e,r,i){return v_(e)||i.isEqual(Sn.min())?this.Ni(t,e):this.Di.getDocuments(t,r).next(s=>{const o=this.ki(e,s);return this.Mi(e,o,r,i)?this.Ni(t,e):(AC()<=pl.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),x_(e)),this.Oi(t,o,e,HP(i,-1)))})}ki(t,e){let r=new Pr(r2(t));return e.forEach((i,s)=>{w_(t,s)&&(r=r.add(s))}),r}Mi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(t,e){return AC()<=pl.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",x_(e)),this.Di.getDocumentsMatchingQuery(t,e,ml.min())}Oi(t,e,r,i){return this.Di.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fK{constructor(t,e,r,i){this.persistence=t,this.Fi=e,this.wt=i,this.$i=new Zi(Bn),this.Bi=new d(s=>oh(s),Vg),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J6(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function r8(n,t,e,r){return new fK(n,t,e,r)}function i8(n,t){return I2.apply(this,arguments)}function I2(){return I2=(0,qe.Z)(function*(n,t){const e=Zt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.qi(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],c=[];let h=me();for(const p of i){o.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}for(const p of s){c.push(p.batchId);for(const m of p.mutations)h=h.add(m.key)}return e.localDocuments.getDocuments(r,h).next(p=>({Ki:p,removedBatchIds:o,addedBatchIds:c}))})})}),I2.apply(this,arguments)}function pK(n,t){const e=Zt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.Ui.newChangeBuffer({trackRemovals:!0});return function(o,c,h,p){const m=h.batch,v=m.keys();let w=Pe.resolve();return v.forEach(E=>{w=w.next(()=>p.getEntry(c,E)).next(D=>{const S=h.docVersions.get(E);En(null!==S),D.version.compareTo(S)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),p.addEntry(D)))})}),w.next(()=>o.mutationQueue.removeMutationBatch(c,m))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=me();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(c=c.add(o.batch.mutations[h].key));return c}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function s8(n){const t=Zt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function gK(n,t){const e=Zt(n),r=t.snapshotVersion;let i=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Ui.newChangeBuffer({trackRemovals:!0});i=e.$i;const c=[];t.targetChanges.forEach((m,v)=>{const w=i.get(v);if(!w)return;c.push(e.Vs.removeMatchingKeys(s,m.removedDocuments,v).next(()=>e.Vs.addMatchingKeys(s,m.addedDocuments,v)));let E=w.withSequenceNumber(s.currentSequenceNumber);var D,S,M;t.targetMismatches.has(v)?E=E.withResumeToken(rs.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(v,E),S=E,M=m,(0===(D=w).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&c.push(e.Vs.updateTargetData(s,E))});let h=g(),p=me();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(o8(s,o,t.documentUpdates).next(m=>{h=m.Gi,p=m.Qi})),!r.isEqual(Sn.min())){const m=e.Vs.getLastRemoteSnapshotVersion(s).next(v=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(m)}return Pe.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(e.$i=i,s))}function o8(n,t,e){let r=me(),i=me();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=g();return e.forEach((c,h)=>{const p=s.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Sn.min())?(t.removeEntry(c,h.readTime),o=o.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),o=o.insert(c,h)):St("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Gi:o,Qi:i}})}function mK(n,t){const e=Zt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Rx(n,t){const e=Zt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Vs.getTargetData(r,t).next(s=>s?(i=s,Pe.resolve(i)):e.Vs.allocateTargetId(r).next(o=>(i=new zg(t,o,0,r.currentSequenceNumber),e.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.$i=e.$i.insert(r.targetId,r),e.Bi.set(t,r.targetId)),r})}function Fx(n,t,e){return k2.apply(this,arguments)}function k2(){return k2=(0,qe.Z)(function*(n,t,e){const r=Zt(n),i=r.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yc(o))throw o;St("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}),k2.apply(this,arguments)}function uk(n,t,e){const r=Zt(n);let i=Sn.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(c,h,p){const m=Zt(c),v=m.Bi.get(p);return void 0!==v?Pe.resolve(m.$i.get(v)):m.Vs.getTargetData(h,p)}(r,o,Lo(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,t,e?i:Sn.min(),e?s:me())).next(c=>(c8(r,b_(t),c),{documents:c,ji:s})))}function a8(n,t){const e=Zt(n),r=Zt(e.Vs),i=e.$i.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",s=>r.te(s,t).next(o=>o?o.target:null))}function l8(n,t){const e=Zt(n),r=e.Li.get(t)||Sn.min();return e.persistence.runTransaction("Get new document changes","readonly",i=>e.Ui.getAllFromCollectionGroup(i,t,HP(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(c8(e,t,i),i))}function c8(n,t,e){let r=Sn.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(t,r)}function M2(){return M2=(0,qe.Z)(function*(n,t,e,r){const i=Zt(n);let s=me(),o=g();for(const p of e){const m=t.Wi(p.metadata.name);p.document&&(s=s.add(m));const v=t.zi(p);v.setReadTime(t.Hi(p.metadata.readTime)),o=o.insert(m,v)}const c=i.Ui.newChangeBuffer({trackRemovals:!0}),h=yield Rx(i,(p=r,Lo(Hg(yr.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",p=>o8(p,c,o).next(m=>(c.apply(p),m)).next(m=>i.Vs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>i.Vs.addMatchingKeys(p,s,h.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,m.Gi,m.Qi)).next(()=>m.Gi)))}),M2.apply(this,arguments)}function yK(n,t){return R2.apply(this,arguments)}function R2(){return R2=(0,qe.Z)(function*(n,t,e=me()){const r=yield Rx(n,Lo(w2(t.bundledQuery))),i=Zt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=is(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ds.saveNamedQuery(s,t);const c=r.withResumeToken(rs.EMPTY_BYTE_STRING,o);return i.$i=i.$i.insert(c.targetId,c),i.Vs.updateTargetData(s,c).next(()=>i.Vs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Vs.addMatchingKeys(s,e,r.targetId)).next(()=>i.Ds.saveNamedQuery(s,t))})}),R2.apply(this,arguments)}function u8(n,t){return`firestore_clients_${n}_${t}`}function d8(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function F2(n,t){return`firestore_targets_${n}_${t}`}class dk{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static Ji(t,e,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new xt(i.error.code,i.error.message))),o?new dk(t,e,i.state,s):(xi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uE{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Ji(t,e){const r=JSON.parse(e);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new xt(r.error.code,r.error.message))),s?new uE(t,r.state,i):(xi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hk{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Et();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=LC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new hk(t,s):(xi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class O2{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new O2(e.clientId,e.onlineState):(xi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class P2{constructor(){this.activeTargetIds=Et()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N2{constructor(t,e,r,i,s){this.window=t,this.js=e,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zi(Bn),this.started=!1,this.ir=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=u8(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new P2),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,qe.Z)(function*(){const e=yield t.syncEngine.Ri();for(const i of e){if(i===t.tr)continue;const s=t.getItem(u8(t.persistenceKey,i));if(s){const o=hk.Ji(i,s);o&&(t.sr=t.sr.insert(o.clientId,o))}}t._r();const r=t.storage.getItem(t.lr);if(r){const i=t.wr(r);i&&t.mr(i)}for(const i of t.ir)t.nr(i);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,r){this.yr(t,e,r),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(F2(this.persistenceKey,t));if(r){const i=uE.Ji(t,r);i&&(e=i.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(F2(this.persistenceKey,t))}updateQueryState(t,e,r){this.Tr(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.pr(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return St("SharedClientState","READ",t,e),e}setItem(t,e){St("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){St("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(St("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,qe.Z)(function*(){if(e.started){if(null!==r.key)if(e.cr.test(r.key)){if(null==r.newValue){const i=e.Rr(r.key);return e.br(i,null)}{const i=e.Pr(r.key,r.newValue);if(i)return e.br(i.clientId,i)}}else if(e.ar.test(r.key)){if(null!==r.newValue){const i=e.vr(r.key,r.newValue);if(i)return e.Vr(i)}}else if(e.hr.test(r.key)){if(null!==r.newValue){const i=e.Sr(r.key,r.newValue);if(i)return e.Dr(i)}}else if(r.key===e.lr){if(null!==r.newValue){const i=e.wr(r.newValue);if(i)return e.mr(i)}}else if(r.key===e.ur){const i=function(s){let o=ia.ot;if(null!=s)try{const c=JSON.parse(s);En("number"==typeof c),o=c}catch(c){xi("SharedClientState","Failed to read sequence number from WebStorage",c)}return o}(r.newValue);i!==ia.ot&&e.sequenceNumberHandler(i)}else if(r.key===e.dr){const i=e.Cr(r.newValue);yield Promise.all(i.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,r){const i=new dk(this.currentUser,t,e,r),s=d8(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Yi())}pr(t){const e=d8(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,r){const i=F2(this.persistenceKey,t),s=new uE(t,e,r);this.setItem(i,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const r=this.Rr(t);return hk.Ji(r,e)}vr(t,e){const r=this.ar.exec(t),i=Number(r[1]);return dk.Ji(new Rs(void 0!==r[2]?r[2]:null),i,e)}Sr(t,e){const r=this.hr.exec(t),i=Number(r[1]);return uE.Ji(i,e)}wr(t){return O2.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,qe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);St("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const r=e?this.sr.insert(t,e):this.sr.remove(t),i=this.gr(this.sr),s=this.gr(r),o=[],c=[];return s.forEach(h=>{i.has(h)||o.push(h)}),i.forEach(h=>{s.has(h)||c.push(h)}),this.syncEngine.Or(o,c).then(()=>{this.sr=r})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=Et();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class h8{constructor(){this.Fr=new P2,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,r){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new P2,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vK{Br(t){}shutdown(){}}class f8{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class wK{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class bK extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,r,i,s){const o=this.oo(t,e);St("RestConnection","Sending: ",o,r);const c={};return this.uo(c,i,s),this.co(t,o,c,r).then(h=>(St("RestConnection","Received: ",h),h),h=>{throw nh("RestConnection",`${t} failed with error: `,h,"url: ",o,"request:",r),h})}ao(t,e,r,i,s,o){return this.ro(t,e,r,i,s)}uo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Lf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}oo(t,e){return`${this.so}/v1/${e}:${xK[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,r,i){return new Promise((s,o)=>{const c=new BP;c.listenOnce(JU.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case TC.NO_ERROR:const p=c.getResponseJson();St("Connection","XHR received:",JSON.stringify(p)),s(p);break;case TC.TIMEOUT:St("Connection",'RPC "'+t+'" timed out'),o(new xt($e.DEADLINE_EXCEEDED,"Request time out"));break;case TC.HTTP_ERROR:const m=c.getStatus();if(St("Connection",'RPC "'+t+'" failed with status:',m,"response text:",c.getResponseText()),m>0){const v=c.getResponseJson().error;if(v&&v.status&&v.message){const w=function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(D)>=0?D:$e.UNKNOWN}(v.status);o(new xt(w,v.message))}else o(new xt($e.UNKNOWN,"Server responded with status "+c.getStatus()))}else o(new xt($e.UNAVAILABLE,"Connection failed."));break;default:an()}}finally{St("Connection",'RPC "'+t+'" completed.')}});const h=JSON.stringify(i);c.send(e,"POST",h,r,15)})}ho(t,e,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Ng(),o=LP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new DI({})),this.uo(c.initMessageHeaders,e,r),(0,G.uI)()||(0,G.b$)()||(0,G.d)()||(0,G.w1)()||(0,G.Mn)()||(0,G.ru)()||(c.httpHeadersOverwriteParam="$httpHeaders");const h=i.join("");St("Connection","Creating WebChannel: "+h,c);const p=s.createWebChannel(h,c);let m=!1,v=!1;const w=new wK({jr:D=>{v?St("Connection","Not sending because WebChannel is closed:",D):(m||(St("Connection","Opening WebChannel transport."),p.open(),m=!0),St("Connection","WebChannel sending:",D),p.send(D))},Wr:()=>p.close()}),E=(D,S,M)=>{D.listen(S,P=>{try{M(P)}catch(V){setTimeout(()=>{throw V},0)}})};return E(p,eh.EventType.OPEN,()=>{v||St("Connection","WebChannel transport opened.")}),E(p,eh.EventType.CLOSE,()=>{v||(v=!0,St("Connection","WebChannel transport closed"),w.eo())}),E(p,eh.EventType.ERROR,D=>{v||(v=!0,nh("Connection","WebChannel transport errored:",D),w.eo(new xt($e.UNAVAILABLE,"The operation could not be completed")))}),E(p,eh.EventType.MESSAGE,D=>{var S;if(!v){const M=D.data[0];En(!!M);const P=M,V=P.error||(null===(S=P[0])||void 0===S?void 0:S.error);if(V){St("Connection","WebChannel received error:",V);const B=V.status;let X=function(we){const Y=bs[we];if(void 0!==Y)return u(Y)}(B),he=V.message;void 0===X&&(X=$e.INTERNAL,he="Unknown error status: "+B+" with message "+V.message),v=!0,w.eo(new xt(X,he)),p.close()}else St("Connection","WebChannel received:",M),w.no(M)}}),E(o,e6.STAT_EVENT,D=>{D.stat===DC.PROXY?St("Connection","Detected buffering proxy"):D.stat===DC.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.Zr()},0),w}}function p8(){return typeof window<"u"?window:null}function fk(){return typeof document<"u"?document:null}function dE(n){return new QC(n,!0)}class L2{constructor(t,e,r=1e3,i=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,e-r);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class g8{constructor(t,e,r,i,s,o,c,h){this.js=t,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new L2(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,qe.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,qe.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var r=this;return(0,qe.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==t?r.So.reset():e&&e.code===$e.RESOURCE_EXHAUSTED?(xi(e.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):e&&e.code===$e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===e&&this.Uo(r,i)},r=>{t(()=>{const i=new xt($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(t,e){const r=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var t=this;this.state=5,this.So.Io((0,qe.Z)(function*(){t.state=0,t.start()}))}qo(t){return St("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CK extends g8{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function mY(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:an(),i=t.targetChange.targetIds||[],s=function(h,p){return h.dt?(En(void 0===p||"string"==typeof p),rs.fromBase64String(p||"")):(En(void 0===p||p instanceof Uint8Array),rs.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(h){const p=void 0===h.code?$e.UNKNOWN:u(h.code);return new xt(p,h.message||"")}(o);e=new vn(r,i,s,c||null)}else if("documentChange"in t){const r=t.documentChange,i=hh(n,r.document.name),s=is(r.document.updateTime),o=new Qs({mapValue:{fields:r.document.fields}}),c=Jr.newFoundDocument(i,s,o);e=new xn(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const r=t.documentDelete,i=hh(n,r.document),s=r.readTime?is(r.readTime):Sn.min(),o=Jr.newNoDocument(i,s);e=new xn([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=hh(n,r.document);e=new xn([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return an();{const r=t.filter,s=new p6(r.count||0);e=new yt(r.targetId,s)}}var h;return e}(this.wt,t),r=function(i){if(!("targetChange"in i))return Sn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Sn.min():s.readTime?is(s.readTime):Sn.min()}(t);return this.listener.Go(e,r)}Qo(t){const e={};e.database=tE(this.wt),e.addTarget=function(i,s){let o;const c=s.target;return o=__(c)?{documents:x6(i,c)}:{query:w6(i,c)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Dx(i,s.resumeToken):s.snapshotVersion.compareTo(Sn.min())>0&&(o.readTime=Yf(i,s.snapshotVersion.toTimestamp())),o}(this.wt,t);const r=function yY(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return an()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Oo(e)}jo(t){const e={};e.database=tE(this.wt),e.removeTarget=t,this.Oo(e)}}class EK extends g8{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(En(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function _Y(n,t){return n&&n.length>0?(En(void 0!==t),n.map(e=>function(r,i){let s=is(r.updateTime?r.updateTime:i);return s.isEqual(Sn.min())&&(s=is(i)),new u2(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=is(t.commitTime);return this.listener.Jo(r,e)}return En(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=tE(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>nE(this.wt,r))};this.Oo(e)}}class SK extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new xt($e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(t,e,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xt($e.UNKNOWN,i.toString())})}ao(t,e,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(t,e,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt($e.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class TK{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(xi(e),this.su=!1):St("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class DK{constructor(t,e,r,i,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(c=>{r.enqueueAndForget((0,qe.Z)(function*(){var h;qg(o)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,qe.Z)(function*(p){const m=Zt(p);m.lu.add(4),yield Ox(m),m._u.set("Unknown"),m.lu.delete(4),yield hE(m)}),function(p){return h.apply(this,arguments)})(o))}))}),this._u=new TK(r,i)}}function hE(n){return B2.apply(this,arguments)}function B2(){return B2=(0,qe.Z)(function*(n){if(qg(n))for(const t of n.fu)yield t(!0)}),B2.apply(this,arguments)}function Ox(n){return V2.apply(this,arguments)}function V2(){return V2=(0,qe.Z)(function*(n){for(const t of n.fu)yield t(!1)}),V2.apply(this,arguments)}function pk(n,t){const e=Zt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),G2(e)?H2(e):Nx(e).Co()&&U2(e,t))}function fE(n,t){const e=Zt(n),r=Nx(e);e.hu.delete(t),r.Co()&&m8(e,t),0===e.hu.size&&(r.Co()?r.ko():qg(e)&&e._u.set("Unknown"))}function U2(n,t){n.wu.Nt(t.targetId),Nx(n).Qo(t)}function m8(n,t){n.wu.Nt(t),Nx(n).jo(t)}function H2(n){n.wu=new ei({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Nx(n).start(),n._u.iu()}function G2(n){return qg(n)&&!Nx(n).Do()&&n.hu.size>0}function qg(n){return 0===Zt(n).lu.size}function _8(n){n.wu=void 0}function AK(n){return j2.apply(this,arguments)}function j2(){return j2=(0,qe.Z)(function*(n){n.hu.forEach((t,e)=>{U2(n,t)})}),j2.apply(this,arguments)}function IK(n,t){return z2.apply(this,arguments)}function z2(){return z2=(0,qe.Z)(function*(n,t){_8(n),G2(n)?(n._u.uu(t),H2(n)):n._u.set("Unknown")}),z2.apply(this,arguments)}function kK(n,t,e){return $2.apply(this,arguments)}function $2(){return $2=(0,qe.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof vn&&2===t.state&&t.cause)try{yield(r=(0,qe.Z)(function*(i,s){const o=s.cause;for(const c of s.targetIds)i.hu.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.hu.delete(c),i.wu.removeTarget(c))}),function(i,s){return r.apply(this,arguments)})(n,t)}catch(r){St("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield gk(n,r)}else if(t instanceof xn?n.wu.Ut(t):t instanceof yt?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Sn.min()))try{const r=yield s8(n.localStore);e.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=i.hu.get(h);p&&i.hu.set(h,p.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach(c=>{const h=i.hu.get(c);if(!h)return;i.hu.set(c,h.withResumeToken(rs.EMPTY_BYTE_STRING,h.snapshotVersion)),m8(i,c);const p=new zg(h.target,c,1,h.sequenceNumber);U2(i,p)}),i.remoteSyncer.applyRemoteEvent(o)}(n,e))}catch(r){St("RemoteStore","Failed to raise snapshot:",r),yield gk(n,r)}var r}),$2.apply(this,arguments)}function gk(n,t,e){return W2.apply(this,arguments)}function W2(){return W2=(0,qe.Z)(function*(n,t,e){if(!Yc(t))throw t;n.lu.add(1),yield Ox(n),n._u.set("Offline"),e||(e=()=>s8(n.localStore)),n.asyncQueue.enqueueRetryable((0,qe.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield hE(n)}))}),W2.apply(this,arguments)}function y8(n,t){return t().catch(e=>gk(n,e,t))}function Px(n){return q2.apply(this,arguments)}function q2(){return q2=(0,qe.Z)(function*(n){const t=Zt(n),e=Zg(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;MK(t);)try{const i=yield mK(t.localStore,r);if(null===i){0===t.au.length&&e.ko();break}r=i.batchId,RK(t,i)}catch(i){yield gk(t,i)}v8(t)&&x8(t)}),q2.apply(this,arguments)}function MK(n){return qg(n)&&n.au.length<10}function RK(n,t){n.au.push(t);const e=Zg(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function v8(n){return qg(n)&&!Zg(n).Do()&&n.au.length>0}function x8(n){Zg(n).start()}function FK(n){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,qe.Z)(function*(n){Zg(n).Xo()}),Z2.apply(this,arguments)}function OK(n){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,qe.Z)(function*(n){const t=Zg(n);for(const e of n.au)t.Ho(e.mutations)}),Y2.apply(this,arguments)}function PK(n,t,e){return K2.apply(this,arguments)}function K2(){return K2=(0,qe.Z)(function*(n,t,e){const r=n.au.shift(),i=v2.from(r,t,e);yield y8(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Px(n)}),K2.apply(this,arguments)}function NK(n,t){return X2.apply(this,arguments)}function X2(){return X2=(0,qe.Z)(function*(n,t){var e;t&&Zg(n).zo&&(yield(e=(0,qe.Z)(function*(r,i){if(l(s=i.code)&&s!==$e.ABORTED){const o=r.au.shift();Zg(r).No(),yield y8(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Px(r)}var s}),function(r,i){return e.apply(this,arguments)})(n,t)),v8(n)&&x8(n)}),X2.apply(this,arguments)}function w8(n,t){return Q2.apply(this,arguments)}function Q2(){return Q2=(0,qe.Z)(function*(n,t){const e=Zt(n);e.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const r=qg(e);e.lu.add(3),yield Ox(e),r&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield hE(e)}),Q2.apply(this,arguments)}function J2(n,t){return eN.apply(this,arguments)}function eN(){return eN=(0,qe.Z)(function*(n,t){const e=Zt(n);t?(e.lu.delete(2),yield hE(e)):t||(e.lu.add(2),yield Ox(e),e._u.set("Unknown"))}),eN.apply(this,arguments)}function Nx(n){return n.mu||(n.mu=function(t,e,r){const i=Zt(t);return i.tu(),new CK(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:AK.bind(null,n),Jr:IK.bind(null,n),Go:kK.bind(null,n)}),n.fu.push(function(){var t=(0,qe.Z)(function*(e){e?(n.mu.No(),G2(n)?H2(n):n._u.set("Unknown")):(yield n.mu.stop(),_8(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Zg(n){return n.gu||(n.gu=function(t,e,r){const i=Zt(t);return i.tu(),new EK(e,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:FK.bind(null,n),Jr:NK.bind(null,n),Yo:OK.bind(null,n),Jo:PK.bind(null,n)}),n.fu.push(function(){var t=(0,qe.Z)(function*(e){e?(n.gu.No(),yield Px(n)):(yield n.gu.stop(),n.au.length>0&&(St("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class tN{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,e,r,i,s){const o=Date.now()+r,c=new tN(t,e,o,i,s);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt($e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lx(n,t){if(xi("AsyncQueue",`${t}: ${n}`),Yc(n))return new xt($e.UNAVAILABLE,`${t}: ${n}`);throw n}class Bx{constructor(t){this.comparator=t?(e,r)=>t(e,r)||qt.comparator(e.key,r.key):(e,r)=>qt.comparator(e.key,r.key),this.keyedMap=b(),this.sortedSet=new Zi(this.comparator)}static emptySet(t){return new Bx(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bx)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Bx;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class b8{constructor(){this.yu=new Zi(qt.comparator)}track(t){const e=t.doc.key,r=this.yu.get(e);r?0!==t.type&&3===r.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==r.type?this.yu=this.yu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.yu=this.yu.remove(e):1===t.type&&2===r.type?this.yu=this.yu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):an():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,r)=>{t.push(r)}),t}}class Vx{constructor(t,e,r,i,s,o,c,h){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h}static fromInitialDocuments(t,e,r,i){const s=[];return e.forEach(o=>{s.push({type:0,doc:o})}),new Vx(t,e,Bx.emptySet(e),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class LK{constructor(){this.Iu=void 0,this.listeners=[]}}class BK{constructor(){this.queries=new d(t=>ZI(t),$f),this.onlineState="Unknown",this.Tu=new Set}}function nN(n,t){return rN.apply(this,arguments)}function rN(){return rN=(0,qe.Z)(function*(n,t){const e=Zt(n),r=t.query;let i=!1,s=e.queries.get(r);if(s||(i=!0,s=new LK),i)try{s.Iu=yield e.onListen(r)}catch(o){const c=Lx(o,`Initialization of query '${x_(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&oN(e)}),rN.apply(this,arguments)}function iN(n,t){return sN.apply(this,arguments)}function sN(){return sN=(0,qe.Z)(function*(n,t){const e=Zt(n),r=t.query;let i=!1;const s=e.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)}),sN.apply(this,arguments)}function VK(n,t){const e=Zt(n);let r=!1;for(const i of t){const o=e.queries.get(i.query);if(o){for(const c of o.listeners)c.Au(i)&&(r=!0);o.Iu=i}}r&&oN(e)}function UK(n,t,e){const r=Zt(n),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(e);r.queries.delete(t)}function oN(n){n.Tu.forEach(t=>{t.next()})}class aN{constructor(t,e,r){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Vx(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Vx.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class HK{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class C8{constructor(t){this.wt=t}Wi(t){return hh(this.wt,t)}zi(t){return t.metadata.exists?v6(this.wt,t.document,!1):Jr.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return is(t)}}class GK{constructor(t,e,r){this.xu=t,this.localStore=e,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=E8(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const r=yr.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,r=new C8(this.wt);for(const i of t)if(i.metadata.queries){const s=r.Wi(i.metadata.name);for(const o of i.metadata.queries){const c=(e.get(o)||me()).add(s);e.set(o,c)}}return e}complete(){var t=this;return(0,qe.Z)(function*(){const e=yield function _K(n,t,e,r){return M2.apply(this,arguments)}(t.localStore,new C8(t.wt),t.documents,t.xu.id),r=t.ku(t.documents);for(const i of t.queries)yield yK(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function E8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class S8{constructor(t){this.key=t}}class T8{constructor(t){this.key=t}}class D8{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=me(),this.mutatedKeys=me(),this.Lu=r2(t),this.Uu=new Bx(this.Lu)}get qu(){return this.Fu}Ku(t,e){const r=e?e.Gu:new b8,i=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,c=!1;const h="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,p="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((m,v)=>{const w=i.get(m),E=w_(this.query,v)?v:null,D=!!w&&this.mutatedKeys.has(w.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let M=!1;w&&E?w.data.isEqual(E.data)?D!==S&&(r.track({type:3,doc:E}),M=!0):this.Qu(w,E)||(r.track({type:2,doc:E}),M=!0,(h&&this.Lu(E,h)>0||p&&this.Lu(E,p)<0)&&(c=!0)):!w&&E?(r.track({type:0,doc:E}),M=!0):w&&!E&&(r.track({type:1,doc:w}),M=!0,(h||p)&&(c=!0)),M&&(E?(o=o.add(E),s=S?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const m="F"===this.query.limitType?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{Uu:o,Gu:r,Mi:c,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((p,m)=>function(v,w){const E=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an()}};return E(v)-E(w)}(p.type,m.type)||this.Lu(p.doc,m.doc)),this.ju(r);const o=e?this.Wu():[],c=0===this.Bu.size&&this.current?1:0,h=c!==this.$u;return this.$u=c,0!==s.length||h?{snapshot:new Vx(this.query,t.Uu,i,s,t.mutatedKeys,0===c,h,!1),zu:o}:{zu:o}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new b8,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=me(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const e=[];return t.forEach(r=>{this.Bu.has(r)||e.push(new T8(r))}),this.Bu.forEach(r=>{t.has(r)||e.push(new S8(r))}),e}Ju(t){this.Fu=t.ji,this.Bu=me();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Vx.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jK{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class zK{constructor(t){this.key=t,this.Xu=!1}}class $K{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new d(c=>ZI(c),$f),this.ec=new Map,this.nc=new Set,this.sc=new Zi(qt.comparator),this.ic=new Map,this.rc=new E2,this.oc={},this.uc=new Map,this.cc=F_.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function WK(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,qe.Z)(function*(n,t){const e=MN(n);let r,i;const s=e.tc.get(t);if(s)r=s.targetId,e.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield Rx(e.localStore,Lo(t));e.isPrimaryClient&&pk(e.remoteStore,o);const c=e.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield cN(e,t,r,"current"===c)}return i}),lN.apply(this,arguments)}function cN(n,t,e,r){return uN.apply(this,arguments)}function uN(){return uN=(0,qe.Z)(function*(n,t,e,r){n.hc=(m,v,w)=>{return(E=(0,qe.Z)(function*(D,S,M,P){let V=S.view.Ku(M);V.Mi&&(V=yield uk(D.localStore,S.query,!1).then(({documents:he})=>S.view.Ku(he,V)));const B=P&&P.targetChanges.get(S.targetId),X=S.view.applyChanges(V,D.isPrimaryClient,B);return xN(D,S.targetId,X.zu),X.snapshot}),function(D,S,M,P){return E.apply(this,arguments)})(n,m,v,w);var E};const i=yield uk(n.localStore,t,!0),s=new D8(t,i.ji),o=s.Ku(i.documents),c=sn.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),h=s.applyChanges(o,n.isPrimaryClient,c);xN(n,e,h.zu);const p=new jK(t,e,s);return n.tc.set(t,p),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),h.snapshot}),uN.apply(this,arguments)}function qK(n,t){return dN.apply(this,arguments)}function dN(){return dN=(0,qe.Z)(function*(n,t){const e=Zt(n),r=e.tc.get(t),i=e.ec.get(r.targetId);if(i.length>1)return e.ec.set(r.targetId,i.filter(s=>!$f(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fx(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),fE(e.remoteStore,r.targetId),Ux(e,r.targetId)}).catch(Xl))):(Ux(e,r.targetId),yield Fx(e.localStore,r.targetId,!0))}),dN.apply(this,arguments)}function hN(){return hN=(0,qe.Z)(function*(n,t,e){const r=RN(n);try{const i=yield function(s,o){const c=Zt(s),h=ui.now(),p=o.reduce((w,E)=>w.add(E.key),me());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=g(),D=me();return c.Ui.getEntries(w,p).next(S=>{E=S,E.forEach((M,P)=>{P.isValidDocument()||(D=D.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,E)).next(S=>{m=S;const M=[];for(const P of o){const V=f6(P,m.get(P.key).overlayedDocument);null!=V&&M.push(new uh(P.key,V,VC(V.value.mapValue),Ci.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,M,o)}).next(S=>{v=S;const M=S.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(w,S.batchId,M)})}).then(()=>({batchId:v.batchId,changes:T(m)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let h=s.oc[s.currentUser.toKey()];h||(h=new Zi(Bn)),h=h.insert(o,c),s.oc[s.currentUser.toKey()]=h}(r,i.batchId,e),yield Kf(r,i.changes),yield Px(r.remoteStore)}catch(i){const s=Lx(i,"Failed to persist write");e.reject(s)}}),hN.apply(this,arguments)}function A8(n,t){return fN.apply(this,arguments)}function fN(){return fN=(0,qe.Z)(function*(n,t){const e=Zt(n);try{const r=yield gK(e.localStore,t);t.targetChanges.forEach((i,s)=>{const o=e.ic.get(s);o&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?En(o.Xu):i.removedDocuments.size>0&&(En(o.Xu),o.Xu=!1))}),yield Kf(e,r,t)}catch(r){yield Xl(r)}}),fN.apply(this,arguments)}function I8(n,t,e){const r=Zt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.tc.forEach((s,o)=>{const c=o.view.Eu(t);c.snapshot&&i.push(c.snapshot)}),function(s,o){const c=Zt(s);c.onlineState=o;let h=!1;c.queries.forEach((p,m)=>{for(const v of m.listeners)v.Eu(o)&&(h=!0)}),h&&oN(c)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YK(n,t,e){return pN.apply(this,arguments)}function pN(){return pN=(0,qe.Z)(function*(n,t,e){const r=Zt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.ic.get(t),s=i&&i.key;if(s){let o=new Zi(qt.comparator);o=o.insert(s,Jr.newNoDocument(s,Sn.min()));const c=me().add(s),h=new Gt(Sn.min(),new Map,new Pr(Bn),o,c);yield A8(r,h),r.sc=r.sc.remove(s),r.ic.delete(t),wN(r)}else yield Fx(r.localStore,t,!1).then(()=>Ux(r,t,e)).catch(Xl)}),pN.apply(this,arguments)}function KK(n,t){return gN.apply(this,arguments)}function gN(){return gN=(0,qe.Z)(function*(n,t){const e=Zt(n),r=t.batch.batchId;try{const i=yield pK(e.localStore,t);vN(e,r,null),yN(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Kf(e,i)}catch(i){yield Xl(i)}}),gN.apply(this,arguments)}function XK(n,t,e){return mN.apply(this,arguments)}function mN(){return mN=(0,qe.Z)(function*(n,t,e){const r=Zt(n);try{const i=yield function(s,o){const c=Zt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,o).next(m=>(En(null!==m),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,t);vN(r,t,e),yN(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Kf(r,i)}catch(i){yield Xl(i)}}),mN.apply(this,arguments)}function _N(){return _N=(0,qe.Z)(function*(n,t){const e=Zt(n);qg(e.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=Zt(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===r)return void t.resolve();const i=e.uc.get(r)||[];i.push(t),e.uc.set(r,i)}catch(r){const i=Lx(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}}),_N.apply(this,arguments)}function yN(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function vN(n,t,e){const r=Zt(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Ux(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.ec.get(t))n.tc.delete(r),e&&n.Zu.lc(r,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(r=>{n.rc.containsKey(r)||k8(n,r)})}function k8(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(fE(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),wN(n))}function xN(n,t,e){for(const r of e)r instanceof S8?(n.rc.addReference(r.key,t),JK(n,r)):r instanceof T8?(St("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,t),n.rc.containsKey(r.key)||k8(n,r.key)):an()}function JK(n,t){const e=t.key,r=e.path.canonicalString();n.sc.get(e)||n.nc.has(r)||(St("SyncEngine","New document in limbo: "+e),n.nc.add(r),wN(n))}function wN(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new qt(yr.fromString(t)),r=n.cc.next();n.ic.set(r,new zK(e)),n.sc=n.sc.insert(e,r),pk(n.remoteStore,new zg(Lo(Hg(e.path)),r,2,ia.ot))}}function Kf(n,t,e){return bN.apply(this,arguments)}function bN(){return bN=(0,qe.Z)(function*(n,t,e){const r=Zt(n),i=[],s=[],o=[];var c;r.tc.isEmpty()||(r.tc.forEach((c,h)=>{o.push(r.hc(h,t,e).then(p=>{if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);const m=A2.Vi(h.targetId,p);s.push(m)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(c=(0,qe.Z)(function*(h,p){const m=Zt(h);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Pe.forEach(p,w=>Pe.forEach(w.Pi,E=>m.persistence.referenceDelegate.addReference(v,w.targetId,E)).next(()=>Pe.forEach(w.vi,E=>m.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))}catch(v){if(!Yc(v))throw v;St("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const E=m.$i.get(w),S=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);m.$i=m.$i.insert(w,S)}}}),function(h,p){return c.apply(this,arguments)})(r.localStore,s))}),bN.apply(this,arguments)}function eX(n,t){return CN.apply(this,arguments)}function CN(){return CN=(0,qe.Z)(function*(n,t){const e=Zt(n);if(!e.currentUser.isEqual(t)){St("SyncEngine","User change. New user:",t.toKey());const r=yield i8(e.localStore,t);e.currentUser=t,(i=e).uc.forEach(o=>{o.forEach(c=>{c.reject(new xt($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Kf(e,r.Ki)}var i}),CN.apply(this,arguments)}function tX(n,t){const e=Zt(n),r=e.ic.get(t);if(r&&r.Xu)return me().add(r.key);{let i=me();const s=e.ec.get(t);if(!s)return i;for(const o of s){const c=e.tc.get(o);i=i.unionWith(c.view.qu)}return i}}function nX(n,t){return EN.apply(this,arguments)}function EN(){return EN=(0,qe.Z)(function*(n,t){const e=Zt(n),r=yield uk(e.localStore,t.query,!0),i=t.view.Ju(r);return e.isPrimaryClient&&xN(e,t.targetId,i.zu),i}),EN.apply(this,arguments)}function rX(n,t){return SN.apply(this,arguments)}function SN(){return SN=(0,qe.Z)(function*(n,t){const e=Zt(n);return l8(e.localStore,t).then(r=>Kf(e,r))}),SN.apply(this,arguments)}function iX(n,t,e,r){return TN.apply(this,arguments)}function TN(){return TN=(0,qe.Z)(function*(n,t,e,r){const i=Zt(n),s=yield function(o,c){const h=Zt(o),p=Zt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",m=>p.yn(m,c).next(v=>v?h.localDocuments.getDocuments(m,v):Pe.resolve(null)))}(i.localStore,t);var c;null!==s?("pending"===e?yield Px(i.remoteStore):"acknowledged"===e||"rejected"===e?(vN(i,t,r||null),yN(i,t),c=t,Zt(Zt(i.localStore).mutationQueue).In(c)):an(),yield Kf(i,s)):St("SyncEngine","Cannot apply mutation batch with id: "+t)}),TN.apply(this,arguments)}function DN(){return DN=(0,qe.Z)(function*(n,t){const e=Zt(n);if(MN(e),RN(e),!0===t&&!0!==e.ac){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield M8(e,r.toArray());e.ac=!0,yield J2(e.remoteStore,!0);for(const s of i)pk(e.remoteStore,s)}else if(!1===t&&!1!==e.ac){const r=[];let i=Promise.resolve();e.ec.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ux(e,o),Fx(e.localStore,o,!0))),fE(e.remoteStore,o)}),yield i,yield M8(e,r),function(s){const o=Zt(s);o.ic.forEach((c,h)=>{fE(o.remoteStore,h)}),o.rc.cs(),o.ic=new Map,o.sc=new Zi(qt.comparator)}(e),e.ac=!1,yield J2(e.remoteStore,!1)}}),DN.apply(this,arguments)}function M8(n,t,e){return AN.apply(this,arguments)}function AN(){return AN=(0,qe.Z)(function*(n,t,e){const r=Zt(n),i=[],s=[];for(const o of t){let c;const h=r.ec.get(o);if(h&&0!==h.length){c=yield Rx(r.localStore,Lo(h[0]));for(const p of h){const m=r.tc.get(p),v=yield nX(r,m);v.snapshot&&s.push(v.snapshot)}}else{const p=yield a8(r.localStore,o);c=yield Rx(r.localStore,p),yield cN(r,R8(p),o,!1)}i.push(c)}return r.Zu.Go(s),i}),AN.apply(this,arguments)}function R8(n){return n2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oX(n){const t=Zt(n);return Zt(Zt(t.localStore).persistence).Ri()}function aX(n,t,e,r){return IN.apply(this,arguments)}function IN(){return IN=(0,qe.Z)(function*(n,t,e,r){const i=Zt(n);if(i.ac)return void St("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield l8(i.localStore,b_(s[0])),c=Gt.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Kf(i,o,c);break}case"rejected":yield Fx(i.localStore,t,!0),Ux(i,t,r);break;default:an()}}),IN.apply(this,arguments)}function lX(n,t,e){return kN.apply(this,arguments)}function kN(){return kN=(0,qe.Z)(function*(n,t,e){const r=MN(n);if(r.ac){for(const i of t){if(r.ec.has(i)){St("SyncEngine","Adding an already active target "+i);continue}const s=yield a8(r.localStore,i),o=yield Rx(r.localStore,s);yield cN(r,R8(s),o.targetId,!1),pk(r.remoteStore,o)}for(const i of e)r.ec.has(i)&&(yield Fx(r.localStore,i,!1).then(()=>{fE(r.remoteStore,i),Ux(r,i)}).catch(Xl))}}),kN.apply(this,arguments)}function MN(n){const t=Zt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=A8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YK.bind(null,t),t.Zu.Go=VK.bind(null,t.eventManager),t.Zu.lc=UK.bind(null,t.eventManager),t}function RN(n){const t=Zt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XK.bind(null,t),t}class F8{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,qe.Z)(function*(){e.wt=dE(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return r8(this.persistence,new n8,t.initialUser,this.wt)}_c(t){return new e8(lk.Os,this.wt)}dc(t){return new h8}terminate(){var t=this;return(0,qe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class O8 extends F8{constructor(t,e,r){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield e().call(r,t),yield r.yc.initialize(r,t),yield RN(r.yc.syncEngine),yield Px(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return r8(this.persistence,new n8,t.initialUser,this.wt)}mc(t,e){return new JY(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const r=new WP(e,this.persistence);return new $P(t.asyncQueue,r)}_c(t){const e=D2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vl.withCacheSize(this.cacheSizeBytes):vl.DEFAULT;return new T2(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,p8(),fk(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new h8}}class uX extends O8{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,qe.Z)(function*(){yield e().call(r,t);const i=r.yc.syncEngine;r.sharedClientState instanceof N2&&(r.sharedClientState.syncEngine={kr:iX.bind(null,i),Mr:aX.bind(null,i),Or:lX.bind(null,i),Ri:oX.bind(null,i),Nr:rX.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var s=(0,qe.Z)(function*(o){yield function sX(n,t){return DN.apply(this,arguments)}(r.yc.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}dc(t){const e=p8();if(!N2.V(e))throw new xt($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=D2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new N2(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class FN{initialize(t,e){var r=this;return(0,qe.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>I8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=eX.bind(null,r.syncEngine),yield J2(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new BK}createDatastore(t){const e=dE(t.databaseInfo.databaseId),r=new bK(t.databaseInfo);return new SK(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,s=c=>I8(this.syncEngine,c,0),o=f8.V()?new f8:new vK,new DK(e,r,i,s,o);var e,r,i,s,o}createSyncEngine(t,e){return function(r,i,s,o,c,h,p){const m=new $K(r,i,s,o,c,h);return p&&(m.ac=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,qe.Z)(function*(e){const r=Zt(e);St("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ox(r),r.du.shutdown(),r._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function P8(n,t=10240){let e=0;return{read:()=>(0,qe.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,qe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class mk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):xi("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class dX{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new wi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,qe.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,qe.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,qe.Z)(function*(){const e=yield t.bc();if(null===e)return null;const r=t.Ac.decode(e),i=Number(r);isNaN(i)&&t.Pc(`length string (${r}) is not valid number`);const s=yield t.vc(i);return new HK(JSON.parse(s),e.length+i)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,qe.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}vc(t){var e=this;return(0,qe.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const r=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,qe.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class hX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,qe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xt($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,qe.Z)(function*(s,o){const c=Zt(s),h=tE(c.wt)+"/documents",p={documents:o.map(E=>eE(c.wt,E))},m=yield c.ao("BatchGetDocuments",h,p,o.length),v=new Map;m.forEach(E=>{const D=function gY(n,t){return"found"in t?function(e,r){En(!!r.found);const i=hh(e,r.found.name),s=is(r.found.updateTime),o=new Qs({mapValue:{fields:r.found.fields}});return Jr.newFoundDocument(i,s,o)}(n,t):"missing"in t?function(e,r){En(!!r.missing),En(!!r.readTime);const i=hh(e,r.missing),s=is(r.readTime);return Jr.newNoDocument(i,s)}(n,t):an()}(c.wt,E);v.set(D.key.toString(),D)});const w=[];return o.forEach(E=>{const D=v.get(E.toString());En(!!D),w.push(D)}),w}),function(s,o){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new S_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,qe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const s=qt.fromPath(i);t.mutations.push(new JI(s,t.precondition(s)))}),yield(r=(0,qe.Z)(function*(i,s){const o=Zt(i),c=tE(o.wt)+"/documents",h={writes:s.map(p=>nE(o.wt,p))};yield o.ro("Commit",c,h)}),function(i,s){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw an();e=Sn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new xt($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ci.updateTime(e):Ci.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Sn.min()))throw new xt($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(e)}return Ci.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class fX{constructor(t,e,r,i,s){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=s,this.Dc=r.maxAttempts,this.So=new L2(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,qe.Z)(function*(){const e=new hX(t.datastore),r=t.xc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(s=>{t.Nc(s)}))}).catch(i=>{t.Nc(i)})}))}xc(t){try{const e=this.updateFunction(t);return!f_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!l(e)}return!1}}class pX{constructor(t,e,r,i){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Rs.UNAUTHENTICATED,this.clientId=kC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,qe.Z)(function*(c){St("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(St("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return(0,qe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Lx(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function N8(n,t){return ON.apply(this,arguments)}function ON(){return ON=(0,qe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,qe.Z)(function*(s){r.isEqual(s)||(yield i8(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),ON.apply(this,arguments)}function L8(n,t){return PN.apply(this,arguments)}function PN(){return PN=(0,qe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield NN(n);St("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>w8(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>w8(t.remoteStore,s)),n.onlineComponents=t}),PN.apply(this,arguments)}function NN(n){return LN.apply(this,arguments)}function LN(){return LN=(0,qe.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield N8(n,new F8)),n.offlineComponents}),LN.apply(this,arguments)}function _k(n){return BN.apply(this,arguments)}function BN(){return BN=(0,qe.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield L8(n,new FN)),n.onlineComponents}),BN.apply(this,arguments)}function B8(n){return NN(n).then(t=>t.persistence)}function yk(n){return NN(n).then(t=>t.localStore)}function V8(n){return _k(n).then(t=>t.remoteStore)}function VN(n){return _k(n).then(t=>t.syncEngine)}function Hx(n){return UN.apply(this,arguments)}function UN(){return UN=(0,qe.Z)(function*(n){const t=yield _k(n),e=t.eventManager;return e.onListen=WK.bind(null,t.syncEngine),e.onUnlisten=qK.bind(null,t.syncEngine),e}),UN.apply(this,arguments)}function U8(n,t,e={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(i,s,o,c,h){const p=new mk({next:v=>{s.enqueueAndForget(()=>iN(i,m));const w=v.docs.has(o);!w&&v.fromCache?h.reject(new xt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&c&&"server"===c.source?h.reject(new xt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new aN(Hg(o.path),p,{includeMetadataChanges:!0,Du:!0});return nN(i,m)}(yield Hx(n),n.asyncQueue,t,e,r)})),r.promise}function H8(n,t,e={}){const r=new wi;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function(i,s,o,c,h){const p=new mk({next:v=>{s.enqueueAndForget(()=>iN(i,m)),v.fromCache&&"server"===c.source?h.reject(new xt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new aN(o,p,{includeMetadataChanges:!0,Du:!0});return nN(i,m)}(yield Hx(n),n.asyncQueue,t,e,r)})),r.promise}const G8=new Map;function HN(n,t,e){if(!e)throw new xt($e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function j8(n,t,e,r){if(!0===t&&!0===r)throw new xt($e.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function z8(n){if(!qt.isDocumentKey(n))throw new xt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $8(n){if(qt.isDocumentKey(n))throw new xt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":an()}function wr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vk(n);throw new xt($e.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function W8(n,t){if(t<=0)throw new xt($e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class q8{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,j8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pE{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q8({}),this._settingsFrozen=!1,t instanceof Xu?this._databaseId=t:(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new xt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(i.options.projectId)}(t))}get app(){if(!this._app)throw new xt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q8(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new II;switch(e.type){case"gapi":const r=e.client;return En(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new r6(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=G8.get(t);e&&(St("ComponentProvider","Removing Datastore"),G8.delete(t),e.terminate())}(this),Promise.resolve()}}class Ei{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ph(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class oa{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class ph extends oa{constructor(t,e,r){super(t,e,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new qt(t))}withConverter(t){return new ph(this.firestore,t,this._path)}}function Z8(n,t,...e){if(n=(0,G.m9)(n),HN("collection","path",t),n instanceof pE){const r=yr.fromString(t,...e);return $8(r),new ph(n,null,r)}{if(!(n instanceof Ei||n instanceof ph))throw new xt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yr.fromString(t,...e));return $8(r),new ph(n.firestore,null,r)}}function xk(n,t,...e){if(n=(0,G.m9)(n),1===arguments.length&&(t=kC.I()),HN("doc","path",t),n instanceof pE){const r=yr.fromString(t,...e);return z8(r),new Ei(n,null,new qt(r))}{if(!(n instanceof Ei||n instanceof ph))throw new xt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yr.fromString(t,...e));return z8(r),new Ei(n.firestore,n instanceof ph?n.converter:null,new qt(r))}}function Y8(n,t){return n=(0,G.m9)(n),t=(0,G.m9)(t),(n instanceof Ei||n instanceof ph)&&(t instanceof Ei||t instanceof ph)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function K8(n,t){return n=(0,G.m9)(n),t=(0,G.m9)(t),n instanceof oa&&t instanceof oa&&n.firestore===t.firestore&&$f(n._query,t._query)&&n.converter===t.converter}class SX{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new L2(this,"async_queue_retry"),this.Kc=()=>{const e=fk();e&&St("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=fk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=fk();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new wi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,qe.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!Yc(e))throw e;St("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(r=>{throw this.Bc=r,this.Lc=!1,xi("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=e,e}enqueueAfterDelay(t,e,r){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const i=tN.createAndSchedule(this,t,e,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&an()}verifyOperationInProgress(){}zc(){var t=this;return(0,qe.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function GN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class TX{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Bi extends pE{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new SX,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||X8(this),this._firestoreClient.terminate()}}function Os(n){return n._firestoreClient||X8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X8(n){var t;const e=n._freezeSettings(),r=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new NC(n._databaseId,s,n._persistenceKey,(c=e).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var s,c;n._firestoreClient=new pX(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Q8(n,t,e){const r=new wi;return n.asyncQueue.enqueue((0,qe.Z)(function*(){try{yield N8(n,e),yield L8(n,t),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===$e.FAILED_PRECONDITION||o.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;nh("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function J8(n){if(n._initialized||n._terminated)throw new xt($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class gh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gh(rs.fromBase64String(t))}catch(e){throw new xt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new gh(rs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class P_{constructor(t){this._methodName=t}}class wk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bn(this._lat,t._lat)||Bn(this._long,t._long)}}const NX=/^__.*__$/;class LX{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new uh(t,this.data,this.fieldMask,e,this.fieldTransforms):new E_(t,this.data,e,this.fieldTransforms)}}class eH{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new uh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an()}}class bk{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new bk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.sa(t),i}ia(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return Sk(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(tH(this.Zc)&&NX.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class BX{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=r||dE(t)}aa(t,e,r,i=!1){return new bk({Zc:t,methodName:e,ca:r,path:bi.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function N_(n){const t=n._freezeSettings(),e=dE(n._databaseId);return new BX(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ck(n,t,e,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,t,e,i);WN("Data must be an object, but it was:",o,r);const c=iH(r,o);let h,p;if(s.merge)h=new Ra(o.fieldMask),p=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const v of s.mergeFields){const w=qN(t,v,e);if(!o.contains(w))throw new xt($e.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oH(m,w)||m.push(w)}h=new Ra(m),p=o.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=o.fieldTransforms;return new LX(new Qs(c),h,p)}class gE extends P_{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gE}}function nH(n,t,e){return new bk({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class jN extends P_{_toFieldTransform(t){return new jg(t.path,new Wf)}isEqual(t){return t instanceof jN}}class VX extends P_{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=nH(this,t,!0),r=this.ha.map(s=>L_(s,e)),i=new ch(r);return new jg(t.path,i)}isEqual(t){return this===t}}class UX extends P_{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=nH(this,t,!0),r=this.ha.map(s=>L_(s,e)),i=new qf(r);return new jg(t.path,i)}isEqual(t){return this===t}}class HX extends P_{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Zf(t.wt,$C(t.wt,this.la));return new jg(t.path,e)}isEqual(t){return this===t}}function zN(n,t,e,r){const i=n.aa(1,t,e);WN("Data must be an object, but it was:",i,r);const s=[],o=Qs.empty();Gf(r,(h,p)=>{const m=Ek(t,h,e);p=(0,G.m9)(p);const v=i.ia(m);if(p instanceof gE)s.push(m);else{const w=L_(p,v);null!=w&&(s.push(m),o.set(m,w))}});const c=new Ra(s);return new eH(o,c,i.fieldTransforms)}function $N(n,t,e,r,i,s){const o=n.aa(1,t,e),c=[qN(t,r,e)],h=[i];if(s.length%2!=0)throw new xt($e.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)c.push(qN(t,s[w])),h.push(s[w+1]);const p=[],m=Qs.empty();for(let w=c.length-1;w>=0;--w)if(!oH(p,c[w])){const E=c[w];let D=h[w];D=(0,G.m9)(D);const S=o.ia(E);if(D instanceof gE)p.push(E);else{const M=L_(D,S);null!=M&&(p.push(E),m.set(E,M))}}const v=new Ra(p);return new eH(m,v,o.fieldTransforms)}function rH(n,t,e,r=!1){return L_(e,n.aa(r?4:3,t))}function L_(n,t){if(sH(n=(0,G.m9)(n)))return WN("Unsupported field value:",t,n),iH(n,t);if(n instanceof P_)return function(e,r){if(!tH(r.Zc))throw r.oa(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,r){const i=[];let s=0;for(const o of e){let c=L_(o,r.ra(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,G.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $C(r.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=ui.fromDate(e);return{timestampValue:Yf(r.wt,i)}}if(e instanceof ui){const i=new ui(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yf(r.wt,i)}}if(e instanceof wk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gh)return{bytesValue:Dx(r.wt,e._byteString)};if(e instanceof Ei){const i=r.databaseId,s=e.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:T_(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.oa(`Unsupported field value: ${vk(e)}`)}(n,t)}function iH(n,t){const e={};return qP(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gf(n,(r,i)=>{const s=L_(i,t.ea(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function sH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof wk||n instanceof gh||n instanceof Ei||n instanceof P_)}function WN(n,t,e){if(!sH(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vk(e);throw t.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function qN(n,t,e){if((t=(0,G.m9)(t))instanceof Xf)return t._internalPath;if("string"==typeof t)return Ek(n,t);throw Sk("Field path arguments must be of type string or ",n,!1,void 0,e)}const GX=new RegExp("[~\\*/\\[\\]]");function Ek(n,t,e){if(t.search(GX)>=0)throw Sk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Xf(...t.split("."))._internalPath}catch{throw Sk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Sk(n,t,e,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${r}`),o&&(h+=` in document ${i}`),h+=")"),new xt($e.INVALID_ARGUMENT,c+n+h)}function oH(n,t){return n.some(e=>e.isEqual(t))}class mE{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Tk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class jX extends mE{data(){return super.data()}}function Tk(n,t){return"string"==typeof t?Ek(n,t):t instanceof Xf?t._internalPath:t._delegate._internalPath}class B_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qf extends mE{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new _E(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Tk("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class _E extends Qf{data(t={}){return super.data(t)}}class Yg{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new B_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new _E(this._firestore,this._userDataWriter,r.key,r,new B_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new _E(r._firestore,r._userDataWriter,o.doc.key,o.doc,new B_(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const c=new _E(r._firestore,r._userDataWriter,o.doc.key,o.doc,new B_(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,p=-1;return 0!==o.type&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),p=s.indexOf(o.doc.key)),{type:zX(o.type),doc:c,oldIndex:h,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an()}}function aH(n,t){return n instanceof Qf&&t instanceof Qf?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Yg&&t instanceof Yg&&n._firestore===t._firestore&&K8(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function lH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yE{}function Kg(n,...t){for(const e of t)n=e._apply(n);return n}class $X extends yE{constructor(t,e,r){super(),this.fa=t,this.da=e,this._a=r,this.type="where"}_apply(t){const e=N_(t.firestore),r=function(i,s,o,c,h,p,m){let v;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new xt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){pH(m,p);const E=[];for(const D of m)E.push(fH(c,i,D));v={arrayValue:{values:E}}}else v=fH(c,i,m)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||pH(m,p),v=rH(o,"where",m,"in"===p||"not-in"===p);const w=Js.create(h,p,v);return function(E,D){if(D.ht()){const M=zC(E);if(null!==M&&!M.isEqual(D.field))throw new xt($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${M.toString()}' and '${D.field.toString()}'`);const P=jC(E);null!==P&&gH(0,D.field,P)}const S=function(M,P){for(const V of M.filters)if(P.indexOf(V.op)>=0)return V.op;return null}(E,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(null!==S)throw new xt($e.INVALID_ARGUMENT,S===D.op?`Invalid query. You cannot use more than one '${D.op.toString()}' filter.`:`Invalid query. You cannot use '${D.op.toString()}' filters with '${S.toString()}' filters.`)}(i,w),w}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new oa(t.firestore,t.converter,function(i,s){const o=i.filters.concat([s]);return new lh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class qX extends yE{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(r,i,s){if(null!==r.startAt)throw new xt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ug(i,s);return function(c,h){if(null===jC(c)){const p=zC(c);null!==p&&gH(0,p,h.field)}}(r,o),o}(t._query,this.fa,this.wa);return new oa(t.firestore,t.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new lh(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class cH extends yE{constructor(t,e,r){super(),this.type=t,this.ma=e,this.ga=r}_apply(t){return new oa(t.firestore,t.converter,Gg(t._query,this.ma,this.ga))}}class uH extends yE{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=hH(t,this.type,this.ya,this.pa);return new oa(t.firestore,t.converter,(i=e,new lh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class dH extends yE{constructor(t,e,r){super(),this.type=t,this.ya=e,this.pa=r}_apply(t){const e=hH(t,this.type,this.ya,this.pa);return new oa(t.firestore,t.converter,(i=e,new lh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function hH(n,t,e,r){if(e[0]=(0,G.m9)(e[0]),e[0]instanceof mE)return function(i,s,o,c,h){if(!c)throw new xt($e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const p=[];for(const m of yl(i))if(m.field.isKeyField())p.push(sh(s,c.key));else{const v=c.data.field(m.field);if(PC(v))throw new xt($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===v){const w=m.field.canonicalString();throw new xt($e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(v)}return new ah(p,h)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=N_(n.firestore);return function(s,o,c,h,p,m){const v=s.explicitOrderBy;if(p.length>v.length)throw new xt($e.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let E=0;E<p.length;E++){const D=p[E];if(v[E].field.isKeyField()){if("string"!=typeof D)throw new xt($e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof D}`);if(!Cx(s)&&-1!==D.indexOf("/"))throw new xt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${D}' contains a slash.`);const S=s.path.child(yr.fromString(D));if(!qt.isDocumentKey(S))throw new xt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const M=new qt(S);w.push(sh(o,M))}else{const S=rH(c,h,D);w.push(S)}}return new ah(w,m)}(n._query,n.firestore._databaseId,i,t,e,r)}}function fH(n,t,e){if("string"==typeof(e=(0,G.m9)(e))){if(""===e)throw new xt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cx(t)&&-1!==e.indexOf("/"))throw new xt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(yr.fromString(e));if(!qt.isDocumentKey(r))throw new xt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sh(n,new qt(r))}if(e instanceof Ei)return sh(n,e._key);throw new xt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vk(e)}.`)}function pH(n,t){if(!Array.isArray(n)||0===n.length)throw new xt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xt($e.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function gH(n,t,e){if(!e.isEqual(t))throw new xt($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const tQ={maxAttempts:5};class ZN{convertValue(t,e="none"){switch(rh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ku(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw an()}}convertObject(t,e){const r={};return Gf(t.fields,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertGeoPoint(t){return new wk(Li(t.latitude),Li(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=sa(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(h_(t));default:return null}}convertTimestamp(t){const e=Fs(t);return new ui(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=yr.fromString(t);En(E6(r));const i=new Xu(r.get(1),r.get(3)),s=new qt(r.popFirst(5));return i.isEqual(e)||xi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function Dk(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class nQ extends ZN{constructor(t){super(),this.firestore=t}convertBytes(t){return new gh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}class mH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=N_(t)}set(t,e,r){this._verifyNotCommitted();const i=Xg(t,this._firestore),s=Dk(i.converter,e,r),o=Ck(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Ci.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const s=Xg(t,this._firestore);let o;return o="string"==typeof(e=(0,G.m9)(e))||e instanceof Xf?$N(this._dataReader,"WriteBatch.update",s._key,e,r,i):zN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ci.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Xg(t,this._firestore);return this._mutations=this._mutations.concat(new S_(e._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xg(n,t){if((n=(0,G.m9)(n)).firestore!==t)throw new xt($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class V_ extends ZN{constructor(t){super(),this.firestore=t}convertBytes(t){return new gh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}function _H(n,t,e){n=wr(n,Ei);const r=wr(n.firestore,Bi),i=Dk(n.converter,t,e);return Gx(r,[Ck(N_(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,Ci.none())])}function yH(n,t,e,...r){n=wr(n,Ei);const i=wr(n.firestore,Bi),s=N_(i);let o;return o="string"==typeof(t=(0,G.m9)(t))||t instanceof Xf?$N(s,"updateDoc",n._key,t,e,r):zN(s,"updateDoc",n._key,t),Gx(i,[o.toMutation(n._key,Ci.exists(!0))])}function vH(n,...t){var e,r,i;n=(0,G.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||GN(t[o])||(s=t[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges};if(GN(t[o])){const v=t[o];t[o]=null===(e=v.next)||void 0===e?void 0:e.bind(v),t[o+1]=null===(r=v.error)||void 0===r?void 0:r.bind(v),t[o+2]=null===(i=v.complete)||void 0===i?void 0:i.bind(v)}let h,p,m;if(n instanceof Ei)p=wr(n.firestore,Bi),m=Hg(n._key.path),h={next:v=>{t[o]&&t[o](YN(p,n,v))},error:t[o+1],complete:t[o+2]};else{const v=wr(n,oa);p=wr(v.firestore,Bi),m=v._query;const w=new V_(p);h={next:E=>{t[o]&&t[o](new Yg(p,w,v,E))},error:t[o+1],complete:t[o+2]},lH(n._query)}return function(v,w,E,D){const S=new mk(D),M=new aN(w,S,E);return v.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return nN(yield Hx(v),M)})),()=>{S.Tc(),v.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return iN(yield Hx(v),M)}))}}(Os(p),m,c,h)}function Gx(n,t){return function(e,r){const i=new wi;return e.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function ZK(n,t,e){return hN.apply(this,arguments)}(yield VN(e),r,i)})),i.promise}(Os(n),t)}function YN(n,t,e){const r=e.docs.get(t._key),i=new V_(n);return new Qf(n,i,t._key,r,new B_(e.hasPendingWrites,e.fromCache),t.converter)}class hQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=N_(t)}get(t){const e=Xg(t,this._firestore),r=new nQ(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return an();const s=i[0];if(s.isFoundDocument())return new mE(this._firestore,r,s.key,s,e.converter);if(s.isNoDocument())return new mE(this._firestore,r,e._key,null,e.converter);throw an()})}set(t,e,r){const i=Xg(t,this._firestore),s=Dk(i.converter,e,r),o=Ck(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(t,e,r,...i){const s=Xg(t,this._firestore);let o;return o="string"==typeof(e=(0,G.m9)(e))||e instanceof Xf?$N(this._dataReader,"Transaction.update",s._key,e,r,i):zN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this}delete(t){const e=Xg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Xg(t,this._firestore),r=new V_(this._firestore);return super.get(t).then(i=>new Qf(this._firestore,r,e._key,i._document,new B_(!1,!1),e.converter))}}function KN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function wH(){if(typeof Uint8Array>"u")throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function bH(){if(!function VI(){return typeof atob<"u"}())throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Lf=uo.SDK_VERSION,(0,uo._registerComponent)(new fl.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),s=new Bi(i,new n6(e.getProvider("auth-internal")),new UP(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC")),(0,uo.registerVersion)(_x,"3.4.14",n),(0,uo.registerVersion)(_x,"3.4.14","esm2017")}();class vE{constructor(t){this._delegate=t}static fromBase64String(t){return bH(),new vE(gh.fromBase64String(t))}static fromUint8Array(t){return wH(),new vE(gh.fromUint8Array(t))}toBase64(){return bH(),this._delegate.toBase64()}toUint8Array(){return wH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XN(n){return function wQ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class bQ{enableIndexedDbPersistence(t,e){return function AX(n,t){J8(n=wr(n,Bi));const e=Os(n),r=n._freezeSettings(),i=new FN;return Q8(e,i,new O8(i,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function IX(n){J8(n=wr(n,Bi));const t=Os(n),e=n._freezeSettings(),r=new FN;return Q8(t,r,new uX(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function kX(n){if(n._initialized&&!n._terminated)throw new xt($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,qe.Z)(function*(){try{yield(e=(0,qe.Z)(function*(r){if(!_l.V())return Promise.resolve();const i=r+"main";yield _l.delete(i)}),function(r){return e.apply(this,arguments)})(D2(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class CH{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Xu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&nh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function CX(n,t,e,r={}){var i;const s=(n=wr(n,pE))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&nh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let o,c;if("string"==typeof r.mockUserToken)o=r.mockUserToken,c=Rs.MOCK_USER;else{o=(0,G.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new xt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rs(h)}n._authCredentials=new IC(new AI(o,c))}}(this._delegate,t,e,r)}enableNetwork(){return function RX(n){return function gX(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const t=yield B8(n),e=yield V8(n);return t.setNetworkEnabled(!0),function(r){const i=Zt(r);return i.lu.delete(0),hE(i)}(e)}))}(Os(n=wr(n,Bi)))}(this._delegate)}disableNetwork(){return function FX(n){return function mX(n){return n.asyncQueue.enqueue((0,qe.Z)(function*(){const t=yield B8(n),e=yield V8(n);return t.setNetworkEnabled(!1),(r=(0,qe.Z)(function*(i){const s=Zt(i);s.lu.add(0),yield Ox(s),s._u.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(Os(n=wr(n,Bi)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,j8("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MX(n){return function(t){const e=new wi;return t.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return function QK(n,t){return _N.apply(this,arguments)}(yield VN(t),e)})),e.promise}(Os(n=wr(n,Bi)))}(this._delegate)}onSnapshotsInSync(t){return function dQ(n,t){return function vX(n,t){const e=new mk(t);return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield Hx(n),i=e,Zt(r).Tu.add(i),void i.next();var r,i})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return r=yield Hx(n),i=e,void Zt(r).Tu.delete(i);var r,i}))}}(Os(n=wr(n,Bi)),GN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new jx(this,Z8(this._delegate,t))}catch(e){throw Pa(e,"collection()","Firestore.collection()")}}doc(t){try{return new Xc(this,xk(this._delegate,t))}catch(e){throw Pa(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Na(this,function EX(n,t){if(n=wr(n,pE),HN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xt($e.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(n,null,(e=t,new lh(yr.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Pa(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function fQ(n,t,e){n=wr(n,Bi);const r=Object.assign(Object.assign({},tQ),e);return function(i){if(i.maxAttempts<1)throw new xt($e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function xX(n,t,e){const r=new wi;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){const i=yield(s=n,_k(s).then(o=>o.datastore));var s;new fX(n.asyncQueue,i,e,t,r).run()})),r.promise}(Os(n),i=>t(new hQ(n,i)),r)}(this._delegate,e=>t(new EH(this,e)))}batch(){return Os(this._delegate),new SH(new mH(this._delegate,t=>Gx(this._delegate,t)))}loadBundle(t){return function OX(n,t){const e=Os(n=wr(n,Bi)),r=new TX;return function wX(n,t,e,r){const i=function(s,o){let c;return c="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return P8(h,p);if(h instanceof ArrayBuffer)return P8(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new dX(h,o);var h}(e,dE(t));n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){!function cX(n,t,e){const r=Zt(n);var i;(i=(0,qe.Z)(function*(s,o,c){try{const h=yield o.getMetadata();if(yield function(w,E){const D=Zt(w),S=is(E.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",M=>D.Ds.getBundleMetadata(M,E.id)).then(M=>!!M&&M.createTime.compareTo(S)>=0)}(s.localStore,h))return yield o.close(),c._completeWith({taskState:"Success",documentsLoaded:(w=h).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);c._updateProgress(E8(h));const p=new GK(h,s.localStore,o.wt);let m=yield o.fc();for(;m;){const w=yield p.Nu(m);w&&c._updateProgress(w),m=yield o.fc()}const v=yield p.complete();return yield Kf(s,v.Ou,void 0),yield function(w,E){const D=Zt(w);return D.persistence.runTransaction("Save bundle","readwrite",S=>D.Ds.saveBundleMetadata(S,E))}(s.localStore,h),c._completeWith(v.progress),Promise.resolve(v.Mu)}catch(h){return nh("SyncEngine",`Loading bundle failed with ${h}`),c._failWith(h),Promise.resolve(new Set)}var w}),function(s,o,c){return i.apply(this,arguments)})(r,t,e).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield VN(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function PX(n,t){return function bX(n,t){return n.asyncQueue.enqueue((0,qe.Z)(function*(){return function(e,r){const i=Zt(e);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ds.getNamedQuery(s,r))}(yield yk(n),t)}))}(Os(n=wr(n,Bi)),t).then(e=>e?new oa(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Na(this,e):null)}}class Ak extends ZN{constructor(t){super(),this.firestore=t}convertBytes(t){return new vE(new gh(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Xc.forKey(e,this.firestore,null)}}class EH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}get(t){const e=H_(t);return this._delegate.get(e).then(r=>new xE(this._firestore,new Qf(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=H_(t);return r?(KN("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=H_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=H_(t);return this._delegate.delete(e),this}}class SH{constructor(t){this._delegate=t}set(t,e,r){const i=H_(t);return r?(KN("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const s=H_(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,r,...i),this}delete(t){const e=H_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class U_{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new _E(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new wE(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=U_.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(e);return s||(s=new U_(t,new Ak(t),e),i.set(e,s)),s}}U_.INSTANCES=new WeakMap;class Xc{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}static forPath(t,e,r){if(t.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xc(e,new Ei(e._delegate,r,new qt(t)))}static forKey(t,e,r){return new Xc(e,new Ei(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new jx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new jx(this.firestore,Z8(this._delegate,t))}catch(e){throw Pa(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,G.m9)(t))instanceof Ei&&Y8(this._delegate,t)}set(t,e){e=KN("DocumentReference.set",e);try{return e?_H(this._delegate,t,e):_H(this._delegate,t)}catch(r){throw Pa(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?yH(this._delegate,t):yH(this._delegate,t,e,...r)}catch(i){throw Pa(i,"updateDoc()","DocumentReference.update()")}}delete(){return function cQ(n){return Gx(wr(n.firestore,Bi),[new S_(n._key,Ci.none())])}(this._delegate)}onSnapshot(...t){const e=TH(t),r=DH(t,i=>new xE(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return vH(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function iQ(n){n=wr(n,Ei);const t=wr(n.firestore,Bi),e=Os(t),r=new V_(t);return function _X(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(i,s,o){try{const c=yield function(h,p){const m=Zt(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,p))}(i,s);c.isFoundDocument()?o.resolve(c):c.isNoDocument()?o.resolve(null):o.reject(new xt($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const h=Lx(c,`Failed to get document '${s} from cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield yk(n),t,e);var r})),e.promise}(e,n._key).then(i=>new Qf(t,r,n._key,i,new B_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function sQ(n){n=wr(n,Ei);const t=wr(n.firestore,Bi);return U8(Os(t),n._key,{source:"server"}).then(e=>YN(t,n,e))}(this._delegate):function rQ(n){n=wr(n,Ei);const t=wr(n.firestore,Bi);return U8(Os(t),n._key).then(e=>YN(t,n,e))}(this._delegate),e.then(r=>new xE(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Xc(this.firestore,this._delegate.withConverter(t?U_.getInstance(this.firestore,t):null))}}function Pa(n,t,e){return n.message=n.message.replace(t,e),n}function TH(n){for(const t of n)if("object"==typeof t&&!XN(t))return t;return{}}function DH(n,t){var e,r;let i;return i=XN(n[0])?n[0]:XN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(t(s))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class xE{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Xc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return aH(this._delegate,t._delegate)}}class wE extends xE{data(t){const e=this._delegate.data(t);return function t6(n,t){n||an()}(void 0!==e),e}}class Na{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ak(t)}where(t,e,r){try{return new Na(this.firestore,Kg(this._delegate,function WX(n,t,e){const r=t,i=Tk("where",n);return new $X(i,r,e)}(t,e,r)))}catch(i){throw Pa(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Na(this.firestore,Kg(this._delegate,function ZX(n,t="asc"){const e=t,r=Tk("orderBy",n);return new qX(r,e)}(t,e)))}catch(r){throw Pa(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Na(this.firestore,Kg(this._delegate,function YX(n){return W8("limit",n),new cH("limit",n,"F")}(t)))}catch(e){throw Pa(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Na(this.firestore,Kg(this._delegate,function KX(n){return W8("limitToLast",n),new cH("limitToLast",n,"L")}(t)))}catch(e){throw Pa(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Na(this.firestore,Kg(this._delegate,function XX(...n){return new uH("startAt",n,!0)}(...t)))}catch(e){throw Pa(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Na(this.firestore,Kg(this._delegate,function QX(...n){return new uH("startAfter",n,!1)}(...t)))}catch(e){throw Pa(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Na(this.firestore,Kg(this._delegate,function JX(...n){return new dH("endBefore",n,!1)}(...t)))}catch(e){throw Pa(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Na(this.firestore,Kg(this._delegate,function eQ(...n){return new dH("endAt",n,!0)}(...t)))}catch(e){throw Pa(e,"endAt()","Query.endAt()")}}isEqual(t){return K8(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function aQ(n){n=wr(n,oa);const t=wr(n.firestore,Bi),e=Os(t),r=new V_(t);return function yX(n,t){const e=new wi;return n.asyncQueue.enqueueAndForget((0,qe.Z)(function*(){return(r=(0,qe.Z)(function*(i,s,o){try{const c=yield uk(i,s,!0),h=new D8(s,c.ji),p=h.Ku(c.documents),m=h.applyChanges(p,!1);o.resolve(m.snapshot)}catch(c){const h=Lx(c,`Failed to execute query '${s} against cache`);o.reject(h)}}),function(i,s,o){return r.apply(this,arguments)})(yield yk(n),t,e);var r})),e.promise}(e,n._query).then(i=>new Yg(t,r,n,i))}(this._delegate):"server"===t?.source?function lQ(n){n=wr(n,oa);const t=wr(n.firestore,Bi),e=Os(t),r=new V_(t);return H8(e,n._query,{source:"server"}).then(i=>new Yg(t,r,n,i))}(this._delegate):function oQ(n){n=wr(n,oa);const t=wr(n.firestore,Bi),e=Os(t),r=new V_(t);return lH(n._query),H8(e,n._query).then(i=>new Yg(t,r,n,i))}(this._delegate),e.then(r=>new QN(this.firestore,new Yg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=TH(t),r=DH(t,i=>new QN(this.firestore,new Yg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return vH(this._delegate,e,r)}withConverter(t){return new Na(this.firestore,this._delegate.withConverter(t?U_.getInstance(this.firestore,t):null))}}class EQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new wE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new wE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new EQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new wE(this._firestore,r))})}isEqual(t){return aH(this._delegate,t._delegate)}}class jx extends Na{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xc(this.firestore,t):null}doc(t){try{return new Xc(this.firestore,void 0===t?xk(this._delegate):xk(this._delegate,t))}catch(e){throw Pa(e,"doc()","CollectionReference.doc()")}}add(t){return function uQ(n,t){const e=wr(n.firestore,Bi),r=xk(n),i=Dk(n.converter,t);return Gx(e,[Ck(N_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new Xc(this.firestore,e))}isEqual(t){return Y8(this._delegate,t._delegate)}withConverter(t){return new jx(this.firestore,this._delegate.withConverter(t?U_.getInstance(this.firestore,t):null))}}function H_(n){return wr(n,Ei)}class JN{constructor(...t){this._delegate=new Xf(...t)}static documentId(){return new JN(bi.keyField().canonicalString())}isEqual(t){return(t=(0,G.m9)(t))instanceof Xf&&this._delegate._internalPath.isEqual(t._internalPath)}}class G_{constructor(t){this._delegate=t}static serverTimestamp(){const t=function gQ(){return new jN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new G_(t)}static delete(){const t=function pQ(){return new gE("deleteField")}();return t._methodName="FieldValue.delete",new G_(t)}static arrayUnion(...t){const e=function mQ(...n){return new VX("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new G_(e)}static arrayRemove(...t){const e=function _Q(...n){return new UX("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new G_(e)}static increment(t){const e=function yQ(n){return new HX("increment",n)}(t);return e._methodName="FieldValue.increment",new G_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const SQ={Firestore:CH,GeoPoint:wk,Timestamp:ui,Blob:vE,Transaction:EH,WriteBatch:SH,DocumentReference:Xc,DocumentSnapshot:xE,Query:Na,QueryDocumentSnapshot:wE,QuerySnapshot:QN,CollectionReference:jx,FieldPath:JN,FieldValue:G_,setLogLevel:function CQ(n){!function Lg(n){th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DQ(n){(function TQ(n,t){n.INTERNAL.registerComponent(new fl.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(r,i)},"PUBLIC").setServiceProps(Object.assign({},SQ)))})(n,(t,e)=>new CH(t,e,new bQ)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(z0.Z);var Ik=z(5363);function Yi(n,t){return(0,Oi.e)((e,r)=>{let i=null,s=0,o=!1;const c=()=>o&&!i&&r.complete();e.subscribe((0,Xr.x)(r,h=>{i?.unsubscribe();let p=0;const m=s++;(0,rt.Xf)(n(h,m)).subscribe(i=(0,Xr.x)(r,v=>r.next(t?t(h,v,m,p++):v),()=>{i=null,c()}))},()=>{o=!0,c()}))})}var AQ=z(6063);class IQ extends hn.x{constructor(t=1/0,e=1/0,r=AQ.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;e||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=e.now();let c=0;for(let h=1;h<r.length&&r[h]<=o;h+=2)c=h;c&&r.splice(0,c+1)}}}var eL=z(3099);function AH(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,(0,eL.B)({connector:()=>new IQ(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const kk=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Mk(n){return(0,Oi.e)((t,e)=>{let r=!1;t.subscribe((0,Xr.x)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function IH(n=MQ){return(0,Oi.e)((t,e)=>{let r=!1;t.subscribe((0,Xr.x)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function MQ(){return new kk}function Jf(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wr((i,s)=>n(i,s,r)):O.y,x(1),e?Mk(t):IH(()=>new kk))}function kH(n,t){return(0,na.m)(t)?Yi(()=>n,t):Yi(()=>n)}var tL=z(9468);z(5867);const RH=new Map,NQ={activated:!1,tokenObservers:[]},LQ={initialized:!1,enabled:!1};function mo(n){return RH.get(n)||NQ}function ed(n,t){RH.set(n,t)}function Fk(){return LQ}class GQ{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,qe.Z)(function*(){e.stop();try{e.pending=new G.BH,yield function jQ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new G.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const La=new G.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OH(n){if(!mo(n).activated)throw La.create("use-before-activation",{appName:n.name})}function sL(n,t){return oL.apply(this,arguments)}function oL(){return oL=(0,qe.Z)(function*({url:n,body:t},e){var r,i;const s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const E=yield o.getHeartbeatsHeader();E&&(s["X-Firebase-Client"]=E)}const c={method:"POST",body:JSON.stringify(t),headers:s};let h,p;try{h=yield fetch(n,c)}catch(E){throw La.create("fetch-network-error",{originalErrorMessage:null===(r=E)||void 0===r?void 0:r.message})}if(200!==h.status)throw La.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(E){throw La.create("fetch-parse-error",{originalErrorMessage:null===(i=E)||void 0===i?void 0:i.message})}const m=p.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw La.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const v=1e3*Number(m[1]),w=Date.now();return{token:p.token,expireTimeMillis:w+v,issuedAtTimeMillis:w}}),oL.apply(this,arguments)}function qQ(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const bE="firebase-app-check-store";let Nk=null;function NH(){return Nk||(Nk=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var s;t(La.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(bE,{keyPath:"compositeKey"})}}catch(r){t(La.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),Nk)}function aL(){return aL=(0,qe.Z)(function*(n,t){const r=(yield NH()).transaction(bE,"readwrite"),s=r.objectStore(bE).put({compositeKey:n,value:t});return new Promise((o,c)=>{s.onsuccess=h=>{o()},r.onerror=h=>{var p;c(La.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})}),aL.apply(this,arguments)}const CE=new pl.Yd("@firebase/app-check");function UH(n,t){return(0,G.hl)()?function XQ(n,t){return function LH(n,t){return aL.apply(this,arguments)}(function VH(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{CE.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function HH(){return Fk().enabled}function GH(){return dL.apply(this,arguments)}function dL(){return dL=(0,qe.Z)(function*(){const n=Fk();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),dL.apply(this,arguments)}const rJ={error:"UNKNOWN_ERROR"};function iJ(n){return G.US.encodeString(JSON.stringify(n),!1)}function Lk(n){return hL.apply(this,arguments)}function hL(){return hL=(0,qe.Z)(function*(n,t=!1){const e=n.app;OH(e);const r=mo(e);let s,i=r.token;if(!i){const h=yield r.cachedTokenPromise;h&&Bk(h)&&(i=h)}if(!t&&i&&Bk(i))return{token:i.token};let c,o=!1;if(HH()){r.exchangeTokenPromise||(r.exchangeTokenPromise=sL(qQ(e,yield GH()),n.heartbeatServiceProvider).then(p=>(r.exchangeTokenPromise=void 0,p)),o=!0);const h=yield r.exchangeTokenPromise;return yield UH(e,h),ed(e,Object.assign(Object.assign({},r),{token:h})),{token:h.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(h=>(r.exchangeTokenPromise=void 0,h)),o=!0),i=yield r.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?CE.warn(h.message):CE.error(h),s=h}return i?(c={token:i.token},ed(e,Object.assign(Object.assign({},r),{token:i})),yield UH(e,i)):c=oJ(s),o&&zH(e,c),c}),hL.apply(this,arguments)}function pL(n,t){const e=mo(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ed(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function jH(n){const{app:t}=n,e=mo(t);let r=e.tokenRefresher;r||(r=function sJ(n){const{app:t}=n;return new GQ((0,qe.Z)(function*(){let r;if(r=mo(t).token?yield Lk(n,!0):yield Lk(n),r.error)throw r.error}),()=>!0,()=>{const e=mo(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ed(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function zH(n,t){const e=mo(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}function Bk(n){return n.expireTimeMillis-Date.now()>0}function oJ(n){return{token:iJ(rJ),error:n}}class aJ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=mo(this.app);for(const e of t)pL(this.app,e.next);return Promise.resolve()}}const QH="app-check-internal";!function wJ(){(0,uo._registerComponent)(new fl.wA("app-check",n=>function lJ(n,t){return new aJ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(QH).initialize()})),(0,uo._registerComponent)(new fl.wA(QH,n=>function cJ(n){return{getToken:t=>Lk(n,t),addTokenListener:t=>function fL(n,t,e,r){const{app:i}=n,s=mo(i),o={next:e,error:r,type:t};if(ed(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Bk(s.token)){const c=s.token;Promise.resolve().then(()=>{e({token:c.token}),jH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>jH(n))}(n,"INTERNAL",t),removeTokenListener:t=>pL(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,uo.registerVersion)("@firebase/app-check","0.5.12")}();class EE{constructor(){return(0,gr.vb)("app-check")}}typeof window<"u"&&window;var SE=z(127);const vL=new a.OlP("angularfire2.auth.use-emulator"),xL=new a.OlP("angularfire2.auth.settings"),wL=new a.OlP("angularfire2.auth.tenant-id"),bL=new a.OlP("angularfire2.auth.langugage-code"),CL=new a.OlP("angularfire2.auth.use-device-language"),EL=new a.OlP("angularfire.auth.persistence"),SL=(n,t,e,r,i,s,o,c)=>(0,qi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),r&&(h.tenantId=r),h.languageCode=i,s&&h.useDeviceLanguage(),o)for(const[p,m]of Object.entries(o))h.settings[p]=m;return c&&h.setPersistence(c),h},[e,r,i,s,o,c]);let TE=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v,w,E){const D=new hn.x,S=Qt(void 0).pipe((0,Ik.Q)(o.outsideAngular),Yi(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,C.U)(()=>(0,qi.on)(e,s,r)),(0,C.U)(M=>SL(M,s,c,p,m,v,h,w)),AH({bufferSize:1,refCount:!1}));if(ba(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qt(null);else{S.pipe(Jf()).subscribe();const P=S.pipe(Yi(X=>X.getRedirectResult().then(he=>he,()=>null)),gr.iC,AH({bufferSize:1,refCount:!1})),V=S.pipe(Yi(X=>new vi.y(he=>({unsubscribe:s.runOutsideAngular(()=>X.onAuthStateChanged(we=>he.next(we),we=>he.error(we),()=>he.complete()))})))),B=S.pipe(Yi(X=>new vi.y(he=>({unsubscribe:s.runOutsideAngular(()=>X.onIdTokenChanged(we=>he.next(we),we=>he.error(we),()=>he.complete()))}))));this.authState=P.pipe(kH(V),(0,tL.R)(o.outsideAngular),(0,Ik.Q)(o.insideAngular)),this.user=P.pipe(kH(B),(0,tL.R)(o.outsideAngular),(0,Ik.Q)(o.insideAngular)),this.idToken=this.user.pipe(Yi(X=>X?(0,er.D)(X.getIdToken()):Qt(null))),this.idTokenResult=this.user.pipe(Yi(X=>X?(0,er.D)(X.getIdTokenResult()):Qt(null))),this.credential=(0,zs.T)(P,D,this.authState.pipe(Wr(X=>!X))).pipe((0,C.U)(X=>X?.user?X:null),(0,tL.R)(o.outsideAngular),(0,Ik.Q)(o.insideAngular))}return(0,qi.pX)(this,S,s,{spy:{apply:(M,P,V)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&V.then(B=>D.next(B))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qi.Dh),a.LFG(qi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gr.HU),a.LFG(vL,8),a.LFG(xL,8),a.LFG(wL,8),a.LFG(bL,8),a.LFG(CL,8),a.LFG(EL,8),a.LFG(EE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DJ=(()=>{class n{constructor(){SE.Z.registerVersion("angularfire",gr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[TE]}),n})();function e5(n,t){return function AJ(n,t=Ld.z){return new vi.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function TL(n,t){return e5(n,t).pipe((0,C.U)(e=>({payload:e,type:"query"})))}function Uk(n,t){return TL(n,t).pipe(cl(void 0),S1(),(0,C.U)(([e,r])=>{const i=r.payload.docChanges(),s=i.map(o=>({type:o.type,payload:o}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((o,c)=>{const h=i.find(m=>m.doc.ref.isEqual(o.ref)),p=e?.payload.docs.find(m=>m.ref.isEqual(o.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(o.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:o}})}),s}))}function t5(n,t,e){return Uk(n,e).pipe(Zd((r,i)=>function kJ(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function MJ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return DL(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return DL(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return DL(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),t),[]),j(),(0,C.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function DL(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function n5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class r5{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=Uk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,C.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(cl(void 0),S1(),Wr(([r,i])=>i.length>0||!r),(0,C.U)(([r,i])=>i),gr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Zd((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=n5(t);return t5(this.query,e,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(t={}){return TL(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),gr.iC)}get(t){return(0,er.D)(this.query.get(t)).pipe(gr.iC)}add(t){return this.ref.add(t)}doc(t){return new s5(this.ref.doc(t),this.afs)}}class s5{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:s}=l5(r,e);return new r5(i,s,this.afs)}snapshotChanges(){return function IJ(n,t){return e5(n,t).pipe(cl(void 0),S1(),(0,C.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,C.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,er.D)(this.ref.get(t)).pipe(gr.iC)}}class RJ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Uk(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Wr(e=>e.length>0),gr.iC):Uk(this.query,this.afs.schedulers.outsideAngular).pipe(gr.iC)}auditTrail(t){return this.stateChanges(t).pipe(Zd((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=n5(t);return t5(this.query,e,this.afs.schedulers.outsideAngular).pipe(gr.iC)}valueChanges(t={}){return TL(this.query,this.afs.schedulers.outsideAngular).pipe((0,C.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),gr.iC)}get(t){return(0,er.D)(this.query.get(t)).pipe(gr.iC)}}const o5=new a.OlP("angularfire2.enableFirestorePersistence"),a5=new a.OlP("angularfire2.firestore.persistenceSettings"),FJ=new a.OlP("angularfire2.firestore.settings"),OJ=new a.OlP("angularfire2.firestore.use-emulator");function l5(n,t=(e=>e)){return{query:t(n),ref:n}}let Ba=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v,w,E,D,S,M,P,V){this.schedulers=h;const B=(0,qi.on)(e,c,r),X=m;v&&SL(B,c,w,D,S,M,E,P),[this.firestore,this.persistenceEnabled$]=(0,qi.cc)(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{const he=c.runOutsideAngular(()=>B.firestore());if(s&&he.settings(s),X&&he.useEmulator(...X),i&&!ba(o)){const we=()=>{try{return(0,er.D)(he.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(Y){return typeof console<"u"&&console.warn(Y),Qt(!1)}};return[he,c.runOutsideAngular(we)]}return[he,Qt(!1)]},[s,X,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=l5(i,r),c=this.schedulers.ngZone.run(()=>s);return new r5(c,o,this)}collectionGroup(e,r){const i=r||(o=>o),s=this.firestore.collectionGroup(e);return new RJ(i(s),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new s5(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qi.Dh),a.LFG(qi.xv,8),a.LFG(o5,8),a.LFG(FJ,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gr.HU),a.LFG(a5,8),a.LFG(OJ,8),a.LFG(TE,8),a.LFG(vL,8),a.LFG(xL,8),a.LFG(wL,8),a.LFG(bL,8),a.LFG(CL,8),a.LFG(EL,8),a.LFG(EE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PJ=(()=>{class n{constructor(){SE.Z.registerVersion("angularfire",gr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:o5,useValue:!0},{provide:a5,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ba]}),n})();var NJ=z(9635);function zx(n,t){const e=(0,na.m)(n)?n:()=>n,r=i=>i.error(e());return new vi.y(t?i=>t.schedule(r,0,i):r)}function AL(){return(0,Oi.e)((n,t)=>{let e=null;n._refCount++;const r=(0,Xr.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class c5 extends vi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Oi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new oi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Xr.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=oi.w0.EMPTY)}return t}refCount(){return AL()(this)}}function Qg(n,t){return(0,na.m)(t)?(0,lo.z)(n,t,1):(0,lo.z)(n,1)}function ep(n){return(0,Oi.e)((t,e)=>{let s,r=null,i=!1;r=t.subscribe((0,Xr.x)(e,void 0,void 0,o=>{s=(0,rt.Xf)(n(o,ep(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function IL(n){return n<=0?()=>y.E:(0,Oi.e)((t,e)=>{let r=[];t.subscribe((0,Xr.x)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function u5(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wr((i,s)=>n(i,s,r)):O.y,IL(1),e?Mk(t):IH(()=>new kk))}function Hk(n){return(0,Oi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const nr="primary";class BJ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $x(n){return new BJ(n)}function VJ(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],c=n[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mh(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!d5(n[i],t[i]))return!1;return!0}function d5(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function h5(n){return Array.prototype.concat.apply([],n)}function f5(n){return n.length>0?n[n.length-1]:null}function Bo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function tp(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,er.D)(Promise.resolve(n)):Qt(n)}const GJ={exact:function m5(n,t,e){if(!z_(n.segments,t.segments)||!Gk(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!m5(n.children[r],t.children[r],e))return!1;return!0},subset:_5},p5={exact:function jJ(n,t){return mh(n,t)},subset:function zJ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>d5(n[e],t[e]))},ignored:()=>!0};function g5(n,t,e){return GJ[e.paths](n.root,t.root,e.matrixParams)&&p5[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function _5(n,t,e){return y5(n,t,t.segments,e)}function y5(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!z_(i,e)||t.hasChildren()||!Gk(i,e,r))}if(n.segments.length===e.length){if(!z_(n.segments,e)||!Gk(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!_5(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(z_(n.segments,i)&&Gk(n.segments,i,r)&&n.children[nr])&&y5(n.children[nr],t,s,r)}}function Gk(n,t,e){return t.every((r,i)=>p5[e](n[i].parameters,r.parameters))}class j_{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$x(this.queryParams)),this._queryParamMap}toString(){return qJ.serialize(this)}}class cr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Bo(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jk(this)}}class DE{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$x(this.parameters)),this._parameterMap}toString(){return b5(this)}}function z_(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let v5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new ML},providedIn:"root"}),n})();class ML{parse(t){const e=new nee(t);return new j_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${AE(t.root,!0)}`,r=function KJ(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${zk(e)}=${zk(i)}`).join("&"):`${zk(e)}=${zk(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),i="string"==typeof t.fragment?`#${function ZJ(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${r}${i}`}}const qJ=new ML;function jk(n){return n.segments.map(t=>b5(t)).join("/")}function AE(n,t){if(!n.hasChildren())return jk(n);if(t){const e=n.children[nr]?AE(n.children[nr],!1):"",r=[];return Bo(n.children,(i,s)=>{s!==nr&&r.push(`${s}:${AE(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function WJ(n,t){let e=[];return Bo(n.children,(r,i)=>{i===nr&&(e=e.concat(t(r,i)))}),Bo(n.children,(r,i)=>{i!==nr&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===nr?[AE(n.children[nr],!1)]:[`${i}:${AE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nr]?`${jk(n)}/${e[0]}`:`${jk(n)}/(${e.join("//")})`}}function x5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zk(n){return x5(n).replace(/%3B/gi,";")}function RL(n){return x5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $k(n){return decodeURIComponent(n)}function w5(n){return $k(n.replace(/\+/g,"%20"))}function b5(n){return`${RL(n.path)}${function YJ(n){return Object.keys(n).map(t=>`;${RL(t)}=${RL(n[t])}`).join("")}(n.parameters)}`}const XJ=/^[^\/()?;=#]+/;function Wk(n){const t=n.match(XJ);return t?t[0]:""}const QJ=/^[^=?&#]+/,eee=/^[^&#]+/;class nee{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cr([],{}):new cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[nr]=new cr(t,e)),r}parseSegment(){const t=Wk(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new DE($k(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wk(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Wk(this.remaining);i&&(r=i,this.capture(r))}t[$k(e)]=$k(r)}parseQueryParam(t){const e=function JJ(n){const t=n.match(QJ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=function tee(n){const t=n.match(eee);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=w5(e),s=w5(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wk(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=nr);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[nr]:new cr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function FL(n){return n.segments.length>0?new cr([],{[nr]:n}):n}function qk(n){const t={};for(const r of Object.keys(n.children)){const s=qk(n.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function ree(n){if(1===n.numberOfChildren&&n.children[nr]){const t=n.children[nr];return new cr(n.segments.concat(t.segments),t.children)}return n}(new cr(n.segments,t))}function $_(n){return n instanceof j_}function oee(n,t,e,r,i){if(0===e.length)return Wx(t.root,t.root,t.root,r,i);const s=function S5(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new E5(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Bo(s.outlets,(h,p)=>{c[p]="string"==typeof h?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?e=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new E5(e,t,r)}(e);return s.toRoot()?Wx(t.root,t.root,new cr([],{}),r,i):function o(h){const p=function lee(n,t,e,r){if(n.isAbsolute)return new qx(t.root,!0,0);if(-1===r)return new qx(e,e===t.root,0);return function T5(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new a.vHH(4005,!1);i=r.segments.length}return new qx(r,!1,i-s)}(e,r+(IE(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),m=p.processChildren?ME(p.segmentGroup,p.index,s.commands):PL(p.segmentGroup,p.index,s.commands);return Wx(t.root,p.segmentGroup,m,r,i)}(n.snapshot?._lastPathIndex)}function IE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function kE(n){return"object"==typeof n&&null!=n&&n.outlets}function Wx(n,t,e,r,i){let o,s={};r&&Bo(r,(h,p)=>{s[p]=Array.isArray(h)?h.map(m=>`${m}`):`${h}`}),o=n===t?e:C5(n,t,e);const c=FL(qk(o));return new j_(c,s,i)}function C5(n,t,e){const r={};return Bo(n.children,(i,s)=>{r[s]=i===t?e:C5(i,t,e)}),new cr(n.segments,r)}class E5{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&IE(r[0]))throw new a.vHH(4003,!1);const i=r.find(kE);if(i&&i!==f5(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qx{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function PL(n,t,e){if(n||(n=new cr([],{})),0===n.segments.length&&n.hasChildren())return ME(n,t,e);const r=function uee(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const o=n.segments[i],c=e[r];if(kE(c))break;const h=`${c}`,p=r<e.length-1?e[r+1]:null;if(i>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!A5(h,p,o))return s;r+=2}else{if(!A5(h,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new cr(n.segments.slice(0,r.pathIndex),{});return s.children[nr]=new cr(n.segments.slice(r.pathIndex),n.children),ME(s,0,i)}return r.match&&0===i.length?new cr(n.segments,{}):r.match&&!n.hasChildren()?NL(n,t,e):r.match?ME(n,0,i):NL(n,t,e)}function ME(n,t,e){if(0===e.length)return new cr(n.segments,{});{const r=function cee(n){return kE(n[0])?n[0].outlets:{[nr]:n}}(e),i={};return Bo(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=PL(n.children[o],t,s))}),Bo(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new cr(n.segments,i)}}function NL(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(kE(s)){const h=dee(s.outlets);return new cr(r,h)}if(0===i&&IE(e[0])){r.push(new DE(n.segments[t].path,D5(e[0]))),i++;continue}const o=kE(s)?s.outlets[nr]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&IE(c)?(r.push(new DE(o,D5(c))),i+=2):(r.push(new DE(o,{})),i++)}return new cr(r,{})}function dee(n){const t={};return Bo(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=NL(new cr([],{}),0,e))}),t}function D5(n){const t={};return Bo(n,(e,r)=>t[r]=`${e}`),t}function A5(n,t,e){return n==e.path&&mh(t,e.parameters)}class np{constructor(t,e){this.id=t,this.url=e}}class LL extends np{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W_ extends np{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zk extends np{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class I5 extends np{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hee extends np{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fee extends np{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pee extends np{constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gee extends np{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mee extends np{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ee{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yee{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vee{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xee{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wee{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bee{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k5{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class M5{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=BL(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=BL(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=VL(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return VL(t,this._root).map(e=>e.value)}}function BL(n,t){if(n===t.value)return t;for(const e of t.children){const r=BL(n,e);if(r)return r}return null}function VL(n,t){if(n===t.value)return[t];for(const e of t.children){const r=VL(n,e);if(r.length)return r.unshift(t),r}return[]}class rp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zx(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class R5 extends M5{constructor(t,e){super(t),this.snapshot=e,UL(this,t)}toString(){return this.snapshot.toString()}}function F5(n,t){const e=function Eee(n,t){const o=new Yk([],{},{},"",{},nr,t,null,n.root,-1,{});return new P5("",new rp(o,[]))}(n,t),r=new yi([new DE("",{})]),i=new yi({}),s=new yi({}),o=new yi({}),c=new yi(""),h=new Yx(r,i,o,c,s,nr,t,e.root);return h.snapshot=e.root,new R5(new rp(h,[]),e)}class Yx{constructor(t,e,r,i,s,o,c,h){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,C.U)(t=>$x(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,C.U)(t=>$x(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function O5(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],s=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function See(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Yk{constructor(t,e,r,i,s,o,c,h,p,m,v,w){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=m,this._correctedLastPathIndex=w??m,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$x(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$x(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class P5 extends M5{constructor(t,e){super(e),this.url=t,UL(this,e)}toString(){return N5(this._root)}}function UL(n,t){t.value._routerState=n,t.children.forEach(e=>UL(n,e))}function N5(n){const t=n.children.length>0?` { ${n.children.map(N5).join(", ")} } `:"";return`${n.value}${t}`}function HL(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,mh(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),mh(t.params,e.params)||n.params.next(e.params),function UJ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!mh(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),mh(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function GL(n,t){const e=mh(n.params,t.params)&&function $J(n,t){return z_(n,t)&&n.every((e,r)=>mh(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||GL(n.parent,t.parent))}function RE(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function Dee(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return RE(n,r,i);return RE(n,r)})}(n,t,e);return new rp(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>RE(n,c)),o}}const r=function Aee(n){return new Yx(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>RE(n,s));return new rp(r,i)}}const jL="ngNavigationCancelingError";function L5(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=$_(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=B5(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function B5(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[jL]=!0,r.cancellationCode=t,e&&(r.url=e),r}function V5(n){return U5(n)&&$_(n.url)}function U5(n){return n&&n[jL]}class Iee{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new FE,this.attachRef=null}}let FE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Iee,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kk=!1;let zL=(()=>{class n{constructor(e,r,i,s,o){this.parentContexts=e,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=i||nr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Kk);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Kk);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Kk);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new a.vHH(4013,Kk);this._activatedRoute=e;const i=this.location,o=e._futureSnapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new kee(e,c,i.injector);if(r&&function Mee(n){return!!n.resolveComponentFactory}(r)){const p=r.resolveComponentFactory(o);this.activated=i.createComponent(p,i.length,h)}else this.activated=i.createComponent(o,{index:i.length,injector:h,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(FE),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class kee{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Yx?this.route:t===FE?this.childContexts:this.parent.get(t,e)}}let H5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&a._UZ(0,"router-outlet")},dependencies:[zL],encapsulation:2}),n})();function G5(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function WL(n){const t=n.children&&n.children.map(WL),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==nr&&(e.component=H5),e}function Qc(n){return n.outlet||nr}function j5(n,t){const e=n.filter(r=>Qc(r)===t);return e.push(...n.filter(r=>Qc(r)!==t)),e}function z5(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Nee{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),HL(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Zx(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Bo(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Zx(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Zx(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=Zx(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bee(s.value.snapshot))}),t.children.length&&this.forwardEvent(new xee(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(HL(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),HL(c.route.value),this.activateChildRoutes(t,null,o.children)}else{const c=z5(i.snapshot),h=c?.get(a._Vd)??null;o.attachRef=null,o.route=i,o.resolver=h,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class $5{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xk{constructor(t,e){this.component=t,this.route=e}}function Lee(n,t,e){const r=n._root;return OE(r,t?t._root:null,e,[r.value])}function Qk(n,t,e){return(z5(t)??e).get(n)}function OE(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zx(t);return n.children.forEach(o=>{(function Vee(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const h=function Uee(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!z_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!z_(n.url,t.url)||!mh(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GL(n,t)||!mh(n.queryParams,t.queryParams);default:return!GL(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new $5(r)):(s.data=o.data,s._resolvedData=o._resolvedData),OE(n,t,s.component?c?c.children:null:e,r,i),h&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Xk(c.outlet.component,o))}else o&&PE(t,c,i),i.canActivateChecks.push(new $5(r)),OE(n,null,s.component?c?c.children:null:e,r,i)})(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Bo(s,(o,c)=>PE(o,e.getContext(c),i)),i}function PE(n,t,e){const r=Zx(n),i=n.value;Bo(r,(s,o)=>{PE(s,i.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Xk(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function NE(n){return"function"==typeof n}function qL(n){return n instanceof kk||"EmptyError"===n?.name}const Jk=Symbol("INITIAL_VALUE");function Kx(){return Yi(n=>rb(n.map(t=>t.pipe(x(1),cl(Jk)))).pipe((0,C.U)(t=>{for(const e of t)if(!0!==e){if(e===Jk)return Jk;if(!1===e||e instanceof j_)return e}return!0}),Wr(t=>t!==Jk),x(1)))}function W5(n){return(0,NJ.z)((0,ai.b)(t=>{if($_(t))throw L5(0,t)}),(0,C.U)(t=>!0===t))}const ZL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q5(n,t,e,r,i){const s=YL(n,t,e);return s.matched?function rte(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Qt(i.map(o=>{const c=n.get(o),h=function Wee(n){return n&&NE(n.canMatch)}(c)?c.canMatch(t,e):c(t,e);return tp(h)})).pipe(Kx(),W5()):Qt(!0)}(r=G5(t,r),t,e).pipe((0,C.U)(o=>!0===o?s:{...ZL})):Qt(s)}function YL(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ZL}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||VJ)(e,n,t);if(!i)return{...ZL};const s={};Bo(i.posParams,(c,h)=>{s[h]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eM(n,t,e,r,i="corrected"){if(e.length>0&&function ote(n,t,e){return e.some(r=>tM(n,t,r)&&Qc(r)!==nr)}(n,e,r)){const o=new cr(t,function ste(n,t,e,r){const i={};i[nr]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Qc(s)!==nr){const o=new cr([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,i[Qc(s)]=o}return i}(n,t,r,new cr(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function ate(n,t,e){return e.some(r=>tM(n,t,r))}(n,e,r)){const o=new cr(n.segments,function ite(n,t,e,r,i,s){const o={};for(const c of r)if(tM(n,e,c)&&!i[Qc(c)]){const h=new cr([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Qc(c)]=h}return{...i,...o}}(n,t,e,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new cr(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function tM(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Z5(n,t,e,r){return!!(Qc(n)===r||r!==nr&&tM(t,e,n))&&("**"===n.path||YL(t,n,e).matched)}function Y5(n,t,e){return 0===t.length&&!n.children[e]}const nM=!1;class rM{constructor(t){this.segmentGroup=t||null}}class K5{constructor(t){this.urlTree=t}}function LE(n){return zx(new rM(n))}function X5(n){return zx(new K5(n))}class dte{constructor(t,e,r,i,s){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=eM(this.urlTree.root,[],[],this.config).segmentGroup,e=new cr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,nr).pipe((0,C.U)(s=>this.createUrlTree(qk(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ep(s=>{if(s instanceof K5)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof rM?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,nr).pipe((0,C.U)(i=>this.createUrlTree(qk(i),t.queryParams,t.fragment))).pipe(ep(i=>{throw i instanceof rM?this.noMatchError(i):i}))}noMatchError(t){return new a.vHH(4002,nM)}createUrlTree(t,e,r){const i=FL(t);return new j_(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,C.U)(s=>new cr([],s))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,er.D)(i).pipe(Qg(s=>{const o=r.children[s],c=j5(e,s);return this.expandSegmentGroup(t,c,o,s).pipe((0,C.U)(h=>({segment:h,outlet:s})))}),Zd((s,o)=>(s[o.outlet]=o.segment,s),{}),u5())}expandSegment(t,e,r,i,s,o){return(0,er.D)(r).pipe(Qg(c=>this.expandSegmentAgainstRoute(t,e,r,c,i,s,o).pipe(ep(p=>{if(p instanceof rM)return Qt(null);throw p}))),Jf(c=>!!c),ep((c,h)=>{if(qL(c))return Y5(e,i,s)?Qt(new cr([],{})):LE(e);throw c}))}expandSegmentAgainstRoute(t,e,r,i,s,o,c){return Z5(i,e,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,s,o):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o):LE(e):LE(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?X5(s):this.lineralizeSegments(r,s).pipe((0,lo.z)(o=>{const c=new cr(o,{});return this.expandSegment(t,c,e,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o){const{matched:c,consumedSegments:h,remainingSegments:p,positionalParamSegments:m}=YL(e,i,s);if(!c)return LE(e);const v=this.applyRedirectCommands(h,i.redirectTo,m);return i.redirectTo.startsWith("/")?X5(v):this.lineralizeSegments(i,v).pipe((0,lo.z)(w=>this.expandSegment(t,e,r,w.concat(p),o,!1)))}matchSegmentAgainstRoute(t,e,r,i,s){return"**"===r.path?(t=G5(r,t),r.loadChildren?(r._loadedRoutes?Qt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,C.U)(c=>(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,new cr(i,{})))):Qt(new cr(i,{}))):q5(e,r,i,t).pipe(Yi(({matched:o,consumedSegments:c,remainingSegments:h})=>o?this.getChildConfig(t=r._injector??t,r,i).pipe((0,lo.z)(m=>{const v=m.injector??t,w=m.routes,{segmentGroup:E,slicedSegments:D}=eM(e,c,h,w),S=new cr(E.segments,E.children);if(0===D.length&&S.hasChildren())return this.expandChildren(v,w,S).pipe((0,C.U)(B=>new cr(c,B)));if(0===w.length&&0===D.length)return Qt(new cr(c,{}));const M=Qc(r)===s;return this.expandSegment(v,S,w,D,M?nr:s,!0).pipe((0,C.U)(V=>new cr(c.concat(V.segments),V.children)))})):LE(e)))}getChildConfig(t,e,r){return e.children?Qt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Qt({routes:e._loadedRoutes,injector:e._loadedInjector}):function nte(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Qt(!0):Qt(i.map(o=>{const c=n.get(o),h=function Gee(n){return n&&NE(n.canLoad)}(c)?c.canLoad(t,e):c(t,e);return tp(h)})).pipe(Kx(),W5())}(t,e,r).pipe((0,lo.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,ai.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function cte(n){return zx(B5(nM,3))}())):Qt({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qt(r);if(i.numberOfChildren>1||!i.children[nr])return zx(new a.vHH(4e3,nM));i=i.children[nr]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new j_(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Bo(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=e[c]}else r[s]=i}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let o={};return Bo(e.children,(c,h)=>{o[h]=this.createSegmentGroup(t,c,r,i)}),new cr(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new a.vHH(4001,nM);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class fte{}class mte{constructor(t,e,r,i,s,o,c,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c,this.urlSerializer=h}recognize(){const t=eM(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,nr).pipe((0,C.U)(e=>{if(null===e)return null;const r=new Yk([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nr,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new rp(r,e),s=new P5(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,r=O5(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return(0,er.D)(Object.keys(r.children)).pipe(Qg(i=>{const s=r.children[i],o=j5(e,i);return this.processSegmentGroup(t,o,s,i)}),Zd((i,s)=>i&&s?(i.push(...s),i):null),Eb(i=>null!==i),Mk(null),u5(),(0,C.U)(i=>{if(null===i)return null;const s=Q5(i);return function _te(n){n.sort((t,e)=>t.value.outlet===nr?-1:e.value.outlet===nr?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,r,i,s){return(0,er.D)(e).pipe(Qg(o=>this.processSegmentAgainstRoute(o._injector??t,o,r,i,s)),Jf(o=>!!o),ep(o=>{if(qL(o))return Y5(r,i,s)?Qt([]):Qt(null);throw o}))}processSegmentAgainstRoute(t,e,r,i,s){if(e.redirectTo||!Z5(e,r,i,s))return Qt(null);let o;if("**"===e.path){const c=i.length>0?f5(i).parameters:{},h=eG(r)+i.length;o=Qt({snapshot:new Yk(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nG(e),Qc(e),e.component??e._loadedComponent??null,e,J5(r),h,rG(e),h),consumedSegments:[],remainingSegments:[]})}else o=q5(r,e,i,t).pipe((0,C.U)(({matched:c,consumedSegments:h,remainingSegments:p,parameters:m})=>{if(!c)return null;const v=eG(r)+h.length;return{snapshot:new Yk(h,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nG(e),Qc(e),e.component??e._loadedComponent??null,e,J5(r),v,rG(e),v),consumedSegments:h,remainingSegments:p}}));return o.pipe(Yi(c=>{if(null===c)return Qt(null);const{snapshot:h,consumedSegments:p,remainingSegments:m}=c;t=e._injector??t;const v=e._loadedInjector??t,w=function yte(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:E,slicedSegments:D}=eM(r,p,m,w.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===D.length&&E.hasChildren())return this.processChildren(v,w,E).pipe((0,C.U)(M=>null===M?null:[new rp(h,M)]));if(0===w.length&&0===D.length)return Qt([new rp(h,[])]);const S=Qc(e)===s;return this.processSegment(v,w,E,D,S?nr:s).pipe((0,C.U)(M=>null===M?null:[new rp(h,M)]))}))}}function vte(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Q5(n){const t=[],e=new Set;for(const r of n){if(!vte(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Q5(r.children);t.push(new rp(r.value,i))}return t.filter(r=>!e.has(r))}function J5(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function eG(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function nG(n){return n.data||{}}function rG(n){return n.resolve||{}}const KL=Symbol("RouteTitle");function iG(n){return"string"==typeof n.title||null===n.title}function XL(n){return Yi(t=>{const e=n(t);return e?(0,er.D)(e).pipe((0,C.U)(()=>t)):Qt(t)})}let sG=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nr);return r}getResolvedTitleForRoute(e){return e.data[KL]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(oG)},providedIn:"root"}),n})(),oG=(()=>{class n extends sG{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Op))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dte{}class Ite extends class Ate{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const QL=new a.OlP("",{providedIn:"root",factory:()=>({})}),JL=new a.OlP("ROUTES");let eB=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Qt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=tp(e.loadComponent()).pipe((0,ai.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Hk(()=>{this.componentLoaders.delete(e)})),i=new c5(r,()=>new hn.x).pipe(AL());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,C.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,p,m=!1;Array.isArray(c)?p=c:(h=c.create(e).injector,p=h5(h.get(JL,[],a.XFs.Self|a.XFs.Optional)));return{routes:p.map(WL),injector:h}}),Hk(()=>{this.childrenLoaders.delete(r)})),o=new c5(s,()=>new hn.x).pipe(AL());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(e){return tp(e()).pipe((0,lo.z)(r=>r instanceof a.YKP||Array.isArray(r)?Qt(r):(0,er.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mte{}class Rte{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fte(n){throw n}function Ote(n,t,e){return t.parse("/")}const Pte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nte={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function lG(){const n=(0,a.f3M)(v5),t=(0,a.f3M)(FE),e=(0,a.f3M)(pt),r=(0,a.f3M)(a.zs3),i=(0,a.f3M)(a.Sil),s=(0,a.f3M)(JL,{optional:!0})??[],o=(0,a.f3M)(QL,{optional:!0})??{},c=(0,a.f3M)(oG),h=(0,a.f3M)(sG,{optional:!0}),p=(0,a.f3M)(Mte,{optional:!0}),m=(0,a.f3M)(Dte,{optional:!0}),v=new Vo(null,n,t,e,r,i,h5(s));return p&&(v.urlHandlingStrategy=p),m&&(v.routeReuseStrategy=m),v.titleStrategy=h??c,function Lte(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,v),v}let Vo=(()=>{class n{constructor(e,r,i,s,o,c,h){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hn.x,this.errorHandler=Fte,this.malformedUriErrorHandler=Ote,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qt(void 0),this.urlHandlingStrategy=new Rte,this.routeReuseStrategy=new Ite,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(eB),this.configLoader.onLoadEndListener=w=>this.triggerEvent(new yee(w)),this.configLoader.onLoadStartListener=w=>this.triggerEvent(new _ee(w)),this.ngModule=o.get(a.h0i),this.console=o.get(a.c2e);const v=o.get(a.R0b);this.isNgZoneEnabled=v instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function HJ(){return new j_(new cr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=F5(this.currentUrlTree,this.rootComponentType),this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Wr(i=>0!==i.id),(0,C.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Yi(i=>{let s=!1,o=!1;return Qt(i).pipe((0,ai.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yi(c=>{const h=this.browserUrlTree.toString(),p=!this.navigated||c.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||p)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return cG(c.source)&&(this.browserUrlTree=c.extractedUrl),Qt(c).pipe(Yi(v=>{const w=this.transitions.getValue();return r.next(new LL(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions.getValue()?y.E:Promise.resolve(v)}),function hte(n,t,e,r){return Yi(i=>function ute(n,t,e,r,i){return new dte(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,C.U)(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},i.urlAfterRedirects=v.urlAfterRedirects}),function wte(n,t,e,r,i,s){return(0,lo.z)(o=>function gte(n,t,e,r,i,s,o="emptyOnly",c="legacy"){return new mte(n,t,e,r,i,o,c,s).recognize().pipe(Yi(h=>null===h?function pte(n){return new vi.y(t=>t.error(n))}(new fte):Qt(h)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe((0,C.U)(c=>({...o,targetSnapshot:c}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(v=>{if(i.targetSnapshot=v.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const E=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(E,v)}this.browserUrlTree=v.urlAfterRedirects}const w=new hee(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);r.next(w)}));if(p&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:E,source:D,restoredState:S,extras:M}=c,P=new LL(w,this.serializeUrl(E),D,S);r.next(P);const V=F5(E,this.rootComponentType).snapshot;return Qt(i={...c,targetSnapshot:V,urlAfterRedirects:E,extras:{...M,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=c.rawUrl,c.resolve(null),y.E}),(0,ai.b)(c=>{const h=new fee(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}),(0,C.U)(c=>i={...c,guards:Lee(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Zee(n,t){return(0,lo.z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Qt({...e,guardsResult:!0}):function Yee(n,t,e,r){return(0,er.D)(n).pipe((0,lo.z)(i=>function tte(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Qt(s.map(c=>{const h=Qk(c,t,i);return tp(function $ee(n){return n&&NE(n.canDeactivate)}(h)?h.canDeactivate(n,t,e,r):h(n,t,e,r)).pipe(Jf())})).pipe(Kx()):Qt(!0)}(i.component,i.route,e,t,r)),Jf(i=>!0!==i,!0))}(o,r,i,n).pipe((0,lo.z)(c=>c&&function Hee(n){return"boolean"==typeof n}(c)?function Kee(n,t,e,r){return(0,er.D)(t).pipe(Qg(i=>qy(function Qee(n,t){return null!==n&&t&&t(new vee(n)),Qt(!0)}(i.route.parent,r),function Xee(n,t){return null!==n&&t&&t(new wee(n)),Qt(!0)}(i.route,r),function ete(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Bee(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>In(()=>Qt(o.guards.map(h=>{const p=Qk(h,o.node,e);return tp(function zee(n){return n&&NE(n.canActivateChild)}(p)?p.canActivateChild(r,n):p(r,n)).pipe(Jf())})).pipe(Kx())));return Qt(s).pipe(Kx())}(n,i.path,e),function Jee(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Qt(!0);const i=r.map(s=>In(()=>{const o=Qk(s,t,e);return tp(function jee(n){return n&&NE(n.canActivate)}(o)?o.canActivate(t,n):o(t,n)).pipe(Jf())}));return Qt(i).pipe(Kx())}(n,i.route,e))),Jf(i=>!0!==i,!0))}(r,s,n,t):Qt(c)),(0,C.U)(c=>({...e,guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),(0,ai.b)(c=>{if(i.guardsResult=c.guardsResult,$_(c.guardsResult))throw L5(0,c.guardsResult);const h=new pee(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(h)}),Wr(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),XL(c=>{if(c.guards.canActivateChecks.length)return Qt(c).pipe((0,ai.b)(h=>{const p=new gee(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),Yi(h=>{let p=!1;return Qt(h).pipe(function bte(n,t){return(0,lo.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Qt(e);let s=0;return(0,er.D)(i).pipe(Qg(o=>function Cte(n,t,e,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!iG(i)&&(s[KL]=i.title),function Ete(n,t,e,r){const i=function Ste(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qt({});const s={};return(0,er.D)(i).pipe((0,lo.z)(o=>function Tte(n,t,e,r){const i=Qk(n,t,r);return tp(i.resolve?i.resolve(t,e):i(t,e))}(n[o],t,e,r).pipe(Jf(),(0,ai.b)(c=>{s[o]=c}))),IL(1),function LJ(n){return(0,C.U)(()=>n)}(s),ep(o=>qL(o)?y.E:zx(o)))}(s,n,t,r).pipe((0,C.U)(o=>(n._resolvedData=o,n.data=O5(n,e).resolve,i&&iG(i)&&(n.data[KL]=i.title),null)))}(o.route,r,n,t)),(0,ai.b)(()=>s++),IL(1),(0,lo.z)(o=>s===i.length?Qt(e):y.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>p=!0,complete:()=>{p||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,ai.b)(h=>{const p=new mee(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}))}),XL(c=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,ai.b)(v=>{p.component=v}),(0,C.U)(()=>{})));for(const v of p.children)m.push(...h(v));return m};return rb(h(c.targetSnapshot.root)).pipe(Mk(),x(1))}),XL(()=>this.afterPreactivation()),(0,C.U)(c=>{const h=function Tee(n,t,e){const r=RE(n,t._root,e?e._root:void 0);return new R5(r,t)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:h}}),(0,ai.b)(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,C.U)(r=>(new Nee(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),(0,ai.b)({next(){s=!0},complete(){s=!0}}),Hk(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ep(c=>{if(o=!0,U5(c)){V5(c)||(this.navigated=!0,this.restoreHistory(i,!0));const h=new Zk(i.id,this.serializeUrl(i.extractedUrl),c.message,c.cancellationCode);if(r.next(h),V5(c)){const p=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cG(i.source)};this.scheduleNavigation(p,"imperative",null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new I5(i.id,this.serializeUrl(i.extractedUrl),c,i.targetSnapshot??void 0);r.next(h);try{i.resolve(this.errorHandler(c))}catch(p){i.reject(p)}}return y.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(WL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:h}=r,p=i||this.routerState.root,m=h?this.currentUrlTree.fragment:o;let v=null;switch(c){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),oee(p,this.currentUrlTree,e,v,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=$_(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Bte(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...Pte}:!1===r?{...Nte}:r,$_(e))return g5(this.currentUrlTree,e,i);const s=this.parseUrl(e);return g5(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const s=e[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new W_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,h,p;o?(c=o.resolve,h=o.reject,p=o.promise):p=new Promise((w,E)=>{c=w,h=E});const m=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),v=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):v=0,this.setTransition({id:m,targetPageId:v,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(w=>Promise.reject(w))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const s=new Zk(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return lG()},providedIn:"root"}),n})();function cG(n){return"imperative"!==n}let ip=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new hn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,a.D6c)(this.skipLocationChange),replaceUrl:(0,a.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,a.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vo),a.Y36(Yx),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})(),oM=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new hn.x,this.subscription=e.events.subscribe(s=>{s instanceof W_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,s,o){if(0!==e||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const c={skipLocationChange:(0,a.D6c)(this.skipLocationChange),replaceUrl:(0,a.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,a.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Vo),a.Y36(Yx),a.Y36(Ke))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&a.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();class uG{}let dG=(()=>{class n{constructor(e,r,i,s,o){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(e=>e instanceof W_),Qg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,c=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return(0,er.D)(i).pipe((0,h0.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Qt(null);const s=i.pipe((0,lo.z)(o=>null===o?Qt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){const o=this.loader.loadComponent(r);return(0,er.D)([s,o]).pipe((0,h0.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Vo),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(uG),a.LFG(eB))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const hG=new a.OlP("");let Hte=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof LL?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof W_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof k5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new k5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const fG=new a.OlP("ROUTER_FORROOT_GUARD"),pG=new a.OlP(""),Gte=[pt,{provide:v5,useClass:ML},{provide:Vo,useFactory:lG},FE,{provide:Yx,useFactory:function jte(n){return n.routerState.root},deps:[Vo]},eB];function zte(){return new a.PXZ("Router",Vo)}let gG=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Gte,[],mG(e),{provide:fG,useFactory:Zte,deps:[[Vo,new a.FiY,new a.tp0]]},{provide:QL,useValue:r||{}},r?.useHash?{provide:Ke,useClass:Kt}:{provide:Ke,useClass:Yt},{provide:hG,useFactory:()=>{const n=(0,a.f3M)(Vo),t=(0,a.f3M)(Cu),e=(0,a.f3M)(QL);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Hte(n,t,e)}},r?.preloadingStrategy?tne(r.preloadingStrategy):[],{provide:a.PXZ,multi:!0,useFactory:zte},r?.initialNavigation?Kte(r):[],[{provide:_G,useFactory:Yte},{provide:a.tb,multi:!0,useExisting:_G}]]}}static forChild(e){return{ngModule:n,providers:[mG(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(fG,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function Zte(n){return"guarded"}function mG(n){return[{provide:JL,multi:!0,useValue:n}]}function Yte(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const r=n.get(Vo),i=n.get(yG);1===n.get(tB)&&r.initialNavigation(),n.get(pG,null,a.XFs.Optional)?.setUpPreloading(),n.get(hG,null,a.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.next(),i.complete()}}const _G=new a.OlP("");function Kte(n){return["disabled"===n.initialNavigation?[{provide:a.ip1,multi:!0,useFactory:()=>{const n=(0,a.f3M)(Vo);return()=>{n.setUpLocationChangeListener()}}},{provide:tB,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:tB,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:n=>{const t=n.get(le,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(i=>{const s=n.get(Vo),o=n.get(yG);(function r(i){n.get(Vo).events.pipe(Wr(o=>o instanceof W_||o instanceof Zk||o instanceof I5),(0,C.U)(o=>o instanceof W_||o instanceof Zk&&(0===o.code||1===o.code)&&null),Wr(o=>null!==o),x(1)).subscribe(()=>{i()})})(()=>{i(!0),e=!0}),s.afterPreactivation=()=>(i(!0),e||o.closed?Qt(void 0):o),s.initialNavigation()}))}}]:[]]}const yG=new a.OlP("",{factory:()=>new hn.x}),tB=new a.OlP("",{providedIn:"root",factory:()=>1});function tne(n){return[dG,{provide:pG,useExisting:dG},{provide:uG,useExisting:n}]}let nne=(()=>{class n{constructor(e){this.firestore=e,this.index=0,this.indexs=[]}ngOnInit(){this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0}),this.firestore.collection("lunch").snapshotChanges().subscribe(e=>{this.index<=e.length&&(this.index=e.length,this.amountIndex=e.map(r=>{this.indexs.push(r.payload.doc.id),this.index++;for(let s=0;s<this.indexs.length;s++)this.firestore.doc("lunch/"+this.indexs[s]).update({bagAmount:1})}))})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&a._UZ(0,"router-outlet")},dependencies:[zL]}),n})();var BE_version="0.18.5",Jl=1200,q_=1252,rne=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nB={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},aM=function(n){-1!=rne.indexOf(n)&&(q_=nB[0]=n)},Jc=function(n){Jl=n,aM(n)};var Ar,VE=function(t){return String.fromCharCode(t)},rB=function(t){return String.fromCharCode(t)},em="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function HE(n){for(var t="",e=0,r=0,i=0,s=0,o=0,c=0,h=0,p=0;p<n.length;)s=(e=n.charCodeAt(p++))>>2,o=(3&e)<<4|(r=n.charCodeAt(p++))>>4,c=(15&r)<<2|(i=n.charCodeAt(p++))>>6,h=63&i,isNaN(r)?c=h=64:isNaN(i)&&(h=64),t+=em.charAt(s)+em.charAt(o)+em.charAt(c)+em.charAt(h);return t}function ec(n){var t="",s=0,o=0,c=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<n.length;)s=em.indexOf(n.charAt(p++)),o=em.indexOf(n.charAt(p++)),t+=String.fromCharCode(s<<2|o>>4),64!==(c=em.indexOf(n.charAt(p++)))&&(t+=String.fromCharCode((15&o)<<4|c>>2)),64!==(h=em.indexOf(n.charAt(p++)))&&(t+=String.fromCharCode((3&c)<<6|h));return t}var rr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),sp=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function tm(n){return rr?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function xG(n){return rr?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var tc=function(t){return rr?sp(t,"binary"):t.split("").map(function(e){return 255&e.charCodeAt(0)})};function GE(n){if(typeof ArrayBuffer>"u")return tc(n);for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),r=0;r!=n.length;++r)e[r]=255&n.charCodeAt(r);return t}function nm(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],e=0;e<n.length;++e)t[e]=String.fromCharCode(n[e]);return t.join("")}var _o=rr?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:sp(t)}))}:function(n){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<n.length;++t)e+=n[t].length;var r=new Uint8Array(e),i=0;for(t=0,e=0;t<n.length;e+=i,++t)if(i=n[t].length,n[t]instanceof Uint8Array)r.set(n[t],e);else{if("string"==typeof n[t])throw"wtf";r.set(new Uint8Array(n[t]),e)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},aa=/\u0000/g,jE=/[\u0001-\u0006]/g;function Qx(n){for(var t="",e=n.length-1;e>=0;)t+=n.charAt(e--);return t}function td(n,t){var e=""+n;return e.length>=t?e:as("0",t-e.length)+e}function sB(n,t){var e=""+n;return e.length>=t?e:as(" ",t-e.length)+e}function uM(n,t){var e=""+n;return e.length>=t?e:e+as(" ",t-e.length)}var wG=Math.pow(2,32);function Jx(n,t){return n>wG||n<-wG?function lne(n,t){var e=""+Math.round(n);return e.length>=t?e:as("0",t-e.length)+e}(n,t):function cne(n,t){var e=""+n;return e.length>=t?e:as("0",t-e.length)+e}(Math.round(n),t)}function dM(n,t){return n.length>=7+(t=t||0)&&103==(32|n.charCodeAt(t))&&101==(32|n.charCodeAt(t+1))&&110==(32|n.charCodeAt(t+2))&&101==(32|n.charCodeAt(t+3))&&114==(32|n.charCodeAt(t+4))&&97==(32|n.charCodeAt(t+5))&&108==(32|n.charCodeAt(t+6))}var bG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],oB=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Tn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},CG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},dne={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hM(n,t,e){for(var r=n<0?-1:1,i=n*r,s=0,o=1,c=0,h=1,p=0,m=0,v=Math.floor(i);p<t&&(c=(v=Math.floor(i))*o+s,m=v*p+h,!(i-v<5e-8));)i=1/(i-v),s=o,o=c,h=p,p=m;if(m>t&&(p>t?(m=h,c=s):(m=p,c=o)),!e)return[0,r*c,m];var w=Math.floor(r*c/m);return[w,r*c-w*m,m]}function rm(n,t,e){if(n>2958465||n<0)return null;var r=0|n,i=Math.floor(86400*(n-r)),s=0,o=[],c={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,86400==++i&&(c.T=i=0,++r,++c.D)),60===r)o=e?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=e?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),r<60&&(s=(s+6)%7),e&&(s=function _ne(n,t){t[0]-=581;var e=n.getDay();return n<60&&(e=(e+6)%7),e}(h,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var EG=new Date(1899,11,31,0,0,0),hne=EG.getTime(),fne=new Date(1900,2,1,0,0,0);function SG(n,t){var e=n.getTime();return t?e-=1262304e5:n>=fne&&(e+=864e5),(e-(hne+6e4*(n.getTimezoneOffset()-EG.getTimezoneOffset())))/864e5}function aB(n){return-1==n.indexOf(".")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Z_(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(0|n)===n?n.toString(10):function zE(n){var e,t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return e=t>=-4&&t<=-1?n.toPrecision(10+t):Math.abs(t)<=9?function gne(n){var t=n<0?12:11,e=aB(n.toFixed(12));return e.length<=t||(e=n.toPrecision(10)).length<=t?e:n.toExponential(5)}(n):10===t?n.toFixed(10).substr(0,12):function mne(n){var t=aB(n.toFixed(11));return t.length>(n<0?12:11)||"0"===t||"-0"===t?n.toPrecision(6):t}(n),aB(function pne(n){return-1==n.indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}(n);case"undefined":return"";case"object":if(null==n)return"";if(n instanceof Date)return nc(14,SG(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function yne(n,t,e,r){var h,i="",s=0,o=0,c=e.y,p=0;switch(n){case 98:c=e.y+543;case 121:switch(t.length){case 1:case 2:h=c%100,p=2;break;default:h=c%1e4,p=4}break;case 109:switch(t.length){case 1:case 2:h=e.m,p=t.length;break;case 3:return oB[e.m-1][1];case 5:return oB[e.m-1][0];default:return oB[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:h=e.d,p=t.length;break;case 3:return bG[e.q][0];default:return bG[e.q][1]}break;case 104:switch(t.length){case 1:case 2:h=1+(e.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:h=e.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:h=e.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==e.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(o*(e.S+e.u)))>=60*o&&(s=0),"s"===t?0===s?"0":""+s/o:(i=td(s,2+r),"ss"===t?i.substr(0,2):"."+i.substr(2,t.length-1))):td(e.S,t.length);case 90:switch(t){case"[h]":case"[hh]":h=24*e.D+e.H;break;case"[m]":case"[mm]":h=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":h=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}p=3===t.length?1:2;break;case 101:h=c,p=1}return p>0?td(h,p):""}function im(n){if(n.length<=3)return n;for(var e=n.length%3,r=n.substr(0,e);e!=n.length;e+=3)r+=(r.length>0?",":"")+n.substr(e,3);return r}var TG=/%/g;function DG(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+DG(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),-1===(e=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+s):e+="E+"+(o-s);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,p,m){return h+p+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var AG=/# (\?+)( ?)\/( ?)(\d+)/,IG=/^#*0*\.([0#]+)/,kG=/\).*[0#]/,MG=/\(###\) ###\\?-####/;function Va(n){for(var e,t="",r=0;r!=n.length;++r)switch(e=n.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function RG(n,t){var e=Math.pow(10,t);return""+Math.round(n*e)/e}function FG(n,t){var e=n-Math.floor(n),r=Math.pow(10,t);return t<(""+Math.round(e*r)).length?0:Math.round(e*r)}function eu(n,t,e){if(40===n.charCodeAt(0)&&!t.match(kG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?eu("n",r,e):"("+eu("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function xne(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return op(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function vne(n,t,e){var r=t.replace(TG,""),i=t.length-r.length;return op(n,r,e*Math.pow(10,2*i))+as("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return DG(t,e);if(36===t.charCodeAt(0))return"$"+eu(n,t.substr(" "==t.charAt(1)?2:1),e);var i,s,o,c,h=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+Jx(h,t.length);if(t.match(/^[#?]+$/))return"0"===(i=Jx(e,0))&&(i=""),i.length>t.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(AG))return function wne(n,t,e){var r=parseInt(n[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,c=r;return e+(0===s?"":""+s)+" "+(0===o?as(" ",n[1].length+1+n[4].length):sB(o,n[1].length)+n[2]+"/"+n[3]+td(c,n[4].length))}(s,h,p);if(t.match(/^#+0+$/))return p+Jx(h,t.length-t.indexOf("0"));if(s=t.match(IG))return i=RG(e,s[1].length).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1])).replace(/\.(\d*)$/,function(D,S){return"."+S+as("0",Va(s[1]).length-S.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+RG(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+im(Jx(h,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+eu(n,t,-e):im(""+(Math.floor(e)+function Cne(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}(e,s[1].length)))+"."+td(FG(e,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return eu(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qx(eu(n,t.replace(/[\\-]/g,""),e)),o=0,Qx(Qx(t.replace(/\\/g,"")).replace(/[0#]/g,function(D){return o<i.length?i.charAt(o++):"0"===D?"0":""}));if(t.match(MG))return"("+(i=eu(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=hM(h,Math.pow(10,o)-1,!1),i=""+p," "==(m=op("n",s[1],c[1])).charAt(m.length-1)&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],(m=uM(c[2],o)).length<s[4].length&&(m=Va(s[4].substr(s[4].length-m.length))+m),i+=m;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((c=hM(h,Math.pow(10,o)-1,!0))[0]||(c[1]?"":"0"))+" "+(c[1]?sB(c[1],o)+s[2]+"/"+s[3]+uM(c[2],o):as(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Jx(e,0),t.length<=i.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=t.indexOf(".")-o,w=t.length-i.length-v;return Va(t.substr(0,v)+i+t.substr(t.length-w))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=FG(e,s[1].length),e<0?"-"+eu(n,t,-e):im(function Ene(n){return n<2147483647&&n>-2147483648?""+(n>=0?0|n:n-1|0):""+Math.floor(n)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?td(0,3-D.length):"")+D})+"."+td(o,s[1].length);switch(t){case"###,##0.00":return eu(n,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var E=im(Jx(h,0));return"0"!==E?p+E:"";case"###,###.00":return eu(n,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return eu(n,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function OG(n,t){var e,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+OG(n,-t);var i=n.indexOf(".");-1===i&&(i=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),!(e=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+s):e+="E+"+(o-s),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,p,m){return h+p+m.substr(0,(i+s)%i)+"."+m.substr(s)+"E"})}else e=t.toExponential(r);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function _h(n,t,e){if(40===n.charCodeAt(0)&&!t.match(kG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?_h("n",r,e):"("+_h("n",r,-e)+")"}if(44===t.charCodeAt(t.length-1))return function Sne(n,t,e){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return op(n,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}(n,t,e);if(-1!==t.indexOf("%"))return function Tne(n,t,e){var r=t.replace(TG,""),i=t.length-r.length;return op(n,r,e*Math.pow(10,2*i))+as("%",i)}(n,t,e);if(-1!==t.indexOf("E"))return OG(t,e);if(36===t.charCodeAt(0))return"$"+_h(n,t.substr(" "==t.charAt(1)?2:1),e);var i,s,o,c,h=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+td(h,t.length);if(t.match(/^[#?]+$/))return i=""+e,0===e&&(i=""),i.length>t.length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(AG))return function bne(n,t,e){return e+(0===t?"":""+t)+as(" ",n[1].length+2+n[4].length)}(s,h,p);if(t.match(/^#+0+$/))return p+td(h,t.length-t.indexOf("0"));if(s=t.match(IG))return i=(i=(""+e).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1]))).replace(/\.(\d*)$/,function(D,S){return"."+S+as("0",Va(s[1]).length-S.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return p+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return p+im(""+h);if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+_h(n,t,-e):im(""+e)+"."+as("0",s[1].length);if(s=t.match(/^#,#*,#0/))return _h(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qx(_h(n,t.replace(/[\\-]/g,""),e)),o=0,Qx(Qx(t.replace(/\\/g,"")).replace(/[0#]/g,function(D){return o<i.length?i.charAt(o++):"0"===D?"0":""}));if(t.match(MG))return"("+(i=_h(n,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=hM(h,Math.pow(10,o)-1,!1),i=""+p," "==(m=op("n",s[1],c[1])).charAt(m.length-1)&&(m=m.substr(0,m.length-1)+"0"),i+=m+s[2]+"/"+s[3],(m=uM(c[2],o)).length<s[4].length&&(m=Va(s[4].substr(s[4].length-m.length))+m),i+=m;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),p+((c=hM(h,Math.pow(10,o)-1,!0))[0]||(c[1]?"":"0"))+" "+(c[1]?sB(c[1],o)+s[2]+"/"+s[3]+uM(c[2],o):as(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return t.length<=(i=""+e).length?i:Va(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var v=t.indexOf(".")-o,w=t.length-i.length-v;return Va(t.substr(0,v)+i+t.substr(t.length-w))}if(s=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+_h(n,t,-e):im(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(D){return"00,"+(D.length<3?td(0,3-D.length):"")+D})+"."+td(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var E=im(""+h);return"0"!==E?p+E:"";default:if(t.match(/\.[0#?]*$/))return _h(n,t.slice(0,t.lastIndexOf(".")),e)+Va(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function op(n,t,e){return(0|e)===e?_h(n,t,e):eu(n,t,e)}var PG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ew(n){for(var t=0,e="",r="";t<n.length;)switch(e=n.charAt(t)){case"G":dM(n,t)&&(t+=6),t++;break;case'"':for(;34!==n.charCodeAt(++t)&&t<n.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===n.charAt(t+1)||"2"===n.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===n.substr(t,3).toUpperCase()||"AM/PM"===n.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===n.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=e;"]"!==n.charAt(t++)&&t<n.length;)r+=n.charAt(t);if(r.match(PG))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(e=n.charAt(++t))>-1||"\\"==e&&"-"==n.charAt(t+1)&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===e;);break;case"*":++t,(" "==n.charAt(t)||"*"==n.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;default:++t}return!1}var NG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function LG(n,t){if(null==t)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(n==e)return!0;break;case">":if(n>e)return!0;break;case"<":if(n<e)return!0;break;case"<>":if(n!=e)return!0;break;case">=":if(n>=e)return!0;break;case"<=":if(n<=e)return!0}return!1}function nc(n,t,e){null==e&&(e={});var r="";switch(typeof n){case"string":r="m/d/yy"==n&&e.dateNF?e.dateNF:n;break;case"number":null==(r=14==n&&e.dateNF?e.dateNF:(null!=e.table?e.table:Tn)[n])&&(r=e.table&&e.table[CG[n]]||Tn[CG[n]]),null==r&&(r=dne[n]||"General")}if(dM(r,0))return Z_(t,e);t instanceof Date&&(t=SG(t,e.date1904));var i=function Ine(n,t){var e=function Dne(n){for(var t=[],e=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=n.substr(i,r-i),i=r+1}if(t[t.length]=n.substr(i),!0===e)throw new Error("Format |"+n+"| unterminated string ");return t}(n),r=e.length,i=e[r-1].indexOf("@");if(r<4&&i>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof t)return[4,4===e.length||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var s=t>0?e[0]:t<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,s];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var o=e[0].match(NG),c=e[1].match(NG);return LG(t,o)?[r,e[0]]:LG(t,c)?[r,e[1]]:[r,e[null!=o&&null!=c?2:1]]}return[r,s]}(r,t);if(dM(i[1]))return Z_(t,e);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function Ane(n,t,e,r){for(var p,m,v,i=[],s="",o=0,c="",h="t",w="H";o<n.length;)switch(c=n.charAt(o)){case"G":if(!dM(n,o))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";34!==(v=n.charCodeAt(++o))&&o<n.length;)s+=String.fromCharCode(v);i[i.length]={t:"t",v:s},++o;break;case"\\":var E=n.charAt(++o);i[i.length]={t:"("===E||")"===E?E:"t",v:E},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if("1"===n.charAt(o+1)||"2"===n.charAt(o+1)){if(null==p&&null==(p=rm(t,e,"2"===n.charAt(o+1))))return"";i[i.length]={t:"X",v:n.substr(o,2)},h=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==p&&null==(p=rm(t,e)))return"";for(s=c;++o<n.length&&n.charAt(o).toLowerCase()===c;)s+=c;"m"===c&&"h"===h.toLowerCase()&&(c="M"),"h"===c&&(c=w),i[i.length]={t:c,v:s},h=c;break;case"A":case"a":case"\u4e0a":var S={t:c,v:c};if(null==p&&(p=rm(t,e)),"A/P"===n.substr(o,3).toUpperCase()?(null!=p&&(S.v=p.H>=12?"P":"A"),S.t="T",w="h",o+=3):"AM/PM"===n.substr(o,5).toUpperCase()?(null!=p&&(S.v=p.H>=12?"PM":"AM"),S.t="T",o+=5,w="h"):"\u4e0a\u5348/\u4e0b\u5348"===n.substr(o,5).toUpperCase()?(null!=p&&(S.v=p.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),S.t="T",o+=5,w="h"):(S.t="t",++o),null==p&&"T"===S.t)return"";i[i.length]=S,h=c;break;case"[":for(s=c;"]"!==n.charAt(o++)&&o<n.length;)s+=n.charAt(o);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(PG)){if(null==p&&null==(p=rm(t,e)))return"";i[i.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ew(n)||(i[i.length]={t:"t",v:s}));break;case".":if(null!=p){for(s=c;++o<n.length&&"0"===(c=n.charAt(o));)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;n.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},h=c;break;case"*":++o,(" "==n.charAt(o)||"*"==n.charAt(o))&&++o;break;case"(":case")":i[i.length]={t:1===r?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"t",v:c},++o}var V,M=0,P=0;for(o=i.length-1,h="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=w,h="h",M<1&&(M=1);break;case"s":(V=i[o].v.match(/\.0+$/))&&(P=Math.max(P,V[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":h=i[o].t;break;case"m":"s"===h&&(i[o].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&i[o].v.match(/[Hh]/)&&(M=1),M<2&&i[o].v.match(/[Mm]/)&&(M=2),M<3&&i[o].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M)}var X,B="";for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=yne(i[o].t.charCodeAt(0),i[o].v,p,P),i[o].t="t";break;case"n":case"?":for(X=o+1;null!=i[X]&&("?"===(c=i[X].t)||"D"===c||(" "===c||"t"===c)&&null!=i[X+1]&&("?"===i[X+1].t||"t"===i[X+1].t&&"/"===i[X+1].v)||"("===i[o].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===i[X].v||" "===i[X].v&&null!=i[X+1]&&"?"==i[X+1].t));)i[o].v+=i[X].v,i[X]={v:"",t:";"},++X;B+=i[o].v,o=X-1;break;case"G":i[o].t="t",i[o].v=Z_(t,e)}var we,Y,he="";if(B.length>0){40==B.charCodeAt(0)?(we=t<0&&45===B.charCodeAt(0)?-t:t,Y=op("n",B,we)):(Y=op("n",B,we=t<0&&r>1?-t:t),we<0&&i[0]&&"t"==i[0].t&&(Y=Y.substr(1),i[0].v="-"+i[0].v)),X=Y.length-1;var Ee=i.length;for(o=0;o<i.length;++o)if(null!=i[o]&&"t"!=i[o].t&&i[o].v.indexOf(".")>-1){Ee=o;break}var Ce=i.length;if(Ee===i.length&&-1===Y.indexOf("E")){for(o=i.length-1;o>=0;--o)null==i[o]||-1==="n?".indexOf(i[o].t)||(X>=i[o].v.length-1?i[o].v=Y.substr(1+(X-=i[o].v.length),i[o].v.length):X<0?i[o].v="":(i[o].v=Y.substr(0,X+1),X=-1),i[o].t="t",Ce=o);X>=0&&Ce<i.length&&(i[Ce].v=Y.substr(0,X+1)+i[Ce].v)}else if(Ee!==i.length&&-1===Y.indexOf("E")){for(X=Y.indexOf(".")-1,o=Ee;o>=0;--o)if(null!=i[o]&&-1!=="n?".indexOf(i[o].t)){for(m=i[o].v.indexOf(".")>-1&&o===Ee?i[o].v.indexOf(".")-1:i[o].v.length-1,he=i[o].v.substr(m+1);m>=0;--m)X>=0&&("0"===i[o].v.charAt(m)||"#"===i[o].v.charAt(m))&&(he=Y.charAt(X--)+he);i[o].v=he,i[o].t="t",Ce=o}for(X>=0&&Ce<i.length&&(i[Ce].v=Y.substr(0,X+1)+i[Ce].v),X=Y.indexOf(".")+1,o=Ee;o<i.length;++o)if(null!=i[o]&&(-1!=="n?(".indexOf(i[o].t)||o===Ee)){for(m=i[o].v.indexOf(".")>-1&&o===Ee?i[o].v.indexOf(".")+1:0,he=i[o].v.substr(0,m);m<i[o].v.length;++m)X<Y.length&&(he+=Y.charAt(X++));i[o].v=he,i[o].t="t",Ce=o}}}for(o=0;o<i.length;++o)null!=i[o]&&"n?".indexOf(i[o].t)>-1&&(i[o].v=op(i[o].t,i[o].v,we=r>1&&t<0&&o>0&&"-"===i[o-1].v?-t:t),i[o].t="t");var ze="";for(o=0;o!==i.length;++o)null!=i[o]&&(ze+=i[o].v);return ze}(i[1],t,e,i[0])}function yh(n,t){if("number"!=typeof t){t=+t||-1;for(var e=0;e<392;++e)if(null!=Tn[e]){if(Tn[e]==n){t=e;break}}else t<0&&(t=e);t<0&&(t=391)}return Tn[t]=n,t}function $E(n){for(var t=0;392!=t;++t)void 0!==n[t]&&yh(n[t],t)}function tw(){Tn=function une(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',n}()}var BG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,One=function(){var n={version:"1.2.0"},e=function t(){for(var Y=0,Ee=new Array(256),Ce=0;256!=Ce;++Ce)Ee[Ce]=Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=1&(Y=Ce)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1)?-306674912^Y>>>1:Y>>>1;return typeof Int32Array<"u"?new Int32Array(Ee):Ee}(),i=function r(Y){var Ee=0,Ce=0,ze=0,Xe=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ze=0;256!=ze;++ze)Xe[ze]=Y[ze];for(ze=0;256!=ze;++ze)for(Ce=Y[ze],Ee=256+ze;Ee<4096;Ee+=256)Ce=Xe[Ee]=Ce>>>8^Y[255&Ce];var Ae=[];for(ze=1;16!=ze;++ze)Ae[ze-1]=typeof Int32Array<"u"?Xe.subarray(256*ze,256*ze+256):Xe.slice(256*ze,256*ze+256);return Ae}(e),s=i[0],o=i[1],c=i[2],h=i[3],p=i[4],m=i[5],v=i[6],w=i[7],E=i[8],D=i[9],S=i[10],M=i[11],P=i[12],V=i[13],B=i[14];return n.table=e,n.bstr=function X(Y,Ee){for(var Ce=-1^Ee,ze=0,Xe=Y.length;ze<Xe;)Ce=Ce>>>8^e[255&(Ce^Y.charCodeAt(ze++))];return~Ce},n.buf=function he(Y,Ee){for(var Ce=-1^Ee,ze=Y.length-15,Xe=0;Xe<ze;)Ce=B[Y[Xe++]^255&Ce]^V[Y[Xe++]^Ce>>8&255]^P[Y[Xe++]^Ce>>16&255]^M[Y[Xe++]^Ce>>>24]^S[Y[Xe++]]^D[Y[Xe++]]^E[Y[Xe++]]^w[Y[Xe++]]^v[Y[Xe++]]^m[Y[Xe++]]^p[Y[Xe++]]^h[Y[Xe++]]^c[Y[Xe++]]^o[Y[Xe++]]^s[Y[Xe++]]^e[Y[Xe++]];for(ze+=15;Xe<ze;)Ce=Ce>>>8^e[255&(Ce^Y[Xe++])];return~Ce},n.str=function we(Y,Ee){for(var Ce=-1^Ee,ze=0,Xe=Y.length,Ae=0,Ot=0;ze<Xe;)(Ae=Y.charCodeAt(ze++))<128?Ce=Ce>>>8^e[255&(Ce^Ae)]:Ae<2048?Ce=(Ce=Ce>>>8^e[255&(Ce^(192|Ae>>6&31))])>>>8^e[255&(Ce^(128|63&Ae))]:Ae>=55296&&Ae<57344?(Ae=64+(1023&Ae),Ot=1023&Y.charCodeAt(ze++),Ce=(Ce=(Ce=(Ce=Ce>>>8^e[255&(Ce^(240|Ae>>8&7))])>>>8^e[255&(Ce^(128|Ae>>2&63))])>>>8^e[255&(Ce^(128|Ot>>6&15|(3&Ae)<<4))])>>>8^e[255&(Ce^(128|63&Ot))]):Ce=(Ce=(Ce=Ce>>>8^e[255&(Ce^(224|Ae>>12&15))])>>>8^e[255&(Ce^(128|Ae>>6&63))])>>>8^e[255&(Ce^(128|63&Ae))];return~Ce},n}(),Cn=function(){var h,t={};function r(U){if("/"==U.charAt(U.length-1))return-1===U.slice(0,-1).indexOf("/")?U:r(U.slice(0,-1));var K=U.lastIndexOf("/");return-1===K?U:U.slice(0,K+1)}function i(U){if("/"==U.charAt(U.length-1))return i(U.slice(0,-1));var K=U.lastIndexOf("/");return-1===K?U:U.slice(K+1)}function s(U,K){"string"==typeof K&&(K=new Date(K));var W=K.getHours();W=(W=W<<6|K.getMinutes())<<5|K.getSeconds()>>>1,U.write_shift(2,W);var Z=K.getFullYear()-1980;Z=(Z=Z<<4|K.getMonth()+1)<<5|K.getDate(),U.write_shift(2,Z)}function c(U){Ho(U,0);for(var K={},W=0;U.l<=U.length-4;){var Z=U.read_shift(2),J=U.read_shift(2),ee=U.l+J,Le={};21589===Z&&(1&(W=U.read_shift(1))&&(Le.mtime=U.read_shift(4)),J>5&&(2&W&&(Le.atime=U.read_shift(4)),4&W&&(Le.ctime=U.read_shift(4))),Le.mtime&&(Le.mt=new Date(1e3*Le.mtime))),U.l=ee,K[Z]=Le}return K}function p(){return h||(h={})}function m(U,K){if(80==U[0]&&75==U[1])return aY(U,K);if(109==(32|U[0])&&105==(32|U[1]))return function DDe(U,K){if("mime-version:"!=wt(U.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var W=K&&K.root||"",Z=(rr&&Buffer.isBuffer(U)?U.toString("binary"):wt(U)).split("\r\n"),J=0,ee="";for(J=0;J<Z.length;++J)if(/^Content-Location:/i.test(ee=Z[J])&&(ee=ee.slice(ee.indexOf("file")),W||(W=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,W.length)!=W))for(;W.length>0&&(W=(W=W.slice(0,W.length-1)).slice(0,W.lastIndexOf("/")+1),ee.slice(0,W.length)!=W););var Le=(Z[1]||"").match(/boundary="(.*?)"/);if(!Le)throw new Error("MAD cannot find boundary");var nt="--"+(Le[1]||""),Ge={FileIndex:[],FullPaths:[]};Y(Ge);var Ft,$t=0;for(J=0;J<Z.length;++J){var dn=Z[J];dn!==nt&&dn!==nt+"--"||($t++&&TDe(Ge,Z.slice(Ft,J),W),Ft=J)}return Ge}(U,K);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var W,J,ee,Le,nt,Ue,Z=512,Be=[],Ge=U.slice(0,512);Ho(Ge,0);var Ft=function v(U){if(80==U[U.l]&&75==U[U.l+1])return[0,0];U.chk(on,"Header Signature: "),U.l+=16;var K=U.read_shift(2,"u");return[U.read_shift(2,"u"),K]}(Ge);switch(W=Ft[0]){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(0==Ft[1])return aY(U,K);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}512!==Z&&Ho(Ge=U.slice(0,Z),28);var $t=U.slice(0,Z);!function w(U,K){var W;switch(U.l+=2,W=U.read_shift(2)){case 9:if(3!=K)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(4!=K)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}(Ge,W);var dn=Ge.read_shift(4,"i");if(3===W&&0!==dn)throw new Error("# Directory Sectors: Expected 0 saw "+dn);Ge.l+=4,Le=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),nt=Ge.read_shift(4,"i"),J=Ge.read_shift(4,"i"),Ue=Ge.read_shift(4,"i"),ee=Ge.read_shift(4,"i");for(var Wt=-1,Xt=0;Xt<109&&!((Wt=Ge.read_shift(4,"i"))<0);++Xt)Be[Xt]=Wt;var Wn=function E(U,K){for(var W=Math.ceil(U.length/K)-1,Z=[],J=1;J<W;++J)Z[J-1]=U.slice(J*K,(J+1)*K);return Z[W-1]=U.slice(W*K),Z}(U,Z);M(Ue,ee,Wn,Z,Be);var Ai=function V(U,K,W,Z){var J=U.length,ee=[],Le=[],nt=[],Ue=[],Be=Z-1,Ge=0,Ft=0,$t=0,dn=0;for(Ge=0;Ge<J;++Ge)if(nt=[],($t=Ge+K)>=J&&($t-=J),!Le[$t]){Ue=[];var Wt=[];for(Ft=$t;Ft>=0;){Wt[Ft]=!0,Le[Ft]=!0,nt[nt.length]=Ft,Ue.push(U[Ft]);var Xt=W[Math.floor(4*Ft/Z)];if(Z<4+(dn=4*Ft&Be))throw new Error("FAT boundary crossed: "+Ft+" 4 "+Z);if(!U[Xt]||Wt[Ft=K_(U[Xt],dn)])break}ee[$t]={nodes:nt,data:oj([Ue])}}return ee}(Wn,Le,Be,Z);Ai[Le].name="!Directory",J>0&&nt!==Ot&&(Ai[nt].name="!MiniFAT"),Ai[Be[0]].name="!FAT",Ai.fat_addrs=Be,Ai.ssz=Z;var Vs=[],dc=[],dT=[];(function B(U,K,W,Z,J,ee,Le,nt){for(var dn,Ue=0,Be=Z.length?2:0,Ge=K[U].data,Ft=0,$t=0;Ft<Ge.length;Ft+=128){var Wt=Ge.slice(Ft,Ft+128);Ho(Wt,64),$t=Wt.read_shift(2),dn=_M(Wt,0,$t-Be),Z.push(dn);var Xt={name:dn,type:Wt.read_shift(1),color:Wt.read_shift(1),L:Wt.read_shift(4,"i"),R:Wt.read_shift(4,"i"),C:Wt.read_shift(4,"i"),clsid:Wt.read_shift(16),state:Wt.read_shift(4,"i"),start:0,size:0};0!==Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)&&(Xt.ct=X(Wt,Wt.l-8)),0!==Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)+Wt.read_shift(2)&&(Xt.mt=X(Wt,Wt.l-8)),Xt.start=Wt.read_shift(4,"i"),Xt.size=Wt.read_shift(4,"i"),Xt.size<0&&Xt.start<0&&(Xt.size=Xt.type=0,Xt.start=Ot,Xt.name=""),5===Xt.type?(Ue=Xt.start,J>0&&Ue!==Ot&&(K[Ue].name="!StreamData")):Xt.size>=4096?(Xt.storage="fat",void 0===K[Xt.start]&&(K[Xt.start]=P(W,Xt.start,K.fat_addrs,K.ssz)),K[Xt.start].name=Xt.name,Xt.content=K[Xt.start].data.slice(0,Xt.size)):(Xt.storage="minifat",Xt.size<0?Xt.size=0:Ue!==Ot&&Xt.start!==Ot&&K[Ue]&&(Xt.content=S(Xt,K[Ue].data,(K[nt]||{}).data))),Xt.content&&Ho(Xt.content,0),ee[dn]=Xt,Le.push(Xt)}})(Le,Ai,Wn,Vs,J,{},dc,nt),function D(U,K,W){for(var Z=0,J=0,ee=0,Le=0,nt=0,Ue=W.length,Be=[],Ge=[];Z<Ue;++Z)Be[Z]=Ge[Z]=Z,K[Z]=W[Z];for(;nt<Ge.length;++nt)J=U[Z=Ge[nt]].L,ee=U[Z].R,Le=U[Z].C,Be[Z]===Z&&(-1!==J&&Be[J]!==J&&(Be[Z]=Be[J]),-1!==ee&&Be[ee]!==ee&&(Be[Z]=Be[ee])),-1!==Le&&(Be[Le]=Z),-1!==J&&Z!=Be[Z]&&(Be[J]=Be[Z],Ge.lastIndexOf(J)<nt&&Ge.push(J)),-1!==ee&&Z!=Be[Z]&&(Be[ee]=Be[Z],Ge.lastIndexOf(ee)<nt&&Ge.push(ee));for(Z=1;Z<Ue;++Z)Be[Z]===Z&&(-1!==ee&&Be[ee]!==ee?Be[Z]=Be[ee]:-1!==J&&Be[J]!==J&&(Be[Z]=Be[J]));for(Z=1;Z<Ue;++Z)if(0!==U[Z].type){if((nt=Z)!=Be[nt])do{K[Z]=K[nt=Be[nt]]+"/"+K[Z]}while(0!==nt&&-1!==Be[nt]&&nt!=Be[nt]);Be[Z]=-1}for(K[0]+="/",Z=1;Z<Ue;++Z)2!==U[Z].type&&(K[Z]+="/")}(dc,dT,Vs),Vs.shift();var hT={FileIndex:dc,FullPaths:dT};return K&&K.raw&&(hT.raw={header:$t,sectors:Wn}),hT}function S(U,K,W){for(var J=U.size,ee=[],Le=U.start;W&&J>0&&Le>=0;)ee.push(K.slice(Le*Ae,Le*Ae+Ae)),J-=Ae,Le=K_(W,4*Le);return 0===ee.length?Je(0):_o(ee).slice(0,U.size)}function M(U,K,W,Z,J){var ee=Ot;if(U===Ot){if(0!==K)throw new Error("DIFAT chain shorter than expected")}else if(-1!==U){var Le=W[U],nt=(Z>>>2)-1;if(!Le)return;for(var Ue=0;Ue<nt&&(ee=K_(Le,4*Ue))!==Ot;++Ue)J.push(ee);M(K_(Le,Z-4),K-1,W,Z,J)}}function P(U,K,W,Z,J){var ee=[],Le=[];J||(J=[]);var nt=Z-1,Ue=0,Be=0;for(Ue=K;Ue>=0;){J[Ue]=!0,ee[ee.length]=Ue,Le.push(U[Ue]);var Ge=W[Math.floor(4*Ue/Z)];if(Z<4+(Be=4*Ue&nt))throw new Error("FAT boundary crossed: "+Ue+" 4 "+Z);if(!U[Ge])break;Ue=K_(U[Ge],Be)}return{nodes:ee,data:oj([Le])}}function X(U,K){return new Date(1e3*(vo(U,K+4)/1e7*Math.pow(2,32)+vo(U,K)/1e7-11644473600))}function Y(U,K){var W=K||{},Z=W.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");0===U.FullPaths.length&&(U.FullPaths[0]=Z+"/",U.FileIndex[0]={name:Z,type:5}),W.CLSID&&(U.FileIndex[0].clsid=W.CLSID),function Ee(U){var K="\x01Sh33tJ5";if(!Cn.find(U,"/"+K)){var W=Je(4);W[0]=55,W[1]=W[3]=50,W[2]=54,U.FileIndex.push({name:K,type:2,content:W,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+K),Ce(U)}}(U)}function Ce(U,K){Y(U);for(var W=!1,Z=!1,J=U.FullPaths.length-1;J>=0;--J){var ee=U.FileIndex[J];switch(ee.type){case 0:Z?W=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(ee.R*ee.L*ee.C)&&(W=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(W=!0);break;default:W=!0}}if(W||K){var Le=new Date(1987,1,19),nt=0,Ue=Object.create?Object.create(null):{},Be=[];for(J=0;J<U.FullPaths.length;++J)Ue[U.FullPaths[J]]=!0,0!==U.FileIndex[J].type&&Be.push([U.FullPaths[J],U.FileIndex[J]]);for(J=0;J<Be.length;++J){var Ge=r(Be[J][0]);(Z=Ue[Ge])||(Be.push([Ge,{name:i(Ge).replace("/",""),type:1,clsid:ft,ct:Le,mt:Le,content:null}]),Ue[Ge]=!0)}for(Be.sort(function(dn,Wt){return function e(U,K){for(var W=U.split("/"),Z=K.split("/"),J=0,ee=0,Le=Math.min(W.length,Z.length);J<Le;++J){if(ee=W[J].length-Z[J].length)return ee;if(W[J]!=Z[J])return W[J]<Z[J]?-1:1}return W.length-Z.length}(dn[0],Wt[0])}),U.FullPaths=[],U.FileIndex=[],J=0;J<Be.length;++J)U.FullPaths[J]=Be[J][0],U.FileIndex[J]=Be[J][1];for(J=0;J<Be.length;++J){var Ft=U.FileIndex[J],$t=U.FullPaths[J];if(Ft.name=i($t).replace("/",""),Ft.L=Ft.R=Ft.C=-(Ft.color=1),Ft.size=Ft.content?Ft.content.length:0,Ft.start=0,Ft.clsid=Ft.clsid||ft,0===J)Ft.C=Be.length>1?1:-1,Ft.size=0,Ft.type=5;else if("/"==$t.slice(-1)){for(nt=J+1;nt<Be.length&&r(U.FullPaths[nt])!=$t;++nt);for(Ft.C=nt>=Be.length?-1:nt,nt=J+1;nt<Be.length&&r(U.FullPaths[nt])!=r($t);++nt);Ft.R=nt>=Be.length?-1:nt,Ft.type=1}else r(U.FullPaths[J+1]||"")==r($t)&&(Ft.R=J+1),Ft.type=2}}}function ze(U,K){var W=K||{};if("mad"==W.fileType)return function ADe(U,K){for(var W=K||{},Z=W.boundary||"SheetJS",J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Z="------="+Z).slice(2)+'"',"","",""],ee=U.FullPaths[0],Le=ee,nt=U.FileIndex[0],Ue=1;Ue<U.FullPaths.length;++Ue)if(Le=U.FullPaths[Ue].slice(ee.length),(nt=U.FileIndex[Ue]).size&&nt.content&&"\x01Sh33tJ5"!=Le){Le=Le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wn){return"_x"+Wn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wn){return"_u"+Wn.charCodeAt(0).toString(16)+"_"});for(var Be=nt.content,Ge=rr&&Buffer.isBuffer(Be)?Be.toString("binary"):wt(Be),Ft=0,$t=Math.min(1024,Ge.length),dn=0,Wt=0;Wt<=$t;++Wt)(dn=Ge.charCodeAt(Wt))>=32&&dn<128&&++Ft;var Xt=Ft>=4*$t/5;J.push(Z),J.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+Le),J.push("Content-Transfer-Encoding: "+(Xt?"quoted-printable":"base64")),J.push("Content-Type: "+bDe(nt,Le)),J.push(""),J.push(Xt?EDe(Ge):CDe(Ge))}return J.push(Z+"--\r\n"),J.join("\r\n")}(U,W);if("zip"===(Ce(U),W.fileType))return function wDe(U,K){var W=K||{},Z=[],J=[],ee=Je(1),Le=W.compression?8:0,Be=0,Ge=0,Ft=0,$t=0,dn=U.FullPaths[0],Wt=dn,Xt=U.FileIndex[0],Wn=[],Ai=0;for(Be=1;Be<U.FullPaths.length;++Be)if(Wt=U.FullPaths[Be].slice(dn.length),(Xt=U.FileIndex[Be]).size&&Xt.content&&"\x01Sh33tJ5"!=Wt){var Cl=Ft,Vs=Je(Wt.length);for(Ge=0;Ge<Wt.length;++Ge)Vs.write_shift(1,127&Wt.charCodeAt(Ge));Vs=Vs.slice(0,Vs.l),Wn[$t]=One.buf(Xt.content,0);var dc=Xt.content;8==Le&&(dc=se(dc)),(ee=Je(30)).write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,0),ee.write_shift(2,Le),Xt.mt?s(ee,Xt.mt):ee.write_shift(4,0),ee.write_shift(-4,Wn[$t]),ee.write_shift(4,dc.length),ee.write_shift(4,Xt.content.length),ee.write_shift(2,Vs.length),ee.write_shift(2,0),Ft+=ee.length,Z.push(ee),Ft+=Vs.length,Z.push(Vs),Ft+=dc.length,Z.push(dc),(ee=Je(46)).write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,0),ee.write_shift(2,Le),ee.write_shift(4,0),ee.write_shift(-4,Wn[$t]),ee.write_shift(4,dc.length),ee.write_shift(4,Xt.content.length),ee.write_shift(2,Vs.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,Cl),Ai+=ee.l,J.push(ee),Ai+=Vs.length,J.push(Vs),++$t}return(ee=Je(22)).write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,$t),ee.write_shift(2,$t),ee.write_shift(4,Ai),ee.write_shift(4,Ft),ee.write_shift(2,0),_o([_o(Z),_o(J),ee])}(U,W);var Z=function(dn){for(var Wt=0,Xt=0,Wn=0;Wn<dn.FileIndex.length;++Wn){var Ai=dn.FileIndex[Wn];if(Ai.content){var Cl=Ai.content.length;Cl>0&&(Cl<4096?Wt+=Cl+63>>6:Xt+=Cl+511>>9)}}for(var Vs=dn.FullPaths.length+3>>2,dT=Wt+127>>7,hT=(Wt+7>>3)+Xt+Vs+dT,Iy=hT+127>>7,WV=Iy<=109?0:Math.ceil((Iy-109)/127);hT+Iy+WV+127>>7>Iy;)WV=++Iy<=109?0:Math.ceil((Iy-109)/127);var Ep=[1,WV,Iy,dT,Vs,Xt,Wt,0];return dn.FileIndex[0].size=Wt<<6,Ep[7]=(dn.FileIndex[0].start=Ep[0]+Ep[1]+Ep[2]+Ep[3]+Ep[4]+Ep[5])+(Ep[6]+7>>3),Ep}(U),J=Je(Z[7]<<9),ee=0,Le=0;for(ee=0;ee<8;++ee)J.write_shift(1,zt[ee]);for(ee=0;ee<8;++ee)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),ee=0;ee<3;++ee)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,Z[2]),J.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:Ot),J.write_shift(4,Z[3]),J.write_shift(-4,Z[1]?Z[0]-1:Ot),J.write_shift(4,Z[1]),ee=0;ee<109;++ee)J.write_shift(-4,ee<Z[2]?Z[1]+ee:-1);if(Z[1])for(Le=0;Le<Z[1];++Le){for(;ee<236+127*Le;++ee)J.write_shift(-4,ee<Z[2]?Z[1]+ee:-1);J.write_shift(-4,Le===Z[1]-1?Ot:Le+1)}var nt=function(dn){for(Le+=dn;ee<Le-1;++ee)J.write_shift(-4,ee+1);dn&&(++ee,J.write_shift(-4,Ot))};for(Le=ee=0,Le+=Z[1];ee<Le;++ee)J.write_shift(-4,dt.DIFSECT);for(Le+=Z[2];ee<Le;++ee)J.write_shift(-4,dt.FATSECT);nt(Z[3]),nt(Z[4]);for(var Ue=0,Be=0,Ge=U.FileIndex[0];Ue<U.FileIndex.length;++Ue)(Ge=U.FileIndex[Ue]).content&&!((Be=Ge.content.length)<4096)&&(Ge.start=Le,nt(Be+511>>9));for(nt(Z[6]+7>>3);511&J.l;)J.write_shift(-4,dt.ENDOFCHAIN);for(Le=ee=0,Ue=0;Ue<U.FileIndex.length;++Ue)(Ge=U.FileIndex[Ue]).content&&(Be=Ge.content.length)&&!(Be>=4096)&&(Ge.start=Le,nt(Be+63>>6));for(;511&J.l;)J.write_shift(-4,dt.ENDOFCHAIN);for(ee=0;ee<Z[4]<<2;++ee){var Ft=U.FullPaths[ee];if(Ft&&0!==Ft.length){Ge=U.FileIndex[ee],0===ee&&(Ge.start=Ge.size?Ge.start-1:Ot);var $t=0===ee&&W.root||Ge.name;if(Be=2*($t.length+1),J.write_shift(64,$t,"utf16le"),J.write_shift(2,Be),J.write_shift(1,Ge.type),J.write_shift(1,Ge.color),J.write_shift(-4,Ge.L),J.write_shift(-4,Ge.R),J.write_shift(-4,Ge.C),Ge.clsid)J.write_shift(16,Ge.clsid,"hex");else for(Ue=0;Ue<4;++Ue)J.write_shift(4,0);J.write_shift(4,Ge.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,Ge.start),J.write_shift(4,Ge.size),J.write_shift(4,0)}else{for(Ue=0;Ue<17;++Ue)J.write_shift(4,0);for(Ue=0;Ue<3;++Ue)J.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)J.write_shift(4,0)}}for(ee=1;ee<U.FileIndex.length;++ee)if((Ge=U.FileIndex[ee]).size>=4096)if(J.l=Ge.start+1<<9,rr&&Buffer.isBuffer(Ge.content))Ge.content.copy(J,J.l,0,Ge.size),J.l+=Ge.size+511&-512;else{for(Ue=0;Ue<Ge.size;++Ue)J.write_shift(1,Ge.content[Ue]);for(;511&Ue;++Ue)J.write_shift(1,0)}for(ee=1;ee<U.FileIndex.length;++ee)if((Ge=U.FileIndex[ee]).size>0&&Ge.size<4096)if(rr&&Buffer.isBuffer(Ge.content))Ge.content.copy(J,J.l,0,Ge.size),J.l+=Ge.size+63&-64;else{for(Ue=0;Ue<Ge.size;++Ue)J.write_shift(1,Ge.content[Ue]);for(;63&Ue;++Ue)J.write_shift(1,0)}if(rr)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}t.version="1.2.1";var ut,Ae=64,Ot=-2,on="d0cf11e0a1b11ae1",zt=[208,207,17,224,161,177,26,225],ft="00000000000000000000000000000000",dt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ot,FREESECT:-1,HEADER_SIGNATURE:on,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ft,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function wt(U){for(var K=new Array(U.length),W=0;W<U.length;++W)K[W]=String.fromCharCode(U[W]);return K.join("")}function se(U){return ut?ut.deflateRawSync(U):dr(U)}for(var U,K,pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],st=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Mt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Tt=typeof Uint8Array<"u",gt=Tt?new Uint8Array(256):[],$n=0;$n<256;++$n)gt[$n]=(void 0,255&((K=139536&((U=$n)<<1|U<<11)|558144&(U<<5|U<<15))>>16|K>>8|K));function ie(U,K){var W=gt[255&U];return K<=8?W>>>8-K:(W=W<<8|gt[U>>8&255],K<=16?W>>>16-K:(W=W<<8|gt[U>>16&255])>>>24-K)}function jr(U,K){var W=7&K,Z=K>>>3;return(U[Z]|(W<=6?0:U[Z+1]<<8))>>>W&3}function mr(U,K){var W=7&K,Z=K>>>3;return(U[Z]|(W<=5?0:U[Z+1]<<8))>>>W&7}function _r(U,K){var W=7&K,Z=K>>>3;return(U[Z]|(W<=3?0:U[Z+1]<<8))>>>W&31}function nn(U,K){var W=7&K,Z=K>>>3;return(U[Z]|(W<=1?0:U[Z+1]<<8))>>>W&127}function Ss(U,K,W){var Z=7&K,J=K>>>3,Le=U[J]>>>Z;return W<8-Z||(Le|=U[J+1]<<8-Z,W<16-Z)||(Le|=U[J+2]<<16-Z,W<24-Z)||(Le|=U[J+3]<<24-Z),Le&(1<<W)-1}function gu(U,K,W){var Z=7&K,J=K>>>3;return Z<=5?U[J]|=(7&W)<<Z:(U[J]|=W<<Z&255,U[J+1]=(7&W)>>8-Z),K+3}function Ph(U,K,W){return U[K>>>3]|=W=(1&W)<<(7&K),K+1}function bp(U,K,W){var J=K>>>3;return U[J]|=255&(W<<=7&K),U[J+1]=W>>>=8,K+8}function cT(U,K,W){var J=K>>>3;return U[J]|=255&(W<<=7&K),U[J+1]=255&(W>>>=8),U[J+2]=W>>>8,K+16}function Im(U,K){var W=U.length,Z=2*W>K?2*W:K+5,J=0;if(W>=K)return U;if(rr){var ee=xG(Z);if(U.copy)U.copy(ee);else for(;J<U.length;++J)ee[J]=U[J];return ee}if(Tt){var Le=new Uint8Array(Z);if(Le.set)Le.set(U);else for(;J<W;++J)Le[J]=U[J];return Le}return U.length=Z,U}function uc(U){for(var K=new Array(U),W=0;W<U;++W)K[W]=0;return K}function Cp(U,K,W){var Z=1,J=0,ee=0,Le=0,nt=0,Ue=U.length,Be=Tt?new Uint16Array(32):uc(32);for(ee=0;ee<32;++ee)Be[ee]=0;for(ee=Ue;ee<W;++ee)U[ee]=0;Ue=U.length;var Ge=Tt?new Uint16Array(Ue):uc(Ue);for(ee=0;ee<Ue;++ee)Be[J=U[ee]]++,Z<J&&(Z=J),Ge[ee]=0;for(Be[0]=0,ee=1;ee<=Z;++ee)Be[ee+16]=nt=nt+Be[ee-1]<<1;for(ee=0;ee<Ue;++ee)0!=(nt=U[ee])&&(Ge[ee]=Be[nt+16]++);var Ft=0;for(ee=0;ee<Ue;++ee)if(0!=(Ft=U[ee]))for(nt=ie(Ge[ee],Z)>>Z-Ft,Le=(1<<Z+4-Ft)-1;Le>=0;--Le)K[nt|Le<<Ft]=15&Ft|ee<<4;return Z}var km=Tt?new Uint16Array(512):uc(512),uT=Tt?new Uint16Array(32):uc(32);if(!Tt){for(var Wa=0;Wa<512;++Wa)km[Wa]=0;for(Wa=0;Wa<32;++Wa)uT[Wa]=0}!function(){for(var U=[],K=0;K<32;K++)U.push(5);Cp(U,uT,32);var W=[];for(K=0;K<=143;K++)W.push(8);for(;K<=255;K++)W.push(9);for(;K<=279;K++)W.push(7);for(;K<=287;K++)W.push(8);Cp(W,km,288)}();var Nh=function(){for(var K=Tt?new Uint8Array(32768):[],W=0,Z=0;W<Mt.length-1;++W)for(;Z<Mt[W+1];++Z)K[Z]=W;for(;Z<32768;++Z)K[Z]=29;var J=Tt?new Uint8Array(259):[];for(W=0,Z=0;W<st.length-1;++W)for(;Z<st[W+1];++Z)J[Z]=W;return function(Ue,Be){return Ue.length<8?function ee(nt,Ue){for(var Be=0;Be<nt.length;){var Ge=Math.min(65535,nt.length-Be);for(Ue.write_shift(1,+(Be+Ge==nt.length)),Ue.write_shift(2,Ge),Ue.write_shift(2,65535&~Ge);Ge-- >0;)Ue[Ue.l++]=nt[Be++]}return Ue.l}(Ue,Be):function Le(nt,Ue){for(var Be=0,Ge=0,Ft=Tt?new Uint16Array(32768):[];Ge<nt.length;){var $t=Math.min(65535,nt.length-Ge);if($t<10){for(7&(Be=gu(Ue,Be,+(Ge+$t==nt.length)))&&(Be+=8-(7&Be)),Ue.l=Be/8|0,Ue.write_shift(2,$t),Ue.write_shift(2,65535&~$t);$t-- >0;)Ue[Ue.l++]=nt[Ge++];Be=8*Ue.l}else{Be=gu(Ue,Be,+(Ge+$t==nt.length)+2);for(var dn=0;$t-- >0;){var Wt=nt[Ge],Xt=-1,Wn=0;if((Xt=Ft[dn=32767&(dn<<5^Wt)])&&((Xt|=-32768&Ge)>Ge&&(Xt-=32768),Xt<Ge))for(;nt[Xt+Wn]==nt[Ge+Wn]&&Wn<250;)++Wn;if(Wn>2){(Wt=J[Wn])<=22?Be=bp(Ue,Be,gt[Wt+1]>>1)-1:(bp(Ue,Be,3),bp(Ue,Be+=5,gt[Wt-23]>>5),Be+=3);var Ai=Wt<8?0:Wt-4>>2;Ai>0&&(cT(Ue,Be,Wn-st[Wt]),Be+=Ai),Be=bp(Ue,Be,gt[Wt=K[Ge-Xt]]>>3),Be-=3;var Cl=Wt<4?0:Wt-2>>1;Cl>0&&(cT(Ue,Be,Ge-Xt-Mt[Wt]),Be+=Cl);for(var Vs=0;Vs<Wn;++Vs)Ft[dn]=32767&Ge,dn=32767&(dn<<5^nt[Ge]),++Ge;$t-=Wn-1}else Wt<=143?Wt+=48:Be=Ph(Ue,Be,1),Be=bp(Ue,Be,gt[Wt]),Ft[dn]=32767&Ge,++Ge}Be=bp(Ue,Be,0)-1}}return Ue.l=(Be+7)/8|0,Ue.l}(Ue,Be)}}();function dr(U){var K=Je(50+Math.floor(1.1*U.length)),W=Nh(U,K);return K.slice(0,W)}var Ts=Tt?new Uint16Array(32768):uc(32768),mu=Tt?new Uint16Array(32768):uc(32768),eo=Tt?new Uint16Array(128):uc(128),Ay=1,iY=1;function yDe(U,K){var W=_r(U,K)+257,Z=_r(U,K+=5)+1,J=function zr(U,K){var W=7&K,Z=K>>>3;return(U[Z]|(W<=4?0:U[Z+1]<<8))>>>W&15}(U,K+=5)+4;K+=4;for(var ee=0,Le=Tt?new Uint8Array(19):uc(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,Be=Tt?new Uint8Array(8):uc(8),Ge=Tt?new Uint8Array(8):uc(8),Ft=Le.length,$t=0;$t<J;++$t)Le[pe[$t]]=ee=mr(U,K),Ue<ee&&(Ue=ee),Be[ee]++,K+=3;var dn=0;for(Be[0]=0,$t=1;$t<=Ue;++$t)Ge[$t]=dn=dn+Be[$t-1]<<1;for($t=0;$t<Ft;++$t)0!=(dn=Le[$t])&&(nt[$t]=Ge[dn]++);var Wt=0;for($t=0;$t<Ft;++$t)if(0!=(Wt=Le[$t])){dn=gt[nt[$t]]>>8-Wt;for(var Xt=(1<<7-Wt)-1;Xt>=0;--Xt)eo[dn|Xt<<Wt]=7&Wt|$t<<3}var Wn=[];for(Ue=1;Wn.length<W+Z;)switch(dn=eo[nn(U,K)],K+=7&dn,dn>>>=3){case 16:for(ee=3+jr(U,K),K+=2,dn=Wn[Wn.length-1];ee-- >0;)Wn.push(dn);break;case 17:for(ee=3+mr(U,K),K+=3;ee-- >0;)Wn.push(0);break;case 18:for(ee=11+nn(U,K),K+=7;ee-- >0;)Wn.push(0);break;default:Wn.push(dn),Ue<dn&&(Ue=dn)}var Ai=Wn.slice(0,W),Cl=Wn.slice(W);for($t=W;$t<286;++$t)Ai[$t]=0;for($t=Z;$t<30;++$t)Cl[$t]=0;return Ay=Cp(Ai,Ts,286),iY=Cp(Cl,mu,30),K}function sY(U,K){var Z=function vDe(U,K){if(3==U[0]&&!(3&U[1]))return[tm(K),2];for(var W=0,Z=0,J=xG(K||1<<18),ee=0,Le=J.length>>>0,nt=0,Ue=0;0==(1&Z);)if(Z=mr(U,W),W+=3,Z>>>1!=0)for(Z>>1==1?(nt=9,Ue=5):(W=yDe(U,W),nt=Ay,Ue=iY);;){!K&&Le<ee+32767&&(Le=(J=Im(J,ee+32767)).length);var Ge=Ss(U,W,nt),Ft=Z>>>1==1?km[Ge]:Ts[Ge];if(W+=15&Ft,0==((Ft>>>=4)>>>8&255))J[ee++]=Ft;else{if(256==Ft)break;var $t=(Ft-=257)<8?0:Ft-4>>2;$t>5&&($t=0);var dn=ee+st[Ft];$t>0&&(dn+=Ss(U,W,$t),W+=$t),Ge=Ss(U,W,Ue),W+=15&(Ft=Z>>>1==1?uT[Ge]:mu[Ge]);var Wt=(Ft>>>=4)<4?0:Ft-2>>1,Xt=Mt[Ft];for(Wt>0&&(Xt+=Ss(U,W,Wt),W+=Wt),!K&&Le<dn&&(Le=(J=Im(J,dn+100)).length);ee<dn;)J[ee]=J[ee-Xt],++ee}}else{7&W&&(W+=8-(7&W));var Be=U[W>>>3]|U[1+(W>>>3)]<<8;if(W+=32,Be>0)for(!K&&Le<ee+Be&&(Le=(J=Im(J,ee+Be)).length);Be-- >0;)J[ee++]=U[W>>>3],W+=8}return K?[J,W+7>>>3]:[J.slice(0,ee),W+7>>>3]}(U.slice(U.l||0),K);return U.l+=Z[1],Z[0]}function oY(U,K){if(!U)throw new Error(K);typeof console<"u"&&console.error(K)}function aY(U,K){var W=U;Ho(W,0);var ee={FileIndex:[],FullPaths:[]};Y(ee,{root:K.root});for(var Le=W.length-4;(80!=W[Le]||75!=W[Le+1]||5!=W[Le+2]||6!=W[Le+3])&&Le>=0;)--Le;W.l=Le+4,W.l+=4;var nt=W.read_shift(2);W.l+=6;var Ue=W.read_shift(4);for(W.l=Ue,Le=0;Le<nt;++Le){W.l+=20;var Be=W.read_shift(4),Ge=W.read_shift(4),Ft=W.read_shift(2),$t=W.read_shift(2),dn=W.read_shift(2);W.l+=8;var Wt=W.read_shift(4),Xt=c(W.slice(W.l+Ft,W.l+Ft+$t));W.l+=Ft+$t+dn;var Wn=W.l;W.l=Wt+4,xDe(W,Be,Ge,ee,Xt),W.l=Wn}return ee}function xDe(U,K,W,Z,J){U.l+=2;var ee=U.read_shift(2),Le=U.read_shift(2),nt=function o(U){var K=65535&U.read_shift(2),W=65535&U.read_shift(2),Z=new Date,J=31&W,ee=15&(W>>>=5);W>>>=4,Z.setMilliseconds(0),Z.setFullYear(W+1980),Z.setMonth(ee-1),Z.setDate(J);var Le=31&K,nt=63&(K>>>=5);return Z.setHours(K>>>=6),Z.setMinutes(nt),Z.setSeconds(Le<<1),Z}(U);if(8257&ee)throw new Error("Unsupported ZIP encryption");U.read_shift(4);for(var Be=U.read_shift(4),Ge=U.read_shift(4),Ft=U.read_shift(2),$t=U.read_shift(2),dn="",Wt=0;Wt<Ft;++Wt)dn+=String.fromCharCode(U[U.l++]);if($t){var Xt=c(U.slice(U.l,U.l+$t));(Xt[21589]||{}).mt&&(nt=Xt[21589].mt),((J||{})[21589]||{}).mt&&(nt=J[21589].mt)}U.l+=$t;var Wn=U.slice(U.l,U.l+Be);switch(Le){case 8:Wn=function Oe(U,K){if(!ut)return sY(U,K);var Z=new(0,ut.InflateRaw),J=Z._processChunk(U.slice(U.l),Z._finishFlushFlag);return U.l+=Z.bytesRead,J}(U,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Le)}var Ai=!1;8&ee&&(134695760==U.read_shift(4)&&(U.read_shift(4),Ai=!0),Be=U.read_shift(4),Ge=U.read_shift(4)),Be!=K&&oY(Ai,"Bad compressed size: "+K+" != "+Be),Ge!=W&&oY(Ai,"Bad uncompressed size: "+W+" != "+Ge),$V(Z,dn,Wn,{unsafe:!0,mt:nt})}var vF={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function bDe(U,K){if(U.ctype)return U.ctype;var W=U.name||"",Z=W.match(/\.([^\.]+)$/);return Z&&vF[Z[1]]||K&&(Z=(W=K).match(/[\.\\]([^\.\\])+$/))&&vF[Z[1]]?vF[Z[1]]:"application/octet-stream"}function CDe(U){for(var K=HE(U),W=[],Z=0;Z<K.length;Z+=76)W.push(K.slice(Z,Z+76));return W.join("\r\n")+"\r\n"}function EDe(U){var K=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var Ge=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(1==Ge.length?"0"+Ge:Ge)});"\n"==(K=K.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(K="=0D"+K.slice(1));for(var W=[],Z=(K=K.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),J=0;J<Z.length;++J){var ee=Z[J];if(0!=ee.length)for(var Le=0;Le<ee.length;){var nt=76,Ue=ee.slice(Le,Le+nt);"="==Ue.charAt(nt-1)?nt--:"="==Ue.charAt(nt-2)?nt-=2:"="==Ue.charAt(nt-3)&&(nt-=3),Ue=ee.slice(Le,Le+nt),(Le+=nt)<ee.length&&(Ue+="="),W.push(Ue)}else W.push("")}return W.join("\r\n")}function TDe(U,K,W){for(var Le,Z="",J="",ee="",nt=0;nt<10;++nt){var Ue=K[nt];if(!Ue||Ue.match(/^\s*$/))break;var Be=Ue.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":Z=Be[2].trim();break;case"content-type":ee=Be[2].trim();break;case"content-transfer-encoding":J=Be[2].trim()}}switch(++nt,J.toLowerCase()){case"base64":Le=tc(ec(K.slice(nt).join("")));break;case"quoted-printable":Le=function SDe(U){for(var K=[],W=0;W<U.length;++W){for(var Z=U[W];W<=U.length&&"="==Z.charAt(Z.length-1);)Z=Z.slice(0,Z.length-1)+U[++W];K.push(Z)}for(var J=0;J<K.length;++J)K[J]=K[J].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return tc(K.join("\r\n"))}(K.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var Ge=$V(U,Z.slice(W.length),Le,{unsafe:!0});ee&&(Ge.ctype=ee)}function $V(U,K,W,Z){var J=Z&&Z.unsafe;J||Y(U);var ee=!J&&Cn.find(U,K);if(!ee){var Le=U.FullPaths[0];K.slice(0,Le.length)==Le?Le=K:("/"!=Le.slice(-1)&&(Le+="/"),Le=(Le+K).replace("//","/")),ee={name:i(K),type:2},U.FileIndex.push(ee),U.FullPaths.push(Le),J||Cn.utils.cfb_gc(U)}return ee.content=W,ee.size=W?W.length:0,Z&&(Z.CLSID&&(ee.clsid=Z.CLSID),Z.mt&&(ee.mt=Z.mt),Z.ct&&(ee.ct=Z.ct)),ee}return t.find=function Xe(U,K){var W=U.FullPaths.map(function(Ue){return Ue.toUpperCase()}),Z=W.map(function(Ue){var Be=Ue.split("/");return Be[Be.length-("/"==Ue.slice(-1)?2:1)]}),J=!1;47===K.charCodeAt(0)?(J=!0,K=W[0].slice(0,-1)+K):J=-1!==K.indexOf("/");var ee=K.toUpperCase(),Le=!0===J?W.indexOf(ee):Z.indexOf(ee);if(-1!==Le)return U.FileIndex[Le];var nt=!ee.match(jE);for(ee=ee.replace(aa,""),nt&&(ee=ee.replace(jE,"!")),Le=0;Le<W.length;++Le)if((nt?W[Le].replace(jE,"!"):W[Le]).replace(aa,"")==ee||(nt?Z[Le].replace(jE,"!"):Z[Le]).replace(aa,"")==ee)return U.FileIndex[Le];return null},t.read=function we(U,K){var W=K&&K.type;switch(W||rr&&Buffer.isBuffer(U)&&(W="buffer"),W||"base64"){case"file":return function he(U,K){return p(),m(h.readFileSync(U),K)}(U,K);case"base64":return m(tc(ec(U)),K);case"binary":return m(tc(U),K)}return m(U,K)},t.parse=m,t.write=function cn(U,K){var W=ze(U,K);switch(K&&K.type||"buffer"){case"file":return p(),h.writeFileSync(K.filename,W),W;case"binary":return"string"==typeof W?W:wt(W);case"base64":return HE("string"==typeof W?W:wt(W));case"buffer":if(rr)return Buffer.isBuffer(W)?W:sp(W);case"array":return"string"==typeof W?tc(W):W}return W},t.writeFile=function Ut(U,K,W){p();var Z=ze(U,W);h.writeFileSync(K,Z)},t.utils={cfb_new:function IDe(U){var K={};return Y(K,U),K},cfb_add:$V,cfb_del:function kDe(U,K){Y(U);var W=Cn.find(U,K);if(W)for(var Z=0;Z<U.FileIndex.length;++Z)if(U.FileIndex[Z]==W)return U.FileIndex.splice(Z,1),U.FullPaths.splice(Z,1),!0;return!1},cfb_mov:function MDe(U,K,W){Y(U);var Z=Cn.find(U,K);if(Z)for(var J=0;J<U.FileIndex.length;++J)if(U.FileIndex[J]==Z)return U.FileIndex[J].name=i(W),U.FullPaths[J]=W,!0;return!1},cfb_gc:function RDe(U){Ce(U,!0)},ReadShift:KE,CheckField:yj,prep_blob:Ho,bconcat:_o,use_zlib:function re(U){try{var W=new(0,U.InflateRaw);if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),!W.bytesRead)throw new Error("zlib does not expose bytesRead");ut=U}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}},_deflateRaw:dr,_inflateRaw:sY,consts:dt},t}();function Pne(n){return"string"==typeof n?GE(n):Array.isArray(n)?function one(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}(n):n}function WE(n,t,e){if(typeof Deno<"u"){if(e&&"string"==typeof t)switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=GE(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(n,t)}var r="utf8"==e?xh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([Pne(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=nm(t)),c.write(t),c.close(),t}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function os(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(n,t[r])&&e.push(t[r]);return e}function VG(n,t){for(var e=[],r=os(n),i=0;i!==r.length;++i)null==e[n[r[i]][t]]&&(e[n[r[i]][t]]=r[i]);return e}function fM(n){for(var t=[],e=os(n),r=0;r!==e.length;++r)t[n[e[r]]]=e[r];return t}function pM(n){for(var t=[],e=os(n),r=0;r!==e.length;++r)t[n[e[r]]]=parseInt(e[r],10);return t}var gM=new Date(1899,11,30,0,0,0);function yo(n,t){var e=n.getTime();return t&&(e-=1263168e5),(e-(gM.getTime()+6e4*(n.getTimezoneOffset()-gM.getTimezoneOffset())))/864e5}var UG=new Date,Bne=gM.getTime()+6e4*(UG.getTimezoneOffset()-gM.getTimezoneOffset()),HG=UG.getTimezoneOffset();function lB(n){var t=new Date;return t.setTime(24*n*60*60*1e3+Bne),t.getTimezoneOffset()!==HG&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-HG)),t}var GG=new Date("2017-02-19T19:06:09.000Z"),jG=isNaN(GG.getFullYear())?new Date("2/19/17"):GG,Une=2017==jG.getFullYear();function Ki(n,t){var e=new Date(n);if(Une)return t>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):t<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(n instanceof Date)return n;if(1917==jG.getFullYear()&&!isNaN(e.getFullYear())){var r=e.getFullYear();return n.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Y_(n,t){if(rr&&Buffer.isBuffer(n)){if(t){if(255==n[0]&&254==n[1])return xh(n.slice(2).toString("utf16le"));if(254==n[1]&&255==n[2])return xh(function vG(n){for(var t=[],e=0;e<n.length>>1;++e)t[e]=String.fromCharCode(n.charCodeAt(2*e+1)+(n.charCodeAt(2*e)<<8));return t.join("")}(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(255==n[0]&&254==n[1])return xh(new TextDecoder("utf-16le").decode(n.slice(2)));if(254==n[0]&&255==n[1])return xh(new TextDecoder("utf-16be").decode(n.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return e[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function ti(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if("object"!=typeof n||null==n)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=ti(n[e]));return t}function as(n,t){for(var e="";e.length<t;)e+=n;return e}function nd(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var e=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(t=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,s){return e=-e,s}),isNaN(t=Number(r)))?t:t/e}var Hne=["january","february","march","april","may","june","july","august","september","october","november","december"];function nw(n){var t=new Date(n),e=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return e;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Hne.indexOf(o))return e}else if(o.match(/[a-z]/))return e;return r<0||r>8099?e:(i>0||s>1)&&101!=r?t:n.match(/[^-0-9:,\/\\]/)?e:t}function Xn(n,t,e){if(n.FullPaths){var r;if("string"==typeof e)return r=rr?sp(e):function ane(n){for(var t=[],e=0,r=n.length+250,i=tm(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[e++]=o;else if(o<2048)i[e++]=192|o>>6&31,i[e++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var c=1023&n.charCodeAt(++s);i[e++]=240|o>>8&7,i[e++]=128|o>>2&63,i[e++]=128|c>>6&15|(3&o)<<4,i[e++]=128|63&c}else i[e++]=224|o>>12&15,i[e++]=128|o>>6&63,i[e++]=128|63&o;e>r&&(t.push(i.slice(0,e)),e=0,i=tm(65535),r=65530)}return t.push(i.slice(0,e)),_o(t)}(e),Cn.utils.cfb_add(n,t,r);Cn.utils.cfb_add(n,t,e)}else n.file(t,e)}function uB(){return Cn.utils.cfb_new()}var ls='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',dB=fM({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),hB=/[&<>'"]/g,Yne=/[\u0000-\u0008\u000b-\u001f]/g;function Gr(n){return(n+"").replace(hB,function(e){return dB[e]}).replace(Yne,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function KG(n){return Gr(n).replace(/ /g,"_x0020_")}var XG=/[\u0000-\u001f]/g;function QG(n){return(n+"").replace(hB,function(e){return dB[e]}).replace(/\n/g,"<br/>").replace(XG,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function fB(n){for(var t="",e=0,r=0,i=0,s=0,o=0,c=0;e<n.length;)(r=n.charCodeAt(e++))<128?t+=String.fromCharCode(r):(i=n.charCodeAt(e++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(s=n.charCodeAt(e++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(c=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&(o=n.charCodeAt(e++)))-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(1023&c)))));return t}function ej(n){var e,r,c,t=tm(2*n.length),i=1,s=0,o=0;for(r=0;r<n.length;r+=i)i=1,(c=n.charCodeAt(r))<128?e=c:c<224?(e=64*(31&c)+(63&n.charCodeAt(r+1)),i=2):c<240?(e=4096*(15&c)+64*(63&n.charCodeAt(r+1))+(63&n.charCodeAt(r+2)),i=3):(i=4,e=262144*(7&c)+4096*(63&n.charCodeAt(r+1))+64*(63&n.charCodeAt(r+2))+(63&n.charCodeAt(r+3)),o=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==o&&(t[s++]=255&o,t[s++]=o>>>8,o=0),t[s++]=e%256,t[s++]=e>>>8;return t.slice(0,s).toString("ucs2")}function tj(n){return sp(n,"binary").toString("utf8")}var mM="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Si=rr&&(tj(mM)==fB(mM)&&tj||ej(mM)==fB(mM)&&ej)||fB,xh=rr?function(n){return sp(n,"utf8").toString("binary")}:function(n){for(var t=[],e=0,r=0,i=0;e<n.length;)switch(r=n.charCodeAt(e++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=n.charCodeAt(e++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},nj=function(){var n=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),ij=/(^\s|\s$|\n)/;function Uo(n,t){return"<"+n+(t.match(ij)?' xml:space="preserve"':"")+">"+t+"</"+n+">"}function ZE(n){return os(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}function Vt(n,t,e){return"<"+n+(null!=e?ZE(e):"")+(null!=t?(t.match(ij)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function pB(n,t){try{return n.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}var Ns_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Ns_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Ns_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Ns_xsi="http://www.w3.org/2001/XMLSchema-instance",om=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ic_o="urn:schemas-microsoft-com:office:office",ic_x="urn:schemas-microsoft-com:office:excel",ic_ss="urn:schemas-microsoft-com:office:spreadsheet",sj=function(n){for(var t=[],r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=10240)t.push.apply(t,n[0][r].slice(i,i+10240));return t},oj=rr?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:sp(t)})):sj(n)}:sj,aj=function(n,t,e){for(var r=[],i=t;i<e;i+=2)r.push(String.fromCharCode(ap(n,i)));return r.join("").replace(aa,"")},_M=rr?function(n,t,e){return Buffer.isBuffer(n)?n.toString("utf16le",t,e).replace(aa,""):aj(n,t,e)}:aj,lj=function(n,t,e){for(var r=[],i=t;i<t+e;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},cj=rr?function(n,t,e){return Buffer.isBuffer(n)?n.toString("hex",t,t+e):lj(n,t,e)}:lj,uj=function(n,t,e){for(var r=[],i=t;i<e;i++)r.push(String.fromCharCode(iw(n,i)));return r.join("")},rw=rr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf8",e,r):uj(t,e,r)}:uj,dj=function(n,t){var e=vo(n,t);return e>0?rw(n,t+4,t+4+e-1):""},mB=dj,hj=function(n,t){var e=vo(n,t);return e>0?rw(n,t+4,t+4+e-1):""},_B=hj,fj=function(n,t){var e=2*vo(n,t);return e>0?rw(n,t+4,t+4+e-1):""},yB=fj,pj=function(t,e){var r=vo(t,e);return r>0?_M(t,e+4,e+4+r):""},vB=pj,gj=function(n,t){var e=vo(n,t);return e>0?rw(n,t+4,t+4+e):""},xB=gj,mj=function(n,t){return function rre(n,t){for(var e=1-2*(n[t+7]>>>7),r=((127&n[t+7])<<4)+(n[t+6]>>>4&15),i=15&n[t+6],s=5;s>=0;--s)i=256*i+n[t+s];return 2047==r?0==i?e*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),e*Math.pow(2,r-52)*i)}(n,t)},yM=mj,wB=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rr&&(mB=function(t,e){if(!Buffer.isBuffer(t))return dj(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},_B=function(t,e){if(!Buffer.isBuffer(t))return hj(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},yB=function(t,e){if(!Buffer.isBuffer(t))return fj(t,e);var r=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r-1)},vB=function(t,e){if(!Buffer.isBuffer(t))return pj(t,e);var r=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r)},xB=function(t,e){if(!Buffer.isBuffer(t))return gj(t,e);var r=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+r)},yM=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):mj(t,e)},wB=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var iw=function(n,t){return n[t]},ap=function(n,t){return 256*n[t+1]+n[t]},sre=function(n,t){var e=256*n[t+1]+n[t];return e<32768?e:-1*(65535-e+1)},vo=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},K_=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},ore=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function KE(n,t){var r,i,o,c,h,p,e="",s=[];switch(t){case"dbcs":if(p=this.l,rr&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)e+=String.fromCharCode(ap(this,p)),p+=2;n*=2;break;case"utf8":e=rw(this,this.l,this.l+n);break;case"utf16le":e=_M(this,this.l,this.l+(n*=2));break;case"wstr":return KE.call(this,n,"dbcs");case"lpstr-ansi":e=mB(this,this.l),n=4+vo(this,this.l);break;case"lpstr-cp":e=_B(this,this.l),n=4+vo(this,this.l);break;case"lpwstr":e=yB(this,this.l),n=4+2*vo(this,this.l);break;case"lpp4":n=4+vo(this,this.l),e=vB(this,this.l),2&n&&(n+=2);break;case"8lpp4":n=4+vo(this,this.l),e=xB(this,this.l),3&n&&(n+=4-(3&n));break;case"cstr":for(n=0,e="";0!==(o=iw(this,this.l+n++));)s.push(VE(o));e=s.join("");break;case"_wstr":for(n=0,e="";0!==(o=ap(this,this.l+n));)s.push(VE(o)),n+=2;n+=2,e=s.join("");break;case"dbcs-cont":for(e="",p=this.l,h=0;h<n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=iw(this,p),this.l=p+1,c=KE.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(VE(ap(this,p))),p+=2}e=s.join(""),n*=2;break;case"cpstr":0;case"sbcs-cont":for(e="",p=this.l,h=0;h!=n;++h){if(this.lens&&-1!==this.lens.indexOf(p))return o=iw(this,p),this.l=p+1,c=KE.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(VE(iw(this,p))),p+=1}e=s.join("");break;default:switch(n){case 1:return r=iw(this,this.l),this.l++,r;case 2:return r=("i"===t?sre:ap)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===t||0==(128&this[this.l+3])?(r=(n>0?K_:ore)(this,this.l),this.l+=4,r):(i=vo(this,this.l),this.l+=4,i);case 8:case-8:if("f"===t)return i=8==n?yM(this,this.l):yM([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:e=cj(this,this.l,n)}}return this.l+=n,e}var cre=function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255};function ure(n,t,e){var r=0,i=0;if("dbcs"===e){for(i=0;i!=t.length;++i)cre(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===e){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===e){for(;i<n;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===e){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(t.length,n);++i){var c=t.charCodeAt(i);this[this.l++]=255&c,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(n){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:r=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:r=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255,n[e+2]=t>>>16&255,n[e+3]=t>>>24&255}(this,t,this.l);break;case 8:if(r=8,"f"===e){!function ire(n,t,e){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var c=0;c<=5;++c,s/=256)n[e+c]=255&s;n[e+6]=(15&i)<<4|15&s,n[e+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>8&255,n[e+2]=t>>16&255,n[e+3]=t>>24&255}(this,t,this.l)}}return this.l+=r,this}function yj(n,t){var e=cj(this,this.l,n.length>>1);if(e!==n)throw new Error(t+"Expected "+n+" saw "+e);this.l+=n.length>>1}function Ho(n,t){n.l=t,n.read_shift=KE,n.chk=yj,n.write_shift=ure}function ca(n,t){n.l+=t}function Je(n){var t=tm(n);return Ho(t,0),t}function Ua(){var n=[],t=rr?256:2048,e=function(p){var m=Je(p);return Ho(m,0),m},r=e(t),i=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&n.push(r),r=null)},s=function(p){return r&&p<r.length-r.l?r:(i(),r=e(Math.max(p+1,t)))};return{next:s,push:function(p){i(),null==(r=p).l&&(r.l=r.length),s(t)},end:function(){return i(),_o(n)},_bufs:n}}function vt(n,t,e,r){var s,i=+t;if(!isNaN(i)){r||(r=pS[i].p||(e||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,128+(127&i)),o.write_shift(1,i>>7));for(var c=0;4!=c;++c){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&wB(e)&&n.push(e)}}function XE(n,t,e){var r=ti(n);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function vj(n,t,e){var r=ti(n);return r.s=XE(r.s,t.s,e),r.e=XE(r.e,t.s,e),r}function QE(n,t){if(n.cRel&&n.c<0)for(n=ti(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=ti(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var e=On(n);return!n.cRel&&null!=n.cRel&&(e=function fre(n){return n.replace(/^([A-Z])/,"$$$1")}(e)),!n.rRel&&null!=n.rRel&&(e=function dre(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function bB(n,t){return 0!=n.s.r||n.s.rRel||n.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||n.e.rRel?0!=n.s.c||n.s.cRel||n.e.c!=(t.biff>=12?16383:255)||n.e.cRel?QE(n.s,t.biff)+":"+QE(n.e,t.biff):(n.s.rRel?"":"$")+cs(n.s.r)+":"+(n.e.rRel?"":"$")+cs(n.e.r):(n.s.cRel?"":"$")+Ti(n.s.c)+":"+(n.e.cRel?"":"$")+Ti(n.e.c)}function CB(n){return parseInt(function hre(n){return n.replace(/\$(\d+)$/,"$1")}(n),10)-1}function cs(n){return""+(n+1)}function EB(n){for(var t=function pre(n){return n.replace(/^\$([A-Z])/,"$1")}(n),e=0,r=0;r!==t.length;++r)e=26*e+t.charCodeAt(r)-64;return e-1}function Ti(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function Cs(n){for(var t=0,e=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function On(n){for(var t=n.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(n.r+1)}function Ha(n){var t=n.indexOf(":");return-1==t?{s:Cs(n),e:Cs(n)}:{s:Cs(n.slice(0,t)),e:Cs(n.slice(t+1))}}function Yn(n,t){return typeof t>"u"||"number"==typeof t?Yn(n.s,n.e):("string"!=typeof n&&(n=On(n)),"string"!=typeof t&&(t=On(t)),n==t?n:n+":"+t)}function br(n){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,i=0,s=n.length;for(e=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.s.c=--e,e=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;if(t.s.r=--e,r===s||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,e=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(t.e.c=--e,e=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;return t.e.r=--e,t}function wh(n,t,e){return null==n||null==n.t||"z"==n.t?"":void 0!==n.w?n.w:("d"==n.t&&!n.z&&e&&e.dateNF&&(n.z=e.dateNF),"e"==n.t?cp[n.v]||n.v:function xj(n,t){var e="d"==n.t&&t instanceof Date;if(null!=n.z)try{return n.w=nc(n.z,e?yo(t):t)}catch{}try{return n.w=nc((n.XF||{}).numFmtId||(e?14:0),e?yo(t):t)}catch{return""+t}}(n,t??n.v))}function am(n,t){var e=t&&t.sheet?t.sheet:"Sheet1",r={};return r[e]=n,{SheetNames:[e],Sheets:r}}function wj(n,t,e){var r=e||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,c=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Cs(r.origin):r.origin;o=h.r,c=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=br(s["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),-1==o&&(p.e.r=o=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=t[v].length;++w)if(!(typeof t[v][w]>"u")){var E={v:t[v][w]},D=o+v,S=c+w;if(p.s.r>D&&(p.s.r=D),p.s.c>S&&(p.s.c=S),p.e.r<D&&(p.e.r=D),p.e.c<S&&(p.e.c=S),!t[v][w]||"object"!=typeof t[v][w]||Array.isArray(t[v][w])||t[v][w]instanceof Date)if(Array.isArray(E.v)&&(E.f=t[v][w][1],E.v=E.v[0]),null===E.v)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else{if(!r.sheetStubs)continue;E.t="z"}else"number"==typeof E.v?E.t="n":"boolean"==typeof E.v?E.t="b":E.v instanceof Date?(E.z=r.dateNF||Tn[14],r.cellDates?(E.t="d",E.w=nc(E.z,yo(E.v))):(E.t="n",E.v=yo(E.v),E.w=nc(E.z,E.v))):E.t="s";else E=t[v][w];if(i)s[D]||(s[D]=[]),s[D][S]&&s[D][S].z&&(E.z=s[D][S].z),s[D][S]=E;else{var M=On({c:S,r:D});s[M]&&s[M].z&&(E.z=s[M].z),s[M]=E}}}return p.s.c<1e7&&(s["!ref"]=Yn(p)),s}function sw(n,t){return wj(null,n,t)}function rd(n,t){return t||(t=Je(4)),t.write_shift(4,n),t}function ua(n){var t=n.read_shift(4);return 0===t?"":n.read_shift(t,"dbcs")}function xo(n,t){var e=!1;return null==t&&(e=!0,t=Je(4+2*n.length)),t.write_shift(4,n.length),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}function _re(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function SB(n,t){var e=n.l,r=n.read_shift(1),i=ua(n),s=[],o={t:i,h:i};if(0!=(1&r)){for(var c=n.read_shift(4),h=0;h!=c;++h)s.push(_re(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=e+t,o}var xre=SB;function nu(n){var t=n.read_shift(4),e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:e}}function X_(n,t){return null==t&&(t=Je(8)),t.write_shift(-4,n.c),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}function Q_(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}function J_(n,t){return null==t&&(t=Je(4)),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}var bre=ua,bj=xo;function TB(n){var t=n.read_shift(4);return 0===t||4294967295===t?"":n.read_shift(t,"dbcs")}function vM(n,t){var e=!1;return null==t&&(e=!0,t=Je(127)),t.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}var Cre=ua,DB=TB,AB=vM;function IB(n){var t=n.slice(n.l,n.l+4),e=1&t[0],r=2&t[0];n.l+=4;var i=0===r?yM([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):K_(t,0)>>2;return e?i/100:i}function Cj(n,t){null==t&&(t=Je(4));var e=0,r=0,i=100*n;if(n==(0|n)&&n>=-(1<<29)&&n<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,e=1),!r)throw new Error("unsupported RkNumber "+n);t.write_shift(-4,((e?i:n)<<2)+(e+2))}function Ej(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}var ey=Ej,ow=function Ere(n,t){return t||(t=Je(16)),t.write_shift(4,n.s.r),t.write_shift(4,n.e.r),t.write_shift(4,n.s.c),t.write_shift(4,n.e.c),t};function da(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function ty(n,t){return(t||Je(8)).write_shift(8,n,"f")}function xM(n,t){if(t||(t=Je(8)),!n||n.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=n.index?(t.write_shift(1,2),t.write_shift(1,n.index)):null!=n.theme?(t.write_shift(1,6),t.write_shift(1,n.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=n.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),n.rgb&&null==n.theme){var r=n.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var MB={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},RB={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Nre(n){return n.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var ny=ti(Nre([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),cp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},FB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},EM={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ij(n,t){var i,e=function Lne(n){for(var t=[],e=os(n),r=0;r!==e.length;++r)null==t[n[e[r]]]&&(t[n[e[r]]]=[]),t[n[e[r]]].push(e[r]);return t}(FB),r=[];r[r.length]=ls,r[r.length]=Vt("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":Ns_xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Vt("Default",null,{Extension:h[0],ContentType:h[1]})}));var s=function(h){n[h]&&n[h].length>0&&(r[r.length]=Vt("Override",null,{PartName:("/"==(i=n[h][0])[0]?"":"/")+i,ContentType:EM[h][t.bookType]||EM[h].xlsx}))},o=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Vt("Override",null,{PartName:("/"==p[0]?"":"/")+p,ContentType:EM[h][t.bookType]||EM[h].xlsx})})},c=function(h){(n[h]||[]).forEach(function(p){r[r.length]=Vt("Override",null,{PartName:("/"==p[0]?"":"/")+p,ContentType:e[h][0]})})};return s("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Kn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function JE(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function aw(n){var t=[ls,Vt("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return os(n["!id"]).forEach(function(e){t[t.length]=Vt("Relationship",null,n["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Nr(n,t,e,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),t<0)for(t=n["!idx"];n["!id"]["rId"+t];++t);if(n["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=e,s?i.TargetMode=s:[Kn.HLINK,Kn.XPATH,Kn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,t}function kj(n,t,e){return['  <rdf:Description rdf:about="'+n+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function jre(n,t){return['  <rdf:Description rdf:about="'+n+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Mj(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+BE_version+"</meta:generator></office:meta></office:document-meta>"}var up=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function PB(n,t,e,r,i){null!=i[n]||null==t||""===t||(i[n]=t,t=Gr(t),r[r.length]=e?Vt(n,t,e):Uo(n,t))}function Fj(n,t){var e=t||{},r=[ls,Vt("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":Ns_xsi})],i={};if(!n&&!e.Props)return r.join("");n&&(null!=n.CreatedDate&&PB("dcterms:created","string"==typeof n.CreatedDate?n.CreatedDate:pB(n.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=n.ModifiedDate&&PB("dcterms:modified","string"==typeof n.ModifiedDate?n.ModifiedDate:pB(n.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=up.length;++s){var o=up[s],c=e.Props&&null!=e.Props[o[1]]?e.Props[o[1]]:n?n[o[1]]:null;!0===c?c="1":!1===c?c="0":"number"==typeof c&&(c=String(c)),null!=c&&PB(o[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ry=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Oj=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Nj(n){var t=[],e=Vt;return n||(n={}),n.Application="SheetJS",t[t.length]=ls,t[t.length]=Vt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":Ns_vt}),ry.forEach(function(r){if(void 0!==n[r[1]]){var i;switch(r[2]){case"string":i=Gr(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=e(r[0],i))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Gr(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Lj(n){var t=[ls,Vt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":Ns_vt})];if(!n)return t.join("");var e=1;return os(n).forEach(function(i){++e,t[t.length]=Vt("property",function nre(n,t){switch(typeof n){case"string":var e=Vt("vt:lpwstr",Gr(n));return t&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Vt((0|n)==n?"vt:i4":"vt:r8",Gr(String(n)));case"boolean":return Vt("vt:bool",n?"true":"false")}if(n instanceof Date)return Vt("vt:filetime",pB(n));throw new Error("Unable to serialize "+n)}(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Gr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var NB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jj(n,t){var e=Je(4),r=Je(4);switch(e.write_shift(4,80==n?31:n),n){case 3:r.write_shift(-4,t);break;case 5:(r=Je(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function Qre(n){var e=("string"==typeof n?new Date(Date.parse(n)):n).getTime()/1e3+11644473600,r=e%Math.pow(2,32),i=(e-r)/Math.pow(2,32);i*=1e7;var s=(r*=1e7)/Math.pow(2,32)|0;s>0&&(r%=Math.pow(2,32),i+=s);var o=Je(8);return o.write_shift(4,r),o.write_shift(4,i),o}(t);break;case 31:case 80:for((r=Je(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}return _o([e,r])}var $j=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function sie(n){switch(typeof n){case"boolean":return 11;case"number":return(0|n)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64}return-1}function Wj(n,t,e){var r=Je(8),i=[],s=[],o=8,c=0,h=Je(8),p=Je(8);if(h.write_shift(4,2),h.write_shift(4,1200),p.write_shift(4,1),s.push(h),i.push(p),o+=8+h.length,!t){(p=Je(8)).write_shift(4,0),i.unshift(p);var m=[Je(4)];for(m[0].write_shift(4,n.length),c=0;c<n.length;++c){var v=n[c][0];for((h=Je(8+2*(v.length+1)+(v.length%2?0:2))).write_shift(4,c+2),h.write_shift(4,v.length+1),h.write_shift(0,v,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=_o(m),s.unshift(h),o+=8+h.length}for(c=0;c<n.length;++c)if((!t||t[n[c][0]])&&!($j.indexOf(n[c][0])>-1||Oj.indexOf(n[c][0])>-1)&&null!=n[c][1]){var w=n[c][1],E=0;if(t){var D=e[E=+t[n[c][0]]];if("version"==D.p&&"string"==typeof w){var S=w.split(".");w=(+S[0]<<16)+(+S[1]||0)}h=jj(D.t,w)}else{var M=sie(w);-1==M&&(M=31,w=String(w)),h=jj(M,w)}s.push(h),(p=Je(8)).write_shift(4,t?E:2+c),i.push(p),o+=8+h.length}var P=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,P),P+=s[c].length;return r.write_shift(4,o),r.write_shift(4,s.length),_o([r].concat(i).concat(s))}function Zj(n,t,e,r,i,s){var o=Je(i?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Cn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var h=Wj(n,e,r);if(c.push(h),i){var p=Wj(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+h.length),c.push(p)}return _o(c)}function Ga(n,t){return t||(t=Je(2)),t.write_shift(2,+!!n),t}function Ls(n){return n.read_shift(2,"u")}function ru(n,t){return t||(t=Je(2)),t.write_shift(2,n),t}function Kj(n,t,e){return e||(e=Je(2)),e.write_shift(1,"e"==t?+n:+!!n),e.write_shift(1,"e"==t?1:0),e}function tS(n,t,e){var r=n.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",s=Jl;e&&e.biff>=8&&(Jl=1200),e&&8!=e.biff?12==e.biff&&(i="wstr"):n.read_shift(1)&&(i="dbcs-cont"),e.biff>=2&&e.biff<=5&&(i="cpstr");var c=r?n.read_shift(r,i):"";return Jl=s,c}function uie(n){var t=n.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var i=Je(2*t.length);return i.write_shift(2*t.length,t,"utf16le"),_o([r,i])}function Xj(n,t,e){return e||(e=Je(3+2*n.length)),e.write_shift(2,n.length),e.write_shift(1,1),e.write_shift(31,n,"utf16le"),e}function Qj(n,t){t||(t=Je(6+2*n.length)),t.write_shift(4,1+n.length);for(var e=0;e<n.length;++e)t.write_shift(2,n.charCodeAt(e));return t.write_shift(2,0),t}function mie(n){var t=Je(512),e=0,r=n.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(e=0;e<o.length;++e)t.write_shift(4,o[e]);if(28==s)Qj(r=r.slice(1),t);else if(2&s){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<o.length;++e)t.write_shift(1,parseInt(o[e],16));var c=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(c.length+1)),e=0;e<c.length;++e)t.write_shift(2,c.charCodeAt(e));t.write_shift(2,0),8&s&&Qj(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<o.length;++e)t.write_shift(1,parseInt(o[e],16));for(var h=0;"../"==r.slice(3*h,3*h+3)||"..\\"==r.slice(3*h,3*h+3);)++h;for(t.write_shift(2,h),t.write_shift(4,r.length-3*h+1),e=0;e<r.length-3*h;++e)t.write_shift(1,255&r.charCodeAt(e+3*h));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function oy(n,t,e,r){return r||(r=Je(6)),r.write_shift(2,n),r.write_shift(2,t),r.write_shift(2,e||0),r}function vie(n,t,e){var r=e.biff>8?4:2;return[n.read_shift(r),n.read_shift(r,"i"),n.read_shift(r,"i")]}function DM(n){var t=n.read_shift(2),e=n.read_shift(2);return{s:{c:n.read_shift(2),r:t},e:{c:n.read_shift(2),r:e}}}function nz(n,t){return t||(t=Je(8)),t.write_shift(2,n.s.r),t.write_shift(2,n.e.r),t.write_shift(2,n.s.c),t.write_shift(2,n.e.c),t}function UB(n,t,e){var r=1536,i=16;switch(e.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var s=Je(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Mie(n,t){var e=!t||t.biff>=8?2:1,r=Je(8+e*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(e*n.name.length,n.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Kie(n,t,e,r){var i=e&&5==e.biff;r||(r=Je(i?3+t.length:5+2*t.length)),r.write_shift(2,n),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}function az(n,t,e,r){var i=e&&5==e.biff;r||(r=Je(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,t<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function Ese(n){var t=Je(24),e=Cs(n[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return _o([t,mie(n[1])])}function Tse(n){var t=n[1].Tooltip,e=Je(10+2*(t.length+1));e.write_shift(2,2048);var r=Cs(n[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var i=0;i<t.length;++i)e.write_shift(2,t.charCodeAt(i));return e.write_shift(2,0),e}var HB=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=fM({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,h){var p=h||{};p.dateNF||(p.dateNF="yyyymmdd");var m=sw(function e(c,h){var p=[],m=tm(1);switch(h.type){case"base64":m=tc(ec(c));break;case"binary":m=tc(c);break;case"buffer":case"array":m=c}Ho(m,0);var v=m.read_shift(1),w=!!(136&v),E=!1,D=!1;switch(v){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:E=!0,w=!0;break;case 140:D=!0;break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var S=0,M=521;2==v&&(S=m.read_shift(2)),m.l+=3,2!=v&&(S=m.read_shift(4)),S>1048576&&(S=1e6),2!=v&&(M=m.read_shift(2));var P=m.read_shift(2),V=h.codepage||1252;2!=v&&(m.l+=16,m.read_shift(1),0!==m[m.l]&&(V=n[m[m.l]]),m.l+=1,m.l+=2),D&&(m.l+=36);for(var B=[],X={},he=Math.min(m.length,2==v?521:M-10-(E?264:0)),we=D?32:11;m.l<he&&13!=m[m.l];)switch(X={},X.name=Ar.utils.decode(V,m.slice(m.l,m.l+we)).replace(/[\u0000\r\n].*$/g,""),m.l+=we,X.type=String.fromCharCode(m.read_shift(1)),2!=v&&!D&&(X.offset=m.read_shift(4)),X.len=m.read_shift(1),2==v&&(X.offset=m.read_shift(2)),X.dec=m.read_shift(1),X.name.length&&B.push(X),2!=v&&(m.l+=D?13:14),X.type){case"B":(!E||8!=X.len)&&h.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(13!==m[m.l]&&(m.l=M-1),13!==m.read_shift(1))throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=M;var Y=0,Ee=0;for(p[0]=[],Ee=0;Ee!=B.length;++Ee)p[0][Ee]=B[Ee].name;for(;S-- >0;)if(42!==m[m.l])for(++m.l,p[++Y]=[],Ee=0,Ee=0;Ee!=B.length;++Ee){var Ce=m.slice(m.l,m.l+B[Ee].len);m.l+=B[Ee].len,Ho(Ce,0);var ze=Ar.utils.decode(V,Ce);switch(B[Ee].type){case"C":ze.trim().length&&(p[Y][Ee]=ze.replace(/\s+$/,""));break;case"D":p[Y][Ee]=8===ze.length?new Date(+ze.slice(0,4),+ze.slice(4,6)-1,+ze.slice(6,8)):ze;break;case"F":p[Y][Ee]=parseFloat(ze.trim());break;case"+":case"I":p[Y][Ee]=D?2147483648^Ce.read_shift(-4,"i"):Ce.read_shift(4,"i");break;case"L":switch(ze.trim().toUpperCase()){case"Y":case"T":p[Y][Ee]=!0;break;case"N":case"F":p[Y][Ee]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ze+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[Y][Ee]="##MEMO##"+(D?parseInt(ze.trim(),10):Ce.read_shift(4));break;case"N":(ze=ze.replace(/\u0000/g,"").trim())&&"."!=ze&&(p[Y][Ee]=+ze||0);break;case"@":p[Y][Ee]=new Date(Ce.read_shift(-8,"f")-621356832e5);break;case"T":p[Y][Ee]=new Date(864e5*(Ce.read_shift(4)-2440588)+Ce.read_shift(4));break;case"Y":p[Y][Ee]=Ce.read_shift(4,"i")/1e4+Ce.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[Y][Ee]=-Ce.read_shift(-8,"f");break;case"B":if(E&&8==B[Ee].len){p[Y][Ee]=Ce.read_shift(8,"f");break}case"G":case"P":Ce.l+=B[Ee].len;break;case"0":if("_NullFlags"===B[Ee].name)break;default:throw new Error("DBF Unsupported data type "+B[Ee].type)}}else m.l+=P;if(2!=v&&m.l<m.length&&26!=m[m.l++])throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(p=p.slice(0,h.sheetRows)),h.DBF=B,p}(c,p),p);return m["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,m}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(c,h){try{return am(r(c,h),h)}catch(p){if(h&&h.WTF)throw p}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function o(c,h){var p=h||{};if(+p.codepage>=0&&Jc(+p.codepage),"string"==p.type)throw new Error("Cannot write DBF to JS string");var m=Ua(),v=UM(c,{header:1,raw:!0,cellDates:!0}),w=v[0],E=v.slice(1),D=c["!cols"]||[],S=0,M=0,P=0,V=1;for(S=0;S<w.length;++S)if(((D[S]||{}).DBF||{}).name)w[S]=D[S].DBF.name,++P;else if(null!=w[S]){if(++P,"number"==typeof w[S]&&(w[S]=w[S].toString(10)),"string"!=typeof w[S])throw new Error("DBF Invalid column name "+w[S]+" |"+typeof w[S]+"|");if(w.indexOf(w[S])!==S)for(M=0;M<1024;++M)if(-1==w.indexOf(w[S]+"_"+M)){w[S]+="_"+M;break}}var B=br(c["!ref"]),X=[],he=[],we=[];for(S=0;S<=B.e.c-B.s.c;++S){var Y="",Ee="",Ce=0,ze=[];for(M=0;M<E.length;++M)null!=E[M][S]&&ze.push(E[M][S]);if(0!=ze.length&&null!=w[S]){for(M=0;M<ze.length;++M){switch(typeof ze[M]){case"number":Ee="B";break;case"string":default:Ee="C";break;case"boolean":Ee="L";break;case"object":Ee=ze[M]instanceof Date?"D":"C"}Ce=Math.max(Ce,String(ze[M]).length),Y=Y&&Y!=Ee?"C":Ee}Ce>250&&(Ce=250),"C"==(Ee=((D[S]||{}).DBF||{}).type)&&D[S].DBF.len>Ce&&(Ce=D[S].DBF.len),"B"==Y&&"N"==Ee&&(Y="N",we[S]=D[S].DBF.dec,Ce=D[S].DBF.len),he[S]="C"==Y||"N"==Ee?Ce:s[Y]||0,V+=he[S],X[S]=Y}else X[S]="?"}var Xe=m.next(32);for(Xe.write_shift(4,318902576),Xe.write_shift(4,E.length),Xe.write_shift(2,296+32*P),Xe.write_shift(2,V),S=0;S<4;++S)Xe.write_shift(4,0);for(Xe.write_shift(4,0|(+t[q_]||3)<<8),S=0,M=0;S<w.length;++S)if(null!=w[S]){var Ae=m.next(32),Ot=(w[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ae.write_shift(1,Ot,"sbcs"),Ae.write_shift(1,"?"==X[S]?"C":X[S],"sbcs"),Ae.write_shift(4,M),Ae.write_shift(1,he[S]||s[X[S]]||0),Ae.write_shift(1,we[S]||0),Ae.write_shift(1,2),Ae.write_shift(4,0),Ae.write_shift(1,0),Ae.write_shift(4,0),Ae.write_shift(4,0),M+=he[S]||s[X[S]]||0}var on=m.next(264);for(on.write_shift(4,13),S=0;S<65;++S)on.write_shift(4,0);for(S=0;S<E.length;++S){var zt=m.next(V);for(zt.write_shift(1,0),M=0;M<w.length;++M)if(null!=w[M])switch(X[M]){case"L":zt.write_shift(1,null==E[S][M]?63:E[S][M]?84:70);break;case"B":zt.write_shift(8,E[S][M]||0,"f");break;case"N":var ft="0";for("number"==typeof E[S][M]&&(ft=E[S][M].toFixed(we[M]||0)),P=0;P<he[M]-ft.length;++P)zt.write_shift(1,32);zt.write_shift(1,ft,"sbcs");break;case"D":E[S][M]?(zt.write_shift(4,("0000"+E[S][M].getFullYear()).slice(-4),"sbcs"),zt.write_shift(2,("00"+(E[S][M].getMonth()+1)).slice(-2),"sbcs"),zt.write_shift(2,("00"+E[S][M].getDate()).slice(-2),"sbcs")):zt.write_shift(8,"00000000","sbcs");break;case"C":var dt=String(null!=E[S][M]?E[S][M]:"").slice(0,he[M]);for(zt.write_shift(1,dt,"sbcs"),P=0;P<he[M]-dt.length;++P)zt.write_shift(1,32)}}return m.next(1).write_shift(1,26),m.end()}}}(),gz=function(){var n={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+os(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(w,E){var D=n[E];return"number"==typeof D?rB(D):D},r=function(w,E,D){var S=E.charCodeAt(0)-32<<4|D.charCodeAt(0)-48;return 59==S?w:rB(S)};function s(w,E){var Xe,D=w.split(/[\n\r]+/),S=-1,M=-1,P=0,V=0,B=[],X=[],he=null,we={},Y=[],Ee=[],Ce=[],ze=0;for(+E.codepage>=0&&Jc(+E.codepage);P!==D.length;++P){ze=0;var zt,Ae=D[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,e),Ot=Ae.replace(/;;/g,"\0").split(";").map(function(pe){return pe.replace(/\u0000/g,";")});if(Ae.length>0)switch(Ot[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Ot[1].charAt(0)&&X.push(Ae.slice(3).replace(/;;/g,";"));break;case"C":var ft=!1,dt=!1,Ut=!1,wt=!1,cn=-1,ut=-1;for(V=1;V<Ot.length;++V)switch(Ot[V].charAt(0)){case"A":case"G":break;case"X":M=parseInt(Ot[V].slice(1))-1,dt=!0;break;case"Y":for(S=parseInt(Ot[V].slice(1))-1,dt||(M=0),Xe=B.length;Xe<=S;++Xe)B[Xe]=[];break;case"K":'"'===(zt=Ot[V].slice(1)).charAt(0)?zt=zt.slice(1,zt.length-1):"TRUE"===zt?zt=!0:"FALSE"===zt?zt=!1:isNaN(nd(zt))?isNaN(nw(zt).getDate())||(zt=Ki(zt)):(zt=nd(zt),null!==he&&ew(he)&&(zt=lB(zt))),ft=!0;break;case"E":wt=!0;var re=uw(Ot[V].slice(1),{r:S,c:M});B[S][M]=[B[S][M],re];break;case"S":Ut=!0,B[S][M]=[B[S][M],"S5S"];break;case"R":cn=parseInt(Ot[V].slice(1))-1;break;case"C":ut=parseInt(Ot[V].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Ae)}if(ft&&(B[S][M]&&2==B[S][M].length?B[S][M][0]=zt:B[S][M]=zt,he=null),Ut){if(wt)throw new Error("SYLK shared formula cannot have own formula");var Oe=cn>-1&&B[cn][ut];if(!Oe||!Oe[1])throw new Error("SYLK shared formula cannot find base");B[S][M][1]=Nz(Oe[1],{r:S-cn,c:M-ut})}break;case"F":var se=0;for(V=1;V<Ot.length;++V)switch(Ot[V].charAt(0)){case"X":M=parseInt(Ot[V].slice(1))-1,++se;break;case"Y":for(S=parseInt(Ot[V].slice(1))-1,Xe=B.length;Xe<=S;++Xe)B[Xe]=[];break;case"M":ze=parseInt(Ot[V].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":he=X[parseInt(Ot[V].slice(1))];break;case"W":for(Ce=Ot[V].slice(1).split(" "),Xe=parseInt(Ce[0],10);Xe<=parseInt(Ce[1],10);++Xe)ze=parseInt(Ce[2],10),Ee[Xe-1]=0===ze?{hidden:!0}:{wch:ze},cm(Ee[Xe-1]);break;case"C":Ee[M=parseInt(Ot[V].slice(1))-1]||(Ee[M]={});break;case"R":Y[S=parseInt(Ot[V].slice(1))-1]||(Y[S]={}),ze>0?(Y[S].hpt=ze,Y[S].hpx=MM(ze)):0===ze&&(Y[S].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Ae)}se<1&&(he=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Ae)}}return Y.length>0&&(we["!rows"]=Y),Ee.length>0&&(we["!cols"]=Ee),E&&E.sheetRows&&(B=B.slice(0,E.sheetRows)),[B,we]}function o(w,E){var D=function i(w,E){switch(E.type){case"base64":return s(ec(w),E);case"binary":return s(w,E);case"buffer":return s(rr&&Buffer.isBuffer(w)?w.toString("binary"):nm(w),E);case"array":return s(Y_(w),E)}throw new Error("Unrecognized type "+E.type)}(w,E),M=D[1],P=sw(D[0],E);return os(M).forEach(function(V){P[V]=M[V]}),P}function h(w,E,D,S){var M="C;Y"+(D+1)+";X"+(S+1)+";K";switch(w.t){case"n":M+=w.v||0,w.f&&!w.F&&(M+=";E"+ZB(w.f,{r:D,c:S}));break;case"b":M+=w.v?"TRUE":"FALSE";break;case"e":M+=w.w||w.v;break;case"d":M+='"'+(w.w||w.v)+'"';break;case"s":M+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return M}return n["|"]=254,{to_workbook:function c(w,E){return am(o(w,E),E)},to_sheet:o,from_sheet:function v(w,E){var P,D=["ID;PWXL;N;E"],S=[],M=br(w["!ref"]),V=Array.isArray(w),B="\r\n";D.push("P;PGeneral"),D.push("F;P0;DG0G8;M255"),w["!cols"]&&function p(w,E){E.forEach(function(D,S){var M="F;W"+(S+1)+" "+(S+1)+" ";D.hidden?M+="0":("number"==typeof D.width&&!D.wpx&&(D.wpx=iS(D.width)),"number"==typeof D.wpx&&!D.wch&&(D.wch=sS(D.wpx)),"number"==typeof D.wch&&(M+=Math.round(D.wch)))," "!=M.charAt(M.length-1)&&w.push(M)})}(D,w["!cols"]),w["!rows"]&&function m(w,E){E.forEach(function(D,S){var M="F;";D.hidden?M+="M0;":D.hpt?M+="M"+20*D.hpt+";":D.hpx&&(M+="M"+20*oS(D.hpx)+";"),M.length>2&&w.push(M+"R"+(S+1))})}(D,w["!rows"]),D.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var X=M.s.r;X<=M.e.r;++X)for(var he=M.s.c;he<=M.e.c;++he){var we=On({r:X,c:he});(P=V?(w[X]||[])[he]:w[we])&&(null!=P.v||P.f&&!P.F)&&S.push(h(P,0,X,he))}return D.join(B)+B+S.join(B)+B+"E"+B}}}(),mz=function(){function t(s,o){for(var c=s.split("\n"),h=-1,p=-1,m=0,v=[];m!==c.length;++m)if("BOT"!==c[m].trim()){if(!(h<0)){for(var w=c[m].trim().split(","),E=w[0],D=w[1],S=c[++m]||"";1&(S.match(/["]/g)||[]).length&&m<c.length-1;)S+="\n"+c[++m];switch(S=S.trim(),+E){case-1:if("BOT"===S){v[++h]=[],p=0;continue}if("EOD"!==S)throw new Error("Unrecognized DIF special command "+S);break;case 0:v[h][p]="TRUE"===S||"FALSE"!==S&&(isNaN(nd(D))?isNaN(nw(D).getDate())?D:Ki(D):nd(D)),++p;break;case 1:(S=(S=S.slice(1,S.length-1)).replace(/""/g,'"'))&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),v[h][p++]=""!==S?S:null}if("EOD"===S)break}}else v[++h]=[],p=0;return o&&o.sheetRows&&(v=v.slice(0,o.sheetRows)),v}function e(s,o){return sw(function n(s,o){switch(o.type){case"base64":return t(ec(s),o);case"binary":return t(s,o);case"buffer":return t(rr&&Buffer.isBuffer(s)?s.toString("binary"):nm(s),o);case"array":return t(Y_(s),o)}throw new Error("Unrecognized type "+o.type)}(s,o),o)}return{to_workbook:function r(s,o){return am(e(s,o),o)},to_sheet:e,from_sheet:function(){var s=function(h,p,m,v,w){h.push(p),h.push(m+","+v),h.push('"'+w.replace(/"/g,'""')+'"')},o=function(h,p,m,v){h.push(p+","+m),h.push(1==p?'"'+v.replace(/"/g,'""')+'"':v)};return function(h){var v,p=[],m=br(h["!ref"]),w=Array.isArray(h);s(p,"TABLE",0,1,"sheetjs"),s(p,"VECTORS",0,m.e.r-m.s.r+1,""),s(p,"TUPLES",0,m.e.c-m.s.c+1,""),s(p,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){o(p,-1,0,"BOT");for(var D=m.s.c;D<=m.e.c;++D){var S=On({r:E,c:D});if(v=w?(h[E]||[])[D]:h[S])switch(v.t){case"n":var M=v.w;!M&&null!=v.v&&(M=v.v),null==M?o(p,1,0,v.f&&!v.F?"="+v.f:""):o(p,0,M,"V");break;case"b":o(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":o(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=nc(v.z||Tn[14],yo(Ki(v.v)))),o(p,0,v.w,"V");break;default:o(p,1,0,"")}else o(p,1,0,"")}}return o(p,-1,0,"EOD"),p.join("\r\n")}}()}}(),_z=function(){function n(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,w){return sw(function e(v,w){for(var E=v.split("\n"),D=-1,S=-1,M=0,P=[];M!==E.length;++M){var V=E[M].trim().split(":");if("cell"===V[0]){var B=Cs(V[1]);if(P.length<=B.r)for(D=P.length;D<=B.r;++D)P[D]||(P[D]=[]);switch(D=B.r,S=B.c,V[2]){case"t":P[D][S]=n(V[3]);break;case"v":P[D][S]=+V[3];break;case"vtf":var X=V[V.length-1];case"vtc":P[D][S]="nl"===V[3]?!!+V[4]:+V[4],"vtf"==V[2]&&(P[D][S]=[P[D][S],X])}}}return w&&w.sheetRows&&(P=P.slice(0,w.sheetRows)),P}(v,w),w)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),h="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var D,w=[],E=[],S="",M=Ha(v["!ref"]),P=Array.isArray(v),V=M.s.r;V<=M.e.r;++V)for(var B=M.s.c;B<=M.e.c;++B)if(S=On({r:V,c:B}),(D=P?(v[V]||[])[B]:v[S])&&null!=D.v&&"z"!==D.t){switch(E=["cell",S,"t"],D.t){case"s":case"str":E.push(t(D.v));break;case"n":D.f?(E[2]="vtf",E[3]="n",E[4]=D.v,E[5]=t(D.f)):(E[2]="v",E[3]=D.v);break;case"b":E[2]="vt"+(D.f?"f":"c"),E[3]="nl",E[4]=D.v?"1":"0",E[5]=t(D.f||(D.v?"TRUE":"FALSE"));break;case"d":var X=yo(Ki(D.v));E[2]="vtc",E[3]="nd",E[4]=""+X,E[5]=D.w||nc(D.z||Tn[14],X);break;case"e":continue}w.push(E.join(":"))}return w.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join("\n")}return{to_workbook:function i(v,w){return am(r(v,w),w)},to_sheet:r,from_sheet:function m(v){return[s,o,c,o,p(v),h].join("\n")}}}(),lw=function(){function n(m,v,w,E,D){D.raw?v[w][E]=m:""===m||(v[w][E]="TRUE"===m||"FALSE"!==m&&(isNaN(nd(m))?isNaN(nw(m).getDate())?m:Ki(m):nd(m)))}var e={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(m){for(var v={},w=!1,E=0,D=0;E<m.length;++E)34==(D=m.charCodeAt(E))?w=!w:!w&&D in e&&(v[D]=(v[D]||0)+1);for(E in D=[],v)Object.prototype.hasOwnProperty.call(v,E)&&D.push([v[E],E]);if(!D.length)for(E in v=r)Object.prototype.hasOwnProperty.call(v,E)&&D.push([v[E],E]);return D.sort(function(S,M){return S[0]-M[0]||r[S[1]]-r[M[1]]}),e[D.pop()[1]]||44}function o(m,v){return!v||!v.PRN||v.FS||"sep="==m.slice(0,4)||m.indexOf("\t")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?function s(m,v){var w=v||{},E="",D=w.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};"sep="==m.slice(0,4)?13==m.charCodeAt(5)&&10==m.charCodeAt(6)?(E=m.charAt(4),m=m.slice(7)):13==m.charCodeAt(5)||10==m.charCodeAt(5)?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):E=w&&w.FS?w.FS:i(m.slice(0,1024));var M=0,P=0,V=0,B=0,X=0,he=E.charCodeAt(0),we=!1,Y=0,Ee=m.charCodeAt(0);m=m.replace(/\r\n/gm,"\n");var Ce=null!=w.dateNF?function Rne(n){var t="number"==typeof n?Tn[n]:n;return t=t.replace(BG,"(\\d+)"),new RegExp("^"+t+"$")}(w.dateNF):null;function ze(){var Xe=m.slice(B,X),Ae={};if('"'==Xe.charAt(0)&&'"'==Xe.charAt(Xe.length-1)&&(Xe=Xe.slice(1,-1).replace(/""/g,'"')),0===Xe.length)Ae.t="z";else if(w.raw)Ae.t="s",Ae.v=Xe;else if(0===Xe.trim().length)Ae.t="s",Ae.v=Xe;else if(61==Xe.charCodeAt(0))34==Xe.charCodeAt(1)&&34==Xe.charCodeAt(Xe.length-1)?(Ae.t="s",Ae.v=Xe.slice(2,-1).replace(/""/g,'"')):function nle(n){return 1!=n.length}(Xe)?(Ae.t="n",Ae.f=Xe.slice(1)):(Ae.t="s",Ae.v=Xe);else if("TRUE"==Xe)Ae.t="b",Ae.v=!0;else if("FALSE"==Xe)Ae.t="b",Ae.v=!1;else if(isNaN(V=nd(Xe)))if(!isNaN(nw(Xe).getDate())||Ce&&Xe.match(Ce)){Ae.z=w.dateNF||Tn[14];var Ot=0;Ce&&Xe.match(Ce)&&(Xe=function Fne(n,t,e){var r=-1,i=-1,s=-1,o=-1,c=-1,h=-1;(t.match(BG)||[]).forEach(function(v,w){var E=parseInt(e[w+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=E;break;case"d":s=E;break;case"h":o=E;break;case"s":h=E;break;case"m":o>=0?c=E:i=E}}),h>=0&&-1==c&&i>=0&&(c=i,i=-1);var p=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==p.length&&(p="0"+p),8==p.length&&(p="20"+p);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return-1==o&&-1==c&&-1==h?p:-1==r&&-1==i&&-1==s?m:p+"T"+m}(0,w.dateNF,Xe.match(Ce)||[]),Ot=1),w.cellDates?(Ae.t="d",Ae.v=Ki(Xe,Ot)):(Ae.t="n",Ae.v=yo(Ki(Xe,Ot))),!1!==w.cellText&&(Ae.w=nc(Ae.z,Ae.v instanceof Date?yo(Ae.v):Ae.v)),w.cellNF||delete Ae.z}else Ae.t="s",Ae.v=Xe;else Ae.t="n",!1!==w.cellText&&(Ae.w=Xe),Ae.v=V;if("z"==Ae.t||(w.dense?(D[M]||(D[M]=[]),D[M][P]=Ae):D[On({c:P,r:M})]=Ae),Ee=m.charCodeAt(B=X+1),S.e.c<P&&(S.e.c=P),S.e.r<M&&(S.e.r=M),Y==he)++P;else if(P=0,++M,w.sheetRows&&w.sheetRows<=M)return!0}e:for(;X<m.length;++X)switch(Y=m.charCodeAt(X)){case 34:34===Ee&&(we=!we);break;case he:case 10:case 13:if(!we&&ze())break e}return X-B>0&&ze(),D["!ref"]=Yn(S),D}(m,v):sw(function t(m,v){var w=v||{},E=[];if(!m||0===m.length)return E;for(var D=m.split(/[\r\n]/),S=D.length-1;S>=0&&0===D[S].length;)--S;for(var M=10,P=0,V=0;V<=S;++V)-1==(P=D[V].indexOf(" "))?P=D[V].length:P++,M=Math.max(M,P);for(V=0;V<=S;++V){E[V]=[];var B=0;for(n(D[V].slice(0,M).trim(),E,V,B,w),B=1;B<=(D[V].length-M)/10+1;++B)n(D[V].slice(M+10*(B-1),M+10*B).trim(),E,V,B,w)}return w.sheetRows&&(E=E.slice(0,w.sheetRows)),E}(m,v),v)}function c(m,v){var w="",E="string"==v.type?[0,0,0,0]:function h3(n,t){var e="";switch((t||{}).type||"base64"){case"buffer":case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":e=ec(n.slice(0,12));break;case"binary":e=n;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}(m,v);switch(v.type){case"base64":w=ec(m);break;case"binary":case"string":w=m;break;case"buffer":w=65001==v.codepage?m.toString("utf8"):rr&&Buffer.isBuffer(m)?m.toString("binary"):nm(m);break;case"array":w=Y_(m);break;default:throw new Error("Unrecognized type "+v.type)}return 239==E[0]&&187==E[1]&&191==E[2]?w=Si(w.slice(3)):"string"!=v.type&&"buffer"!=v.type&&65001==v.codepage&&(w=Si(w)),"socialcalc:version:"==w.slice(0,19)?_z.to_sheet("string"==v.type?w:Si(w),v):o(w,v)}return{to_workbook:function h(m,v){return am(c(m,v),v)},to_sheet:c,from_sheet:function p(m){for(var E,v=[],w=br(m["!ref"]),D=Array.isArray(m),S=w.s.r;S<=w.e.r;++S){for(var M=[],P=w.s.c;P<=w.e.c;++P){var V=On({r:S,c:P});if((E=D?(m[S]||[])[P]:m[V])&&null!=E.v){for(var B=(E.w||(wh(E),E.w)||"").slice(0,10);B.length<10;)B+=" ";M.push(B+(0===P?" ":""))}else M.push("          ")}v.push(M.join(""))}return v.join("\n")}}}(),ay=function(){function n(re,Oe,se){if(re){Ho(re,re.l||0);for(var pe=se.Enum||cn;re.l<re.length;){var st=re.read_shift(2),Mt=pe[st]||pe[65535],Rt=re.read_shift(2),Tt=re.l+Rt,gt=Mt.f&&Mt.f(re,Rt,se);if(re.l=Tt,Oe(gt,Mt,st))return}}}function e(re,Oe){if(!re)return re;var se=Oe||{},pe=se.dense?[]:{},st="Sheet1",Mt="",Rt=0,Tt={},gt=[],$n=[],ie={s:{r:0,c:0},e:{r:0,c:0}},jr=se.sheetRows||0;if(0==re[2]&&(8==re[3]||9==re[3])&&re.length>=16&&5==re[14]&&108===re[15])throw new Error("Unsupported Works 3 for Mac file");if(2==re[2])se.Enum=cn,n(re,function(nn,Ss,gu){switch(gu){case 0:se.vers=nn,nn>=4096&&(se.qpro=!0);break;case 6:ie=nn;break;case 204:nn&&(Mt=nn);break;case 222:Mt=nn;break;case 15:case 51:se.qpro||(nn[1].v=nn[1].v.slice(1));case 13:case 14:case 16:14==gu&&112==(112&nn[2])&&(15&nn[2])>1&&(15&nn[2])<15&&(nn[1].z=se.dateNF||Tn[14],se.cellDates&&(nn[1].t="d",nn[1].v=lB(nn[1].v))),se.qpro&&nn[3]>Rt&&(pe["!ref"]=Yn(ie),Tt[st]=pe,gt.push(st),pe=se.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},Rt=nn[3],st=Mt||"Sheet"+(Rt+1),Mt="");var Ph=se.dense?(pe[nn[0].r]||[])[nn[0].c]:pe[On(nn[0])];if(Ph){Ph.t=nn[1].t,Ph.v=nn[1].v,null!=nn[1].z&&(Ph.z=nn[1].z),null!=nn[1].f&&(Ph.f=nn[1].f);break}se.dense?(pe[nn[0].r]||(pe[nn[0].r]=[]),pe[nn[0].r][nn[0].c]=nn[1]):pe[On(nn[0])]=nn[1]}},se);else{if(26!=re[2]&&14!=re[2])throw new Error("Unrecognized LOTUS BOF "+re[2]);se.Enum=ut,14==re[2]&&(se.qpro=!0,re.l=0),n(re,function(nn,Ss,gu){switch(gu){case 204:st=nn;break;case 22:nn[1].v=nn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(nn[3]>Rt&&(pe["!ref"]=Yn(ie),Tt[st]=pe,gt.push(st),pe=se.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},st="Sheet"+((Rt=nn[3])+1)),jr>0&&nn[0].r>=jr)break;se.dense?(pe[nn[0].r]||(pe[nn[0].r]=[]),pe[nn[0].r][nn[0].c]=nn[1]):pe[On(nn[0])]=nn[1],ie.e.c<nn[0].c&&(ie.e.c=nn[0].c),ie.e.r<nn[0].r&&(ie.e.r=nn[0].r);break;case 27:nn[14e3]&&($n[nn[14e3][0]]=nn[14e3][1]);break;case 1537:$n[nn[0]]=nn[1],nn[0]==Rt&&(st=nn[1])}},se)}if(pe["!ref"]=Yn(ie),Tt[Mt||st]=pe,gt.push(Mt||st),!$n.length)return{SheetNames:gt,Sheets:Tt};for(var mr={},zr=[],_r=0;_r<$n.length;++_r)Tt[gt[_r]]?(zr.push($n[_r]||gt[_r]),mr[$n[_r]]=Tt[$n[_r]]||Tt[gt[_r]]):(zr.push($n[_r]),mr[$n[_r]]={"!ref":"A1"});return{SheetNames:zr,Sheets:mr}}function p(re,Oe,se){var pe=[{c:0,r:0},{t:"n",v:0},0,0];return se.qpro&&20768!=se.vers?(pe[0].c=re.read_shift(1),pe[3]=re.read_shift(1),pe[0].r=re.read_shift(2),re.l+=2):(pe[2]=re.read_shift(1),pe[0].c=re.read_shift(2),pe[0].r=re.read_shift(2)),pe}function m(re,Oe,se){var pe=re.l+Oe,st=p(re,0,se);if(st[1].t="s",20768==se.vers){re.l++;var Mt=re.read_shift(1);return st[1].v=re.read_shift(Mt,"utf8"),st}return se.qpro&&re.l++,st[1].v=re.read_shift(pe-re.l,"cstr"),st}function v(re,Oe,se){var pe=Je(7+se.length);pe.write_shift(1,255),pe.write_shift(2,Oe),pe.write_shift(2,re),pe.write_shift(1,39);for(var st=0;st<pe.length;++st){var Mt=se.charCodeAt(st);pe.write_shift(1,Mt>=128?95:Mt)}return pe.write_shift(1,0),pe}function E(re,Oe,se){var pe=Je(7);return pe.write_shift(1,255),pe.write_shift(2,Oe),pe.write_shift(2,re),pe.write_shift(2,se,"i"),pe}function S(re,Oe,se){var pe=Je(13);return pe.write_shift(1,255),pe.write_shift(2,Oe),pe.write_shift(2,re),pe.write_shift(8,se,"f"),pe}function P(re,Oe,se){var pe=32768&Oe;return Oe=(pe?re:0)+((Oe&=-32769)>=8192?Oe-16384:Oe),(pe?"":"$")+(se?Ti(Oe):cs(Oe))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function he(re){var Oe=[{c:0,r:0},{t:"n",v:0},0];return Oe[0].r=re.read_shift(2),Oe[3]=re[re.l++],Oe[0].c=re[re.l++],Oe}function Y(re,Oe,se,pe){var st=Je(6+pe.length);st.write_shift(2,re),st.write_shift(1,se),st.write_shift(1,Oe),st.write_shift(1,39);for(var Mt=0;Mt<pe.length;++Mt){var Rt=pe.charCodeAt(Mt);st.write_shift(1,Rt>=128?95:Rt)}return st.write_shift(1,0),st}function Ce(re,Oe){var se=he(re),pe=re.read_shift(4),st=re.read_shift(4),Mt=re.read_shift(2);if(65535==Mt)return 0===pe&&3221225472===st?(se[1].t="e",se[1].v=15):0===pe&&3489660928===st?(se[1].t="e",se[1].v=42):se[1].v=0,se;var Rt=32768&Mt;return Mt=(32767&Mt)-16446,se[1].v=(1-2*Rt)*(st*Math.pow(2,Mt+32)+pe*Math.pow(2,Mt)),se}function ze(re,Oe,se,pe){var st=Je(14);if(st.write_shift(2,re),st.write_shift(1,se),st.write_shift(1,Oe),0==pe)return st.write_shift(4,0),st.write_shift(4,0),st.write_shift(2,65535),st;var Mt=0,Rt=0,gt=0;return pe<0&&(Mt=1,pe=-pe),Rt=0|Math.log2(pe),0==(2147483648&(gt=(pe/=Math.pow(2,Rt-31))>>>0))&&(++Rt,gt=(pe/=2)>>>0),pe-=gt,gt|=2147483648,gt>>>=0,pe*=Math.pow(2,32),st.write_shift(4,pe>>>0),st.write_shift(4,gt),st.write_shift(2,Rt+=16383+(Mt?32768:0)),st}function Ot(re,Oe){var se=he(re),pe=re.read_shift(8,"f");return se[1].v=pe,se}function zt(re,Oe){return 0==re[re.l+Oe-1]?re.read_shift(Oe,"cstr"):""}function wt(re,Oe){var se=Je(5+re.length);se.write_shift(2,14e3),se.write_shift(2,Oe);for(var pe=0;pe<re.length;++pe){var st=re.charCodeAt(pe);se[se.l++]=st>127?95:st}return se[se.l++]=0,se}var cn={0:{n:"BOF",f:Ls},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function c(re,Oe,se){var pe={s:{c:0,r:0},e:{c:0,r:0}};return 8==Oe&&se.qpro?(pe.s.c=re.read_shift(1),re.l++,pe.s.r=re.read_shift(2),pe.e.c=re.read_shift(1),re.l++,pe.e.r=re.read_shift(2),pe):(pe.s.c=re.read_shift(2),pe.s.r=re.read_shift(2),12==Oe&&se.qpro&&(re.l+=2),pe.e.c=re.read_shift(2),pe.e.r=re.read_shift(2),12==Oe&&se.qpro&&(re.l+=2),65535==pe.s.c&&(pe.s.c=pe.e.c=pe.s.r=pe.e.r=0),pe)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function w(re,Oe,se){var pe=p(re,0,se);return pe[1].v=re.read_shift(2,"i"),pe}},14:{n:"NUMBER",f:function D(re,Oe,se){var pe=p(re,0,se);return pe[1].v=re.read_shift(8,"f"),pe}},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:function M(re,Oe,se){var pe=re.l+Oe,st=p(re,0,se);if(st[1].v=re.read_shift(8,"f"),se.qpro)re.l=pe;else{var Mt=re.read_shift(2);(function X(re,Oe){Ho(re,0);for(var se=[],pe=0,st="",Mt="",Rt="",Tt="";re.l<re.length;){var gt=re[re.l++];switch(gt){case 0:se.push(re.read_shift(8,"f"));break;case 1:Mt=P(Oe[0].c,re.read_shift(2),!0),st=P(Oe[0].r,re.read_shift(2),!1),se.push(Mt+st);break;case 2:var $n=P(Oe[0].c,re.read_shift(2),!0),ie=P(Oe[0].r,re.read_shift(2),!1);Mt=P(Oe[0].c,re.read_shift(2),!0),st=P(Oe[0].r,re.read_shift(2),!1),se.push($n+ie+":"+Mt+st);break;case 3:if(re.l<re.length)return void console.error("WK1 premature formula end");break;case 4:se.push("("+se.pop()+")");break;case 5:se.push(re.read_shift(2));break;case 6:for(var jr="";gt=re[re.l++];)jr+=String.fromCharCode(gt);se.push('"'+jr.replace(/"/g,'""')+'"');break;case 8:se.push("-"+se.pop());break;case 23:se.push("+"+se.pop());break;case 22:se.push("NOT("+se.pop()+")");break;case 20:case 21:Tt=se.pop(),Rt=se.pop(),se.push(["AND","OR"][gt-20]+"("+Rt+","+Tt+")");break;default:if(gt<32&&B[gt])Tt=se.pop(),Rt=se.pop(),se.push(Rt+B[gt]+Tt);else{if(!V[gt])return gt<=7?console.error("WK1 invalid opcode "+gt.toString(16)):gt<=24?console.error("WK1 unsupported op "+gt.toString(16)):gt<=30?console.error("WK1 invalid opcode "+gt.toString(16)):gt<=115?console.error("WK1 unsupported function opcode "+gt.toString(16)):console.error("WK1 unrecognized opcode "+gt.toString(16));if(69==(pe=V[gt][1])&&(pe=re[re.l++]),pe>se.length)return void console.error("WK1 bad formula parse 0x"+gt.toString(16)+":|"+se.join("|")+"|");var mr=se.slice(-pe);se.length-=pe,se.push(V[gt][0]+"("+mr.join(",")+")")}}}1==se.length?Oe[1].f=""+se[0]:console.error("WK1 bad formula parse |"+se.join("|")+"|")})(re.slice(re.l,re.l+Mt),st),re.l+=Mt}return st}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:zt},222:{n:"SHEETNAMELP",f:function ft(re,Oe){var se=re[re.l++];se>Oe-1&&(se=Oe-1);for(var pe="";pe.length<se;)pe+=String.fromCharCode(re[re.l++]);return pe}},65535:{n:""}},ut={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function we(re,Oe){var se=he(re);return se[1].t="s",se[1].v=re.read_shift(Oe-4,"cstr"),se}},23:{n:"NUMBER17",f:Ce},24:{n:"NUMBER18",f:function Ee(re,Oe){var se=he(re);se[1].v=re.read_shift(2);var pe=se[1].v>>1;if(1&se[1].v)switch(7&pe){case 0:pe=5e3*(pe>>3);break;case 1:pe=500*(pe>>3);break;case 2:pe=(pe>>3)/20;break;case 3:pe=(pe>>3)/200;break;case 4:pe=(pe>>3)/2e3;break;case 5:pe=(pe>>3)/2e4;break;case 6:pe=(pe>>3)/16;break;case 7:pe=(pe>>3)/64}return se[1].v=pe,se}},25:{n:"FORMULA19",f:function Xe(re,Oe){var se=Ce(re);return re.l+=Oe-14,se}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ut(re,Oe){for(var se={},pe=re.l+Oe;re.l<pe;){var st=re.read_shift(2);if(14e3==st){for(se[st]=[0,""],se[st][0]=re.read_shift(2);re[re.l];)se[st][1]+=String.fromCharCode(re[re.l]),re.l++;re.l++}}return se}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Ae(re,Oe){var se=he(re),pe=re.read_shift(4);return se[1].v=pe>>6,se}},38:{n:"??"},39:{n:"NUMBER27",f:Ot},40:{n:"FORMULA28",f:function on(re,Oe){var se=Ot(re);return re.l+=Oe-10,se}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:zt},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function dt(re,Oe,se){if(se.qpro&&!(Oe<21)){var pe=re.read_shift(1);return re.l+=17,re.l+=1,re.l+=2,[pe,re.read_shift(Oe-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(re,Oe){var se=Oe||{};if(+se.codepage>=0&&Jc(+se.codepage),"string"==se.type)throw new Error("Cannot write WK1 to JS string");var pe=Ua(),st=br(re["!ref"]),Mt=Array.isArray(re),Rt=[];jt(pe,0,function s(re){var Oe=Je(2);return Oe.write_shift(2,re),Oe}(1030)),jt(pe,6,function h(re){var Oe=Je(8);return Oe.write_shift(2,re.s.c),Oe.write_shift(2,re.s.r),Oe.write_shift(2,re.e.c),Oe.write_shift(2,re.e.r),Oe}(st));for(var Tt=Math.min(st.e.r,8191),gt=st.s.r;gt<=Tt;++gt)for(var $n=cs(gt),ie=st.s.c;ie<=st.e.c;++ie){gt===st.s.r&&(Rt[ie]=Ti(ie));var mr=Mt?(re[gt]||[])[ie]:re[Rt[ie]+$n];mr&&"z"!=mr.t&&("n"==mr.t?(0|mr.v)==mr.v&&mr.v>=-32768&&mr.v<=32767?jt(pe,13,E(gt,ie,mr.v)):jt(pe,14,S(gt,ie,mr.v)):jt(pe,15,v(gt,ie,wh(mr).slice(0,239))))}return jt(pe,1),pe.end()},book_to_wk3:function i(re,Oe){var se=Oe||{};if(+se.codepage>=0&&Jc(+se.codepage),"string"==se.type)throw new Error("Cannot write WK3 to JS string");var pe=Ua();jt(pe,0,function o(re){var Oe=Je(26);Oe.write_shift(2,4096),Oe.write_shift(2,4),Oe.write_shift(4,0);for(var se=0,pe=0,st=0,Mt=0;Mt<re.SheetNames.length;++Mt){var Tt=re.Sheets[re.SheetNames[Mt]];if(Tt&&Tt["!ref"]){++st;var gt=Ha(Tt["!ref"]);se<gt.e.r&&(se=gt.e.r),pe<gt.e.c&&(pe=gt.e.c)}}return se>8191&&(se=8191),Oe.write_shift(2,se),Oe.write_shift(1,st),Oe.write_shift(1,pe),Oe.write_shift(2,0),Oe.write_shift(2,0),Oe.write_shift(1,1),Oe.write_shift(1,2),Oe.write_shift(4,0),Oe.write_shift(4,0),Oe}(re));for(var st=0,Mt=0;st<re.SheetNames.length;++st)(re.Sheets[re.SheetNames[st]]||{})["!ref"]&&jt(pe,27,wt(re.SheetNames[st],Mt++));var Rt=0;for(st=0;st<re.SheetNames.length;++st){var Tt=re.Sheets[re.SheetNames[st]];if(Tt&&Tt["!ref"]){for(var gt=br(Tt["!ref"]),$n=Array.isArray(Tt),ie=[],jr=Math.min(gt.e.r,8191),mr=gt.s.r;mr<=jr;++mr)for(var zr=cs(mr),_r=gt.s.c;_r<=gt.e.c;++_r){mr===gt.s.r&&(ie[_r]=Ti(_r));var Ss=$n?(Tt[mr]||[])[_r]:Tt[ie[_r]+zr];Ss&&"z"!=Ss.t&&("n"==Ss.t?jt(pe,23,ze(mr,_r,Rt,Ss.v)):jt(pe,22,Y(mr,_r,Rt,wh(Ss).slice(0,239))))}++Rt}}return jt(pe,1),pe.end()},to_workbook:function t(re,Oe){switch(Oe.type){case"base64":return e(tc(ec(re)),Oe);case"binary":return e(tc(re),Oe);case"buffer":case"array":return e(re,Oe)}throw"Unsupported type "+Oe.type}}}(),soe=/^\s|\s$|[\t\n\r]/;function vz(n,t){if(!t.bookSST)return"";var e=[ls];e[e.length]=Vt("sst",null,{xmlns:om[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(null!=n[r]){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(soe)&&(s+=' xml:space="preserve"'),s+=">"+Gr(i.t)+"</t>"),e[e.length]=s+="</si>"}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}var coe=function vre(n,t){var e=!1;return null==t&&(e=!0,t=Je(15+4*n.t.length)),t.write_shift(1,0),xo(n.t,t),e?t.slice(0,t.l):t};function uoe(n){var t=Ua();vt(t,159,function loe(n,t){return t||(t=Je(8)),t.write_shift(4,n.Count),t.write_shift(4,n.Unique),t}(n));for(var e=0;e<n.length;++e)vt(t,19,coe(n[e]));return vt(t,160),t.end()}function GB(n){var e,s,t=0,r=function xz(n){for(var t=[],e=n.split(""),r=0;r<e.length;++r)t[r]=e[r].charCodeAt(0);return t}(n),i=r.length+1;for((e=tm(i))[0]=r.length,s=1;s!=i;++s)e[s]=r[s-1];for(s=i-1;s>=0;--s)t=((0==(16384&t)?0:1)|t<<1&32767)^e[s];return 52811^t}var Ez=function(){function n(i,s){switch(s.type){case"base64":return t(ec(i),s);case"binary":return t(i,s);case"buffer":return t(rr&&Buffer.isBuffer(i)?i.toString("binary"):nm(i),s);case"array":return t(Y_(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var c=(s||{}).dense?[]:{},h=i.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,v){Array.isArray(c)&&(c[v]=[]);for(var D,w=/\\\w+\b/g,E=0,S=-1;D=w.exec(m);){if("\\cell"===D[0]){var M=m.slice(E,w.lastIndex-D[0].length);if(" "==M[0]&&(M=M.slice(1)),++S,M.length){var P={v:M,t:"s"};Array.isArray(c)?c[v][S]=P:c[On({r:v,c:S})]=P}}E=w.lastIndex}S>p.e.c&&(p.e.c=S)}),c["!ref"]=Yn(p),c}return{to_workbook:function e(i,s){return am(n(i,s),s)},to_sheet:n,from_sheet:function r(i){for(var c,s=["{\\rtf1\\ansi"],o=br(i["!ref"]),h=Array.isArray(i),p=o.s.r;p<=o.e.r;++p){s.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var v=On({r:p,c:m});(c=h?(i[p]||[])[m]:i[v])&&(null!=c.v||c.f&&!c.F)&&(s.push(" "+(c.w||(wh(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function rS(n){for(var t=0,e=1;3!=t;++t)e=256*e+(n[t]>255?255:n[t]<0?0:n[t]);return e.toString(16).toUpperCase().slice(1)}var fa=6;function iS(n){return Math.floor((n+Math.round(128/fa)/256)*fa)}function sS(n){return Math.floor((n-5)/fa*100+.5)/100}function kM(n){return Math.round((n*fa+5)/fa*256)/256}function cm(n){n.width?(n.wpx=iS(n.width),n.wch=sS(n.wpx),n.MDW=fa):n.wpx?(n.wch=sS(n.wpx),n.width=kM(n.wch),n.MDW=fa):"number"==typeof n.wch&&(n.width=kM(n.wch),n.wpx=iS(n.width),n.MDW=fa),n.customWidth&&delete n.customWidth}function oS(n){return 96*n/96}function MM(n){return 96*n/96}function Dz(n,t){var r,e=[ls,Vt("styleSheet",null,{xmlns:om[0],"xmlns:vt":Ns_vt})];return n.SSF&&null!=(r=function Poe(n){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=n[r]&&(t[t.length]=Vt("numFmt",null,{numFmtId:r,formatCode:Gr(n[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Vt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(n.SSF))&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function Noe(n){var t=[];return t[t.length]=Vt("cellXfs",null),n.forEach(function(e){t[t.length]=Vt("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Vt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function Voe(n,t,e){e||(e=Je(6+4*t.length)),e.write_shift(2,n),xo(t,e);var r=e.length>e.l?e.slice(0,e.l):e;return null==e.l&&(e.l=e.length),r}var $B,Goe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],joe=ca;function Az(n,t){t||(t=Je(84)),$B||($B=fM(Goe));var e=$B[n.patternType];null==e&&(e=40),t.write_shift(4,e);var r=0;if(40!=e)for(xM({auto:1},t),xM({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Iz(n,t,e){return e||(e=Je(16)),e.write_shift(2,t||0),e.write_shift(2,n.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function aS(n,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var $oe=ca;function sae(n,t){var e=Ua();return vt(e,278),function Koe(n,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&++e}),0!=e&&(vt(n,615,rd(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&vt(n,44,Voe(i,t[i]))}),vt(n,616))}}(e,n.SSF),function Xoe(n){vt(n,611,rd(1)),vt(n,43,function Hoe(n,t){t||(t=Je(153)),t.write_shift(2,20*n.sz),function Dre(n,t){t||(t=Je(2)),t.write_shift(1,(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0)),t.write_shift(1,0)}(n,t),t.write_shift(2,n.bold?700:400);var e=0;"superscript"==n.vertAlign?e=1:"subscript"==n.vertAlign&&(e=2),t.write_shift(2,e),t.write_shift(1,n.underline||0),t.write_shift(1,n.family||0),t.write_shift(1,n.charset||0),t.write_shift(1,0),xM(n.color,t);var r=0;return"major"==n.scheme&&(r=1),"minor"==n.scheme&&(r=2),t.write_shift(1,r),xo(n.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),vt(n,612)}(e),function Qoe(n){vt(n,603,rd(2)),vt(n,45,Az({patternType:"none"})),vt(n,45,Az({patternType:"gray125"})),vt(n,604)}(e),function Joe(n){vt(n,613,rd(1)),vt(n,46,function Woe(n,t){return t||(t=Je(51)),t.write_shift(1,0),aS(0,t),aS(0,t),aS(0,t),aS(0,t),aS(0,t),t.length>t.l?t.slice(0,t.l):t}()),vt(n,614)}(e),function eae(n){vt(n,626,rd(1)),vt(n,47,Iz({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),vt(n,627)}(e),function tae(n,t){vt(n,617,rd(t.length)),t.forEach(function(e){vt(n,47,Iz(e,0))}),vt(n,618)}(e,t.cellXfs),function nae(n){vt(n,619,rd(1)),vt(n,48,function qoe(n,t){return t||(t=Je(52)),t.write_shift(4,n.xfId),t.write_shift(2,1),t.write_shift(1,+n.builtinId),t.write_shift(1,0),vM(n.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),vt(n,620)}(e),function rae(n){vt(n,505,rd(0)),vt(n,506)}(e),function iae(n){vt(n,508,function Zoe(n,t,e){var r=Je(2052);return r.write_shift(4,n),vM(t,r),vM(e,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),vt(n,509)}(e),vt(e,279),e.end()}function WB(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&"string"==typeof n.raw)return n.raw;var e=[ls];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function Mae(){var n=Ua();return vt(n,332),vt(n,334,rd(1)),vt(n,335,function Eae(n){var t=Je(12+2*n.name.length);return t.write_shift(4,n.flags),t.write_shift(4,n.version),xo(n.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),vt(n,336),vt(n,339,function Dae(n,t){var e=Je(8+2*t.length);return e.write_shift(4,n),xo(t,e),e.slice(0,e.l)}(1,"XLDAPR")),vt(n,52),vt(n,35,rd(514)),vt(n,4096,rd(0)),vt(n,4097,ru(1)),vt(n,36),vt(n,53),vt(n,340),vt(n,337,function Iae(n,t){var e=Je(8);return e.write_shift(4,n),e.write_shift(4,t?1:0),e}(1,!0)),vt(n,51,function Tae(n){var t=Je(4+8*n.length);t.write_shift(4,n.length);for(var e=0;e<n.length;++e)t.write_shift(4,n[e][0]),t.write_shift(4,n[e][1]);return t}([[1,0]])),vt(n,338),vt(n,333),n.end()}function Mz(){var n=[ls];return n.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),n.join("")}var cw=1024;function Rz(n,t){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),i=[Vt("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":ic_o,"xmlns:x":ic_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),Vt("o:shapelayout",Vt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Vt("v:shapetype",[Vt("v:stroke",null,{joinstyle:"miter"}),Vt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];cw<1e3*n;)cw+=1e3;return t.forEach(function(s){var o=Cs(s[0]),c={color2:"#BEFF82",type:"gradient"};"gradient"==c.type&&(c.angle="-180");var h="gradient"==c.type?Vt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Vt("v:fill",h,c);++cw,i=i.concat(["<v:shape"+ZE({id:"_x0000_s"+cw,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Vt("v:shadow",null,{on:"t",obscured:"t"}),Vt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Uo("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Uo("x:AutoFill","False"),Uo("x:Row",String(o.r)),Uo("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Oz(n){var t=[ls,Vt("comments",null,{xmlns:om[0]})],e=[];return t.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Gr(i.a);-1==e.indexOf(s)&&(e.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&-1==e.indexOf("tc="+i.ID)&&(e.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),0==e.length&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(i=e.indexOf(Gr(h.a))),s.push(h.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(Uo("t",Gr(s[0]||"")));else{for(var o="Comment:\n    "+s[0]+"\n",c=1;c<s.length;++c)o+="Reply:\n    "+s[c]+"\n";t.push(Uo("t",Gr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Uae(n,t,e){var r=[ls,Vt("ThreadedComments",null,{xmlns:Ns_TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,c){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var h={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};0==c?s=h.id:h.parentId=s,o.ID=h.id,o.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Vt("threadedComment",Uo("text",o.t||""),h))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}var $ae=ua;function Zae(n){var t=Ua(),e=[];return vt(t,628),vt(t,630),n.forEach(function(r){r[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),vt(t,632,function Wae(n){return xo(n.slice(0,54))}(i.a)))})}),vt(t,631),vt(t,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=e.indexOf(i.a);var s={s:Cs(r[0]),e:Cs(r[0])};vt(t,635,function zae(n,t){return null==t&&(t=Je(36)),t.write_shift(4,n[1].iauthor),ow(n[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,i])),i.t&&i.t.length>0&&vt(t,637,function wre(n,t){var e=!1;return null==t&&(e=!0,t=Je(23+4*n.t.length)),t.write_shift(1,1),xo(n.t,t),t.write_shift(4,1),function yre(n,t){t||(t=Je(4)),t.write_shift(2,n.ich||0),t.write_shift(2,n.ifnt||0)}({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}(i)),vt(t,636),delete i.iauthor})}),vt(t,634),vt(t,629),t.end()}var Pz=["xlsb","xlsm","xlam","biff8","xla"],uw=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(r,i,s,o){var c=!1,h=!1;0==s.length?h=!0:"["==s.charAt(0)&&(h=!0,s=s.slice(1,-1)),0==o.length?c=!0:"["==o.charAt(0)&&(c=!0,o=o.slice(1,-1));var p=s.length>0?0|parseInt(s,10):0,m=o.length>0?0|parseInt(o,10):0;return c?m+=t.c:--m,h?p+=t.r:--p,i+(c?"":"$")+Ti(m)+(h?"":"$")+cs(p)}return function(i,s){return t=s,i.replace(n,e)}}(),qB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZB=function(){return function(t,e){return t.replace(qB,function(r,i,s,o,c,h){var p=EB(o)-(s?0:e.c),m=CB(h)-(c?0:e.r);return i+"R"+(0==m?"":c?m+1:"["+m+"]")+"C"+(0==p?"":s?p+1:"["+p+"]")})}}();function Nz(n,t){return n.replace(qB,function(e,r,i,s,o,c){return r+("$"==i?i+s:Ti(EB(s)+t.c))+("$"==o?o+c:cs(CB(c)+t.r))})}function Bs(n){n.l+=1}function um(n,t){var e=n.read_shift(1==t?1:2);return[16383&e,e>>14&1,e>>15&1]}function Lz(n,t,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return Bz(n);12==e.biff&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=um(n,2),c=um(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function Bz(n){var t=um(n,2),e=um(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function Vz(n,t,e){if(e&&e.biff>=2&&e.biff<=5)return function ile(n){var t=um(n,2),e=n.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}(n);var r=n.read_shift(e&&12==e.biff?4:2),i=um(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function sle(n){var t=n.read_shift(2),e=n.read_shift(2);return{r:t,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function Uz(n){var t=1&n[n.l+1];return n.l+=4,[t,1]}function Hz(n){return[n.read_shift(1),n.read_shift(1)]}function Ole(n,t){var e=[n.read_shift(1)];if(12==t)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=function Es(n,t){return 1===n.read_shift(t)}(n,1)?"TRUE":"FALSE",12!=t&&(n.l+=7);break;case 37:case 16:e[1]=cp[n[n.l]],n.l+=12==t?4:8;break;case 0:n.l+=8;break;case 1:e[1]=da(n);break;case 2:e[1]=function sy(n,t,e){if(e.biff>5)return function nS(n,t,e){var r=n.read_shift(e&&2==e.biff?1:2);return 0===r?(n.l++,""):function iy(n,t,e){if(e){if(e.biff>=2&&e.biff<=5)return n.read_shift(t,"cpstr");if(e.biff>=12)return n.read_shift(t,"dbcs-cont")}var i=n.read_shift(1);return n.read_shift(t,0===i?"sbcs-cont":"dbcs-cont")}(n,r,e)}(n,0,e);var r=n.read_shift(1);return 0===r?(n.l++,""):n.read_shift(r,e.biff<=4||!n.lens?"cpstr":"sbcs-cont")}(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function Ple(n,t,e){for(var r=n.read_shift(12==e.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==e.biff?ey:DM)(n,8));return i}function Nle(n,t,e){var r=0,i=0;12==e.biff?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=Ole(n,e.biff);return o}function lS(n,t,e){return n.l+=2,[sle(n)]}function YB(n){return n.l+=6,[]}function Gz(n){return n.l+=2,[Ls(n),1&n.read_shift(2)]}var nce=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],jz={1:{n:"PtgExp",f:function Ale(n,t,e){return n.l++,e&&12==e.biff?[n.read_shift(4,"i"),0]:[n.read_shift(2),n.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:ca},3:{n:"PtgAdd",f:Bs},4:{n:"PtgSub",f:Bs},5:{n:"PtgMul",f:Bs},6:{n:"PtgDiv",f:Bs},7:{n:"PtgPower",f:Bs},8:{n:"PtgConcat",f:Bs},9:{n:"PtgLt",f:Bs},10:{n:"PtgLe",f:Bs},11:{n:"PtgEq",f:Bs},12:{n:"PtgGe",f:Bs},13:{n:"PtgGt",f:Bs},14:{n:"PtgNe",f:Bs},15:{n:"PtgIsect",f:Bs},16:{n:"PtgUnion",f:Bs},17:{n:"PtgRange",f:Bs},18:{n:"PtgUplus",f:Bs},19:{n:"PtgUminus",f:Bs},20:{n:"PtgPercent",f:Bs},21:{n:"PtgParen",f:Bs},22:{n:"PtgMissArg",f:Bs},23:{n:"PtgStr",f:function Fle(n,t,e){return n.l++,tS(n,0,e)}},26:{n:"PtgSheet",f:function sce(n,t,e){return n.l+=5,n.l+=2,n.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function oce(n,t,e){return n.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Ile(n){return n.l++,cp[n.read_shift(1)]}},29:{n:"PtgBool",f:function Mle(n){return n.l++,0!==n.read_shift(1)}},30:{n:"PtgInt",f:function kle(n){return n.l++,n.read_shift(2)}},31:{n:"PtgNum",f:function Rle(n){return n.l++,da(n)}},32:{n:"PtgArray",f:function fle(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=2==e.biff?6:12==e.biff?14:7,[r]}},33:{n:"PtgFunc",f:function Ele(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(e&&e.biff<=3?1:2);return[Dce[i],Wz[i],r]}},34:{n:"PtgFuncVar",f:function Sle(n,t,e){var r=n[n.l++],i=n.read_shift(1),s=e&&e.biff<=3?[88==r?-1:0,n.read_shift(1)]:function Tle(n){return[n[n.l+1]>>7,32767&n.read_shift(2)]}(n);return[i,(0===s[0]?Wz:Tce)[s[1]]]}},35:{n:"PtgName",f:function Lle(n,t,e){var r=n.read_shift(1)>>>5&3,s=n.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function wle(n,t,e){var r=(96&n[n.l])>>5;return n.l+=1,[r,Vz(n,0,e)]}},37:{n:"PtgArea",f:function lle(n,t,e){return[(96&n[n.l++])>>5,Lz(n,0,e)]}},38:{n:"PtgMemArea",f:function Ule(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=e&&2==e.biff?3:4,[r,n.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:ca},40:{n:"PtgMemNoMem",f:ca},41:{n:"PtgMemFunc",f:function Hle(n,t,e){return[n.read_shift(1)>>>5&3,n.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function Gle(n,t,e){var r=n.read_shift(1)>>>5&3;return n.l+=4,e.biff<8&&n.l--,12==e.biff&&(n.l+=2),[r]}},43:{n:"PtgAreaErr",f:function ule(n,t,e){var r=(96&n[n.l++])>>5;return n.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function ble(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=function ole(n,t,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return function ale(n){var t=n.read_shift(2),e=n.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&e>=128&&(e-=256),{r:t,c:e,cRel:i,rRel:r}}(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(16384&s)>>14,c=(32768&s)>>15;if(s&=16383,1==c)for(;i>524287;)i-=1048576;if(1==o)for(;s>8191;)s-=16384;return{r:i,c:s,cRel:o,rRel:c}}(n,0,e);return[r,i]}},45:{n:"PtgAreaN",f:function hle(n,t,e){var r=(96&n[n.l++])>>5,i=function rle(n,t,e){if(e.biff<8)return Bz(n);var r=n.read_shift(12==e.biff?4:2),i=n.read_shift(12==e.biff?4:2),s=um(n,2),o=um(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(n,0,e);return[r,i]}},46:{n:"PtgMemAreaN",f:function ace(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function lce(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},57:{n:"PtgNameX",f:function Ble(n,t,e){return 5==e.biff?function Vle(n){var t=n.read_shift(1)>>>5&3,e=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[t,e,r]}(n):[n.read_shift(1)>>>5&3,n.read_shift(2),n.read_shift(4)]}},58:{n:"PtgRef3d",f:function Cle(n,t,e){var r=(96&n[n.l])>>5;n.l+=1;var i=n.read_shift(2);return e&&5==e.biff&&(n.l+=12),[r,i,Vz(n,0,e)]}},59:{n:"PtgArea3d",f:function cle(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2,"i");if(e&&5===e.biff)n.l+=12;return[r,i,Lz(n,0,e)]}},60:{n:"PtgRefErr3d",f:function jle(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=4;if(e)switch(e.biff){case 5:s=15;break;case 12:s=6}return n.l+=s,[r,i]}},61:{n:"PtgAreaErr3d",f:function dle(n,t,e){var r=(96&n[n.l++])>>5,i=n.read_shift(2),s=8;if(e)switch(e.biff){case 5:n.l+=12,s=6;break;case 12:s=12}return n.l+=s,[r,i]}},255:{}},uce={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},dce={1:{n:"PtgElfLel",f:Gz},2:{n:"PtgElfRw",f:lS},3:{n:"PtgElfCol",f:lS},6:{n:"PtgElfRwV",f:lS},7:{n:"PtgElfColV",f:lS},10:{n:"PtgElfRadical",f:lS},11:{n:"PtgElfRadicalS",f:YB},13:{n:"PtgElfColS",f:YB},15:{n:"PtgElfColSV",f:YB},16:{n:"PtgElfRadicalLel",f:Gz},25:{n:"PtgList",f:function rce(n){n.l+=2;var t=n.read_shift(2),e=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2);return{ixti:t,coltype:3&e,rt:nce[e>>2&31],idx:r,c:i,C:s}}},29:{n:"PtgSxName",f:function ice(n){return n.l+=2,[n.read_shift(4)]}},255:{}},hce={0:{n:"PtgAttrNoop",f:function cce(n){return n.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function yle(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=e&&2==e.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function mle(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function ple(n,t,e){n.l+=2;for(var r=n.read_shift(e&&2==e.biff?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(e&&2==e.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function gle(n,t,e){var r=255&n[n.l+1]?1:0;return n.l+=2,[r,n.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Dle(n,t,e){n.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Uz},33:{n:"PtgAttrBaxcel",f:Uz},64:{n:"PtgAttrSpace",f:function vle(n){return n.read_shift(2),Hz(n)}},65:{n:"PtgAttrSpaceSemi",f:function xle(n){return n.read_shift(2),Hz(n)}},128:{n:"PtgAttrIfError",f:function _le(n){var t=255&n[n.l+1]?1:0;return n.l+=2,[t,n.read_shift(2)]}},255:{}};function cS(n,t,e,r){if(r.biff<8)return ca(n,t);for(var i=n.l+t,s=[],o=0;o!==e.length;++o)switch(e[o][0]){case"PtgArray":e[o][1]=Nle(n,0,r),s.push(e[o][1]);break;case"PtgMemArea":e[o][2]=Ple(n,0,r),s.push(e[o][2]);break;case"PtgExp":r&&12==r.biff&&(e[o][1][1]=n.read_shift(4),s.push(e[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[o][0]}return 0!=(t=i-n.l)&&s.push(ca(n,t)),s}function fce(n){for(var t=[],e=0;e<n.length;++e){for(var r=n[e],i=[],s=0;s<r.length;++s){var o=r[s];i.push(o?2===o[0]?'"'+o[1].replace(/"/g,'""')+'"':o[1]:"")}t.push(i.join(","))}return t.join(";")}var pce={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zz(n,t,e){if(!n)return"SH33TJSERR0";if(e.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":n.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(e.biff>8)switch(n[r[0]][0]){case 357:return i=-1==r[1]?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return null!=e.SID?n.SheetNames[e.SID]:"SH33TJSSAME"+n[r[0]][0];default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=-1==r[1]?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function $z(n,t,e){var r=zz(n,t,e);return"#REF"==r?r:function gce(n,t){if(!(n||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}(r,e)}function pa(n,t,e,r,i){var h,p,m,E,s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},c=[],v=0,w=0,D="";if(!n[0]||!n[0][0])return"";for(var S=-1,M="",P=0,V=n[0].length;P<V;++P){var B=n[0][P];switch(B[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),p=c.pop(),S>=0){switch(n[0][S][1][0]){case 0:M=as(" ",n[0][S][1][1]);break;case 1:M=as("\r",n[0][S][1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}p+=M,S=-1}c.push(p+pce[B[0]]+h);break;case"PtgIsect":h=c.pop(),p=c.pop(),c.push(p+" "+h);break;case"PtgUnion":h=c.pop(),p=c.pop(),c.push(p+","+h);break;case"PtgRange":h=c.pop(),p=c.pop(),c.push(p+":"+h);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":m=XE(B[1][1],o,i),c.push(QE(m,s));break;case"PtgRefN":m=e?XE(B[1][1],e,i):B[1][1],c.push(QE(m,s));break;case"PtgRef3d":v=B[1][1],m=XE(B[1][2],o,i),D=$z(r,v,i),c.push(D+"!"+QE(m,s));break;case"PtgFunc":case"PtgFuncVar":var he=B[1][0],we=B[1][1];he||(he=0);var Y=0==(he&=127)?[]:c.slice(-he);c.length-=he,"User"===we&&(we=Y.shift()),c.push(we+"("+Y.join(",")+")");break;case"PtgBool":c.push(B[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":c.push(B[1]);break;case"PtgNum":c.push(String(B[1]));break;case"PtgStr":c.push('"'+B[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":E=vj(B[1][1],e?{s:e}:o,i),c.push(bB(E,i));break;case"PtgArea":E=vj(B[1][1],o,i),c.push(bB(E,i));break;case"PtgArea3d":E=B[1][2],D=$z(r,v=B[1][1],i),c.push(D+"!"+bB(E,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgName":var Ee=(r.names||[])[(w=B[1][2])-1]||(r[0]||[])[w],Ce=Ee?Ee.Name:"SH33TJSNAME"+String(w);Ce&&"_xlfn."==Ce.slice(0,6)&&!i.xlfn&&(Ce=Ce.slice(6)),c.push(Ce);break;case"PtgNameX":var Xe,ze=B[1][1];if(w=B[1][2],!(i.biff<=5)){var Ae="";if(14849==((r[ze]||[])[0]||[])[0]||(1025==((r[ze]||[])[0]||[])[0]?r[ze][w]&&r[ze][w].itab>0&&(Ae=r.SheetNames[r[ze][w].itab-1]+"!"):Ae=r.SheetNames[w-1]+"!"),r[ze]&&r[ze][w])Ae+=r[ze][w].Name;else if(r[0]&&r[0][w])Ae+=r[0][w].Name;else{var Ot=(zz(r,ze,i)||"").split(";;");Ot[w-1]?Ae=Ot[w-1]:Ae+="SH33TJSERRX"}c.push(Ae);break}ze<0&&(ze=-ze),r[ze]&&(Xe=r[ze][w]),Xe||(Xe={Name:"SH33TJSERRY"}),c.push(Xe.Name);break;case"PtgParen":var on="(",zt=")";if(S>=0){switch(M="",n[0][S][1][0]){case 2:on=as(" ",n[0][S][1][1])+on;break;case 3:on=as("\r",n[0][S][1][1])+on;break;case 4:zt=as(" ",n[0][S][1][1])+zt;break;case 5:zt=as("\r",n[0][S][1][1])+zt;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][S][1][0])}S=-1}c.push(on+c.pop()+zt);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":c.push("#REF!");break;case"PtgExp":var ft={c:e.c,r:e.r};if(r.sharedf[On(m={c:B[1][1],r:B[1][0]})]){var dt=r.sharedf[On(m)];c.push(pa(dt,0,ft,r,i))}else{var Ut=!1;for(h=0;h!=r.arrayf.length;++h)if(!(m.c<(p=r.arrayf[h])[0].s.c||m.c>p[0].e.c||m.r<p[0].s.r||m.r>p[0].e.r)){c.push(pa(p[1],0,ft,r,i)),Ut=!0;break}Ut||c.push(B[1])}break;case"PtgArray":c.push("{"+fce(B[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=P;break;case"PtgMissArg":c.push("");break;case"PtgList":c.push("Table"+B[1].idx+"[#"+B[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(B))}if(3!=i.biff&&S>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(n[0][P][0])){var cn=!0;switch((B=n[0][S])[1][0]){case 4:cn=!1;case 0:M=as(" ",B[1][1]);break;case 5:cn=!1;case 1:M=as("\r",B[1][1]);break;default:if(M="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+B[1][0])}c.push((cn?M:"")+c.pop()+(cn?"":M)),S=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function OM(n,t,e){var r=n.read_shift(4),i=function uS(n,t,e){for(var i,s,r=n.l+t,o=[];r!=n.l;)t=r-n.l,i=jz[s=n[n.l]]||jz[uce[s]],(24===s||25===s)&&(i=(24===s?dce:hce)[n[n.l+1]]),i&&i.f?o.push([i.n,i.f(n,t,e)]):ca(n,t);return o}(n,r,e),s=n.read_shift(4);return[i,s>0?cS(n,s,i,e):null]}var Cce=OM,PM=OM,Ece=OM,Sce=OM,Tce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Wz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Dce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ace(n){return("of:="+n.replace(qB,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function Ice(n){return n.replace(/\./,"!")}var dS=typeof Map<"u";function QB(n,t,e){var r=0,i=n.length;if(e){if(dS?e.has(t):Object.prototype.hasOwnProperty.call(e,t))for(var s=dS?e.get(t):e[t];r<s.length;++r)if(n[s[r]].t===t)return n.Count++,s[r]}else for(;r<i;++r)if(n[r].t===t)return n.Count++,r;return n[i]={t},n.Count++,n.Unique++,e&&(dS?(e.has(t)||e.set(t,[]),e.get(t).push(i)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(i))),i}function LM(n,t){var e={min:n+1,max:n+1},r=-1;return t.MDW&&(fa=t.MDW),null!=t.width?e.customWidth=1:null!=t.wpx?r=sS(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(e.width=kM(r),e.customWidth=1):null!=t.width&&(e.width=t.width),t.hidden&&(e.hidden=!0),null!=t.level&&(e.outlineLevel=e.level=t.level),e}function ly(n,t){if(n){var e=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(e=[1,1,1,1,.5,.5]),null==n.left&&(n.left=e[0]),null==n.right&&(n.right=e[1]),null==n.top&&(n.top=e[2]),null==n.bottom&&(n.bottom=e[3]),null==n.header&&(n.header=e[4]),null==n.footer&&(n.footer=e[5])}}function dm(n,t,e){var r=e.revssf[null!=t.z?t.z:"General"],i=60,s=n.length;if(null==r&&e.ssf)for(;i<392;++i)if(null==e.ssf[i]){yh(t.z,i),e.ssf[i]=t.z,e.revssf[t.z]=r=i;break}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Mce(n,t,e){if(n&&n["!ref"]){var r=br(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+n["!ref"])}}var Wce=["objects","scenarios","selectLockedCells","selectUnlockedCells"],qce=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function sue(n,t,e,r){if(n.c&&e["!comments"].push([t,n.c]),void 0===n.v&&"string"!=typeof n.f||"z"===n.t&&!n.f)return"";var i="",s=n.t,o=n.v;if("z"!==n.t)switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=cp[n.v];break;case"d":r&&r.cellDates?i=Ki(n.v,-1).toISOString():((n=ti(n)).t="n",i=""+(n.v=yo(Ki(n.v)))),typeof n.z>"u"&&(n.z=Tn[14]);break;default:i=n.v}var c=Uo("v",Gr(i)),h={r:t},p=dm(r.cellXfs,n,r);switch(0!==p&&(h.s=p),n.t){case"n":case"z":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;default:if(null==n.v){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=Uo("v",""+QB(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str"}if(n.t!=s&&(n.t=s,n.v=o),"string"==typeof n.f&&n.f){var m=n.F&&n.F.slice(0,t.length)==t?{t:"array",ref:n.F}:null;c=Vt("f",Gr(n.f),m)+(null!=n.v?c:"")}return n.l&&e["!links"].push([t,n.l]),n.D&&(h.cm=1),Vt("c",c,h)}function Yz(n,t,e,r){var o,i=[ls,Vt("worksheet",null,{xmlns:om[0],"xmlns:r":Ns_r})],c="",h=e.Sheets[e.SheetNames[n]];null==h&&(h={});var p=h["!ref"]||"A1",m=br(p);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),p=Yn(m)}r||(r={}),h["!comments"]=[];var v=[];(function $ce(n,t,e,r,i){var s=!1,o={},c=null;if("xlsx"!==r.bookType&&t.vbaraw){var h=t.SheetNames[e];try{t.Workbook&&(h=t.Workbook.Sheets[e].CodeName||h)}catch{}s=!0,o.codeName=xh(Gr(h))}if(n&&n["!outline"]){var p={summaryBelow:1,summaryRight:1};n["!outline"].above&&(p.summaryBelow=0),n["!outline"].left&&(p.summaryRight=0),c=(c||"")+Vt("outlinePr",null,p)}!s&&!c||(i[i.length]=Vt("sheetPr",c,o))})(h,e,n,t,i),i[i.length]=Vt("dimension",null,{ref:p}),i[i.length]=function iue(n,t,e,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Vt("sheetViews",Vt("sheetView",null,i),{})}(0,0,0,e),t.sheetFormat&&(i[i.length]=Vt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=h["!cols"]&&h["!cols"].length>0&&(i[i.length]=function Jce(n,t){for(var r,e=["<cols>"],i=0;i!=t.length;++i)!(r=t[i])||(e[e.length]=Vt("col",null,LM(i,r)));return e[e.length]="</cols>",e.join("")}(0,h["!cols"])),i[o=i.length]="<sheetData/>",h["!links"]=[],null!=h["!ref"]&&(c=function aue(n,t,e,r){var h,M,i=[],s=[],o=br(n["!ref"]),c="",p="",m=[],v=0,w=0,E=n["!rows"],D=Array.isArray(n),S={r:p},P=-1;for(w=o.s.c;w<=o.e.c;++w)m[w]=Ti(w);for(v=o.s.r;v<=o.e.r;++v){for(s=[],p=cs(v),w=o.s.c;w<=o.e.c;++w){h=m[w]+p;var V=D?(n[v]||[])[w]:n[h];void 0!==V&&null!=(c=sue(V,h,n,t))&&s.push(c)}(s.length>0||E&&E[v])&&(S={r:p},E&&E[v]&&((M=E[v]).hidden&&(S.hidden=1),P=-1,M.hpx?P=oS(M.hpx):M.hpt&&(P=M.hpt),P>-1&&(S.ht=P,S.customHeight=1),M.level&&(S.outlineLevel=M.level)),i[i.length]=Vt("row",s.join(""),S))}if(E)for(;v<E.length;++v)E&&E[v]&&(S={r:v+1},(M=E[v]).hidden&&(S.hidden=1),P=-1,M.hpx?P=oS(M.hpx):M.hpt&&(P=M.hpt),P>-1&&(S.ht=P,S.customHeight=1),M.level&&(S.outlineLevel=M.level),i[i.length]=Vt("row","",S));return i.join("")}(h,t),c.length>0&&(i[i.length]=c)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),h["!protect"]&&(i[i.length]=function Zce(n){var t={sheet:1};return Wce.forEach(function(e){null!=n[e]&&n[e]&&(t[e]="1")}),qce.forEach(function(e){null!=n[e]&&!n[e]&&(t[e]="0")}),n.password&&(t.password=GB(n.password).toString(16).toUpperCase()),Vt("sheetProtection",null,t)}(h["!protect"])),null!=h["!autofilter"]&&(i[i.length]=function tue(n,t,e,r){var i="string"==typeof n.ref?n.ref:Yn(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,o=Ha(i);o.s.r==o.e.r&&(o.e.r=Ha(t["!ref"]).e.r,i=Yn(o));for(var c=0;c<s.length;++c){var h=s[c];if("_xlnm._FilterDatabase"==h.Name&&h.Sheet==r){h.Ref="'"+e.SheetNames[r]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+i}),Vt("autoFilter",null,{ref:i})}(h["!autofilter"],h,e,n)),null!=h["!merges"]&&h["!merges"].length>0&&(i[i.length]=function jce(n){if(0===n.length)return"";for(var t='<mergeCells count="'+n.length+'">',e=0;e!=n.length;++e)t+='<mergeCell ref="'+Yn(n[e])+'"/>';return t+"</mergeCells>"}(h["!merges"]));var E,w=-1,D=-1;return h["!links"].length>0&&(i[i.length]="<hyperlinks>",h["!links"].forEach(function(S){!S[1].Target||(E={ref:S[0]},"#"!=S[1].Target.charAt(0)&&(D=Nr(r,-1,Gr(S[1].Target).replace(/#.*$/,""),Kn.HLINK),E["r:id"]="rId"+D),(w=S[1].Target.indexOf("#"))>-1&&(E.location=Gr(S[1].Target.slice(w+1))),S[1].Tooltip&&(E.tooltip=Gr(S[1].Tooltip)),i[i.length]=Vt("hyperlink",null,E))}),i[i.length]="</hyperlinks>"),delete h["!links"],null!=h["!margins"]&&(i[i.length]=function Xce(n){return ly(n),Vt("pageMargins",null,n)}(h["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(i[i.length]=Uo("ignoredErrors",Vt("ignoredError",null,{numberStoredAsText:1,sqref:p}))),v.length>0&&(D=Nr(r,-1,"../drawings/drawing"+(n+1)+".xml",Kn.DRAW),i[i.length]=Vt("drawing",null,{"r:id":"rId"+D}),h["!drawing"]=v),h["!comments"].length>0&&(D=Nr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Kn.VML),i[i.length]=Vt("legacyDrawing",null,{"r:id":"rId"+D}),h["!legacy"]=D),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function uue(n,t,e,r){var i=function cue(n,t,e){var r=Je(145),i=(e["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=20*oS(i.hpx):i.hpt&&(s=20*i.hpt),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,h=r.l;r.l+=4;for(var p={r:n,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var v=-1,w=-1,E=m<<10;E<m+1<<10;++E)p.c=E,(Array.isArray(e)?(e[p.r]||[])[p.c]:e[On(p)])&&(v<0&&(v=E),w=E);v<0||(++c,r.write_shift(4,v),r.write_shift(4,w))}var S=r.l;return r.l=h,r.write_shift(4,c),r.l=S,r.length>r.l?r.slice(0,r.l):r}(r,e,t);(i.length>17||(t["!rows"]||[])[r])&&vt(n,0,i)}var due=ey,hue=ow;var Zue=ey,Yue=ow,Xz=["left","right","top","bottom","header","footer"];function hde(n,t,e,r,i,s,o){if(void 0===t.v)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":(t=ti(t)).z=t.z||Tn[14],t.v=yo(Ki(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v}var h={r:e,c:r};switch(h.s=dm(i.cellXfs,t,i),t.l&&s["!links"].push([On(h),t.l]),t.c&&s["!comments"].push([On(h),t.c]),t.t){case"s":case"str":return i.bookSST?(c=QB(i.Strings,t.v,i.revStrings),h.t="s",h.v=c,o?vt(n,18,function Mue(n,t,e){return null==e&&(e=Je(8)),J_(t,e),e.write_shift(4,t.v),e}(0,h)):vt(n,7,function Iue(n,t,e){return null==e&&(e=Je(12)),X_(t,e),e.write_shift(4,t.v),e}(0,h))):(h.t="str",o?vt(n,17,function jue(n,t,e){return null==e&&(e=Je(8+4*n.v.length)),J_(t,e),xo(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,h)):vt(n,6,function Hue(n,t,e){return null==e&&(e=Je(12+4*n.v.length)),X_(t,e),xo(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,h))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?vt(n,13,function Bue(n,t,e){return null==e&&(e=Je(8)),J_(t,e),Cj(n.v,e),e}(t,h)):vt(n,2,function Nue(n,t,e){return null==e&&(e=Je(12)),X_(t,e),Cj(n.v,e),e}(t,h)):o?vt(n,16,function Oue(n,t,e){return null==e&&(e=Je(12)),J_(t,e),ty(n.v,e),e}(t,h)):vt(n,5,function Fue(n,t,e){return null==e&&(e=Je(16)),X_(t,e),ty(n.v,e),e}(t,h)),!0;case"b":return h.t="b",o?vt(n,15,function Cue(n,t,e){return null==e&&(e=Je(5)),J_(t,e),e.write_shift(1,n.v?1:0),e}(t,h)):vt(n,4,function wue(n,t,e){return null==e&&(e=Je(9)),X_(t,e),e.write_shift(1,n.v?1:0),e}(t,h)),!0;case"e":return h.t="e",o?vt(n,14,function Due(n,t,e){return null==e&&(e=Je(8)),J_(t,e),e.write_shift(1,n.v),e.write_shift(2,0),e.write_shift(1,0),e}(t,h)):vt(n,3,function Sue(n,t,e){return null==e&&(e=Je(9)),X_(t,e),e.write_shift(1,n.v),e}(t,h)),!0}return o?vt(n,12,function vue(n,t,e){return null==e&&(e=Je(4)),J_(t,e)}(0,h)):vt(n,1,function _ue(n,t,e){return null==e&&(e=Je(8)),X_(t,e)}(0,h)),!0}function bde(n,t,e,r){var i=Ua(),s=e.SheetNames[n],o=e.Sheets[s]||{},c=s;try{e&&e.Workbook&&(c=e.Workbook.Sheets[n].CodeName||c)}catch{}var h=br(o["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],vt(i,129),(e.vbaraw||o["!outline"])&&vt(i,147,function gue(n,t,e){null==e&&(e=Je(84+4*n.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),e.write_shift(1,r);for(var i=1;i<3;++i)e.write_shift(1,0);return xM({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),bj(n,e),e.slice(0,e.l)}(c,o["!outline"])),vt(i,148,hue(h)),function xde(n,t,e){vt(n,133),vt(n,137,function ode(n,t,e){null==e&&(e=Je(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}(0,e)),vt(n,138),vt(n,134)}(i,0,e.Workbook),function gde(n,t){!t||!t["!cols"]||(vt(n,390),t["!cols"].forEach(function(e,r){e&&vt(n,60,function nde(n,t,e){null==e&&(e=Je(18));var r=LM(n,t);e.write_shift(-4,n),e.write_shift(-4,n),e.write_shift(4,256*(r.width||10)),e.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),e.write_shift(2,i),e}(r,e))}),vt(n,391))}(i,o),function fde(n,t,e,r){var i=br(t["!ref"]||"A1"),o="",c=[];vt(n,145);var h=Array.isArray(t),p=i.e.r;t["!rows"]&&(p=Math.max(i.e.r,t["!rows"].length-1));for(var m=i.s.r;m<=p;++m){o=cs(m),uue(n,t,i,m);var v=!1;if(m<=i.e.r)for(var w=i.s.c;w<=i.e.c;++w){m===i.s.r&&(c[w]=Ti(w));var E=h?(t[m]||[])[w]:t[c[w]+o];v=!!E&&hde(n,E,m,w,r,t,v)}}vt(n,146)}(i,o,0,t),function wde(n,t){!t["!protect"]||vt(n,535,function lde(n,t){return null==t&&(t=Je(66)),t.write_shift(2,n.password?GB(n.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){t.write_shift(4,e[1]?null==n[e[0]]||n[e[0]]?0:1:null!=n[e[0]]&&n[e[0]]?0:1)}),t}(t["!protect"]))}(i,o),function vde(n,t,e,r){if(t["!autofilter"]){var i=t["!autofilter"],s="string"==typeof i.ref?i.ref:Yn(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var o=e.Workbook.Names,c=Ha(s);c.s.r==c.e.r&&(c.e.r=Ha(t["!ref"]).e.r,s=Yn(c));for(var h=0;h<o.length;++h){var p=o[h];if("_xlnm._FilterDatabase"==p.Name&&p.Sheet==r){p.Ref="'"+e.SheetNames[r]+"'!"+s;break}}h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+s}),vt(n,161,ow(br(s))),vt(n,162)}}(i,o,e,n),function pde(n,t){!t||!t["!merges"]||(vt(n,177,function Kue(n,t){return null==t&&(t=Je(4)),t.write_shift(4,n),t}(t["!merges"].length)),t["!merges"].forEach(function(e){vt(n,176,Yue(e))}),vt(n,178))}(i,o),function _de(n,t,e){t["!links"].forEach(function(r){if(r[1].Target){var i=Nr(e,-1,r[1].Target.replace(/#.*$/,""),Kn.HLINK);vt(n,494,function Que(n,t){var e=Je(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));ow({s:Cs(n[0]),e:Cs(n[0])},e),AB("rId"+t,e);var r=n[1].Target.indexOf("#");return xo((-1==r?"":n[1].Target.slice(r+1))||"",e),xo(n[1].Tooltip||"",e),xo("",e),e.slice(0,e.l)}(r,i))}}),delete t["!links"]}(i,o,r),o["!margins"]&&vt(i,476,function ide(n,t){return null==t&&(t=Je(48)),ly(n),Xz.forEach(function(e){ty(n[e],t)}),t}(o["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function mde(n,t){!t||!t["!ref"]||(vt(n,648),vt(n,649,function ade(n){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),ow(n,t),t}(br(t["!ref"]))),vt(n,650))}(i,o),function yde(n,t,e,r){if(t["!comments"].length>0){var i=Nr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Kn.VML);vt(n,551,AB("rId"+i)),t["!legacy"]=i}}(i,o,n,r),vt(i,130),i.end()}var e3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ode="][*?/\\".split("");function t7(n,t){if(n.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return Ode.forEach(function(r){if(-1!=n.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function r7(n){var t=[ls];t[t.length]=Vt("workbook",null,{xmlns:om[0],"xmlns:r":Ns_r});var e=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(e3.forEach(function(c){null!=n.Workbook.WBProps[c[0]]&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Vt("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=n.SheetNames.length&&i[s]&&i[s].Hidden;++s);s==n.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Gr(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=Vt("sheet",null,o)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var h={name:c.Name};c.Comment&&(h.comment=c.Comment),null!=c.Sheet&&(h.localSheetId=""+c.Sheet),c.Hidden&&(h.hidden="1"),c.Ref&&(t[t.length]=Vt("definedName",Gr(c.Ref),h))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Vde(n,t){return t||(t=Je(127)),t.write_shift(4,n.Hidden),t.write_shift(4,n.iTabID),AB(n.strRelID,t),xo(n.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Yde(n,t){var e=Ua();return vt(e,131),vt(e,128,function Wde(n,t){t||(t=Je(127));for(var e=0;4!=e;++e)t.write_shift(4,0);return xo("SheetJS",t),xo(BE_version,t),xo(BE_version,t),xo("7262",t),t.length>t.l?t.slice(0,t.l):t}()),vt(e,153,function Hde(n,t){t||(t=Je(72));var e=0;return n&&n.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),bj(n&&n.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(n.Workbook&&n.Workbook.WBProps||null)),function Zde(n,t){if(t.Workbook&&t.Workbook.Sheets){for(var e=t.Workbook.Sheets,r=0,i=-1,s=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&-1==i?i=r:1==e[r].Hidden&&-1==s&&(s=r);s>i||(vt(n,135),vt(n,158,function qde(n,t){return t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,n),t.write_shift(4,n),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(i)),vt(n,136))}}(e,n),function $de(n,t){vt(n,143);for(var e=0;e!=t.SheetNames.length;++e)vt(n,156,Vde({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]}));vt(n,144)}(e,n),vt(e,132),e.end()}function che(n,t,e,r,i){return(".bin"===t.slice(-4)?bde:Yz)(n,e,r,i)}function hhe(n,t,e){return(".bin"===t.slice(-4)?Zae:Oz)(n,e)}function a7(n){return Vt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+ZB(n.Ref,{r:0,c:0})})}function Ahe(n,t,e,r,i,s,o){if(!n||null==n.v&&null==n.f)return"";var c={};if(n.f&&(c["ss:Formula"]="="+Gr(ZB(n.f,o))),n.F&&n.F.slice(0,t.length)==t){var h=Cs(n.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(h.r==o.r?"":"["+(h.r-o.r)+"]")+"C"+(h.c==o.c?"":"["+(h.c-o.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=Gr(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=Gr(n.l.Tooltip))),e["!merges"])for(var p=e["!merges"],m=0;m!=p.length;++m)p[m].s.c!=o.c||p[m].s.r!=o.r||(p[m].e.c>p[m].s.c&&(c["ss:MergeAcross"]=p[m].e.c-p[m].s.c),p[m].e.r>p[m].s.r&&(c["ss:MergeDown"]=p[m].e.r-p[m].s.r));var v="",w="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":v="Number",w=String(n.v);break;case"b":v="Boolean",w=n.v?"1":"0";break;case"e":v="Error",w=cp[n.v];break;case"d":v="DateTime",w=new Date(n.v).toISOString(),null==n.z&&(n.z=n.z||Tn[14]);break;case"s":v="String",w=function Kne(n){return(n+"").replace(hB,function(e){return dB[e]}).replace(XG,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}(n.v||"")}var E=dm(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+E),c["ss:Index"]=o.c+1;var S="z"==n.t?"":'<Data ss:Type="'+v+'">'+(null!=n.v?w:"")+"</Data>";return(n.c||[]).length>0&&(S+=function Dhe(n){return n.map(function(t){var e=function Xne(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),r=Vt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Vt("Comment",r,{"ss:Author":t.a})}).join("")}(n.c)),Vt("Cell",S,c)}function Ihe(n,t){var e='<Row ss:Index="'+(n+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=MM(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function Mhe(n,t,e){var r=[],s=e.Sheets[e.SheetNames[n]],o=s?function She(n,t,e,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var c=i[o];c.Sheet==e&&(c.Name.match(/^_xlfn\./)||s.push(a7(c)))}return s.join("")}(s,0,n,e):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?function khe(n,t,e,r){if(!n["!ref"])return"";var i=br(n["!ref"]),s=n["!merges"]||[],o=0,c=[];n["!cols"]&&n["!cols"].forEach(function(M,P){cm(M);var V=!!M.width,B=LM(P,M),X={"ss:Index":P+1};V&&(X["ss:Width"]=iS(B.width)),M.hidden&&(X["ss:Hidden"]="1"),c.push(Vt("Column",null,X))});for(var h=Array.isArray(n),p=i.s.r;p<=i.e.r;++p){for(var m=[Ihe(p,(n["!rows"]||[])[p])],v=i.s.c;v<=i.e.c;++v){var w=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>v||s[o].s.r>p||s[o].e.c<v||s[o].e.r<p)){(s[o].s.c!=v||s[o].s.r!=p)&&(w=!0);break}if(!w){var E={r:p,c:v},D=On(E);m.push(Ahe(h?(n[p]||[])[v]:n[D],D,n,t,0,0,E))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}(s,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function The(n,t,e,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Vt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Vt("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Vt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)i.push(Vt("Visible",1==r.Workbook.Sheets[e].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<e&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==e&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Uo("ProtectContents","True")),n["!protect"].objects&&i.push(Uo("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Uo("ProtectScenarios","True")),null==n["!protect"].selectLockedCells||n["!protect"].selectLockedCells?null!=n["!protect"].selectUnlockedCells&&!n["!protect"].selectUnlockedCells&&i.push(Uo("EnableSelection","UnlockedCells")):i.push(Uo("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),0==i.length?"":Vt("WorksheetOptions",i.join(""),{xmlns:ic_x})}(s,0,n,e)),r.join("")}function Rhe(n,t){t||(t={}),n.SSF||(n.SSF=ti(Tn)),n.SSF&&(tw(),$E(n.SSF),t.revssf=pM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF,t.cellXfs=[],dm(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(function whe(n,t){var e=[];return n.Props&&e.push(function Kre(n,t){var e=[];return os(NB).map(function(r){for(var i=0;i<up.length;++i)if(up[i][1]==r)return up[i];for(i=0;i<ry.length;++i)if(ry[i][1]==r)return ry[i];throw r}).forEach(function(r){if(null!=n[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:n[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(Uo(NB[r[1]]||r[1],i))}}),Vt("DocumentProperties",e.join(""),{xmlns:ic_o})}(n.Props,t)),n.Custprops&&e.push(function Xre(n,t){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&os(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<up.length;++o)if(s==up[o][1])return;for(o=0;o<ry.length;++o)if(s==ry[o][1])return;for(o=0;o<e.length;++o)if(s==e[o])return;var c=n[s],h="string";"number"==typeof c?(h="float",c=String(c)):!0===c||!1===c?(h="boolean",c=c?"1":"0"):c=String(c),i.push(Vt(KG(s),c,{"dt:dt":h}))}}),t&&os(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&(!n||!Object.prototype.hasOwnProperty.call(n,s))){var o=t[s],c="string";"number"==typeof o?(c="float",o=String(o)):!0===o||!1===o?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Vt(KG(s),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+ic_o+'">'+i.join("")+"</"+r+">"}(n.Props,n.Custprops)),e.join("")}(n,t)),e.push(""),e.push(""),e.push("");for(var r=0;r<n.SheetNames.length;++r)e.push(Vt("Worksheet",Mhe(r,t,n),{"ss:Name":Gr(n.SheetNames[r])}));return e[2]=function Che(n,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(Vt("NumberFormat",null,{"ss:Format":Gr(Tn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};e.push(Vt("Style",s.join(""),o))}),Vt("Styles",e.join(""))}(0,t),e[3]=function Ehe(n){if(!((n||{}).Workbook||{}).Names)return"";for(var t=n.Workbook.Names,e=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||e.push(a7(i)))}return Vt("Names",e.join(""))}(n),ls+Vt("Workbook",e.join(""),{xmlns:ic_ss,"xmlns:o":ic_o,"xmlns:x":ic_x,"xmlns:ss":ic_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var pS={0:{f:function lue(n,t){var e={},r=n.l+t;e.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,7&s&&(e.level=7&s),16&s&&(e.hidden=!0),32&s&&(e.hpt=i/20),e}},1:{f:function mue(n){return[nu(n)]}},2:{f:function Pue(n){return[nu(n),IB(n),"n"]}},3:{f:function Eue(n){return[nu(n),n.read_shift(1),"e"]}},4:{f:function xue(n){return[nu(n),n.read_shift(1),"b"]}},5:{f:function Rue(n){return[nu(n),da(n),"n"]}},6:{f:function Uue(n){return[nu(n),ua(n),"str"]}},7:{f:function Aue(n){return[nu(n),n.read_shift(4),"s"]}},8:{f:function que(n,t,e){var r=n.l+t,i=nu(n);i.r=e["!row"];var o=[i,ua(n),"str"];if(e.cellFormula){n.l+=2;var c=PM(n,r-n.l,e);o[3]=pa(c,0,i,e.supbooks,e)}else n.l=r;return o}},9:{f:function Wue(n,t,e){var r=n.l+t,i=nu(n);i.r=e["!row"];var o=[i,da(n),"n"];if(e.cellFormula){n.l+=2;var c=PM(n,r-n.l,e);o[3]=pa(c,0,i,e.supbooks,e)}else n.l=r;return o}},10:{f:function zue(n,t,e){var r=n.l+t,i=nu(n);i.r=e["!row"];var o=[i,n.read_shift(1),"b"];if(e.cellFormula){n.l+=2;var c=PM(n,r-n.l,e);o[3]=pa(c,0,i,e.supbooks,e)}else n.l=r;return o}},11:{f:function $ue(n,t,e){var r=n.l+t,i=nu(n);i.r=e["!row"];var o=[i,n.read_shift(1),"e"];if(e.cellFormula){n.l+=2;var c=PM(n,r-n.l,e);o[3]=pa(c,0,i,e.supbooks,e)}else n.l=r;return o}},12:{f:function yue(n){return[Q_(n)]}},13:{f:function Lue(n){return[Q_(n),IB(n),"n"]}},14:{f:function Tue(n){return[Q_(n),n.read_shift(1),"e"]}},15:{f:function bue(n){return[Q_(n),n.read_shift(1),"b"]}},16:{f:function Kz(n){return[Q_(n),da(n),"n"]}},17:{f:function Gue(n){return[Q_(n),ua(n),"str"]}},18:{f:function kue(n){return[Q_(n),n.read_shift(4),"s"]}},19:{f:SB},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function jde(n,t,e){var r=n.l+t;n.l+=4,n.l+=1;var i=n.read_shift(4),s=Cre(n),o=Ece(n,0,e),c=TB(n);n.l=r;var h={Name:s,Ptg:o};return i<268435455&&(h.Sheet=i),c&&(h.Comment=c),h}},40:{},42:{},43:{f:function Uoe(n,t,e){var r={};r.sz=n.read_shift(2)/20;var i=function Tre(n){var t=n.read_shift(1);return n.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(n);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===n.read_shift(2)&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=n.read_shift(1);0!=o&&(r.underline=o);var c=n.read_shift(1);c>0&&(r.family=c);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=function Sre(n){var t={},r=n.read_shift(1)>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),c=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var p=ny[i];p&&(t.rgb=rS(p));break;case 2:t.rgb=rS([o,c,h]);break;case 3:t.theme=i}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=ua(n),r}},44:{f:function Boe(n,t){return[n.read_shift(2),ua(n)]}},45:{f:joe},46:{f:$oe},47:{f:function zoe(n,t){var e=n.l+t,r=n.read_shift(2),i=n.read_shift(2);return n.l=e,{ixfe:r,numFmtId:i}}},48:{},49:{f:function mre(n){return n.read_shift(4,"i")}},50:{},51:{f:function Sae(n){for(var t=[],e=n.read_shift(4);e-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function pz(n,t,e){if(!e.cellStyles)return ca(n,t);var r=e&&e.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(r),h=n.read_shift(2);2==r&&(n.l+=2);var p={s:i,e:s,w:o,ixfe:c,flags:h};return(e.biff>=5||!e.biff)&&(p.level=h>>8&7),p}},62:{f:function Vue(n){return[nu(n),SB(n),"is"]}},63:{f:function Oae(n){var t={};t.i=n.read_shift(4);var e={};e.r=n.read_shift(4),e.c=n.read_shift(4),t.r=On(e);var r=n.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function cde(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ca,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function sde(n){var t=n.read_shift(2);return n.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function pue(n,t){var e={},r=n[n.l];return++n.l,e.above=!(64&r),e.left=!(128&r),n.l+=18,e.name=bre(n,t-19),e}},148:{f:due,p:16},151:{f:function Jue(){}},152:{},153:{f:function Ude(n,t){var e={},r=n.read_shift(4);e.defaultThemeVersion=n.read_shift(4);var i=t>8?ua(n):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(65536&r),e.backupFile=!!(64&r),e.checkCompatibility=!!(4096&r),e.date1904=!!(1&r),e.filterPrivacy=!!(8&r),e.hidePivotFieldList=!!(1024&r),e.promptedSolutions=!!(16&r),e.publishItems=!!(2048&r),e.refreshAllConnections=!!(262144&r),e.saveExternalLinkValues=!!(128&r),e.showBorderUnselectedTables=!!(4&r),e.showInkAnnotation=!!(32&r),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(32768&r),e.updateLinks=["userSet","never","always"][r>>8&3],e}},154:{},155:{},156:{f:function Bde(n,t){var e={};return e.Hidden=n.read_shift(4),e.iTabID=n.read_shift(4),e.strRelID=DB(n,t-8),e.name=ua(n),e}},157:{},158:{},159:{T:1,f:function ooe(n){return[n.read_shift(4),n.read_shift(4)]}},160:{T:-1},161:{T:1,f:ey},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Zue},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function Cae(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:ua(n)}}},336:{T:-1},337:{f:function Aae(n){return n.l+=4,0!=n.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:DB},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function hz(n,t,e){if(e.biff<8)return function dse(n,t,e){3==n[n.l+1]&&n[n.l]++;var r=tS(n,0,e);return 3==r.charCodeAt(0)?r.slice(1):r}(n,0,e);for(var r=[],i=n.l+t,s=n.read_shift(e.biff>8?4:2);0!=s--;)r.push(vie(n,0,e));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function ede(n,t,e){var r=n.l+t,i=Ej(n),s=n.read_shift(1),o=[i];if(o[2]=s,e.cellFormula){var c=Cce(n,r-n.l,e);o[1]=c}else n.l=r;return o}},427:{f:function tde(n,t,e){var r=n.l+t,s=[ey(n,16)];if(e.cellFormula){var o=Sce(n,r-n.l,e);s[1]=o,n.l=r}else n.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function rde(n){var t={};return Xz.forEach(function(e){t[e]=da(n)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function fue(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function Xue(n,t){var e=n.l+t,r=ey(n,16),i=TB(n),s=ua(n),o=ua(n),c=ua(n);n.l=e;var h={rfx:r,relId:i,loc:s,display:c};return o&&(h.Tooltip=o),h}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:DB},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$ae},633:{T:1},634:{T:-1},635:{T:1,f:function jae(n){var t={};t.iauthor=n.read_shift(4);var e=ey(n,16);return t.rfx=e.s,t.ref=On(e.s),n.l+=16,t}},636:{T:-1},637:{f:xre},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function Dde(n,t){return n.l+=10,{name:ua(n)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function ude(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function jt(n,t,e,r){var i=t;if(!isNaN(i)){var s=r||(e||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&wB(e)&&n.push(e)}}function gS(n,t,e){return n||(n=Je(7)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,0),n.write_shift(1,0),n}function jhe(n,t,e,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?yo(Ki(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?jt(n,2,function zse(n,t,e){var r=Je(9);return gS(r,n,t),r.write_shift(2,e),r}(e,r,i)):jt(n,3,function Gse(n,t,e){var r=Je(15);return gS(r,n,t),r.write_shift(8,e,"f"),r}(e,r,i)));case"b":case"e":return void jt(n,5,function Hhe(n,t,e,r){var i=Je(9);return gS(i,n,t),Kj(e,r||"b",i),i}(e,r,t.v,t.t));case"s":case"str":return void jt(n,4,function Ghe(n,t,e){var r=Je(8+2*e.length);return gS(r,n,t),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(e,r,(t.v||"").slice(0,255)))}jt(n,1,gS(null,e,r))}function Qhe(n,t,e,r,i){var s=16+dm(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)jt(n,6,function bce(n,t,e,r,i){var s=oy(t,e,i),o=function wce(n){if(null==n){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return ty("number"==typeof n?n:0)}(n.v),c=Je(6);c.write_shift(2,33),c.write_shift(4,0);for(var p=Je(n.bf.length),m=0;m<n.bf.length;++m)p[m]=n.bf[m];return _o([s,o,c,p])}(t,e,r,0,s));else switch(t.t){case"d":case"n":jt(n,515,function lse(n,t,e,r){var i=Je(14);return oy(n,t,r,i),ty(e,i),i}(e,r,"d"==t.t?yo(Ki(t.v)):t.v,s));break;case"b":case"e":jt(n,517,function ose(n,t,e,r,i,s){var o=Je(8);return oy(n,t,r,o),Kj(e,s,o),o}(e,r,t.v,s,0,t.t));break;case"s":case"str":i.bookSST?jt(n,253,function Wie(n,t,e,r){var i=Je(10);return oy(n,t,r,i),i.write_shift(4,e),i}(e,r,QB(i.Strings,t.v,i.revStrings),s)):jt(n,516,function Zie(n,t,e,r,i){var s=!i||8==i.biff,o=Je(+s+8+(1+s)*e.length);return oy(n,t,r,o),o.write_shift(2,e.length),s&&o.write_shift(1,1),o.write_shift((1+s)*e.length,e,s?"utf16le":"sbcs"),o}(e,r,(t.v||"").slice(0,255),s,i));break;default:jt(n,513,oy(e,r,s))}else jt(n,513,oy(e,r,s))}function Jhe(n,t,e){var m,r=Ua(),i=e.SheetNames[n],s=e.Sheets[i]||{},o=(e||{}).Workbook||{},c=(o.Sheets||[])[n]||{},h=Array.isArray(s),p=8==t.biff,v="",w=[],E=br(s["!ref"]||"A1"),D=p?65536:16384;if(E.e.c>255||E.e.r>=D){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,D-1)}jt(r,2057,UB(0,16,t)),jt(r,13,ru(1)),jt(r,12,ru(100)),jt(r,15,Ga(!0)),jt(r,17,Ga(!1)),jt(r,16,ty(.001)),jt(r,95,Ga(!0)),jt(r,42,Ga(!1)),jt(r,43,Ga(!1)),jt(r,130,ru(1)),jt(r,128,function sse(n){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,n[0]?n[0]+1:0),t.write_shift(2,n[1]?n[1]+1:0),t}([0,0])),jt(r,131,Ga(!1)),jt(r,132,Ga(!1)),p&&function Xhe(n,t){if(t){var e=0;t.forEach(function(r,i){++e<=256&&r&&jt(n,125,function Rse(n,t){var e=Je(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,256*n.width),e.write_shift(2,0);var r=0;return n.hidden&&(r|=1),e.write_shift(1,r),e.write_shift(1,r=n.level||0),e.write_shift(2,0),e}(LM(i,r),i))})}}(r,s["!cols"]),jt(r,512,function Qie(n,t){var e=8!=t.biff&&t.biff?2:4,r=Je(2*e+6);return r.write_shift(e,n.s.r),r.write_shift(e,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}(E,t)),p&&(s["!links"]=[]);for(var S=E.s.r;S<=E.e.r;++S){v=cs(S);for(var M=E.s.c;M<=E.e.c;++M){S===E.s.r&&(w[M]=Ti(M)),m=w[M]+v;var P=h?(s[S]||[])[M]:s[m];!P||(Qhe(r,P,S,M,t),p&&P.l&&s["!links"].push([m,P.l]))}}var V=c.CodeName||c.name||i;return p&&jt(r,574,function Hie(n){var t=Je(18),e=1718;return n&&n.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),p&&(s["!merges"]||[]).length&&jt(r,229,function yse(n){var t=Je(2+8*n.length);t.write_shift(2,n.length);for(var e=0;e<n.length;++e)nz(n[e],t);return t}(s["!merges"])),p&&function Khe(n,t){for(var e=0;e<t["!links"].length;++e){var r=t["!links"][e];jt(n,440,Ese(r)),r[1].Tooltip&&jt(n,2048,Tse(r))}delete t["!links"]}(r,s),jt(r,442,Xj(V)),p&&function Zhe(n,t){var e=Je(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),jt(n,2151,e),(e=Je(39)).write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),nz(br(t["!ref"]||"A1"),e),e.write_shift(4,4),jt(n,2152,e)}(r,s),jt(r,10),r.end()}function efe(n,t,e){var r=Ua(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},c=8==e.biff,h=5==e.biff;jt(r,2057,UB(0,5,e)),"xla"==e.bookType&&jt(r,135),jt(r,225,c?ru(1200):null),jt(r,193,function oie(n,t){t||(t=Je(n));for(var e=0;e<n;++e)t.write_shift(1,0);return t}(2)),h&&jt(r,191),h&&jt(r,192),jt(r,226),jt(r,92,function Aie(n,t){var e=!t||8==t.biff,r=Je(e?112:54);for(r.write_shift(8==t.biff?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}(0,e)),jt(r,66,ru(c?1200:1252)),c&&jt(r,353,ru(0)),c&&jt(r,448),jt(r,317,function Pse(n){for(var t=Je(2*n),e=0;e<n;++e)t.write_shift(2,e+1);return t}(n.SheetNames.length)),c&&n.vbaraw&&jt(r,211),c&&n.vbaraw&&jt(r,442,Xj(o.CodeName||"ThisWorkbook")),jt(r,156,ru(17)),jt(r,25,Ga(!1)),jt(r,18,Ga(!1)),jt(r,19,ru(0)),c&&jt(r,431,Ga(!1)),c&&jt(r,444,ru(0)),jt(r,61,function Vie(){var n=Je(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}()),jt(r,64,Ga(!1)),jt(r,141,ru(0)),jt(r,34,Ga("true"==function Fde(n){return n.Workbook&&n.Workbook.WBProps&&function Vi(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(n.Workbook.WBProps.date1904)?"true":"false"}(n))),jt(r,14,Ga(!0)),c&&jt(r,439,Ga(!1)),jt(r,218,ru(0)),function Whe(n,t,e){jt(n,49,function zie(n,t){var e=n.name||"Arial",r=t&&5==t.biff,s=Je(r?15+e.length:16+2*e.length);return s.write_shift(2,20*(n.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,e.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}(r,0,e),function qhe(n,t,e){!t||[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&jt(n,1054,Kie(i,t[i],e))})}(r,n.SSF,e),function Yhe(n,t){for(var e=0;e<16;++e)jt(n,224,az({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){jt(n,224,az(r,0,t))})}(r,e),c&&jt(r,352,Ga(!1));var m=r.end(),v=Ua();c&&jt(v,140,function Ase(n){return n||(n=Je(4)),n.write_shift(2,1),n.write_shift(2,1),n}()),c&&e.Strings&&function Uhe(n,t,e,r){var i=r||(e||[]).length||0;if(i<=8224)return jt(n,t,e,i);var s=t;if(!isNaN(s)){for(var o=e.parts||[],c=0,h=0,p=0;p+(o[c]||8224)<=8224;)p+=o[c]||8224,c++;var m=n.next(4);for(m.write_shift(2,s),m.write_shift(2,p),n.push(e.slice(h,h+p)),h+=p;h<i;){for((m=n.next(4)).write_shift(2,60),p=0;p+(o[c]||8224)<=8224;)p+=o[c]||8224,c++;m.write_shift(2,p),n.push(e.slice(h,h+p)),h+=p}}}(v,252,function Fie(n,t){var e=Je(8);e.write_shift(4,n.Count),e.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=uie(n[i]);var s=_o([e].concat(r));return s.parts=[e.length].concat(r.map(function(o){return o.length})),s}(e.Strings)),jt(v,10);var w=v.end(),E=Ua(),D=0,S=0;for(S=0;S<n.SheetNames.length;++S)D+=(c?12:11)+(c?2:1)*n.SheetNames[S].length;var M=m.length+D+w.length;for(S=0;S<n.SheetNames.length;++S)jt(E,133,Mie({pos:M,hs:(s[S]||{}).Hidden||0,dt:0,name:n.SheetNames[S]},e)),M+=t[S].length;var V=E.end();if(D!=V.length)throw new Error("BS8 "+D+" != "+V.length);var B=[];return m.length&&B.push(m),V.length&&B.push(V),w.length&&B.push(w),_o(B)}function c7(n,t){for(var e=0;e<=n.SheetNames.length;++e){var r=n.Sheets[n.SheetNames[e]];r&&r["!ref"]&&Ha(r["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}var s=t||{};switch(s.biff||2){case 8:case 5:return function tfe(n,t){var e=t||{},r=[];n&&!n.SSF&&(n.SSF=ti(Tn)),n&&n.SSF&&(tw(),$E(n.SSF),e.revssf=pM(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,d3(e),e.cellXfs=[],dm(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Jhe(i,e,n);return r.unshift(efe(n,r,e)),_o(r)}(n,t);case 4:case 3:case 2:return function $he(n,t){for(var e=t||{},r=Ua(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==e.sheet&&(i=s);if(0==i&&e.sheet&&n.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return jt(r,4==e.biff?1033:3==e.biff?521:9,UB(0,16,e)),function zhe(n,t,e,r){var o,i=Array.isArray(t),s=br(t["!ref"]||"A1"),c="",h=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Yn(s)}for(var p=s.s.r;p<=s.e.r;++p){c=cs(p);for(var m=s.s.c;m<=s.e.c;++m){p===s.s.r&&(h[m]=Ti(m)),o=h[m]+c;var v=i?(t[p]||[])[m]:t[o];!v||jhe(n,v,p,m)}}}(r,n.Sheets[n.SheetNames[i]],0,e),jt(r,10),r.end()}(n,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function d7(n,t,e,r){for(var i=n["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var c=0,h=0,p=0;p<i.length;++p)if(!(i[p].s.r>e||i[p].s.c>o||i[p].e.r<e||i[p].e.c<o)){if(i[p].s.r<e||i[p].s.c<o){c=-1;break}c=i[p].e.r-i[p].s.r+1,h=i[p].e.c-i[p].s.c+1;break}if(!(c<0)){var m=On({r:e,c:o}),v=r.dense?(n[e]||[])[o]:n[m],w=v&&null!=v.v&&(v.h||QG(v.w||(wh(v),v.w)||""))||"",E={};c>1&&(E.rowspan=c),h>1&&(E.colspan=h),r.editable?w='<span contenteditable="true">'+w+"</span>":v&&(E["data-t"]=v&&v.t||"z",null!=v.v&&(E["data-v"]=v.v),null!=v.z&&(E["data-z"]=v.z),v.l&&"#"!=(v.l.Target||"#").charAt(0)&&(w='<a href="'+v.l.Target+'">'+w+"</a>")),E.id=(r.id||"sjs")+"-"+m,s.push(Vt("td",w,E))}}return"<tr>"+s.join("")+"</tr>"}function g7(n,t){var e=t||{},i=null!=e.footer?e.footer:"</body></html>",s=[null!=e.header?e.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],o=Ha(n["!ref"]);e.dense=Array.isArray(n),s.push(function p7(n,t,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var c=o.s.r;c<=o.e.r;++c)s.push(d7(n,o,c,e));return s.push("</table>"+i),s.join("")}function m7(n,t,e){var r=e||{},i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?Cs(r.origin):r.origin;i=o.r,s=o.c}var c=t.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,c.length),p={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var m=Ha(n["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),-1==i&&(p.e.r=i=m.e.r+1)}var v=[],w=0,E=n["!rows"]||(n["!rows"]=[]),D=0,S=0,M=0,P=0,V=0,B=0;for(n["!cols"]||(n["!cols"]=[]);D<c.length&&S<h;++D){var X=c[D];if(y7(X)){if(r.display)continue;E[S]={hidden:!0}}var he=X.children;for(M=P=0;M<he.length;++M){var we=he[M];if(!r.display||!y7(we)){var Y=we.hasAttribute("data-v")?we.getAttribute("data-v"):we.hasAttribute("v")?we.getAttribute("v"):nj(we.innerHTML),Ee=we.getAttribute("data-z")||we.getAttribute("z");for(w=0;w<v.length;++w){var Ce=v[w];Ce.s.c==P+s&&Ce.s.r<S+i&&S+i<=Ce.e.r&&(P=Ce.e.c+1-s,w=-1)}B=+we.getAttribute("colspan")||1,((V=+we.getAttribute("rowspan")||1)>1||B>1)&&v.push({s:{r:S+i,c:P+s},e:{r:S+i+(V||1)-1,c:P+s+(B||1)-1}});var ze={t:"s",v:Y},Xe=we.getAttribute("data-t")||we.getAttribute("t")||"";null!=Y&&(0==Y.length?ze.t=Xe||"z":r.raw||0==Y.trim().length||"s"==Xe||("TRUE"===Y?ze={t:"b",v:!0}:"FALSE"===Y?ze={t:"b",v:!1}:isNaN(nd(Y))?isNaN(nw(Y).getDate())||(ze={t:"d",v:Ki(Y)},r.cellDates||(ze={t:"n",v:yo(ze.v)}),ze.z=r.dateNF||Tn[14]):ze={t:"n",v:nd(Y)})),void 0===ze.z&&null!=Ee&&(ze.z=Ee);var Ae="",Ot=we.getElementsByTagName("A");if(Ot&&Ot.length)for(var on=0;on<Ot.length&&(!Ot[on].hasAttribute("href")||"#"==(Ae=Ot[on].getAttribute("href")).charAt(0));++on);Ae&&"#"!=Ae.charAt(0)&&(ze.l={Target:Ae}),r.dense?(n[S+i]||(n[S+i]=[]),n[S+i][P+s]=ze):n[On({c:P+s,r:S+i})]=ze,p.e.c<P+s&&(p.e.c=P+s),P+=B}}++S}return v.length&&(n["!merges"]=(n["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,S-1+i),n["!ref"]=Yn(p),S>=h&&(n["!fullref"]=Yn((p.e.r=c.length-D+S-1+i,p))),n}function _7(n,t){return m7((t||{}).dense?[]:{},n,t)}function y7(n){var t="",e=function ife(n){return n.ownerDocument.defaultView&&"function"==typeof n.ownerDocument.defaultView.getComputedStyle?n.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(n);return e&&(t=e(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),"none"===t}var ofe=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ZE({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return ls+t}}(),C7=function(){var n=function(s){return Gr(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(s,o,c){var h=[];h.push('      <table:table table:name="'+Gr(o.SheetNames[c])+'" table:style-name="ta1">\n');var p=0,m=0,v=Ha(s["!ref"]||"A1"),w=s["!merges"]||[],E=0,D=Array.isArray(s);if(s["!cols"])for(m=0;m<=v.e.c;++m)h.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+"></table:table-column>\n");var M=s["!rows"]||[];for(p=0;p<v.s.r;++p)h.push("        <table:table-row"+(M[p]?' table:style-name="ro'+M[p].ods+'"':"")+"></table:table-row>\n");for(;p<=v.e.r;++p){for(h.push("        <table:table-row"+(M[p]?' table:style-name="ro'+M[p].ods+'"':"")+">\n"),m=0;m<v.s.c;++m)h.push(t);for(;m<=v.e.c;++m){var P=!1,V={},B="";for(E=0;E!=w.length;++E)if(!(w[E].s.c>m||w[E].s.r>p||w[E].e.c<m||w[E].e.r<p)){(w[E].s.c!=m||w[E].s.r!=p)&&(P=!0),V["table:number-columns-spanned"]=w[E].e.c-w[E].s.c+1,V["table:number-rows-spanned"]=w[E].e.r-w[E].s.r+1;break}if(P)h.push("          <table:covered-table-cell/>\n");else{var X=On({r:p,c:m}),he=D?(s[p]||[])[m]:s[X];if(he&&he.f&&(V["table:formula"]=Gr(Ace(he.f)),he.F&&he.F.slice(0,X.length)==X)){var we=Ha(he.F);V["table:number-matrix-columns-spanned"]=we.e.c-we.s.c+1,V["table:number-matrix-rows-spanned"]=we.e.r-we.s.r+1}if(he){switch(he.t){case"b":B=he.v?"TRUE":"FALSE",V["office:value-type"]="boolean",V["office:boolean-value"]=he.v?"true":"false";break;case"n":B=he.w||String(he.v||0),V["office:value-type"]="float",V["office:value"]=he.v||0;break;case"s":case"str":B=he.v??"",V["office:value-type"]="string";break;case"d":B=he.w||Ki(he.v).toISOString(),V["office:value-type"]="date",V["office:date-value"]=Ki(he.v).toISOString(),V["table:style-name"]="ce1";break;default:h.push(t);continue}var Y=n(B);if(he.l&&he.l.Target){var Ee=he.l.Target;"#"!=(Ee="#"==Ee.charAt(0)?"#"+Ice(Ee.slice(1)):Ee).charAt(0)&&!Ee.match(/^\w+:/)&&(Ee="../"+Ee),Y=Vt("text:a",Y,{"xlink:href":Ee.replace(/&/g,"&amp;")})}h.push("          "+Vt("table:table-cell",Vt("text:p",Y,{}),V)+"\n")}else h.push(t)}}h.push("        </table:table-row>\n")}return h.push("      </table:table>\n"),h.join("")};return function(o,c){var h=[ls],p=ZE({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=ZE({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==c.bookType?(h.push("<office:document"+p+m+">\n"),h.push(Mj().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+p+">\n"),function(s,o){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var c=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!cols"])for(var m=0;m<p["!cols"].length;++m)if(p["!cols"][m]){var v=p["!cols"][m];if(null==v.width&&null==v.wpx&&null==v.wch)continue;cm(v),v.ods=c;var w=p["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+c+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+'"/>\n'),s.push("  </style:style>\n"),++c}});var h=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!rows"])for(var m=0;m<p["!rows"].length;++m)if(p["!rows"][m]){p["!rows"][m].ods=h;var v=p["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+h+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+'"/>\n'),s.push("  </style:style>\n"),++h}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")}(h,o),h.push("  <office:body>\n"),h.push("    <office:spreadsheet>\n");for(var v=0;v!=o.SheetNames.length;++v)h.push(r(o.Sheets[o.SheetNames[v]],o,v));return h.push("    </office:spreadsheet>\n"),h.push("  </office:body>\n"),h.push("fods"==c.bookType?"</office:document>":"</office:document-content>"),h.join("")}}();function E7(n,t){if("fods"==t.bookType)return C7(n,t);var e=uB(),r="",i=[],s=[];return Xn(e,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Xn(e,r="content.xml",C7(n,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),Xn(e,r="styles.xml",ofe(n,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),Xn(e,r="meta.xml",ls+Mj()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),Xn(e,r="manifest.rdf",function zre(n){var t=[ls];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var e=0;e!=n.length;++e)t.push(kj(n[e][0],n[e][1])),t.push(jre("",n[e][0]));return t.push(kj("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),i.push([r,"application/rdf+xml"]),Xn(e,r="META-INF/manifest.xml",function Gre(n){var t=[ls];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var e=0;e<n.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+n[e][0]+'" manifest:media-type="'+n[e][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),e}function cy(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function afe(n){return typeof TextEncoder<"u"?(new TextEncoder).encode(n):tc(xh(n))}function hm(n){var t=n.reduce(function(i,s){return i+s.length},0),e=new Uint8Array(t),r=0;return n.forEach(function(i){e.set(i,r),r+=i.length}),e}function mS(n,t){var e=t?t[0]:0,r=127&n[e];e:if(n[e++]>=128&&(r|=(127&n[e])<<7,n[e++]<128||(r|=(127&n[e])<<14,n[e++]<128)||(r|=(127&n[e])<<21,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,28),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,35),++e,n[e++]<128)||(r+=(127&n[e])*Math.pow(2,42),++e,n[e++]<128)))break e;return t&&(t[0]=e),r}function Lr(n){var t=new Uint8Array(7);t[0]=127&n;var e=1;e:if(n>127){if(t[e-1]|=128,t[e]=n>>7&127,++e,n<=16383||(t[e-1]|=128,t[e]=n>>14&127,++e,n<=2097151)||(t[e-1]|=128,t[e]=n>>21&127,++e,n<=268435455)||(t[e-1]|=128,t[e]=n/256>>>21&127,++e,n<=34359738367)||(t[e-1]|=128,t[e]=n/65536>>>21&127,++e,n<=4398046511103))break e;t[e-1]|=128,t[e]=n/16777216>>>21&127,++e}return t.slice(0,e)}function us(n){var t=0,e=127&n[t];e:if(n[t++]>=128){if(e|=(127&n[t])<<7,n[t++]<128||(e|=(127&n[t])<<14,n[t++]<128)||(e|=(127&n[t])<<21,n[t++]<128))break e;e|=(127&n[t])<<28}return e}function Rr(n){for(var t=[],e=[0];e[0]<n.length;){var c,r=e[0],i=mS(n,e),s=7&i,o=0;if(0==(i=Math.floor(i/8)))break;switch(s){case 0:for(var h=e[0];n[e[0]++]>=128;);c=n.slice(h,e[0]);break;case 5:c=n.slice(e[0],e[0]+(o=4)),e[0]+=o;break;case 1:c=n.slice(e[0],e[0]+(o=8)),e[0]+=o;break;case 2:o=mS(n,e),c=n.slice(e[0],e[0]+o),e[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var p={data:c,type:s};null==t[i]?t[i]=[p]:t[i].push(p)}return t}function bo(n){var t=[];return n.forEach(function(e,r){e.forEach(function(i){!i.data||(t.push(Lr(8*r+i.type)),2==i.type&&t.push(Lr(i.data.length)),t.push(i.data))})}),hm(t)}function iu(n){for(var t,e=[],r=[0];r[0]<n.length;){var i=mS(n,r),s=Rr(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:us(s[1][0].data),messages:[]};s[2].forEach(function(c){var h=Rr(c.data),p=us(h[3][0].data);o.messages.push({meta:h,data:n.slice(r[0],r[0]+p)}),r[0]+=p}),null!=(t=s[3])&&t[0]&&(o.merge=us(s[3][0].data)>>>0>0),e.push(o)}return e}function hw(n){var t=[];return n.forEach(function(e){var r=[];r[1]=[{data:Lr(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:Lr(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Lr(o.data.length)}],r[2].push({data:bo(o.meta),type:2})});var s=bo(r);t.push(Lr(s.length)),t.push(s),i.forEach(function(o){return t.push(o)})}),hm(t)}function dfe(n,t){if(0!=n)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var e=[0],r=mS(t,e),i=[];e[0]<t.length;){var s=3&t[e[0]];if(0!=s){var h=0,p=0;if(1==s?(p=4+(t[e[0]]>>2&7),h=(224&t[e[0]++])<<3,h|=t[e[0]++]):(p=1+(t[e[0]++]>>2),2==s?(h=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(h=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),i=[hm(i)],0==h)throw new Error("Invalid offset 0");if(h>i[0].length)throw new Error("Invalid offset beyond length");if(p>=h)for(i.push(i[0].slice(-h)),p-=h;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-h,-h+p))}else{var o=t[e[0]++]>>2;if(o<60)++o;else{var c=o-59;o=t[e[0]],c>1&&(o|=t[e[0]+1]<<8),c>2&&(o|=t[e[0]+2]<<16),c>3&&(o|=t[e[0]+3]<<24),o>>>=0,o++,e[0]+=c}i.push(t.slice(e[0],e[0]+o)),e[0]+=o}}var m=hm(i);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function su(n){for(var t=[],e=0;e<n.length;){var r=n[e++],i=n[e]|n[e+1]<<8|n[e+2]<<16;t.push(dfe(r,n.slice(e+=3,e+i))),e+=i}if(e!==n.length)throw new Error("data is not a valid framed stream!");return hm(t)}function fw(n){for(var t=[],e=0;e<n.length;){var r=Math.min(n.length-e,268435455),i=new Uint8Array(4);t.push(i);var s=Lr(r),o=s.length;t.push(s),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(n.slice(e,e+r)),o+=r,i[0]=0,i[1]=255&o,i[2]=o>>8&255,i[3]=o>>16&255,e+=r}return hm(t)}function a3(n,t){var e=new Uint8Array(32),r=cy(e),i=12,s=0;switch(e[0]=5,n.t){case"n":e[1]=2,function ufe(n,t,e){var r=Math.floor(0==e?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,i=e/Math.pow(10,r-6176);n[t+15]|=r>>7,n[t+14]|=(127&r)<<1;for(var s=0;i>=1;++s,i/=256)n[t+s]=255&i;n[t+15]|=e>=0?0:128}(e,i,n.v),s|=1,i+=16;break;case"b":e[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[1]=3,r.setUint32(i,t.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),e.slice(0,i)}function l3(n,t){var e=new Uint8Array(32),r=cy(e),i=12,s=0;switch(e[0]=3,n.t){case"n":e[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":e[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[2]=3,r.setUint32(i,t.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),e.slice(0,i)}function ga(n){return mS(Rr(n)[1][0].data)}function wfe(n,t,e){var r,i,s,o;if(null==(r=n[6])||!r[0]||null==(i=n[7])||!i[0])throw"Mutation only works on post-BNC storages!";if((null==(o=null==(s=n[8])?void 0:s[0])?void 0:o.data)&&us(n[8][0].data)>0)throw"Math only works with normal offsets";for(var h=0,p=cy(n[7][0].data),m=0,v=[],w=cy(n[4][0].data),E=0,D=[],S=0;S<t.length;++S)if(null!=t[S]){var M,P;switch(p.setUint16(2*S,m,!0),w.setUint16(2*S,E,!0),typeof t[S]){case"string":M=a3({t:"s",v:t[S]},e),P=l3({t:"s",v:t[S]},e);break;case"number":M=a3({t:"n",v:t[S]},e),P=l3({t:"n",v:t[S]},e);break;case"boolean":M=a3({t:"b",v:t[S]},e),P=l3({t:"b",v:t[S]},e);break;default:throw new Error("Unsupported value "+t[S])}v.push(M),m+=M.length,D.push(P),E+=P.length,++h}else p.setUint16(2*S,65535,!0),w.setUint16(2*S,65535);for(n[2][0].data=Lr(h);S<n[7][0].data.length/2;++S)p.setUint16(2*S,65535,!0),w.setUint16(2*S,65535,!0);return n[6][0].data=hm(v),n[3][0].data=hm(D),h}function d3(n){!function D7(n){return function(e){for(var r=0;r!=n.length;++r){var i=n[r];void 0===e[i[0]]&&(e[i[0]]=i[1]),"n"===i[2]&&(e[i[0]]=Number(e[i[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function Afe(n,t){return"ods"==t.bookType?E7(n,t):"numbers"==t.bookType?function bfe(n,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ha(e["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Yn(r)));var s=UM(e,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(se){return se.forEach(function(pe){"string"==typeof pe&&o.push(pe)})});var c={},h=[],p=Cn.read(t.numbers,{type:"base64"});p.FileIndex.map(function(se,pe){return[se,p.FullPaths[pe]]}).forEach(function(se){var pe=se[0],st=se[1];2==pe.type&&pe.name.match(/\.iwa/)&&iu(su(pe.content)).forEach(function(gt){h.push(gt.id),c[gt.id]={deps:[],location:st,type:us(gt.messages[0].meta[1][0].data)}})}),h.sort(function(se,pe){return se-pe});var m=h.filter(function(se){return se>1}).map(function(se){return[se,Lr(se)]});p.FileIndex.map(function(se,pe){return[se,p.FullPaths[pe]]}).forEach(function(se){var pe=se[0];pe.name.match(/\.iwa/)&&iu(su(pe.content)).forEach(function(Rt){Rt.messages.forEach(function(Tt){m.forEach(function(gt){Rt.messages.some(function($n){return 11006!=us($n.meta[1][0].data)&&function lfe(n,t){e:for(var e=0;e<=n.length-t.length;++e){for(var r=0;r<t.length;++r)if(n[e+r]!=t[r])continue e;return!0}return!1}($n.data,gt[1])})&&c[gt[0]].deps.push(Rt.id)})})})});for(var D,w=Cn.find(p,c[1].location),E=iu(su(w.content)),S=0;S<E.length;++S){var M=E[S];1==M.id&&(D=M)}var P=ga(Rr(D.messages[0].data)[1][0].data);for(E=iu(su((w=Cn.find(p,c[P].location)).content)),S=0;S<E.length;++S)(M=E[S]).id==P&&(D=M);for(P=ga(Rr(D.messages[0].data)[2][0].data),E=iu(su((w=Cn.find(p,c[P].location)).content)),S=0;S<E.length;++S)(M=E[S]).id==P&&(D=M);for(P=ga(Rr(D.messages[0].data)[2][0].data),E=iu(su((w=Cn.find(p,c[P].location)).content)),S=0;S<E.length;++S)(M=E[S]).id==P&&(D=M);var V=Rr(D.messages[0].data);V[6][0].data=Lr(r.e.r+1),V[7][0].data=Lr(r.e.c+1);for(var B=ga(V[46][0].data),X=Cn.find(p,c[B].location),he=iu(su(X.content)),we=0;we<he.length&&he[we].id!=B;++we);if(he[we].id!=B)throw"Bad ColumnRowUIDMapArchive";var Y=Rr(he[we].messages[0].data);Y[1]=[],Y[2]=[],Y[3]=[];for(var Ee=0;Ee<=r.e.c;++Ee){var Ce=[];Ce[1]=Ce[2]=[{type:0,data:Lr(Ee+420690)}],Y[1].push({type:2,data:bo(Ce)}),Y[2].push({type:0,data:Lr(Ee)}),Y[3].push({type:0,data:Lr(Ee)})}Y[4]=[],Y[5]=[],Y[6]=[];for(var ze=0;ze<=r.e.r;++ze)(Ce=[])[1]=Ce[2]=[{type:0,data:Lr(ze+726270)}],Y[4].push({type:2,data:bo(Ce)}),Y[5].push({type:0,data:Lr(ze)}),Y[6].push({type:0,data:Lr(ze)});he[we].messages[0].data=bo(Y),X.content=fw(hw(he)),X.size=X.content.length,delete V[46];var Xe=Rr(V[4][0].data);Xe[7][0].data=Lr(r.e.r+1);var Ot=ga(Rr(Xe[1][0].data)[2][0].data);if((he=iu(su((X=Cn.find(p,c[Ot].location)).content)))[0].id!=Ot)throw"Bad HeaderStorageBucket";var on=Rr(he[0].messages[0].data);for(ze=0;ze<s.length;++ze){var zt=Rr(on[2][0].data);zt[1][0].data=Lr(ze),zt[4][0].data=Lr(s[ze].length),on[2][ze]={type:on[2][0].type,data:bo(zt)}}he[0].messages[0].data=bo(on),X.content=fw(hw(he)),X.size=X.content.length;var ft=ga(Xe[2][0].data);if((he=iu(su((X=Cn.find(p,c[ft].location)).content)))[0].id!=ft)throw"Bad HeaderStorageBucket";for(on=Rr(he[0].messages[0].data),Ee=0;Ee<=r.e.c;++Ee)(zt=Rr(on[2][0].data))[1][0].data=Lr(Ee),zt[4][0].data=Lr(r.e.r+1),on[2][Ee]={type:on[2][0].type,data:bo(zt)};he[0].messages[0].data=bo(on),X.content=fw(hw(he)),X.size=X.content.length;var dt=ga(Xe[4][0].data);!function(){for(var st,se=Cn.find(p,c[dt].location),pe=iu(su(se.content)),Mt=0;Mt<pe.length;++Mt){var Rt=pe[Mt];Rt.id==dt&&(st=Rt)}var Tt=Rr(st.messages[0].data);Tt[3]=[];var gt=[];o.forEach(function(jr,mr){gt[1]=[{type:0,data:Lr(mr)}],gt[2]=[{type:0,data:Lr(1)}],gt[3]=[{type:2,data:afe(jr)}],Tt[3].push({type:2,data:bo(gt)})}),st.messages[0].data=bo(Tt);var ie=fw(hw(pe));se.content=ie,se.size=se.content.length}();var Ut=Rr(Xe[3][0].data),wt=Ut[1][0];delete Ut[2];var cn=Rr(wt.data),ut=ga(cn[2][0].data);!function(){for(var st,se=Cn.find(p,c[ut].location),pe=iu(su(se.content)),Mt=0;Mt<pe.length;++Mt){var Rt=pe[Mt];Rt.id==ut&&(st=Rt)}var Tt=Rr(st.messages[0].data);delete Tt[6],delete Ut[7];var gt=new Uint8Array(Tt[5][0].data);Tt[5]=[];for(var $n=0,ie=0;ie<=r.e.r;++ie){var jr=Rr(gt);$n+=wfe(jr,s[ie],o),jr[1][0].data=Lr(ie),Tt[5].push({data:bo(jr),type:2})}Tt[1]=[{type:0,data:Lr(r.e.c+1)}],Tt[2]=[{type:0,data:Lr(r.e.r+1)}],Tt[3]=[{type:0,data:Lr($n)}],Tt[4]=[{type:0,data:Lr(r.e.r+1)}],st.messages[0].data=bo(Tt);var zr=fw(hw(pe));se.content=zr,se.size=se.content.length}(),wt.data=bo(cn),Xe[3][0].data=bo(Ut),V[4][0].data=bo(Xe),D.messages[0].data=bo(V);var Oe=fw(hw(E));return w.content=Oe,w.size=w.content.length,p}(n,t):"xlsb"==t.bookType?function Ife(n,t){cw=1024,n&&!n.SSF&&(n.SSF=ti(Tn)),n&&n.SSF&&(tw(),$E(n.SSF),t.revssf=pM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dS?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xlsb"==t.bookType?"bin":"xml",r=Pz.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};d3(t=t||{});var s=uB(),o="",c=0;if(t.cellXfs=[],dm(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),Xn(s,o="docProps/core.xml",Fj(n.Props,t)),i.coreprops.push(o),Nr(t.rels,2,o,Kn.CORE_PROPS),o="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var h=[],p=0;p<n.SheetNames.length;++p)2!=(n.Workbook.Sheets[p]||{}).Hidden&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}else n.Props.SheetNames=n.SheetNames;for(n.Props.Worksheets=n.Props.SheetNames.length,Xn(s,o,Nj(n.Props)),i.extprops.push(o),Nr(t.rels,3,o,Kn.EXT_PROPS),n.Custprops!==n.Props&&os(n.Custprops||{}).length>0&&(Xn(s,o="docProps/custom.xml",Lj(n.Custprops)),i.custprops.push(o),Nr(t.rels,4,o,Kn.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var m={"!id":{}},v=n.Sheets[n.SheetNames[c-1]];if(Xn(s,o="xl/worksheets/sheet"+c+"."+e,che(c-1,o,t,n,m)),i.sheets.push(o),Nr(t.wbrels,-1,"worksheets/sheet"+c+"."+e,Kn.WS[0]),v){var E=v["!comments"],D=!1,S="";E&&E.length>0&&(Xn(s,S="xl/comments"+c+"."+e,hhe(E,S,t)),i.comments.push(S),Nr(m,-1,"../comments"+c+"."+e,Kn.CMNT),D=!0),v["!legacy"]&&D&&Xn(s,"xl/drawings/vmlDrawing"+c+".vml",Rz(c,v["!comments"])),delete v["!comments"],delete v["!legacy"]}m["!id"].rId1&&Xn(s,JE(o),aw(m))}return null!=t.Strings&&t.Strings.length>0&&(Xn(s,o="xl/sharedStrings."+e,function dhe(n,t,e){return(".bin"===t.slice(-4)?uoe:vz)(n,e)}(t.Strings,o,t)),i.strs.push(o),Nr(t.wbrels,-1,"sharedStrings."+e,Kn.SST)),Xn(s,o="xl/workbook."+e,function lhe(n,t,e){return(".bin"===t.slice(-4)?Yde:r7)(n,e)}(n,o,t)),i.workbooks.push(o),Nr(t.rels,1,o,Kn.WB),Xn(s,o="xl/theme/theme1.xml",WB(n.Themes,t)),i.themes.push(o),Nr(t.wbrels,-1,"theme/theme1.xml",Kn.THEME),Xn(s,o="xl/styles."+e,function uhe(n,t,e){return(".bin"===t.slice(-4)?sae:Dz)(n,e)}(n,o,t)),i.styles.push(o),Nr(t.wbrels,-1,"styles."+e,Kn.STY),n.vbaraw&&r&&(Xn(s,o="xl/vbaProject.bin",n.vbaraw),i.vba.push(o),Nr(t.wbrels,-1,"vbaProject.bin",Kn.VBA)),Xn(s,o="xl/metadata."+e,function fhe(n){return(".bin"===n.slice(-4)?Mae:Mz)()}(o)),i.metadata.push(o),Nr(t.wbrels,-1,"metadata."+e,Kn.XLMETA),Xn(s,"[Content_Types].xml",Ij(i,t)),Xn(s,"_rels/.rels",aw(t.rels)),Xn(s,"xl/_rels/workbook."+e+".rels",aw(t.wbrels)),delete t.revssf,delete t.ssf,s}(n,t):function A7(n,t){cw=1024,n&&!n.SSF&&(n.SSF=ti(Tn)),n&&n.SSF&&(tw(),$E(n.SSF),t.revssf=pM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dS?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",r=Pz.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};d3(t=t||{});var s=uB(),o="",c=0;if(t.cellXfs=[],dm(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),Xn(s,o="docProps/core.xml",Fj(n.Props,t)),i.coreprops.push(o),Nr(t.rels,2,o,Kn.CORE_PROPS),o="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var h=[],p=0;p<n.SheetNames.length;++p)2!=(n.Workbook.Sheets[p]||{}).Hidden&&h.push(n.SheetNames[p]);n.Props.SheetNames=h}else n.Props.SheetNames=n.SheetNames;n.Props.Worksheets=n.Props.SheetNames.length,Xn(s,o,Nj(n.Props)),i.extprops.push(o),Nr(t.rels,3,o,Kn.EXT_PROPS),n.Custprops!==n.Props&&os(n.Custprops||{}).length>0&&(Xn(s,o="docProps/custom.xml",Lj(n.Custprops)),i.custprops.push(o),Nr(t.rels,4,o,Kn.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,c=1;c<=n.SheetNames.length;++c){var v={"!id":{}},w=n.Sheets[n.SheetNames[c-1]];if(Xn(s,o="xl/worksheets/sheet"+c+"."+e,Yz(c-1,t,n,v)),i.sheets.push(o),Nr(t.wbrels,-1,"worksheets/sheet"+c+"."+e,Kn.WS[0]),w){var D=w["!comments"],S=!1,M="";if(D&&D.length>0){var P=!1;D.forEach(function(V){V[1].forEach(function(B){1==B.T&&(P=!0)})}),P&&(Xn(s,M="xl/threadedComments/threadedComment"+c+"."+e,Uae(D,m,t)),i.threadedcomments.push(M),Nr(v,-1,"../threadedComments/threadedComment"+c+"."+e,Kn.TCMNT)),Xn(s,M="xl/comments"+c+"."+e,Oz(D)),i.comments.push(M),Nr(v,-1,"../comments"+c+"."+e,Kn.CMNT),S=!0}w["!legacy"]&&S&&Xn(s,"xl/drawings/vmlDrawing"+c+".vml",Rz(c,w["!comments"])),delete w["!comments"],delete w["!legacy"]}v["!id"].rId1&&Xn(s,JE(o),aw(v))}return null!=t.Strings&&t.Strings.length>0&&(Xn(s,o="xl/sharedStrings."+e,vz(t.Strings,t)),i.strs.push(o),Nr(t.wbrels,-1,"sharedStrings."+e,Kn.SST)),Xn(s,o="xl/workbook."+e,r7(n)),i.workbooks.push(o),Nr(t.rels,1,o,Kn.WB),Xn(s,o="xl/theme/theme1.xml",WB(n.Themes,t)),i.themes.push(o),Nr(t.wbrels,-1,"theme/theme1.xml",Kn.THEME),Xn(s,o="xl/styles."+e,Dz(n,t)),i.styles.push(o),Nr(t.wbrels,-1,"styles."+e,Kn.STY),n.vbaraw&&r&&(Xn(s,o="xl/vbaProject.bin",n.vbaraw),i.vba.push(o),Nr(t.wbrels,-1,"vbaProject.bin",Kn.VBA)),Xn(s,o="xl/metadata."+e,Mz()),i.metadata.push(o),Nr(t.wbrels,-1,"metadata."+e,Kn.XLMETA),m.length>1&&(Xn(s,o="xl/persons/person.xml",function Gae(n){var t=[ls,Vt("personList",null,{xmlns:Ns_TCMNT,"xmlns:x":om[0]}).replace(/[\/]>/,">")];return n.forEach(function(e,r){t.push(Vt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(m)),i.people.push(o),Nr(t.wbrels,-1,"persons/person.xml",Kn.PEOPLE)),Xn(s,"[Content_Types].xml",Ij(i,t)),Xn(s,"_rels/.rels",aw(t.rels)),Xn(s,"xl/_rels/workbook.xml.rels",aw(t.wbrels)),delete t.revssf,delete t.ssf,s}(n,t)}function k7(n,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return WE(t.file,Cn.write(n,{type:rr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Cn.write(n,t)}function Eh(n,t,e){e||(e="");var r=e+n;switch(t.type){case"base64":return HE(xh(r));case"binary":return xh(r);case"string":return n;case"file":return WE(t.file,r,"utf8");case"buffer":return rr?sp(r,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(r):Eh(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function VM(n,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",r=0;r<n.length;++r)e+=String.fromCharCode(n[r]);return"base64"==t.type?HE(e):"string"==t.type?Si(e):e;case"file":return WE(t.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+t.type)}}function g3(n,t){(function lM(){Jc(1200),function ine(){aM(1252)}()})(),function n7(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");!function Pde(n,t,e){n.forEach(function(r,i){t7(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(e){var o=t&&t[i]&&t[i].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}(n.SheetNames,n.Workbook&&n.Workbook.Sheets||[],!!n.vbaraw);for(var e=0;e<n.SheetNames.length;++e)Mce(n.Sheets[n.SheetNames[e]],0,e)}(n);var e=ti(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),"array"==e.type){e.type="binary";var r=g3(n,e);return e.type="array",GE(r)}var i=0;if(e.sheet&&(i="number"==typeof e.sheet?e.sheet:n.SheetNames.indexOf(e.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return Eh(Rhe(n,e),e);case"slk":case"sylk":return Eh(gz.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"htm":case"html":return Eh(g7(n.Sheets[n.SheetNames[i]],e),e);case"txt":return function Bfe(n,t){switch(t.type){case"base64":return HE(n);case"binary":case"string":return n;case"file":return WE(t.file,n,"binary");case"buffer":return rr?sp(n,"binary"):n.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(N7(n.Sheets[n.SheetNames[i]],e),e);case"csv":return Eh(y3(n.Sheets[n.SheetNames[i]],e),e,"\ufeff");case"dif":return Eh(mz.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"dbf":return VM(HB.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"prn":return Eh(lw.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"rtf":return Eh(Ez.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"eth":return Eh(_z.from_sheet(n.Sheets[n.SheetNames[i]],e),e);case"fods":return Eh(E7(n,e),e);case"wk1":return VM(ay.sheet_to_wk1(n.Sheets[n.SheetNames[i]],e),e);case"wk3":return VM(ay.book_to_wk3(n,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),VM(c7(n,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),function Lfe(n,t){var e=t||{};return k7(function Vhe(n,t){var e=t||{},r=Cn.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Cn.utils.cfb_add(r,i,c7(n,e)),8==e.biff&&(n.Props||n.Custprops)&&function Bhe(n,t){var o,e=[],r=[],i=[],s=0,c=VG(MB,"n"),h=VG(RB,"n");if(n.Props)for(o=os(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(c,o[s])?e:Object.prototype.hasOwnProperty.call(h,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=os(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(c,o[s])?e:Object.prototype.hasOwnProperty.call(h,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var p=[];for(s=0;s<i.length;++s)$j.indexOf(i[s][0])>-1||Oj.indexOf(i[s][0])>-1||null!=i[s][1]&&p.push(i[s]);r.length&&Cn.utils.cfb_add(t,"/\x05SummaryInformation",Zj(r,"e0859ff2f94f6810ab9108002b27b3d9",h,RB)),(e.length||p.length)&&Cn.utils.cfb_add(t,"/\x05DocumentSummaryInformation",Zj(e,"02d5cdd59c2e1b10939708002b2cf9ae",c,MB,p.length?p:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(n,r),8==e.biff&&n.vbaraw&&function Xae(n,t){t.FullPaths.forEach(function(e,r){if(0!=r){var i=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&Cn.utils.cfb_add(n,i,t.FileIndex[r].content)}})}(r,Cn.read(n.vbaraw,{type:"string"==typeof n.vbaraw?"binary":"buffer"})),r}(n,e),e)}(n,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function Pfe(n,t){var e=ti(t||{});return function M7(n,t){var e={},r=rr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=r;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=n.FullPaths?Cn.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):n.generate(e);if(typeof Deno<"u"&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(GE(i))}return t.password&&typeof encrypt_agile<"u"?k7(encrypt_agile(i,t.password),t):"file"===t.type?WE(t.file,i):"string"==t.type?Si(i):i}(Afe(n,e),e)}(n,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function _3(n,t,e){var r=e||{};return r.type="file",r.file=t,function m3(n){if(!n.bookType){var e=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(n.bookType=e.slice(1)),n.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[n.bookType]||n.bookType}}(r),g3(n,r)}function F7(n,t,e,r,i,s,o,c){var h=cs(e),p=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),v=!0,w=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:e,enumerable:!1})}catch{w.__rowNum__=e}else w.__rowNum__=e;if(!o||n[e])for(var E=t.s.c;E<=t.e.c;++E){var D=o?n[e][E]:n[r[E]+h];if(void 0!==D&&void 0!==D.t){var S=D.v;switch(D.t){case"z":if(null==S)break;continue;case"e":S=0==S?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+D.t)}if(null!=s[E]){if(null==S)if("e"==D.t&&null===S)w[s[E]]=null;else if(void 0!==p)w[s[E]]=p;else{if(!m||null!==S)continue;w[s[E]]=null}else w[s[E]]=m&&("n"!==D.t||"n"===D.t&&!1!==c.rawNumbers)?S:wh(D,S,c);null!=S&&(v=!1)}}else{if(void 0===p)continue;null!=s[E]&&(w[s[E]]=p)}}return{row:w,isempty:v}}function UM(n,t){if(null==n||null==n["!ref"])return[];var e={t:"n",v:0},r=0,i=1,s=[],o=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},m=null!=p.range?p.range:n["!ref"];switch(1===p.header?r=1:"A"===p.header?r=2:Array.isArray(p.header)?r=3:null==p.header&&(r=0),typeof m){case"string":h=br(m);break;case"number":(h=br(n["!ref"])).s.r=m;break;default:h=m}r>0&&(i=0);var v=cs(h.s.r),w=[],E=[],D=0,S=0,M=Array.isArray(n),P=h.s.r,V=0,B={};M&&!n[P]&&(n[P]=[]);var X=p.skipHidden&&n["!cols"]||[],he=p.skipHidden&&n["!rows"]||[];for(V=h.s.c;V<=h.e.c;++V)if(!(X[V]||{}).hidden)switch(w[V]=Ti(V),e=M?n[P][V]:n[w[V]+v],r){case 1:s[V]=V-h.s.c;break;case 2:s[V]=w[V];break;case 3:s[V]=p.header[V-h.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),c=o=wh(e,null,p),S=B[o]||0){do{c=o+"_"+S++}while(B[c]);B[o]=S,B[c]=1}else B[o]=1;s[V]=c}for(P=h.s.r+i;P<=h.e.r;++P)if(!(he[P]||{}).hidden){var we=F7(n,h,P,w,r,s,M,p);(!1===we.isempty||(1===r?!1!==p.blankrows:p.blankrows))&&(E[D++]=we.row)}return E.length=D,E}var O7=/"/g;function P7(n,t,e,r,i,s,o,c){for(var h=!0,p=[],m="",v=cs(e),w=t.s.c;w<=t.e.c;++w)if(r[w]){var E=c.dense?(n[e]||[])[w]:n[r[w]+v];if(null==E)m="";else if(null!=E.v){h=!1,m=""+(c.rawNumbers&&"n"==E.t?E.v:wh(E,null,c));for(var D=0,S=0;D!==m.length;++D)if((S=m.charCodeAt(D))===i||S===s||34===S||c.forceQuotes){m='"'+m.replace(O7,'""')+'"';break}"ID"==m&&(m='"ID"')}else null==E.f||E.F?m="":(h=!1,(m="="+E.f).indexOf(",")>=0&&(m='"'+m.replace(O7,'""')+'"'));p.push(m)}return!1===c.blankrows&&h?null:p.join(o)}function y3(n,t){var e=[],r=t??{};if(null==n||null==n["!ref"])return"";var i=br(n["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),c=void 0!==r.RS?r.RS:"\n",h=c.charCodeAt(0),p=new RegExp(("|"==s?"\\|":s)+"+$"),m="",v=[];r.dense=Array.isArray(n);for(var w=r.skipHidden&&n["!cols"]||[],E=r.skipHidden&&n["!rows"]||[],D=i.s.c;D<=i.e.c;++D)(w[D]||{}).hidden||(v[D]=Ti(D));for(var S=0,M=i.s.r;M<=i.e.r;++M)(E[M]||{}).hidden||null!=(m=P7(n,i,M,v,o,h,s,r))&&(r.strip&&(m=m.replace(p,"")),(m||!1!==r.blankrows)&&e.push((S++?c:"")+m));return delete r.dense,e.join("")}function N7(n,t){t||(t={}),t.FS="\t",t.RS="\n";var e=y3(n,t);return e}function L7(n,t,e){var r=e||{},i=+!r.skipHeader,s=n||{},o=0,c=0;if(s&&null!=r.origin)if("number"==typeof r.origin)o=r.origin;else{var h="string"==typeof r.origin?Cs(r.origin):r.origin;o=h.r,c=h.c}var p,m={s:{c:0,r:0},e:{c,r:o+t.length-1+i}};if(s["!ref"]){var v=br(s["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),-1==o&&(m.e.r=(o=v.e.r+1)+t.length-1+i)}else-1==o&&(o=0,m.e.r=t.length-1+i);var w=r.header||[],E=0;t.forEach(function(S,M){os(S).forEach(function(P){-1==(E=w.indexOf(P))&&(w[E=w.length]=P);var V=S[P],B="z",X="",he=On({c:c+E,r:o+M+i});p=_S(s,he),!V||"object"!=typeof V||V instanceof Date?("number"==typeof V?B="n":"boolean"==typeof V?B="b":"string"==typeof V?B="s":V instanceof Date?(B="d",r.cellDates||(B="n",V=yo(V)),X=r.dateNF||Tn[14]):null===V&&r.nullError&&(B="e",V=0),p?(p.t=B,p.v=V,delete p.w,delete p.R,X&&(p.z=X)):s[he]=p={t:B,v:V},X&&(p.z=X)):s[he]=V})}),m.e.c=Math.max(m.e.c,c+w.length-1);var D=cs(o);if(i)for(E=0;E<w.length;++E)s[Ti(E+c)+D]={t:"s",v:w[E]};return s["!ref"]=Yn(m),s}function _S(n,t,e){if("string"==typeof t){if(Array.isArray(n)){var r=Cs(t);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return _S(n,On("number"!=typeof t?t:{r:t,c:e||0}))}function B7(n,t,e){return t?(n.l={Target:t},e&&(n.l.Tooltip=e)):delete n.l,n}var hp={encode_col:Ti,encode_row:cs,encode_cell:On,encode_range:Yn,decode_col:EB,decode_row:CB,split_cell:function gre(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Cs,decode_range:Ha,format_cell:wh,sheet_add_aoa:wj,sheet_add_json:L7,sheet_add_dom:m7,aoa_to_sheet:sw,json_to_sheet:function Ufe(n,t){return L7(null,n,t)},table_to_sheet:_7,table_to_book:function rfe(n,t){return am(_7(n,t),t)},sheet_to_csv:y3,sheet_to_txt:N7,sheet_to_json:UM,sheet_to_html:g7,sheet_to_formulae:function Vfe(n){var e,t="",r="";if(null==n||null==n["!ref"])return[];var c,i=br(n["!ref"]),s="",o=[],h=[],p=Array.isArray(n);for(c=i.s.c;c<=i.e.c;++c)o[c]=Ti(c);for(var m=i.s.r;m<=i.e.r;++m)for(s=cs(m),c=i.s.c;c<=i.e.c;++c)if(t=o[c]+s,r="",void 0!==(e=p?(n[m]||[])[c]:n[t])){if(null!=e.F){if(t=e.F,!e.f)continue;r=e.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}h[h.length]=t+"="+r}return h},sheet_to_row_object_array:UM,sheet_get_cell:_S,book_new:function v3(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function x3(n,t,e,r){var i=1;if(!e)for(;i<=65535&&-1!=n.SheetNames.indexOf(e="Sheet"+i);++i,e=void 0);if(!e||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(e)>=0){var s=e.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||e;for(++i;i<=65535&&-1!=n.SheetNames.indexOf(e=o+i);++i);}if(t7(e),n.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return n.SheetNames.push(e),n.Sheets[e]=t,e},book_set_sheet_visibility:function Gfe(n,t,e){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=function Hfe(n,t){if("number"==typeof t){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var e=n.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(n,t);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}n.Workbook.Sheets[r].Hidden=e},cell_set_number_format:function jfe(n,t){return n.z=t,n},cell_set_hyperlink:B7,cell_set_internal_link:function zfe(n,t,e){return B7(n,"#"+t,e)},cell_add_comment:function $fe(n,t,e){n.c||(n.c=[]),n.c.push({t,a:e||"SheetJS"})},sheet_set_array_formula:function Wfe(n,t,e,r){for(var i="string"!=typeof t?t:br(t),s="string"==typeof t?t:Yn(t),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var h=_S(n,o,c);h.t="n",h.F=s,delete h.v,o==i.s.r&&c==i.s.c&&(h.f=e,r&&(h.D=!0))}return n},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Xfe=["mat-button",""],Qfe=["*"],epe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],tpe=sg(lv(Nb(class{constructor(n){this._elementRef=n}})));let yS=(()=>{class n extends tpe{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of epe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Xy),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&a.Gf(df,5),2&e){let i;a.iGM(i=a.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:Xfe,ngContentSelectors:Qfe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),a.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[df],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),w3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[og,pr,pr]}),n})();function npe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.action())}),a._uU(2),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function rpe(n,t){}const V7=new a.OlP("MatSnackBarData");class GM{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ipe=Math.pow(2,31)-1;class b3{constructor(t,e){this._overlayRef=e,this._afterDismissed=new hn.x,this._afterOpened=new hn.x,this._onAction=new hn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,ipe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let spe=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(b3),a.Y36(V7))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,npe,3,1,"div",1)),2&e&&(a.xp6(1),a.Oqu(r.data.message),a.xp6(1),a.Q6J("ngIf",r.hasAction))},dependencies:[Sr,yS],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const ope={snackBarState:k0("state",[$u("void, hidden",ts({transform:"scale(0.8)",opacity:0})),$u("visible",ts({transform:"scale(1)",opacity:1})),Wu("* => visible",Hd("150ms cubic-bezier(0, 0, 0.2, 1)")),Wu("* => void, * => hidden",Hd("75ms cubic-bezier(0.4, 0.0, 1, 1)",ts({opacity:0})))])};let ape=(()=>{class n extends rv{constructor(e,r,i,s,o){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new hn.x,this._onExit=new hn.x,this._onEnter=new hn.x,this._animationState="void",this.attachDomPortal=c=>{this._assertNotAttached();const h=this._portalOutlet.attachDomPortal(c);return this._afterPortalAttached(),h},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:i}=e;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(x(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>e.classList.add(i)):e.classList.add(r))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36($i),a.Y36(GM))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,r){if(1&e&&a.Gf(w0,7),2&e){let i;a.iGM(i=a.CRH())&&(r._portalOutlet=i.first)}},features:[a.qOj]}),n})(),lpe=(()=>{class n extends ape{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&a.WFA("@state.done",function(s){return r.onAnimationEnd(s)}),2&e&&a.d8E("@state",r._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.YNc(1,rpe,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",r._live)("role",r._role))},dependencies:[w0],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[ope.snackBarState]}}),n})(),U7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[T0,ig,Ml,w3,pr,pr]}),n})();const H7=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function cpe(){return new GM}});let upe=(()=>{class n{constructor(e,r,i,s,o,c){this._overlay=e,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=c,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",i){const s={...this._defaultConfig,...i};return s.data={message:e,action:r},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const s=a.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:GM,useValue:r}]}),o=new x0(this.snackBarContainerComponent,r.viewContainerRef,s),c=e.attach(o);return c.instance.snackBarConfig=r,c.instance}_attach(e,r){const i={...new GM,...this._defaultConfig,...r},s=this._createOverlay(i),o=this._attachSnackBarContainer(s,i),c=new b3(o,s);if(e instanceof a.Rgc){const h=new nv(e,null,{$implicit:i.data,snackBarRef:c});c.instance=o.attachTemplatePortal(h)}else{const h=this._createInjector(i,c),p=new x0(e,void 0,h),m=o.attachComponentPortal(p);c.instance=m.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(kt(s.detachments())).subscribe(h=>{s.overlayElement.classList.toggle(this.handsetCssClass,h.matches)}),i.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(c,i),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new b0;r.direction=e.direction;let i=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,c=!o&&"center"!==e.horizontalPosition;return o?i.left("0"):c?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(e,r){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:b3,useValue:r},{provide:V7,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ul),a.LFG(gb),a.LFG(a.zs3),a.LFG(Zy),a.LFG(n,12),a.LFG(H7))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),G7=(()=>{class n extends upe{constructor(e,r,i,s,o,c){super(e,r,i,s,o,c),this.simpleSnackBarComponent=spe,this.snackBarContainerComponent=lpe,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ul),a.LFG(gb),a.LFG(a.zs3),a.LFG(Zy),a.LFG(n,12),a.LFG(H7))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:U7}),n})();function dpe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",13)(1,"h3",14),a._uU(2),a.qZA(),a.TgZ(3,"div")(4,"button",15),a.NdJ("click",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.onDelete(s.id))}),a.TgZ(5,"mat-icon",16),a._uU(6,"delete"),a.qZA()(),a.TgZ(7,"button",15),a.NdJ("click",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.edit(s))}),a.TgZ(8,"mat-icon",16),a._uU(9,"edit"),a.qZA()()()()}if(2&n){const e=t.$implicit;a.xp6(2),a.AsE("",e.datas.foodName[0].toUpperCase()+e.datas.foodName.substring(1)," (",e.datas.foodAmount,")")}}function hpe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",17),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.exportexcel())}),a._uU(1,"Exportar para Excel "),a._UZ(2,"img",18),a.qZA()}}function fpe(n,t){if(1&n&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.datas.foodName[0].toUpperCase()+e.datas.foodName.substring(1)),a.xp6(2),a.Oqu(e.datas.foodAmount)}}let j7=(()=>{class n{constructor(e,r){this._snackBar=e,this.firestore=r,this.fileName="Estoque.xlsx",this.delete=new a.vpe,this.inputMode=!1,this.foodList=[]}ngOnInit(){var e=this;return(0,qe.Z)(function*(){e.foodEdit=new yi(""),sessionStorage.setItem("method",""),e.firestore.collection("food").snapshotChanges().subscribe(function(){var i=(0,qe.Z)(function*(s){e.foodEx=s.map(o=>({id:o.payload.doc.id,datas:o.payload.doc.data()})),e.foodList=e.foodEx});return function(s){return i.apply(this,arguments)}}()),e.inputMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid})()}onFoodAdded(e){-1===this.foodEx.findIndex(i=>i.datas.name===e.name)||this._snackBar.open("Produto j\xe1 cadastrado!","Fechar")}onFoodEdited(e){sessionStorage.setItem("method",""),this.firestore.doc("food/"+this.foodId).update(e)}edit(e){sessionStorage.setItem("method","edit"),this.foodEdit.next(e)}onDelete(e){this.firestore.doc("food/"+e).delete()}exportexcel(){let e=document.getElementById("excel-table");const r=hp.table_to_sheet(e),i=hp.book_new();hp.book_append_sheet(i,r,"Sheet1"),_3(i,this.fileName)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(G7),a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-food-list"]],inputs:{package:"package",delete:"delete"},decls:21,vars:8,consts:[[1,"row"],[1,"col-sm-10"],[3,"edition","foodAdded","foodEdited"],["fxLayout","row","fxLayoutAlign","space-between center",1,"search"],["appearance","outline","floatLabel","never","id","search"],["matSuffix","",1,"search-lunch-icon",2,"text-align","center"],["placeholder","Buscar no Estoque ","matInput","",2,"margin-bottom","4px",3,"ngModel","ngModelChange"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["id","excel-button","class","btn btn-success",3,"click",4,"ngIf"],[1,"table",2,"display","none"],["id","excel-table"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-group-item",2,"cursor","pointer"],[2,"margin-top","10px"],["mat-button","",2,"float","right",3,"click"],["role","img","aria-hidden","true",1,"mat-icon","notranslate","material-icons","mat-icon-no-color"],["id","excel-button",1,"btn","btn-success",3,"click"],["src","../assets/excel.png","alt",""]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"app-food-list-edition",2),a.NdJ("foodAdded",function(){return r.onFoodAdded(r.food)})("foodEdited",function(s){return r.onFoodEdited(s)}),a.qZA(),a._UZ(3,"hr"),a.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-icon",5),a._uU(7,"search"),a.qZA(),a.TgZ(8,"input",6),a.NdJ("ngModelChange",function(s){return r.filter=s}),a.qZA()()(),a.TgZ(9,"ul",7),a.YNc(10,dpe,10,2,"a",8),a.ALo(11,"filter"),a.qZA(),a.YNc(12,hpe,3,0,"button",9),a.qZA()(),a.TgZ(13,"div",10)(14,"table",11)(15,"tr")(16,"th"),a._uU(17,"Nome"),a.qZA(),a.TgZ(18,"th"),a._uU(19,"Quantidade"),a.qZA()(),a.YNc(20,fpe,5,2,"tr",12),a.qZA()()),2&e&&(a.xp6(2),a.Q6J("edition",r.foodEdit),a.xp6(6),a.Q6J("ngModel",r.filter),a.xp6(2),a.Q6J("ngForOf",a.xi3(11,5,r.foodEx,r.filter)),a.xp6(2),a.Q6J("ngIf",!0===r.inputMode),a.xp6(8),a.Q6J("ngForOf",r.foodEx))},styles:[".mat-icon[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}.search[_ngcontent-%COMP%]{text-align:right}#search[_ngcontent-%COMP%]{width:100%}@media (max-width: 500px){.search[_ngcontent-%COMP%]{text-align:left}}#excel-button[_ngcontent-%COMP%]{height:40px;border-radius:10px;align-items:center;margin-bottom:25px;margin-top:20px;width:100%}"]}),n})(),ppe=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this.dialogRef=r,this.formBuilder=i,this.data=s,this.myFormGroup=this.formBuilder.group({name:["",Ws.required],description:["",Ws.required],value:["",Ws.required],imagePath:["",Ws.required],bagAmount:[1,Ws.required],isBag:[!1,Ws.required]})}ngOnInit(){}cadastre(){if(this.myFormGroup.valid){let e=this.myFormGroup.getRawValue();this.dialogRef.close(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($l),a.Y36(Gd),a.Y36(j0),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-list-dialog"]],decls:41,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"row"],[1,"col-sm-5"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Ex: Pizza de Frango com Catupiry",1,"form-control"],["nameFoodInput",""],[1,"col-sm-5","form-group"],["for","descripcion"],["type","text","id","description","formControlName","description","placeholder","Ex: Pizza de Frango ao molho catupiry",1,"form-control"],["descriptionInput",""],["type","number","id","description","formControlName","value",1,"form-control"],["valueInput",""],["for","imagePath"],["type","url","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePathInput",""],["align","end"],["matDialogClose","",1,"btn","btn-danger","mx-md-1"],[1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(a.TgZ(0,"h2",0),a._uU(1,"Cadastre um novo Item ao Card\xe1pio!"),a.qZA(),a.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"label",4),a._uU(6,"Nome da Comida"),a.qZA(),a._UZ(7,"input",5,6),a.qZA(),a._UZ(9,"br")(10,"br")(11,"br")(12,"br"),a.TgZ(13,"div",7)(14,"label",8),a._uU(15,"Descri\xe7\xe3o da Comida"),a.qZA(),a._UZ(16,"input",9,10),a.qZA(),a._UZ(18,"br")(19,"br")(20,"br")(21,"br"),a.TgZ(22,"div",7)(23,"label",8),a._uU(24,"Valor da Comida"),a.qZA(),a._UZ(25,"input",11,12),a.qZA(),a._UZ(27,"br")(28,"br")(29,"br")(30,"br"),a.TgZ(31,"div",7)(32,"label",13),a._uU(33,"Informe o link da imagem, para representar a Comida"),a.qZA(),a._UZ(34,"input",14,15),a.qZA(),a.TgZ(36,"mat-dialog-actions",16)(37,"button",17),a._uU(38,"Cancelar"),a.qZA(),a.TgZ(39,"button",18),a.NdJ("click",function(){return r.cadastre()}),a._uU(40,"Cadastrar"),a.qZA()()()()),2&e&&(a.xp6(2),a.Q6J("formGroup",r.myFormGroup),a.xp6(37),a.Q6J("disabled",!r.myFormGroup.valid))},dependencies:[Zb,mv,RO,wf,dl,bf,Gc,ka,zc,Cf],encapsulation:2}),n})(),C3=(()=>{class n{constructor(){this.fileName="ExcelSheet.xlsx"}exportexcel(){let e=document.getElementById("excel-table");const r=hp.table_to_sheet(e),i=hp.book_new();hp.book_append_sheet(i,r,"Sheet1"),_3(i,this.fileName)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function gpe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"app-lunch-item",13),a.NdJ("packageSelected",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.onPackageSelected(s))})("delete",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.onDelete(s.id))}),a.qZA()}2&n&&a.Q6J("package",t.$implicit.datas)}function mpe(n,t){if(1&n&&(a.TgZ(0,"tr")(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.datas.name),a.xp6(2),a.Oqu(e.datas.value),a.xp6(2),a.Oqu(e.datas.description)}}function _pe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.openDialog())}),a._uU(1,"Adicionar Comida ao Card\xe1pio"),a.qZA()}}function ype(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",15),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.exportexcel())}),a._uU(1,"Exportar para Excel "),a._UZ(2,"img",16),a.qZA()}}let z7=(()=>{class n{constructor(e,r,i,s){this.dialog=e,this._snackBar=r,this.firestore=i,this.excelService=s,this.fileName="Cardapio.xlsx",this.packageWasSelected=new a.vpe,this.packages=[],this.inputMode=!1,this.amountBags=[],this.indexBags=[],this.valuesBags=[]}ngOnInit(){var e=this;return(0,qe.Z)(function*(){let r=document.getElementById("list"),i=document.getElementById("button"),s=document.getElementById("load"),o=document.getElementById("search");setTimeout(()=>{r.style.display="block",i.style.display="block",o.style.display="block",s.style.display="none"},5e3),e.firestore.collection("lunch").snapshotChanges().subscribe(function(){var h=(0,qe.Z)(function*(p){e.packageEx=p.map(m=>({id:m.payload.doc.id,datas:m.payload.doc.data()})),e.packages=e.packageEx});return function(p){return h.apply(this,arguments)}}()),e.inputMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid})()}onPackageSelected(e){sessionStorage.setItem("index",e.id);let r=sessionStorage.getItem("index");this.indexBags.push(r),sessionStorage.setItem("arrayBagIndex",JSON.stringify(this.indexBags)),this.amountBags.push(e.datas.bagAmount),sessionStorage.setItem("arrayBag",JSON.stringify(this.amountBags)),this.packageWasSelected.emit(e.datas)}onDelete(e){this.firestore.doc("lunch/"+e).delete()}openDialog(){this.dialog.open(ppe,{data:this.packages}).afterClosed().subscribe(r=>{r&&(-1===this.packageEx.findIndex(s=>s.datas.description===r.description&&s.datas.name===r.name)?this.firestore.collection("lunch").add(r):this._snackBar.open("Produto j\xe1 cadastrado!","Fechar"))})}exportexcel(){JSON.parse(sessionStorage.getItem("lunch"));let r=document.getElementById("excel-table");const i=hp.table_to_sheet(r),s=hp.book_new();hp.book_append_sheet(s,i,"Sheet1"),_3(s,this.fileName)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($l),a.Y36(G7),a.Y36(Ba),a.Y36(C3))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-list"]],outputs:{packageWasSelected:"packageWasSelected"},decls:26,vars:8,consts:[["id","search",2,"display","none"],["appearance","outline","floatLabel","never",1,"input"],["matPrefix","",1,"search-lunch-icon"],["placeholder","Buscar Comida no Card\xe1pio","matInput","",2,"margin-bottom","4px",3,"ngModel","ngModelChange"],["id","list",1,"row",2,"display","none"],[1,"col-12"],[3,"package","packageSelected","delete",4,"ngFor","ngForOf"],[1,"table",2,"display","none"],["id","excel-table"],[4,"ngFor","ngForOf"],["id","button",1,"row","mb-5",2,"display","none"],["id","add-button","class","btn btn-success",3,"click",4,"ngIf"],["id","excel-button","class","btn btn-success",3,"click",4,"ngIf"],[3,"package","packageSelected","delete"],["id","add-button",1,"btn","btn-success",3,"click"],["id","excel-button",1,"btn","btn-success",3,"click"],["src","../assets/excel.png","alt",""]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-icon",2),a._uU(3,"search"),a.qZA(),a.TgZ(4,"input",3),a.NdJ("ngModelChange",function(s){return r.filter=s}),a.qZA()()(),a._UZ(5,"br"),a.TgZ(6,"div",4)(7,"div",5),a.YNc(8,gpe,1,1,"app-lunch-item",6),a.ALo(9,"filter"),a.qZA()(),a.TgZ(10,"div",7)(11,"table",8)(12,"tr")(13,"th"),a._uU(14,"Nome"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Valor"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Descri\xe7\xe3o"),a.qZA()(),a.YNc(19,mpe,7,3,"tr",9),a.qZA()(),a.TgZ(20,"div",10)(21,"div",5),a.YNc(22,_pe,2,0,"button",11),a._UZ(23,"br"),a.YNc(24,ype,3,0,"button",12),a.qZA()(),a._UZ(25,"br")),2&e&&(a.xp6(4),a.Q6J("ngModel",r.filter),a.xp6(4),a.Q6J("ngForOf",a.xi3(9,5,r.packageEx,r.filter)),a.xp6(11),a.Q6J("ngForOf",r.packageEx),a.xp6(3),a.Q6J("ngIf",!0===r.inputMode),a.xp6(2),a.Q6J("ngIf",!0===r.inputMode))},styles:["mat-icon{color:#723caf;width:100%}#add-button{height:50px;border-radius:10px}#excel-button{margin-top:10px;height:40px;border-radius:10px;text-align:center;align-items:center}.mat-form-field-outline-start{border-radius:20px 0 0 20px!important;min-width:28px!important}.mat-form-field-outline-end{border-radius:0 20px 20px 0!important}.input{width:230%;max-width:80vw;height:100%;max-height:200px;font-size:18px}\n"],encapsulation:2}),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vpe=["nameInput"],xpe=["amountInput"];let wpe=(()=>{class n{constructor(e,r){this.formBuilder=e,this.firestore=r,this.method="",this.inputMode=!1,this.foodAdded=new a.vpe,this.foodEdited=new a.vpe,this.meuFormGroup=this.formBuilder.group({name:["",Ws.required],amount:["",Ws.required]})}ngOnInit(){this.foodEdit.subscribe(e=>{e&&this.edition(e)})}addFood(){if("edit"===this.method){const i={foodName:this.nameInputRef.nativeElement.value,foodAmount:this.amountInputRef.nativeElement.value};this.foodID=sessionStorage.getItem("indexFood"),this.firestore.doc("food/"+this.foodID).update(i),this.meuFormGroup.reset()}else{if(!this.meuFormGroup.valid)return;{const i={foodName:this.nameInputRef.nativeElement.value,foodAmount:this.amountInputRef.nativeElement.value};this.firestore.collection("food").add(i),this.meuFormGroup.reset()}}this.method=sessionStorage.setItem("method","")}edition(e){this.method=sessionStorage.getItem("method"),this.meuFormGroup.controls.name.setValue(e.datas.foodName),this.meuFormGroup.controls.amount.setValue(e.datas.foodAmount),sessionStorage.setItem("indexFood",e.id)}changeColor(){"edit"===this.method&&(document.getElementById("button").style.color="primary")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(j0),a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-food-list-edition"]],viewQuery:function(e,r){if(1&e&&(a.Gf(vpe,5),a.Gf(xpe,5)),2&e){let i;a.iGM(i=a.CRH())&&(r.nameInputRef=i.first),a.iGM(i=a.CRH())&&(r.amountInputRef=i.first)}},inputs:{foodEdit:["edition","foodEdit"]},outputs:{foodAdded:"foodAdded",foodEdited:"foodEdited"},decls:22,vars:3,consts:[[1,"row","mb-2","mt-2"],[1,"col-12"],[3,"formGroup"],[1,"row"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["nameInput",""],[1,"col-sm-3","form-group"],["for","amount"],["type","number","min","1","id","amount","formControlName","amount",1,"form-control"],["amountInput",""],[1,"row","mt-2"],["id","button","type","button",1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),a._uU(6,"Nome:"),a.qZA(),a._UZ(7,"input",6,7),a.qZA(),a._UZ(9,"br")(10,"br")(11,"br")(12,"br"),a.TgZ(13,"div",8)(14,"label",9),a._uU(15,"Quantidade:"),a.qZA(),a._UZ(16,"input",10,11),a.qZA()(),a.TgZ(18,"div",12)(19,"div",1)(20,"button",13),a.NdJ("click",function(){return r.addFood()}),a._uU(21),a.qZA()()()()()()),2&e&&(a.xp6(2),a.Q6J("formGroup",r.meuFormGroup),a.xp6(18),a.Q6J("disabled",!r.meuFormGroup.valid),a.xp6(1),a.Oqu("edit"===r.method?"Atualizar":"Incluir"))},dependencies:[wf,dl,bf,Gc,ka,b1,zc,Cf],styles:[".col-12[_ngcontent-%COMP%], #button[_ngcontent-%COMP%]{font-size:20px}"]}),n})();var bpe=z(6457);let sd=(()=>{class n{constructor(e,r,i,s){this.afs=e,this.afAuth=r,this.router=i,this.ngZone=s,this.afAuth.authState.subscribe(o=>{o?(this.userData=o,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(e,r){return this.afAuth.signInWithEmailAndPassword(e,r).then(i=>{this.SetUserData(i.user),this.afAuth.authState.subscribe(s=>{s&&this.router.navigate(["dashboard"])})}).catch(i=>{window.alert(i.message)})}SignUp(e,r){return this.afAuth.createUserWithEmailAndPassword(e,r).then(i=>{this.SendVerificationMail(),this.SetUserData(i.user)}).catch(i=>{window.alert(i.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-adress"])})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})}get isLoggedIn(){const e=JSON.parse(localStorage.getItem("user"));return null!==e&&!1!==e.emailVerified}GoogleAuth(){return this.AuthLogin(new bpe.Q).then(e=>{this.router.navigate(["dashboard"])})}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(r=>{this.router.navigate(["dashboard"]),this.SetUserData(r.user)}).catch(r=>{window.alert(r)})}SetUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ba),a.LFG(TE),a.LFG(Vo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cpe{}class fm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=i.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof fm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new fm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof fm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Epe{encodeKey(t){return $7(t)}encodeValue(t){return $7(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Tpe=/%(\d[a-f0-9])/gi,Dpe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $7(n){return encodeURIComponent(n).replace(Tpe,(t,e)=>Dpe[e]??t)}function jM(n){return`${n}`}class pm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Epe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Spe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,c]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],h=e.get(o)||[];h.push(c),e.set(o,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(jM):[jM(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new pm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(jM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(jM(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ape{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function W7(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q7(n){return typeof Blob<"u"&&n instanceof Blob}function Z7(n){return typeof FormData<"u"&&n instanceof FormData}class vS{constructor(t,e,r,i){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Ipe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new fm),this.context||(this.context=new Ape),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+o}}else this.params=new pm,this.urlWithParams=e}serializeBody(){return null===this.body?null:W7(this.body)||q7(this.body)||Z7(this.body)||function kpe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Z7(this.body)?null:q7(this.body)?this.body.type||null:W7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,p=t.params||this.params;const m=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((v,w)=>v.set(w,t.setHeaders[w]),h)),t.setParams&&(p=Object.keys(t.setParams).reduce((v,w)=>v.set(w,t.setParams[w]),p)),new vS(e,r,s,{params:p,headers:h,context:m,reportProgress:c,responseType:i,withCredentials:o})}}var Go=(()=>((Go=Go||{})[Go.Sent=0]="Sent",Go[Go.UploadProgress=1]="UploadProgress",Go[Go.ResponseHeader=2]="ResponseHeader",Go[Go.DownloadProgress=3]="DownloadProgress",Go[Go.Response=4]="Response",Go[Go.User=5]="User",Go))();class E3 extends class Mpe{constructor(t,e=200,r="OK"){this.headers=t.headers||new fm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Go.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new E3({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function S3(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let K7=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof vS)s=e;else{let h,p;h=i.headers instanceof fm?i.headers:new fm(i.headers),i.params&&(p=i.params instanceof pm?i.params:new pm({fromObject:i.params})),s=new vS(e,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Qt(s).pipe(Qg(h=>this.handler.handle(h)));if(e instanceof vS||"events"===i.observe)return o;const c=o.pipe(Wr(h=>h instanceof E3));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,C.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe((0,C.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe((0,C.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe((0,C.U)(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new pm).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,S3(i,r))}post(e,r,i={}){return this.request("POST",e,S3(i,r))}put(e,r,i={}){return this.request("PUT",e,S3(i,r))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cpe))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Fpe=["*"];let zM;function xS(n){return function Ope(){if(void 0===zM&&(zM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(zM=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return zM}()?.createHTML(n)||n}function X7(n){return Error(`Unable to find icon with the name "${n}"`)}function Q7(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function J7(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class uy{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let $M=(()=>{class n{constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new uy(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const o=this._sanitizer.sanitize(a.q3G.HTML,i);if(!o)throw J7(i);const c=xS(o);return this._addSvgIconConfig(e,r,new uy("",c,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new uy(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(a.q3G.HTML,r);if(!s)throw J7(r);const o=xS(s);return this._addSvgIconSetConfig(e,new uy("",o,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!r)throw Q7(e);const i=this._cachedIconsByUrl.get(r);return i?Qt(WM(i)):this._loadSvgIconFromConfig(new uy(e,null)).pipe((0,ai.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,C.U)(s=>WM(s)))}getNamedSvgIcon(e,r=""){const i=e$(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(e,o):zx(X7(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Qt(WM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,C.U)(r=>WM(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Qt(i):GD(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(ep(c=>{const p=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(p)),Qt(null)})))).pipe((0,C.U)(()=>{const o=this._extractIconWithNameFromAnySet(e,r);if(!o)throw X7(e);return o}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,e,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ai.b)(r=>e.svgText=r),(0,C.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Qt(null):this._fetchIcon(e).pipe((0,ai.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const c=this._svgElementFromString(xS("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(xS("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:o,value:c}=i[s];"id"!==o&&r.setAttribute(o,c)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function Ppe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!o)throw Q7(r);const c=this._inProgressUrlFetches.get(o);if(c)return c;const h=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,C.U)(p=>xS(p)),Hk(()=>this._inProgressUrlFetches.delete(o)),(0,eL.B)());return this._inProgressUrlFetches.set(o,h),h}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(e$(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return Lpe(s)?new uy(s.url,null,s.options):new uy(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(K7,8),a.LFG(Ou),a.LFG(Te,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WM(n){return n.cloneNode(!0)}function e$(n,t){return n+":"+t}function Lpe(n){return!(!n.url||!n.options)}const Bpe=sg(class{constructor(n){this._elementRef=n}}),Vpe=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),Upe=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Hpe(){const n=(0,a.f3M)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),t$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gpe=t$.map(n=>`[${n}]`).join(", "),jpe=/^url\(['"]?#(.*?)['"]?\)$/;let au=(()=>{class n extends Bpe{constructor(e,r,i,s,o,c){super(e),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=oi.w0.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(Gpe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)t$.forEach(o=>{const c=r[s],h=c.getAttribute(o),p=h?h.match(jpe):null;if(p){let m=i.get(c);m||(m=[],i.set(c,m)),m.push({name:o,value:p[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(x(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36($M),a.$8M("aria-hidden"),a.Y36(Upe),a.Y36(a.qLn),a.Y36(Vpe,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Fpe,decls:1,vars:0,template:function(e,r){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),zpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pr,pr]}),n})();const $pe=["*",[["mat-card-footer"]]],Wpe=["*","mat-card-footer"];let n$=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:Wpe,decls:2,vars:0,template:function(e,r){1&e&&(a.F$t($pe),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),qpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pr,pr]}),n})();function Zpe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.removeLunch())}),a.TgZ(1,"mat-icon",10),a._uU(2,"delete"),a.qZA()()}}let Ype=(()=>{class n{constructor(e,r,i){this.firestore=e,this.authService=r,this.excelService=i,this.deleteMode=!1,this.packageSelected=new a.vpe,this.delete=new a.vpe}ngOnInit(){this.index=sessionStorage.getItem("index"),this.deleteMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===this.authService.userData.uid}onSelected(){this.packageSelected.emit(),sessionStorage.setItem("lunch",JSON.stringify(this.package))}removeLunch(){return this.delete.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba),a.Y36(sd),a.Y36(C3))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-item"]],inputs:{package:"package",packages:"packages"},outputs:{packageSelected:"packageSelected",delete:"delete"},decls:17,vars:4,consts:[[1,"list-group-item","clearfix"],[1,"float-start",2,"cursor","pointer"],[1,"img-responsive",2,"max-width","170px",3,"src","click"],["mat-button","","class","trash",3,"click",4,"ngIf"],[1,"float-end"],[1,"list-group-item-heading"],[1,"value"],[1,"list-group-item-text",2,"cursor","pointer",3,"click"],[1,"arrow"],["mat-button","",1,"trash",3,"click"],["id","btn_trash","role","img","aria-hidden","true",1,"mat-icon","notranslate","material-icons","mat-icon-no-color"]],template:function(e,r){1&e&&(a.TgZ(0,"mat-card")(1,"div",0)(2,"div",1)(3,"img",2),a.NdJ("click",function(){return r.onSelected()}),a.qZA(),a.YNc(4,Zpe,3,0,"button",3),a.qZA(),a.TgZ(5,"div",4)(6,"h1",5),a._uU(7),a.qZA(),a._UZ(8,"br"),a.TgZ(9,"p",6),a._uU(10),a.qZA(),a.TgZ(11,"span",0)(12,"p",7),a.NdJ("click",function(){return r.onSelected()}),a._uU(13," Saiba Mais"),a.TgZ(14,"mat-icon",8),a._uU(15,"keyboard_arrow_right"),a.qZA()()()()()(),a._UZ(16,"br")),2&e&&(a.xp6(3),a.Q6J("src",r.package.imagePath,a.LSH),a.xp6(1),a.Q6J("ngIf",!0===r.deleteMode),a.xp6(3),a.Oqu(r.package.name),a.xp6(3),a.hij("R$ ",r.package.value.toFixed(2).replace(".",","),""))},dependencies:[Sr,au,yS,n$],styles:[".trash[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}#menu[_ngcontent-%COMP%]{color:#000;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}mat-card[_ngcontent-%COMP%]{border-width:5px;border-style:outset;border-color:#723caf;border-radius:30px;overflow:auto}img[_ngcontent-%COMP%]{border-radius:10px}@media (max-width: 500px){.img-responsive[_ngcontent-%COMP%]{display:none}}.arrow[_ngcontent-%COMP%]{margin-bottom:-6px}.list-group-item-text[_ngcontent-%COMP%]{float:right;margin-bottom:0%}.value[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{font-size:20px}h1[_ngcontent-%COMP%]{float:right;text-decoration:underline}.list-group-item-text[_ngcontent-%COMP%]:hover, .arrow[_ngcontent-%COMP%]:hover{color:#32b5e5}"]}),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r$(n){return new a.vHH(3e3,!1)}function kge(){return typeof window<"u"&&typeof window.document<"u"}function T3(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gm(n){switch(n.length){case 0:return new ff;case 1:return n[0];default:return new PD(n)}}function i$(n,t,e,r,i=new Map,s=new Map){const o=[],c=[];let h=-1,p=null;if(r.forEach(m=>{const v=m.get("offset"),w=v==h,E=w&&p||new Map;m.forEach((D,S)=>{let M=S,P=D;if("offset"!==S)switch(M=t.normalizePropertyName(M,o),P){case"!":P=i.get(S);break;case Ud:P=s.get(S);break;default:P=t.normalizeStyleValue(S,M,P,o)}E.set(M,P)}),w||c.push(E),p=E,h=v}),o.length)throw function yge(n){return new a.vHH(3502,!1)}();return c}function D3(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&A3(e,"start",n)));break;case"done":n.onDone(()=>r(e&&A3(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&A3(e,"destroy",n)))}}function A3(n,t,e){const s=I3(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function I3(n,t,e,r,i="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function sc(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function s$(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let k3=(n,t)=>!1,o$=(n,t,e)=>[],a$=null;function M3(n){const t=n.parentNode||n.host;return t===a$?null:t}(T3()||typeof Element<"u")&&(kge()?(a$=(()=>document.documentElement)(),k3=(n,t)=>{for(;t;){if(t===n)return!0;t=M3(t)}return!1}):k3=(n,t)=>n.contains(t),o$=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let dy=null,l$=!1;const c$=k3,u$=o$;let d$=(()=>{class n{validateStyleProperty(e){return function Rge(n){dy||(dy=function Fge(){return typeof document<"u"?document.body:null}()||{},l$=!!dy.style&&"WebkitAppearance"in dy.style);let t=!0;return dy.style&&!function Mge(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in dy.style,!t&&l$&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in dy.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return c$(e,r)}getParentElement(e){return M3(e)}query(e,r,i){return u$(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,o,c=[],h){return new ff(i,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),R3=(()=>{class n{}return n.NOOP=new d$,n})();const F3="ng-enter",qM="ng-leave",ZM="ng-trigger",YM=".ng-trigger",f$="ng-animating",O3=".ng-animating";function mm(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:P3(parseFloat(t[1]),t[2])}function P3(n,t){return"s"===t?1e3*n:n}function KM(n,t,e){return n.hasOwnProperty("duration")?n:function Nge(n,t,e){let i,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(r$()),{duration:0,delay:0,easing:""};i=P3(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(s=P3(parseFloat(h),c[4]));const p=c[5];p&&(o=p)}else i=n;if(!e){let c=!1,h=t.length;i<0&&(t.push(function Kpe(){return new a.vHH(3100,!1)}()),c=!0),s<0&&(t.push(function Xpe(){return new a.vHH(3101,!1)}()),c=!0),c&&t.splice(h,0,r$())}return{duration:i,delay:s,easing:o}}(n,t,e)}function wS(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function p$(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function _m(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function m$(n,t,e){return e?t+":"+e+";":""}function _$(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=m$(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=m$(0,Uge(e),n.style[e]));n.setAttribute("style",t)}function Sh(n,t,e){n.style&&(t.forEach((r,i)=>{const s=L3(i);e&&!e.has(i)&&e.set(i,n.style[s]),n.style[s]=r}),T3()&&_$(n))}function hy(n,t){n.style&&(t.forEach((e,r)=>{const i=L3(r);n.style[i]=""}),T3()&&_$(n))}function bS(n){return Array.isArray(n)?1==n.length?n[0]:IO(n):n}const N3=new RegExp("{{\\s*(.+?)\\s*}}","g");function y$(n){let t=[];if("string"==typeof n){let e;for(;e=N3.exec(n);)t.push(e[1]);N3.lastIndex=0}return t}function XM(n,t,e){const r=n.toString(),i=r.replace(N3,(s,o)=>{let c=t[o];return null==c&&(e.push(function Jpe(n){return new a.vHH(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function QM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Vge=/-+([a-z0-9])/g;function L3(n){return n.replace(Vge,(...t)=>t[1].toUpperCase())}function Uge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function oc(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ege(n){return new a.vHH(3004,!1)}()}}function v$(n,t){return window.getComputedStyle(n)[t]}function Wge(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function qge(n,t,e){if(":"==n[0]){const h=function Zge(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function pge(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function fge(n){return new a.vHH(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(x$(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&t.push(x$(o,i))}(r,e,t)):e.push(n),e}const nR=new Set(["true","1"]),rR=new Set(["false","0"]);function x$(n,t){const e=nR.has(n)||rR.has(n),r=nR.has(t)||rR.has(t);return(i,s)=>{let o="*"==n||n==i,c="*"==t||t==s;return!o&&e&&"boolean"==typeof i&&(o=i?nR.has(n):rR.has(n)),!c&&r&&"boolean"==typeof s&&(c=s?nR.has(t):rR.has(t)),o&&c}}const Yge=new RegExp("s*:selfs*,?","g");function B3(n,t,e,r){return new Kge(n).build(t,e,r)}class Kge{constructor(t){this._driver=t}build(t,e,r){const i=new Jge(e);return this._resetContextStyleTimingState(i),oc(this,bS(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function nge(){return new a.vHH(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const h=c,p=h.name;p.toString().split(/\s*,\s*/).forEach(m=>{h.name=m,s.push(this.visitState(h,e))}),h.name=p}else if(1==c.type){const h=this.visitTransition(c,e);r+=h.queryCount,i+=h.depCount,o.push(h)}else e.errors.push(function rge(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{y$(h).forEach(p=>{o.hasOwnProperty(p)||s.add(p)})})}),s.size&&(QM(s.values()),e.errors.push(function ige(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=oc(this,bS(t.animation),e);return{type:1,matchers:Wge(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:fy(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>oc(this,r,e)),options:fy(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const s=t.steps.map(o=>{e.currentTime=r;const c=oc(this,o,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:s,options:fy(t.options)}}visitAnimate(t,e){const r=function tme(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return V3(KM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=V3(0,0,"");return s.dynamic=!0,s.strValue=e,s}const i=KM(e,t);return V3(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,s=t.styles?t.styles:ts({});if(5==s.type)i=this.visitKeyframes(s,e);else{let o=t.styles,c=!1;if(!o){c=!0;const p={};r.easing&&(p.easing=r.easing),o=ts(p)}e.currentTime+=r.duration+r.delay;const h=this.visitStyle(o,e);h.isEmptyStep=c,i=h}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of i)"string"==typeof c?c===Ud?r.push(c):e.errors.push(new a.vHH(3002,!1)):r.push(p$(c));let s=!1,o=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let h of c.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{const p=e.collectedStyles.get(e.currentQuerySelector),m=p.get(h);let v=!0;m&&(s!=i&&s>=m.startTime&&i<=m.endTime&&(e.errors.push(function oge(n,t,e,r,i){return new a.vHH(3010,!1)}()),v=!1),s=m.startTime),v&&p.set(h,{startTime:s,endTime:i}),e.options&&function Bge(n,t,e){const r=t.params||{},i=y$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(function Qpe(n){return new a.vHH(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function age(){return new a.vHH(3011,!1)}()),r;let s=0;const o=[];let c=!1,h=!1,p=0;const m=t.steps.map(P=>{const V=this._makeStyleAst(P,e);let B=null!=V.offset?V.offset:function eme(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(V.styles),X=0;return null!=B&&(s++,X=V.offset=B),h=h||X<0||X>1,c=c||X<p,p=X,o.push(X),V});h&&e.errors.push(function lge(){return new a.vHH(3012,!1)}()),c&&e.errors.push(function cge(){return new a.vHH(3200,!1)}());const v=t.steps.length;let w=0;s>0&&s<v?e.errors.push(function uge(){return new a.vHH(3202,!1)}()):0==s&&(w=1/(v-1));const E=v-1,D=e.currentTime,S=e.currentAnimateTimings,M=S.duration;return m.forEach((P,V)=>{const B=w>0?V==E?1:w*V:o[V],X=B*M;e.currentTime=D+S.delay+X,S.duration=X,this._validateStyleAst(P,e),P.offset=B,r.styles.push(P)}),r}visitReference(t,e){return{type:8,animation:oc(this,bS(t.animation),e),options:fy(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fy(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fy(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function Xge(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Yge,"")),n=n.replace(/@\*/g,YM).replace(/@\w+/g,e=>YM+"-"+e.slice(1)).replace(/:animating/g,O3),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+s:s,sc(e.collectedStyles,e.currentQuerySelector,new Map);const c=oc(this,bS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:c,originalSelector:t.selector,options:fy(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function dge(){return new a.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:KM(t.timings,e.errors,!0);return{type:12,animation:oc(this,bS(t.animation),e),timings:r,options:null}}}class Jge{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fy(n){return n?(n=wS(n)).params&&(n.params=function Qge(n){return n?wS(n):null}(n.params)):n={},n}function V3(n,t,e){return{duration:n,delay:t,easing:e}}function U3(n,t,e,r,i,s,o=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:c}}class iR{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ime=new RegExp(":enter","g"),ome=new RegExp(":leave","g");function H3(n,t,e,r,i,s=new Map,o=new Map,c,h,p=[]){return(new ame).buildKeyframes(n,t,e,r,i,s,o,c,h,p)}class ame{buildKeyframes(t,e,r,i,s,o,c,h,p,m=[]){p=p||new iR;const v=new G3(t,e,p,i,s,m,[]);v.options=h;const w=h.delay?mm(h.delay):0;v.currentTimeline.delayNextStep(w),v.currentTimeline.setStyles([o],null,v.errors,h),oc(this,r,v);const E=v.timelines.filter(D=>D.containsAnimation());if(E.length&&c.size){let D;for(let S=E.length-1;S>=0;S--){const M=E[S];if(M.element===e){D=M;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([c],null,v.errors,h)}return E.length?E.map(D=>D.buildKeyframes()):[U3(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let s=e.currentTimeline.currentTime;const o=null!=r.duration?mm(r.duration):null,c=null!=r.delay?mm(r.delay):null;return 0!==o&&t.forEach(h=>{const p=e.appendInstructionToTimeline(h,o,c);s=Math.max(s,p.duration+p.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),oc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const s=t.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=sR);const o=mm(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>oc(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?mm(t.options.delay):0;t.steps.forEach(o=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),oc(this,o,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return KM(e.params?XM(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,t.styles.forEach(h=>{c.forwardTime((h.offset||0)*s),c.setStyles(h.styles,h.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+s),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},s=i.delay?mm(i.delay):0;s&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sR);let o=r;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let h=null;c.forEach((p,m)=>{e.currentQueryIndex=m;const v=e.createSubContext(t.options,p);s&&v.delayNextStep(s),p===e.element&&(h=v.currentTimeline),oc(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,v.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),c=o*(e.currentQueryTotal-1);let h=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=c-h;break;case"full":h=r.currentStaggerTime}const m=e.currentTimeline;h&&m.delayNextStep(h);const v=m.currentTime;oc(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-v+(i.startTime-r.currentTimeline.startTime)}}const sR={};class G3{constructor(t,e,r,i,s,o,c,h){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new oR(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=mm(r.duration)),null!=r.delay&&(i.delay=mm(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!o.hasOwnProperty(c))&&(o[c]=XM(s[c],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,s=new G3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=sR,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new lme(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,s,o){let c=[];if(i&&c.push(this.element),t.length>0){t=(t=t.replace(ime,"."+this._enterClassName)).replace(ome,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),c.push(...p)}return!s&&0==c.length&&o.push(function hge(n){return new a.vHH(3014,!1)}()),c}}class oR{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oR(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ud),this._currentKeyframe.set(e,Ud);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const s=i&&i.params||{},o=function cme(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)e.set(s,Ud)}else _m(i,e)}),e}(t,this._globalTimelineStyles);for(let[c,h]of o){const p=XM(h,s,r);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ud),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,h)=>{const p=_m(c,new Map,this._backFill);p.forEach((m,v)=>{"!"===m?t.add(v):m===Ud&&e.add(v)}),r||p.set("offset",h/this.duration),i.push(p)});const s=t.size?QM(t.values()):[],o=e.size?QM(e.values()):[];if(r){const c=i[0],h=new Map(c);c.set("offset",0),h.set("offset",1),i=[c,h]}return U3(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class lme extends oR{constructor(t,e,r,i,s,o,c=!1){super(t,e,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=r+e,c=e/o,h=_m(t[0]);h.set("offset",0),s.push(h);const p=_m(t[0]);p.set("offset",C$(c)),s.push(p);const m=t.length-1;for(let v=1;v<=m;v++){let w=_m(t[v]);const E=w.get("offset");w.set("offset",C$((e+E*r)/o)),s.push(w)}r=o,e=0,i="",t=s}return U3(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function C$(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class j3{}const ume=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dme extends j3{normalizePropertyName(t,e){return L3(t)}normalizeStyleValue(t,e,r,i){let s="";const o=r.toString().trim();if(ume.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function tge(n,t){return new a.vHH(3005,!1)}())}return o+s}}function E$(n,t,e,r,i,s,o,c,h,p,m,v,w){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:o,timelines:c,queriedElements:h,preStyleProps:p,postStyleProps:m,totalTime:v,errors:w}}const z3={};class S${constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function hme(n,t,e,r,i){return n.some(s=>s(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,s,o,c,h,p,m){const v=[],w=this.ast.options&&this.ast.options.params||z3,D=this.buildStyles(r,c&&c.params||z3,v),S=h&&h.params||z3,M=this.buildStyles(i,S,v),P=new Set,V=new Map,B=new Map,X="void"===i,he={params:fme(S,w),delay:this.ast.options?.delay},we=m?[]:H3(t,e,this.ast.animation,s,o,D,M,he,p,v);let Y=0;if(we.forEach(Ce=>{Y=Math.max(Ce.duration+Ce.delay,Y)}),v.length)return E$(e,this._triggerName,r,i,X,D,M,[],[],V,B,Y,v);we.forEach(Ce=>{const ze=Ce.element,Xe=sc(V,ze,new Set);Ce.preStyleProps.forEach(Ot=>Xe.add(Ot));const Ae=sc(B,ze,new Set);Ce.postStyleProps.forEach(Ot=>Ae.add(Ot)),ze!==e&&P.add(ze)});const Ee=QM(P.values());return E$(e,this._triggerName,r,i,X,D,M,we,Ee,V,B,Y)}}function fme(n,t){const e=wS(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class pme{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=wS(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=XM(o,i,e));const h=this.normalizer.normalizePropertyName(c,e);o=this.normalizer.normalizeStyleValue(c,h,o,e),r.set(h,o)})}),r}}class mme{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new pme(i.style,i.options&&i.options.params||{},r))}),T$(this.states,"true","1"),T$(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new S$(t,i,this.states))}),this.fallbackTransition=function _me(n,t,e){return new S$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(o=>o.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function T$(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const yme=new iR;class vme{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=B3(this._driver,e,r,[]);if(r.length)throw function vge(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,r){const i=t.element,s=i$(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],s=this._animations.get(t);let o;const c=new Map;if(s?(o=H3(this._driver,e,s,F3,qM,new Map,new Map,r,yme,i),o.forEach(m=>{const v=sc(c,m.element,new Map);m.postStyleProps.forEach(w=>v.set(w,null))})):(i.push(function xge(){return new a.vHH(3300,!1)}()),o=[]),i.length)throw function wge(n){return new a.vHH(3504,!1)}();c.forEach((m,v)=>{m.forEach((w,E)=>{m.set(E,this._driver.computeStyle(v,E,Ud))})});const p=gm(o.map(m=>{const v=c.get(m.element);return this._buildPlayer(m,new Map,v)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function bge(n){return new a.vHH(3301,!1)}();return e}listen(t,e,r,i){const s=I3(e,"","","");return D3(this._getPlayer(t),r,s,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const D$="ng-animate-queued",$3="ng-animate-disabled",Eme=[],A$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lu="__ng_removed";class W3{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Ime(n){return n??null}(r?t.value:t),r){const s=wS(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const CS="void",q3=new W3(CS);class Tme{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cu(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function Cge(n,t){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function Ege(n){return new a.vHH(3303,!1)}();if(!function kme(n){return"start"==n||"done"==n}(r))throw function Sge(n,t){return new a.vHH(3400,!1)}();const s=sc(this._elementListeners,t,[]),o={name:e,phase:r,callback:i};s.push(o);const c=sc(this._engine.statesByElement,t,new Map);return c.has(e)||(cu(t,ZM),cu(t,ZM+"-"+e),c.set(e,q3)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(o);h>=0&&s.splice(h,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Tge(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,r,i=!0){const s=this._getTrigger(e),o=new Z3(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(cu(t,ZM),cu(t,ZM+"-"+e),this._engine.statesByElement.set(t,c=new Map));let h=c.get(e);const p=new W3(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),c.set(e,p),h||(h=q3),p.value!==CS&&h.value===p.value){if(!function Fme(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const s=e[i];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,p.params)){const S=[],M=s.matchStyles(h.value,h.params,S),P=s.matchStyles(p.value,p.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{hy(t,M),Sh(t,P)})}return}const w=sc(this._engine.playersByElement,t,[]);w.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let E=s.matchTransition(h.value,p.value,t,p.params),D=!1;if(!E){if(!i)return;E=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:h,toState:p,player:o,isFallbackTransition:D}),D||(cu(t,D$),o.onStart(()=>{pw(t,D$)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);const M=this._engine.playersByElement.get(t);if(M){let P=M.indexOf(o);P>=0&&M.splice(P,1)}}),this.players.push(o),w.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,YM,!0);r.forEach(i=>{if(i[lu])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const c=[];if(s.forEach((h,p)=>{if(o.set(p,h.value),this._triggers.has(p)){const m=this.trigger(t,p,CS,i);m&&c.push(m)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),r&&gm(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const h=this._triggers.get(o).fallbackTransition,p=r.get(o)||q3,m=new W3(CS),v=new Z3(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:h,fromState:p,toState:m,player:v,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const s=t[lu];(!s||s===A$)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){cu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==r.triggerName){const h=I3(s,r.triggerName,r.fromState.value,r.toState.value);h._data=t,D3(r.player,c.phase,h,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class Dme{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Tme(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,c=this.driver.getParentElement(e);for(;c;){const h=i.get(c);if(h){const p=r.indexOf(h);r.splice(p+1,0,t),o=!0;break}c=this.driver.getParentElement(c)}o||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}return e}trigger(t,e,r,i){if(aR(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!aR(e))return;const s=e[lu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),cu(t,$3)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pw(t,$3))}removeNode(t,e,r,i){if(aR(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,s){this.collectedLeaveElements.push(e),e[lu]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,r,i,s){return aR(e)?this._fetchNamespace(t).listen(e,r,i,s):()=>{}}_buildInstruction(t,e,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,YM,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,O3,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return gm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[lu];if(e&&e.setForRemoval){if(t[lu]=A$,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($3)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)cu(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?gm(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function Dge(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new iR,i=[],s=new Map,o=[],c=new Map,h=new Map,p=new Map,m=new Set;this.disabledNodes.forEach(ft=>{m.add(ft);const dt=this.driver.query(ft,".ng-animate-queued",!0);for(let Ut=0;Ut<dt.length;Ut++)m.add(dt[Ut])});const v=this.bodyNode,w=Array.from(this.statesByElement.keys()),E=M$(w,this.collectedEnterElements),D=new Map;let S=0;E.forEach((ft,dt)=>{const Ut=F3+S++;D.set(dt,Ut),ft.forEach(wt=>cu(wt,Ut))});const M=[],P=new Set,V=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const dt=this.collectedLeaveElements[ft],Ut=dt[lu];Ut&&Ut.setForRemoval&&(M.push(dt),P.add(dt),Ut.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(wt=>P.add(wt)):V.add(dt))}const B=new Map,X=M$(w,Array.from(P));X.forEach((ft,dt)=>{const Ut=qM+S++;B.set(dt,Ut),ft.forEach(wt=>cu(wt,Ut))}),t.push(()=>{E.forEach((ft,dt)=>{const Ut=D.get(dt);ft.forEach(wt=>pw(wt,Ut))}),X.forEach((ft,dt)=>{const Ut=B.get(dt);ft.forEach(wt=>pw(wt,Ut))}),M.forEach(ft=>{this.processLeaveNode(ft)})});const he=[],we=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(e).forEach(Ut=>{const wt=Ut.player,cn=Ut.element;if(he.push(wt),this.collectedEnterElements.length){const Mt=cn[lu];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(Ut.triggerName)){const Rt=Mt.previousTriggersValues.get(Ut.triggerName),Tt=this.statesByElement.get(Ut.element);if(Tt&&Tt.has(Ut.triggerName)){const gt=Tt.get(Ut.triggerName);gt.value=Rt,Tt.set(Ut.triggerName,gt)}}return void wt.destroy()}}const ut=!v||!this.driver.containsElement(v,cn),re=B.get(cn),Oe=D.get(cn),se=this._buildInstruction(Ut,r,Oe,re,ut);if(se.errors&&se.errors.length)return void we.push(se);if(ut)return wt.onStart(()=>hy(cn,se.fromStyles)),wt.onDestroy(()=>Sh(cn,se.toStyles)),void i.push(wt);if(Ut.isFallbackTransition)return wt.onStart(()=>hy(cn,se.fromStyles)),wt.onDestroy(()=>Sh(cn,se.toStyles)),void i.push(wt);const pe=[];se.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||pe.push(Mt)}),se.timelines=pe,r.append(cn,se.timelines),o.push({instruction:se,player:wt,element:cn}),se.queriedElements.forEach(Mt=>sc(c,Mt,[]).push(wt)),se.preStyleProps.forEach((Mt,Rt)=>{if(Mt.size){let Tt=h.get(Rt);Tt||h.set(Rt,Tt=new Set),Mt.forEach((gt,$n)=>Tt.add($n))}}),se.postStyleProps.forEach((Mt,Rt)=>{let Tt=p.get(Rt);Tt||p.set(Rt,Tt=new Set),Mt.forEach((gt,$n)=>Tt.add($n))})});if(we.length){const ft=[];we.forEach(dt=>{ft.push(function Age(n,t){return new a.vHH(3505,!1)}())}),he.forEach(dt=>dt.destroy()),this.reportError(ft)}const Y=new Map,Ee=new Map;o.forEach(ft=>{const dt=ft.element;r.has(dt)&&(Ee.set(dt,dt),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,Y))}),i.forEach(ft=>{const dt=ft.element;this._getPreviousPlayers(dt,!1,ft.namespaceId,ft.triggerName,null).forEach(wt=>{sc(Y,dt,[]).push(wt),wt.destroy()})});const Ce=M.filter(ft=>F$(ft,h,p)),ze=new Map;k$(ze,this.driver,V,p,Ud).forEach(ft=>{F$(ft,h,p)&&Ce.push(ft)});const Ae=new Map;E.forEach((ft,dt)=>{k$(Ae,this.driver,new Set(ft),h,"!")}),Ce.forEach(ft=>{const dt=ze.get(ft),Ut=Ae.get(ft);ze.set(ft,new Map([...Array.from(dt?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const Ot=[],on=[],zt={};o.forEach(ft=>{const{element:dt,player:Ut,instruction:wt}=ft;if(r.has(dt)){if(m.has(dt))return Ut.onDestroy(()=>Sh(dt,wt.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(wt.totalTime),void i.push(Ut);let cn=zt;if(Ee.size>1){let re=dt;const Oe=[];for(;re=re.parentNode;){const se=Ee.get(re);if(se){cn=se;break}Oe.push(re)}Oe.forEach(se=>Ee.set(se,cn))}const ut=this._buildAnimation(Ut.namespaceId,wt,Y,s,Ae,ze);if(Ut.setRealPlayer(ut),cn===zt)Ot.push(Ut);else{const re=this.playersByElement.get(cn);re&&re.length&&(Ut.parentPlayer=gm(re)),i.push(Ut)}}else hy(dt,wt.fromStyles),Ut.onDestroy(()=>Sh(dt,wt.toStyles)),on.push(Ut),m.has(dt)&&i.push(Ut)}),on.forEach(ft=>{const dt=s.get(ft.element);if(dt&&dt.length){const Ut=gm(dt);ft.setRealPlayer(Ut)}}),i.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<M.length;ft++){const dt=M[ft],Ut=dt[lu];if(pw(dt,qM),Ut&&Ut.hasAnimation)continue;let wt=[];if(c.size){let ut=c.get(dt);ut&&ut.length&&wt.push(...ut);let re=this.driver.query(dt,O3,!0);for(let Oe=0;Oe<re.length;Oe++){let se=c.get(re[Oe]);se&&se.length&&wt.push(...se)}}const cn=wt.filter(ut=>!ut.destroyed);cn.length?Mme(this,dt,cn):this.processLeaveNode(dt)}return M.length=0,Ot.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const dt=this.players.indexOf(ft);this.players.splice(dt,1)}),ft.play()}),Ot}elementContainsData(t,e){let r=!1;const i=e[lu];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,s){let o=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(o=c)}else{const c=this.playersByElement.get(t);if(c){const h=!s||s==CS;c.forEach(p=>{p.queued||!h&&p.triggerName!=i||o.push(p)})}}return(r||i)&&(o=o.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),o}_beforeAnimationBuild(t,e,r){const s=e.element,o=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const p=h.element,m=p!==s,v=sc(r,p,[]);this._getPreviousPlayers(p,m,o,c,e.toState).forEach(E=>{const D=E.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),E.destroy(),v.push(E)})}hy(s,e.fromStyles)}_buildAnimation(t,e,r,i,s,o){const c=e.triggerName,h=e.element,p=[],m=new Set,v=new Set,w=e.timelines.map(D=>{const S=D.element;m.add(S);const M=S[lu];if(M&&M.removedBeforeQueried)return new ff(D.duration,D.delay);const P=S!==h,V=function Rme(n){const t=[];return R$(n,t),t}((r.get(S)||Eme).map(Y=>Y.getRealPlayer())).filter(Y=>!!Y.element&&Y.element===S),B=s.get(S),X=o.get(S),he=i$(0,this._normalizer,0,D.keyframes,B,X),we=this._buildPlayer(D,he,V);if(D.subTimeline&&i&&v.add(S),P){const Y=new Z3(t,c,S);Y.setRealPlayer(we),p.push(Y)}return we});p.forEach(D=>{sc(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function Ame(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,D.element,D))}),m.forEach(D=>cu(D,f$));const E=gm(w);return E.onDestroy(()=>{m.forEach(D=>pw(D,f$)),Sh(h,e.toStyles)}),v.forEach(D=>{sc(i,D,[]).push(E)}),E}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new ff(t.duration,t.delay)}}class Z3{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new ff,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>D3(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sc(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function aR(n){return n&&1===n.nodeType}function I$(n,t){const e=n.style.display;return n.style.display=t??"none",e}function k$(n,t,e,r,i){const s=[];e.forEach(h=>s.push(I$(h)));const o=[];r.forEach((h,p)=>{const m=new Map;h.forEach(v=>{const w=t.computeStyle(p,v,i);m.set(v,w),(!w||0==w.length)&&(p[lu]=Sme,o.push(p))}),n.set(p,m)});let c=0;return e.forEach(h=>I$(h,s[c++])),o}function M$(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const i=new Set(t),s=new Map;function o(c){if(!c)return 1;let h=s.get(c);if(h)return h;const p=c.parentNode;return h=e.has(p)?p:i.has(p)?1:o(p),s.set(c,h),h}return t.forEach(c=>{const h=o(c);1!==h&&e.get(h).push(c)}),e}function cu(n,t){n.classList?.add(t)}function pw(n,t){n.classList?.remove(t)}function Mme(n,t,e){gm(e).onDone(()=>n.processLeaveNode(t))}function R$(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof PD?R$(r.players,t):t.push(r)}}function F$(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(s=>i.add(s)):t.set(n,r),e.delete(n),!0}class lR{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Dme(t,e,r),this._timelineEngine=new vme(t,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,e,r,i,s){const o=t+"-"+i;let c=this._triggerCache[o];if(!c){const h=[],m=B3(this._driver,s,h,[]);if(h.length)throw function _ge(n,t){return new a.vHH(3404,!1)}();c=function gme(n,t,e){return new mme(n,t,e)}(i,m,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(e,i,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[s,o]=s$(r);this._timelineEngine.command(s,e,o,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,s){if("@"==r.charAt(0)){const[o,c]=s$(r);return this._timelineEngine.listen(o,e,c,s)}return this._transitionEngine.listen(t,e,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Pme=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Sh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sh(this._element,this._initialStyles),this._endStyles&&(Sh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(hy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hy(this._element,this._endStyles),this._endStyles=null),Sh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Y3(n){let t=null;return n.forEach((e,r)=>{(function Nme(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class O${constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:v$(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Lme{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return c$(t,e)}getParentElement(t){return M3(t)}query(t,e,r){return u$(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,s,o=[]){const h={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(h.easing=s);const p=new Map,m=o.filter(E=>E instanceof O$);(function Hge(n,t){return 0===n||0===t})(r,i)&&m.forEach(E=>{E.currentSnapshot.forEach((D,S)=>p.set(S,D))});let v=function Lge(n){return n.length?n[0]instanceof Map?n:n.map(t=>p$(t)):[]}(e).map(E=>_m(E));v=function Gge(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(c=>o.set(c,v$(n,c)))}}return t}(t,v,p);const w=function Ome(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Y3(t[0]),t.length>1&&(r=Y3(t[t.length-1]))):t instanceof Map&&(e=Y3(t)),e||r?new Pme(n,e,r):null}(t,v);return new O$(t,v,h,w)}}let Bme=(()=>{class n extends fv{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?IO(e):e;return P$(this._renderer,null,r,"register",[i]),new Vme(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Vme extends class OU{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ume(this._id,t,e||{},this._renderer)}}class Ume{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return P$(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function P$(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const N$="@.disabled";let Hme=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(e,r){const s=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let m=this._rendererCache.get(s);return m||(m=new L$("",s,this.engine),this._rendererCache.set(s,m)),m}const o=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const h=m=>{Array.isArray(m)?m.forEach(h):this.engine.registerTrigger(o,c,e,m.name,m)};return r.data.animation.forEach(h),new Gme(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(lR),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class L${constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==N$?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Gme extends L${constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==N$?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function jme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function zme(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(t,e,r)}}let $me=(()=>{class n extends lR{constructor(e,r,i,s){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te),a.LFG(R3),a.LFG(j3),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const B$=[{provide:fv,useClass:Bme},{provide:j3,useFactory:function Wme(){return new dme}},{provide:lR,useClass:$me},{provide:a.FYo,useFactory:function qme(n,t,e){return new Hme(n,t,e)},deps:[Do,lR,a.R0b]}],K3=[{provide:R3,useFactory:()=>new Lme},{provide:a.QbO,useValue:"BrowserAnimations"},...B$],V$=[{provide:R3,useClass:d$},{provide:a.QbO,useValue:"NoopAnimations"},...B$];let Zme=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?V$:K3}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:K3,imports:[Tr]}),n})();const Yme=["*",[["mat-toolbar-row"]]],Kme=["*","mat-toolbar-row"],Xme=sg(class{constructor(n){this._elementRef=n}});let Qme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Jme=(()=>{class n extends Xme{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36($i),a.Y36(Te))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&a.Suo(i,Qme,5),2&e){let s;a.iGM(s=a.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&a.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Kme,decls:2,vars:0,template:function(e,r){1&e&&(a.F$t(Yme),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),e0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pr,pr]}),n})();function U$(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const X3="inline",uR=["row","column","row-reverse","column-reverse"];function H$(n){let[t,e,r]=G$(n);return function n0e(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,r)}function G$(n){n=n?.toLowerCase()??"";let[t,e,r]=n.split(" ");return uR.find(i=>i===t)||(t=uR[0]),e===X3&&(e=r!==X3?r:"",r=X3),[t,t0e(e),!!r]}function ES(n){let[t]=G$(n);return t.indexOf("row")>-1}function t0e(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function fp(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}const i0e={provide:a.tb,useFactory:function r0e(n,t){return()=>{if(Mi(t)){const e=Array.from(n.querySelectorAll(`[class*=${j$}]`)),r=/\bflex-layout-.+?\b/g;e.forEach(i=>{i.classList.contains(`${j$}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[Te,a.Lbi],multi:!0},j$="flex-layout-";let Q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[i0e]}),n})();class py{constructor(t=!1,e="all",r="",i="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=r,this.suffix=i,this.priority=s,this.property=""}clone(){return new py(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let s0e=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,r,i){const s=this.stylesheet.get(e);s?s.set(r,i):this.stylesheet.set(e,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,r){const i=this.stylesheet.get(e);let s="";if(i){const o=i.get(r);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J3={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},od=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>J3}),gw=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),e4=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function z$(n,t){return n=n?.clone()??new py,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class ds{constructor(){this.shouldCache=!0}sideEffect(t,e,r){}}let Di=(()=>{class n{constructor(e,r,i,s){this._serverStylesheet=e,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=s}applyStyleToElement(e,r,i=null){let s={};"string"==typeof r&&(s[r]=i,r=s),s=this.layoutConfig.disableVendorPrefixes?r:U$(r),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,r=[]){const i=this.layoutConfig.disableVendorPrefixes?e:U$(e);r.forEach(s=>{this._applyMultiValueStyleToElement(i,s)})}getFlowDirection(e){const r="flex-direction";let i=this.lookupStyle(e,r);return[i||"row",this.lookupInlineStyle(e,r)||ba(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,r){return e.getAttribute(r)??""}lookupInlineStyle(e,r){return Mi(this._platformId)?e.style.getPropertyValue(r):function o0e(n,t){return $$(n)[t]??""}(e,r)}lookupStyle(e,r,i=!1){let s="";return e&&((s=this.lookupInlineStyle(e,r))||(Mi(this._platformId)?i||(s=getComputedStyle(e).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,r)))),s?s.trim():""}_applyMultiValueStyleToElement(e,r){Object.keys(e).sort().forEach(i=>{const s=e[i],o=Array.isArray(s)?s:[s];o.sort();for(let c of o)c=c?c+"":"",Mi(this._platformId)||!this._serverModuleLoaded?Mi(this._platformId)?r.style.setProperty(i,c):a0e(r,i,c):this._serverStylesheet.addStyleToElement(r,i,c)})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(s0e),a.LFG(gw),a.LFG(a.Lbi),a.LFG(od))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a0e(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=$$(n);r[t]=e??"",function l0e(n,t){let e="";for(const r in t)t[r]&&(e+=`${r}:${t[r]};`);n.setAttribute("style",e)}(n,r)}function $$(n){const t={},e=n.getAttribute("style");if(e){const r=e.split(/;+/g);for(let i=0;i<r.length;i++){const s=r[i].trim();if(s.length>0){const o=s.indexOf(":");if(-1===o)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,o).trim()]=s.substr(o+1).trim()}}}return t}function SS(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function c0e(n,t){return(n.priority||0)-(t.priority||0)}let t4=(()=>{class n{constructor(e,r,i){this._zone=e,this._platformId=r,this._document=i,this.source=new yi(new py(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((r,i)=>{r.matches&&e.push(i)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(i=>i.matches)}observe(e,r=!1){if(e&&e.length){const i=this._observable$.pipe(Wr(o=>!r||e.indexOf(o.mediaQuery)>-1)),s=new vi.y(o=>{const c=this.registerQuery(e);if(c.length){const h=c.pop();c.forEach(p=>{o.next(p)}),this.source.next(h)}o.complete()});return(0,zs.T)(s,i)}return this._observable$}registerQuery(e){const r=Array.isArray(e)?e:[e],i=[];return function u0e(n,t){const e=n.filter(r=>!W$[r]);if(e.length>0){const r=e.join(", ");try{const i=t.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),t.head.appendChild(i),e.forEach(s=>W$[s]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(s=>{const o=h=>{this._zone.run(()=>this.source.next(new py(h.matches,s)))};let c=this.registry.get(s);c||(c=this.buildMQL(s),c.addListener(o),this.pendingRemoveListenerFns.push(()=>c.removeListener(o)),this.registry.set(s,c)),c.matches&&i.push(new py(!0,s))}),i}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function d0e(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Mi(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W$={},h0e=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],q$="(orientation: portrait) and (max-width: 599.98px)",Z$="(orientation: landscape) and (max-width: 959.98px)",Y$="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",K$="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",X$="(orientation: portrait) and (min-width: 840px)",Q$="(orientation: landscape) and (min-width: 1280px)",pp={HANDSET:`${q$}, ${Z$}`,TABLET:`${Y$} , ${K$}`,WEB:`${X$}, ${Q$} `,HANDSET_PORTRAIT:`${q$}`,TABLET_PORTRAIT:`${Y$} `,WEB_PORTRAIT:`${X$}`,HANDSET_LANDSCAPE:`${Z$}`,TABLET_LANDSCAPE:`${K$}`,WEB_LANDSCAPE:`${Q$}`},f0e=[{alias:"handset",priority:2e3,mediaQuery:pp.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:pp.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:pp.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:pp.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:pp.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:pp.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:pp.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:pp.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:pp.WEB_PORTRAIT,overlapping:!0}],p0e=/(\.|-|_)/g;function g0e(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const v0e=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,a.f3M)(e4),t=(0,a.f3M)(od),e=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return function y0e(n,t=[]){const e={};return n.forEach(r=>{e[r.alias]=r}),t.forEach(r=>{e[r.alias]?fp(e[r.alias],r):e[r.alias]=r}),function _0e(n){return n.forEach(t=>{t.suffix||(t.suffix=function m0e(n){return n.replace(p0e,"|").split("|").map(g0e).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(r=>e[r]))}((t.disableDefaultBps?[]:h0e).concat(t.addOrientationBps?f0e:[]),e)}});let n4=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(c0e)}findByAlias(e){return e?this.findWithPredicate(e,r=>r.alias===e):null}findByQuery(e){return this.findWithPredicate(e,r=>r.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,r){let i=this.findByMap.get(e);return i||(i=this.items.find(r)??null,this.findByMap.set(e,i)),i??null}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(v0e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mw="print",x0e={alias:mw,mediaQuery:mw,priority:1e3};let w0e=(()=>{class n{constructor(e,r,i){this.breakpoints=e,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new b0e,this.deactivations=[]}withPrintQuery(e){return[...e,mw]}isPrintEvent(e){return e.mediaQuery.startsWith(mw)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const r=this.breakpoints.findByQuery(e);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(SS)}updateEvent(e){let r=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(r=this.getEventBreakpoints(e)[0],e.mediaQuery=r?.mediaQuery??""),z$(e,r)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new py(!0,mw))),e.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(e){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(r)),e.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,r)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,r){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const i=this.breakpoints.findByQuery(r.mediaQuery);if(i){const s=this.formerActivations&&this.formerActivations.includes(i),o=!this.formerActivations&&e.activatedBreakpoints.includes(i);(s||o)&&(this.deactivations.push(i),this.deactivations.sort(SS))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n4),a.LFG(od),a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class b0e{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(x0e),t.sort(SS),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function C0e(n){return n?.mediaQuery.startsWith(mw)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Ui=(()=>{class n{constructor(e,r,i){this.matchMedia=e,this.breakpoints=r,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new hn.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const r=this.findByQuery(e.mediaQuery);if(r){e=z$(e,r);const i=this.activatedBreakpoints.indexOf(r);e.matches&&-1===i?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(SS),this.updateStyles()):!e.matches&&-1!==i&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(SS),this.updateStyles())}}init(e,r,i,s,o=[]){J$(this.updateMap,e,r,i),J$(this.clearMap,e,r,s),this.buildElementKeyMap(e,r),this.watchExtraTriggers(e,r,o)}getValue(e,r,i){const s=this.elementMap.get(e);if(s){const o=void 0!==i?s.get(i):this.getActivatedValues(s,r);if(o)return o.get(r)}}hasValue(e,r){const i=this.elementMap.get(e);if(i){const s=this.getActivatedValues(i,r);if(s)return void 0!==s.get(r)||!1}return!1}setValue(e,r,i,s){let o=this.elementMap.get(e);if(o){const h=(o.get(s)??new Map).set(r,i);o.set(s,h),this.elementMap.set(e,o)}else o=(new Map).set(s,(new Map).set(r,i)),this.elementMap.set(e,o);const c=this.getValue(e,r);void 0!==c&&this.updateElement(e,r,c)}trackValue(e,r){return this.subject.asObservable().pipe(Wr(i=>i.element===e&&i.key===r))}updateStyles(){this.elementMap.forEach((e,r)=>{const i=new Set(this.elementKeyMap.get(r));let s=this.getActivatedValues(e);s&&s.forEach((o,c)=>{this.updateElement(r,c,o),i.delete(c)}),i.forEach(o=>{if(s=this.getActivatedValues(e,o),s){const c=s.get(o);this.updateElement(r,o,c)}else this.clearElement(r,o)})})}clearElement(e,r){const i=this.clearMap.get(e);if(i){const s=i.get(r);s&&(s(),this.subject.next({element:e,key:r,value:""}))}}updateElement(e,r,i){const s=this.updateMap.get(e);if(s){const o=s.get(r);o&&(o(i),this.subject.next({element:e,key:r,value:i}))}}releaseElement(e){const r=this.watcherMap.get(e);r&&(r.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const i=this.elementMap.get(e);i&&(i.forEach((s,o)=>i.delete(o)),this.elementMap.delete(e))}triggerUpdate(e,r){const i=this.elementMap.get(e);if(i){const s=this.getActivatedValues(i,r);s&&(r?this.updateElement(e,r,s.get(r)):s.forEach((o,c)=>this.updateElement(e,c,o)))}}buildElementKeyMap(e,r){let i=this.elementKeyMap.get(e);i||(i=new Set,this.elementKeyMap.set(e,i)),i.add(r)}watchExtraTriggers(e,r,i){if(i&&i.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(r)){const c=(0,zs.T)(...i).subscribe(()=>{const h=this.getValue(e,r);this.updateElement(e,r,h)});s.set(r,c)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,r){for(let s=0;s<this.activatedBreakpoints.length;s++){const c=e.get(this.activatedBreakpoints[s].alias);if(c&&(void 0===r||c.has(r)&&null!=c.get(r)))return c}if(!this._useFallbacks)return;const i=e.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const e=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,ai.b)(this.hook.interceptEvents(this)),Wr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(t4),a.LFG(n4),a.LFG(w0e))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J$(n,t,e,r){if(void 0!==r){const i=n.get(t)??new Map;i.set(e,r),n.set(t,i)}}let Xi=(()=>{class n{constructor(e,r,i,s){this.elementRef=e,this.styleBuilder=r,this.styler=i,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new hn.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(e[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,r){const i=this.styleBuilder,s=i.shouldCache;let o=this.styleCache.get(e);(!o||!s)&&(o=i.buildStyles(e,r),s&&this.styleCache.set(e,o)),this.mru={...o},this.applyStyleToElement(o),i.sideEffect(e,o,r)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,r=!1){if(e){const[i,s]=this.styler.getFlowDirection(e);if(!s&&r){const o=H$(i);this.styler.applyStyleToElements(o,[e])}return i.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,r,i=this.nativeElement){this.styler.applyStyleToElement(i,e,r)}setValue(e,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,r)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ds),a.Y36(Di),a.Y36(Ui))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();function eW(n,t="1",e="1"){let r=[t,e,n],i=n.indexOf("calc");if(i>0){r[2]=tW(n.substring(i).trim());let s=n.substr(0,i).trim().split(" ");2==s.length&&(r[0]=s[0],r[1]=s[1])}else if(0==i)r[2]=tW(n.trim());else{let s=n.split(" ");r=3===s.length?s:[t,e,n]}return r}function tW(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}class B0e{constructor(t,e,r=!0){this.key=t,this.value=e,this.key=r?t.replace(/['"]/g,"").trim():t.trim(),this.value=r?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function rW(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function sW(n){const[t,...e]=n.split(":");return new B0e(t,e.join(":"))}function oW(n,t){return t.key&&(n[t.key]=t.value),n}let H0e=(()=>{class n extends Xi{constructor(e,r,i,s,o,c,h,p,m){super(e,null,r,i),this.sanitizer=s,this.ngStyleInstance=h,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new vu(e,o,c)),this.init();const v=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(v),this.isServer=p&&ba(m)}updateWithValue(e){const r=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...r},this.isServer&&this.applyStyleToElement(r),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const r=i=>this.sanitizer.sanitize(a.q3G.STYLE,i)??"";if(e)switch(rW(e)){case"string":return lW(function V0e(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),r);case"array":return lW(e,r);default:return function iW(n,t){let e=[];return"set"===rW(n)?n.forEach(r=>e.push(r)):Object.keys(n).forEach(r=>{e.push(`${r}:${n[r]}`)}),function U0e(n,t){return n.map(sW).filter(r=>!!r).map(r=>(t&&(r.value=t(r.value)),r)).reduce(oW,{})}(e,t)}(e,r)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(Ui),a.Y36(Ou),a.Y36(a.aQg),a.Y36(a.Qsj),a.Y36(vu,10),a.Y36(gw),a.Y36(a.Lbi))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const G0e=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let aW=(()=>{class n extends H0e{constructor(){super(...arguments),this.inputs=G0e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[a.qOj]}),n})();function lW(n,t){return n.map(sW).filter(r=>!!r).map(r=>(t&&(r.value=t(r.value)),r)).reduce(oW,{})}let cW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Q3]}),n})(),j0e=(()=>{class n extends ds{buildStyles(e,{display:r}){const i=H$(e);return{...i,display:"none"===r?r:i.display}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z0e=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let $0e=(()=>{class n extends Xi{constructor(e,r,i,s,o){super(e,i,r,s),this._config=o,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const i=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=uW.get(i)??new Map,uW.set(i,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:i}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(j0e),a.Y36(Ui),a.Y36(od))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),ac=(()=>{class n extends $0e{constructor(){super(...arguments),this.inputs=z0e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),n})();const uW=new Map;let r_e=(()=>{class n extends ds{constructor(e){super(),this.layoutConfig=e}buildStyles(e,r){let[i,s,...o]=e.split(" "),c=o.join(" ");const h=r.direction.indexOf("column")>-1?"column":"row",p=ES(h)?"max-width":"max-height",m=ES(h)?"min-width":"min-height",v=String(c).indexOf("calc")>-1,w=v||"auto"===c,E=String(c).indexOf("%")>-1&&!v,D=String(c).indexOf("px")>-1||String(c).indexOf("rem")>-1||String(c).indexOf("em")>-1||String(c).indexOf("vw")>-1||String(c).indexOf("vh")>-1;let S=v||D;i="0"==i?0:i,s="0"==s?0:s;const M=!i&&!s;let P={};const V={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(c||""){case"":const B=!1!==this.layoutConfig.useColumnBasisZero;c="row"===h?"0%":B?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,c="auto";break;case"grow":c="100%";break;case"noshrink":s=0,c="auto";break;case"auto":break;case"none":i=0,s=0,c="auto";break;default:!S&&!E&&!isNaN(c)&&(c+="%"),"0%"===c&&(S=!0),"0px"===c&&(c="0%"),P=fp(V,v?{"flex-grow":i,"flex-shrink":s,"flex-basis":S?c:"100%"}:{flex:`${i} ${s} ${S?c:"100%"}`})}return P.flex||P["flex-grow"]||(P=fp(V,v?{"flex-grow":i,"flex-shrink":s,"flex-basis":c}:{flex:`${i} ${s} ${c}`})),"0%"!==c&&"0px"!==c&&"0.000000001px"!==c&&"auto"!==c&&(P[m]=M||S&&i?c:null,P[p]=M||!w&&s?c:null),P[m]||P[p]?r.hasWrap&&(P[v?"flex-basis":"flex"]=P[p]?v?P[p]:`${i} ${s} ${P[p]}`:v?P[m]:`${i} ${s} ${P[m]}`):P=fp(V,v?{"flex-grow":i,"flex-shrink":s,"flex-basis":c}:{flex:`${i} ${s} ${c}`}),fp(P,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(od))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const i_e=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let s_e=(()=>{class n extends Xi{constructor(e,r,i,s,o){super(e,s,r,o),this.layoutConfig=i,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(kt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(kt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const i=e.value.split(" ");this.direction=i[0],this.wrap=void 0!==i[1]&&"wrap"===i[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const i=this.direction,s=i.startsWith("row"),o=this.wrap;s&&o?this.styleCache=l_e:s&&!o?this.styleCache=o_e:!s&&o?this.styleCache=c_e:!s&&!o&&(this.styleCache=a_e);const h=eW(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(h.join(" "),{direction:i,hasWrap:o})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const r=eW(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(od),a.Y36(r_e),a.Y36(Ui))},n.\u0275dir=a.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.qOj]}),n})(),fR=(()=>{class n extends s_e{constructor(){super(...arguments),this.inputs=i_e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.qOj]}),n})();const o_e=new Map,a_e=new Map,l_e=new Map,c_e=new Map;let R_e=(()=>{class n extends ds{buildStyles(e,r){const i={},[s,o]=e.split(" ");switch(s){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;default:i["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;default:i["align-items"]=i["align-content"]="stretch"}return fp(i,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===o?ES(r.layout)?null:"100%":null,"max-height":"stretch"===o&&ES(r.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F_e=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let O_e=(()=>{class n extends Xi{constructor(e,r,i,s){super(e,i,r,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(kt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const r=this.layout||"row",i=this.inline;"row"===r&&i?this.styleCache=V_e:"row"!==r||i?"row-reverse"===r&&i?this.styleCache=H_e:"row-reverse"!==r||i?"column"===r&&i?this.styleCache=U_e:"column"!==r||i?"column-reverse"===r&&i?this.styleCache=G_e:"column-reverse"===r&&!i&&(this.styleCache=B_e):this.styleCache=N_e:this.styleCache=L_e:this.styleCache=P_e,this.addStyles(e,{layout:r,inline:i})}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],this.inline=e.value.includes("inline"),uR.find(i=>i===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Di),a.Y36(R_e),a.Y36(Ui))},n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),Th=(()=>{class n extends O_e{constructor(){super(...arguments),this.inputs=F_e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),n})();const P_e=new Map,N_e=new Map,L_e=new Map,B_e=new Map,V_e=new Map,U_e=new Map,H_e=new Map,G_e=new Map;let fW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Q3,ng]}),n})(),wW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Q3]}),n})(),uve=(()=>{class n{constructor(e,r){ba(r)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,r=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:od,useValue:{...J3,...e}},{provide:e4,useValue:r,multi:!0},{provide:gw,useValue:!0}]:[{provide:od,useValue:{...J3,...e}},{provide:e4,useValue:r,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gw),a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fW,cW,wW,fW,cW,wW]}),n})();const dve=["connectionContainer"],hve=["inputContainer"],fve=["label"];function pve(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function gve(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function mve(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function _ve(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function yve(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function vve(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.YNc(2,mve,4,1,"ng-container",12),a.YNc(3,_ve,1,0,"ng-content",12),a.YNc(4,yve,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function xve(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function wve(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function bve(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Cve(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function Eve(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,Cve,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const Sve=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tve=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Dve=new a.OlP("MatError"),Ave={transitionMessages:k0("transitionMessages",[$u("enter",ts({opacity:1,transform:"translateY(0%)"})),Wu("void => enter",[ts({opacity:0,transform:"translateY(-5px)"}),Hd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const Ive=new a.OlP("MatHint");let bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),kve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const CW=new a.OlP("MatPrefix");let Mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matPrefix",""]],features:[a._Bn([{provide:CW,useExisting:n}])]}),n})();const EW=new a.OlP("MatSuffix");let Rve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:EW,useExisting:n}])]}),n})(),SW=0;const Ove=sg(class{constructor(n){this._elementRef=n}},"primary"),Pve=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),s4=new a.OlP("MatFormField");let o4=(()=>{class n extends Ove{constructor(e,r,i,s,o,c,h){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=c,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new hn.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+SW++,this._labelId="mat-form-field-label-"+SW++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==h,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Jt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(cl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(kt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(kt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,zs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(kt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,eg(this._label.nativeElement,"transitionend").pipe(x(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const m=r.querySelectorAll(`${i}, ${s}`);for(let v=0;v<m.length;v++)m[v].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,c=0;const h=r.querySelectorAll(i),p=r.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const m=r.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(m),w=e.children,E=this._getStartEnd(w[0].getBoundingClientRect());let D=0;for(let S=0;S<w.length;S++)D+=w[S].offsetWidth;o=Math.abs(E-v)-5,c=D>0?.75*D+10:0}for(let m=0;m<h.length;m++)h[m].style.width=`${o}px`;for(let m=0;m<p.length;m++)p[m].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Uc,8),a.Y36(Pve,8),a.Y36($i),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(a.Suo(i,pR,5),a.Suo(i,pR,7),a.Suo(i,bW,5),a.Suo(i,bW,7),a.Suo(i,kve,5),a.Suo(i,Dve,5),a.Suo(i,Ive,5),a.Suo(i,CW,5),a.Suo(i,EW,5)),2&e){let s;a.iGM(s=a.CRH())&&(r._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(r._controlStatic=s.first),a.iGM(s=a.CRH())&&(r._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(r._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(r._placeholderChild=s.first),a.iGM(s=a.CRH())&&(r._errorChildren=s),a.iGM(s=a.CRH())&&(r._hintChildren=s),a.iGM(s=a.CRH())&&(r._prefixChildren=s),a.iGM(s=a.CRH())&&(r._suffixChildren=s)}},viewQuery:function(e,r){if(1&e&&(a.Gf(dve,7),a.Gf(hve,5),a.Gf(fve,5)),2&e){let i;a.iGM(i=a.CRH())&&(r._connectionContainerRef=i.first),a.iGM(i=a.CRH())&&(r._inputContainerRef=i.first),a.iGM(i=a.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:s4,useExisting:n}]),a.qOj],ngContentSelectors:Tve,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(a.F$t(Sve),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),a.YNc(3,pve,9,0,"ng-container",3),a.YNc(4,gve,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,vve,5,16,"label",8),a.qZA()(),a.YNc(10,xve,2,0,"div",9),a.qZA(),a.YNc(11,wve,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,bve,2,1,"div",12),a.YNc(14,Eve,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==r.appearance),a.xp6(1),a.Q6J("ngIf",r._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",r._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",r._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=r.appearance),a.xp6(1),a.Q6J("ngSwitch",r._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Sr,va,io,zy],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Ave.transitionMessages]},changeDetection:0}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ml,pr,cf,pr]}),n})();class Nve{constructor(t=!1,e,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new hn.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!r.has(s)).forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}const Lve=["trigger"],Bve=["panel"];function Vve(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function Uve(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function Hve(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function Gve(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,Uve,2,1,"span",10),a.YNc(2,Hve,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function jve(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(i){a.CHM(e);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(i))}),a.Hsn(3,1),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const zve=[[["mat-select-trigger"]],"*"],$ve=["mat-select-trigger","*"],IW={transformPanelWrap:k0("transformPanelWrap",[Wu("* => void",pv("@transformPanel",[M0()],{optional:!0}))]),transformPanel:k0("transformPanel",[$u("void",ts({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),$u("showing",ts({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),$u("showing-multiple",ts({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Wu("void => *",Hd("120ms cubic-bezier(0, 0, 0.2, 1)")),Wu("* => void",Hd("100ms 25ms linear",ts({opacity:0})))])};let kW=0;const RW=new a.OlP("mat-select-scroll-strategy"),Yve=new a.OlP("MAT_SELECT_CONFIG"),Kve={provide:RW,deps:[ul],useFactory:function Zve(n){return()=>n.scrollStrategies.reposition()}};class Xve{constructor(t,e){this.source=t,this.value=e}}const Qve=Nb(Lb(lv(SD(class{constructor(n,t,e,r,i){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=i,this.stateChanges=new hn.x}})))),Jve=new a.OlP("MatSelectTrigger");let exe=(()=>{class n extends Qve{constructor(e,r,i,s,o,c,h,p,m,v,w,E,D,S){super(o,s,h,p,v),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=c,this._parentFormField=m,this._liveAnnouncer=D,this._defaultOptions=S,this._panelOpen=!1,this._compareWith=(M,P)=>M===P,this._uid="mat-select-"+kW++,this._triggerAriaLabelledBy=null,this._destroy=new hn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+kW++,this._panelDoneAnimatingStream=new hn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=In(()=>{const M=this.options;return M?M.changes.pipe(cl(M),Yi(()=>(0,zs.T)(...M.map(P=>P.onSelectionChange)))):this._ngZone.onStable.pipe(x(1),Yi(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(Wr(M=>M),(0,C.U)(()=>{})),this._closedStream=this.openedChange.pipe(Wr(M=>!M),(0,C.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=S?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=S.typeaheadDebounceInterval),this._scrollStrategyFactory=E,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(w)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ws.required)??!1}set required(e){this._required=Jt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Jt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Jt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Dr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Nve(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(j(),kt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(kt(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(cl(null),kt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,i=40===r||38===r||37===r||39===r,s=13===r||32===r,o=this._keyManager;if(!o.isTyping()&&s&&!ju(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;o.onKeydown(e);const h=this.selected;h&&c!==h&&this._liveAnnouncer.announce(h.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,i=e.keyCode,s=40===i||38===i,o=r.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==i&&32!==i||!r.activeItem||ju(e))if(!o&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const c=this.options.some(h=>!h.disabled&&!h.selected);this.options.forEach(h=>{h.disabled||(c?h.select():h.deselect())})}else{const c=r.activeItemIndex;r.onKeydown(e),this._multiple&&s&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==c&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(x(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new kF(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(kt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(kt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,zs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(kt(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,zs.T)(...this.options.map(r=>r._stateChanges)).pipe(kt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,r){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,e):e.indexOf(r)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Aa),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(cv),a.Y36(a.SBq),a.Y36(Uc,8),a.Y36(yg,8),a.Y36(zc,8),a.Y36(s4,8),a.Y36(Zl,10),a.$8M("tabindex"),a.Y36(RW),a.Y36(gb),a.Y36(Yve,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,r){if(1&e&&(a.Gf(Lve,5),a.Gf(Bve,5),a.Gf(_D,5)),2&e){let i;a.iGM(i=a.CRH())&&(r.trigger=i.first),a.iGM(i=a.CRH())&&(r.panel=i.first),a.iGM(i=a.CRH())&&(r._overlayDir=i.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),txe=(()=>{class n extends exe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,r,i){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-r+s/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(kt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(x(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const r=Gb(e,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===r?0:function RD(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}((e+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Xve(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let p=this._selectionModel.selected[0]||this.options.first;o=p&&p.group?32:16}i||(o*=-1);const c=0-(e.left+o-(i?s:0)),h=e.right+o-r.width+(i?0:s);c>0?o+=c+8:h>0&&(o-=h+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,r,i){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,c=Math.floor(256/s);let h;return this.disableOptionCentering?0:(h=0===this._scrollTop?e*s:this._scrollTop===i?(e-(this._getItemCount()-c))*s+(s-(this._getItemCount()*s-256)%s):r-s/2,Math.round(-1*h-o))}_checkOverlayWithinViewport(e){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=i.height-this._triggerRect.bottom-8,c=Math.abs(this._offsetY),p=Math.min(this._getItemCount()*r,256)-c-this._triggerRect.height;p>o?this._adjustPanelUp(p,o):c>s?this._adjustPanelDown(c,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,r){const i=Math.round(e-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,r,i){const s=Math.round(e-r);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*e,256),o=r*e-i;let c;c=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),c+=Gb(c,this.options,this.optionGroups);const h=i/2;this._scrollTop=this._calculateOverlayScroll(c,h,o),this._offsetY=this._calculateOverlayOffsetY(c,h,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const e=this._getItemHeight(),r=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,r,i){if(1&e&&(a.Suo(i,Jve,5),a.Suo(i,DO,5),a.Suo(i,kD,5)),2&e){let s;a.iGM(s=a.CRH())&&(r.customTrigger=s.first),a.iGM(s=a.CRH())&&(r.options=s),a.iGM(s=a.CRH())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,r){1&e&&a.NdJ("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(a.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:pR,useExisting:n},{provide:hv,useExisting:n}]),a.qOj],ngContentSelectors:$ve,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(a.F$t(zve),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return r.toggle()}),a.TgZ(3,"div",2),a.YNc(4,Vve,2,1,"span",3),a.YNc(5,Gve,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,jve,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const i=a.MAs(1);a.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",r.empty),a.uIk("id",r._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},dependencies:[fc,va,io,Vh,_D,mD],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[IW.transformPanelWrap,IW.transformPanel]},changeDetection:0}),n})(),FW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Kve],imports:[Ml,T0,FD,pr,rg,gR,FD,pr]}),n})();const sxe={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[ul],useFactory:function ixe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let axe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[sxe],imports:[HF,Ml,T0,pr,pr,rg]}),n})(),a4=(()=>{class n{constructor(){this.changes=new hn.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,r,i)=>{if(0==i||0==r)return`0 of ${i}`;const s=e*r;return`${s+1} \u2013 ${s<(i=Math.max(i,0))?Math.min(s+r,i):s+r} of ${i}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hxe={provide:a4,deps:[[new a.FiY,new a.tp0,a4]],useFactory:function dxe(n){return n||new a4}};let OW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[hxe],imports:[Ml,w3,FW,axe,pr]}),n})();const PW=tl({passive:!0});let fxe=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return y.E;const r=jl(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new hn.x,o="cdk-text-field-autofilled",c=h=>{"cdk-text-field-autofill-start"!==h.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===h.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:h.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,PW),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",c,PW)}}),s}stopMonitoring(e){const r=jl(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($i),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const pxe=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),gxe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let mxe=0;const _xe=SD(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new hn.x}});let LW=(()=>{class n extends _xe{constructor(e,r,i,s,o,c,h,p,m,v){super(c,s,o,i),this._elementRef=e,this._platform=r,this._autofillMonitor=p,this._formField=v,this._uid="mat-input-"+mxe++,this.focused=!1,this.stateChanges=new hn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>Pu().has(D)),this._iOSKeyupListener=D=>{const S=D.target;!S.value&&0===S.selectionStart&&0===S.selectionEnd&&(S.setSelectionRange(1,1),S.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,E=w.nodeName.toLowerCase();this._inputValueAccessor=h||w,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&m.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===E,this._isTextarea="textarea"===E,this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Jt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ws.required)??!1}set required(e){this._required=Jt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Pu().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Jt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){gxe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36($i),a.Y36(Zl,10),a.Y36(yg,8),a.Y36(zc,8),a.Y36(cv),a.Y36(pxe,10),a.Y36(fxe),a.Y36(a.R0b),a.Y36(s4,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&a.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(a.Ikx("disabled",r.disabled)("required",r.required),a.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),a.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:pR,useExisting:n}]),a.qOj,a.TTD]}),n})(),yxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[cv],imports:[NW,gR,pr,NW,gR]}),n})(),BW=(()=>{class n{transform(e,r){return r&&e?n.filter(e,r):e}static filter(e,r){const i=r.toLowerCase();function s(o,c){for(let h in o)if(null!==o[h]&&null!=o[h]&&("object"==typeof o[h]&&s(o[h],c)||o[h].toString().toLowerCase().includes(i)))return!0;return!1}return e.filter(function(o){return s(o,r)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=a.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),vxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const VW="@firebase/database";let l4="";function HW(n){l4=n}class bxe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,G.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,G.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Cxe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,G.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const GW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new bxe(t)}}catch{}return new Cxe},gy=GW("localStorage"),c4=GW("sessionStorage"),yw=new pl.Yd("@firebase/database"),jW=function(){let n=1;return function(){return n++}}(),zW=function(n){const t=(0,G.dS)(n),e=new G.gQ;e.update(t);const r=e.digest();return G.US.encodeByteArray(r)},AS=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=AS.apply(null,r):t+="object"==typeof r?(0,G.Pz)(r):r,t+=" "}return t};let my=null,$W=!0;const WW=function(n,t){(0,G.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yw.logLevel=pl.in.VERBOSE,my=yw.log.bind(yw),t&&c4.set("logging_enabled",!0)):"function"==typeof n?my=n:(my=null,c4.remove("logging_enabled"))},Co=function(...n){if(!0===$W&&($W=!1,null===my&&!0===c4.get("logging_enabled")&&WW(!0)),my){const t=AS.apply(null,n);my(t)}},IS=function(n){return function(...t){Co(n,...t)}},u4=function(...n){const t="FIREBASE INTERNAL ERROR: "+AS(...n);yw.error(t)},Dh=function(...n){const t=`FIREBASE FATAL ERROR: ${AS(...n)}`;throw yw.error(t),new Error(t)},ma=function(...n){const t="FIREBASE WARNING: "+AS(...n);yw.warn(t)},yR=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gp="[MIN_NAME]",Ah="[MAX_NAME]",_y=function(n,t){if(n===t)return 0;if(n===gp||t===Ah)return-1;if(t===gp||n===Ah)return 1;{const e=vR(n),r=vR(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},Txe=function(n,t){return n===t?0:n<t?-1:1},kS=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,G.Pz)(t))},d4=function(n){if("object"!=typeof n||null===n)return(0,G.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,G.Pz)(t[r]),e+=":",e+=d4(n[t[r]]);return e+="}",e},qW=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let i=0;i<e;i+=t)r.push(n.substring(i,i+t>e?e:i+t));return r};function Eo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const ZW=function(n){(0,G.hu)(!yR(n),"Invalid JSON number");const r=1023;let i,s,o,c,h;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=c+r,o=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(o%2?1:0),o=Math.floor(o/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(i?1:0),p.reverse();const m=p.join("");let v="";for(h=0;h<64;h+=8){let w=parseInt(m.substr(h,8),2).toString(16);1===w.length&&(w="0"+w),v+=w}return v.toLowerCase()},kxe=new RegExp("^-?(0*)\\d{1,10}$"),YW=-2147483648,h4=2147483647,vR=function(n){if(kxe.test(n)){const t=Number(n);if(t>=YW&&t<=h4)return t}return null},vw=function(n){try{n()}catch(t){setTimeout(()=>{throw ma("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},MS=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Rxe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ma(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fxe{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Co("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ma(t)}}let RS=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const e9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,r9="websocket",i9="long_polling";class p4{constructor(t,e,r,i,s=!1,o="",c=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gy.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&gy.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function s9(n,t,e){let r;if((0,G.hu)("string"==typeof t,"typeof type must == string"),(0,G.hu)("object"==typeof e,"typeof params must == object"),t===r9)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==i9)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Oxe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const i=[];return Eo(e,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Pxe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,G.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,G.p$)(this.counters_)}}const g4={},m4={};function _4(n){const t=n.toString();return g4[t]||(g4[t]=new Pxe),g4[t]}class Lxe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vw(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ym{constructor(t,e,r,i,s,o,c){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=IS(t),this.stats_=_4(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),s9(e,i9,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Lxe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,G.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new y4((...s)=>{const[o,c,h,p,m]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=c,this.password=h;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&e9.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ym.forceAllow_=!0}static forceDisallow(){ym.forceDisallow_=!0}static isAvailable(){return!((0,G.Yr)()||!ym.forceAllow_&&(ym.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,G.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,G.h$)(e),i=qW(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,G.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,G.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class y4{constructor(t,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,G.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=jW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=y4.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){Co("frame writing exception"),c.stack&&Co(c.stack),Co(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Co("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,e){(0,G.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Co("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let wR=null;typeof MozWebSocket<"u"?wR=MozWebSocket:typeof WebSocket<"u"&&(wR=WebSocket);let xw=(()=>{class n{constructor(e,r,i,s,o,c,h){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=IS(this.connId),this.stats_=_4(r),this.connURL=n.connectionURL_(r,c,h,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,s,o){const c={v:"5"};return!(0,G.Yr)()&&typeof location<"u"&&location.hostname&&e9.test(location.hostname)&&(c.r="f"),r&&(c.s=r),i&&(c.ls=i),s&&(c.ac=s),o&&(c.p=o),s9(e,r9,c)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gy.set("previous_websocket_failure",!0);try{let i;if((0,G.Yr)()){i={headers:{"User-Agent":`Firebase/5/${l4}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,c=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new wR(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==wR&&!n.forceDisallow_}static previouslyFailed(){return gy.isInMemoryStorage||!0===gy.get("previous_websocket_failure")}markConnectionHealthy(){gy.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,G.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,G.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,G.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=qW(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),h9=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ym,xw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=xw&&xw.isAvailable();let i=r&&!xw.previouslyFailed();if(e.webSocketOnly&&(r||ma("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[xw];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class v9{constructor(t,e,r,i,s,o,c,h,p,m){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=IS("c:"+this.id+":"),this.transportManager_=new h9(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=MS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=kS("t",t),r=kS("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=kS("t",t),r=kS("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=kS("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?u4("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):u4("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&ma("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),MS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):MS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class x9{put(t,e,r,i){}merge(t,e,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class w9{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,G.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const i=this.getInitialEvent(t);i&&e.apply(r,i)}off(t,e,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===e&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(t){(0,G.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class bR extends w9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,G.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bR}getInitialEvent(t){return(0,G.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Br{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Fr(){return new Br("")}function ir(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function vm(n){return n.pieces_.length-n.pieceNum_}function ni(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Br(n.pieces_,t)}function x4(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function FS(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function E9(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Br(t,0)}function Hi(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Br)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new Br(e,0)}function sr(n){return n.pieceNum_>=n.pieces_.length}function ja(n,t){const e=ir(n),r=ir(t);if(null===e)return t;if(e===r)return ja(ni(n),ni(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function swe(n,t){const e=FS(n,0),r=FS(t,0);for(let i=0;i<e.length&&i<r.length;i++){const s=_y(e[i],r[i]);if(0!==s)return s}return e.length===r.length?0:e.length<r.length?-1:1}function w4(n,t){if(vm(n)!==vm(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function uu(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(vm(n)>vm(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class owe{constructor(t,e){this.errorPrefix_=e,this.parts_=FS(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,G.ug)(this.parts_[r]);S9(this)}}function S9(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yy(n))}function yy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class b4 extends w9{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new b4}getInitialEvent(t){return(0,G.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const OS=1e3;let ER,vy=(()=>{class n extends x9{constructor(e,r,i,s,o,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=IS("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=OS,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,G.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");b4.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bR.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const s=++this.requestNumber_,o={r:s,a:e,b:r};this.log_((0,G.Pz)(o)),(0,G.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const r=new G.BH,i={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:c=>{const h=c.d;"ok"===c.s?r.resolve(h):r.reject(h)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,i,s){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),(0,G.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,G.hu)(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:r,query:e,tag:i};this.listens.get(c).set(o,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,h=>{const p=h.d,m=h.s;n.warnOnListenWarnings_(p,r),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",h),"ok"!==m&&this.removeListen_(i,s),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,G.r3)(e,"w")){const i=(0,G.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ma(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,G.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,G.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,c=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,G.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,r)}sendUnlisten_(e,r,i,s){this.log_("Unlisten on "+e+" for "+r);const o={p:e};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,r,i,s){this.putInternal("p",e,r,i,s)}merge(e,r,i,s){this.putInternal("m",e,r,i,s)}putInternal(e,r,i,s,o){this.initConnection_();const c={p:r,d:i};void 0!==o&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,G.Pz)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):u4("Unrecognized action received from server: "+(0,G.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,G.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=OS,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=OS,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=OS),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,qe.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,s())};e.realtime_={close:m,sendRequest:function(E){(0,G.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(E)}};const w=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[E,D]=yield Promise.all([e.authTokenProvider_.getToken(w),e.appCheckTokenProvider_.getToken(w)]);h?Co("getToken() completed but was canceled"):(Co("getToken() completed. Creating connection."),e.authToken_=E&&E.accessToken,e.appCheckToken_=D&&D.token,p=new v9(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,s,S=>{ma(S+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(E){e.log_("Failed to get token: "+E),h||(e.repoInfo_.nodeAdmin&&ma(E),m())}}})()}interrupt(e){Co("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Co("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,G.xb)(this.interruptReasons_)&&(this.reconnectDelay_=OS,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(o=>d4(o)).join("$"):"default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,r){const i=new Br(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,r){Co("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Co("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,G.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+l4.replace(/\./g,"-")]=1,(0,G.uI)()?e["framework.cordova"]=1:(0,G.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bR.getInstance().currentlyOnline();return(0,G.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ur{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new ur(t,e)}}class CR{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new ur(gp,t),i=new ur(gp,e);return 0!==this.compare(r,i)}minPost(){return ur.MIN}}class A9 extends CR{static get __EMPTY_NODE(){return ER}static set __EMPTY_NODE(t){ER=t}compare(t,e){return _y(t.name,e.name)}isDefinedOn(t){throw(0,G.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return ur.MIN}maxPost(){return new ur(Ah,ER)}makePost(t,e){return(0,G.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new ur(t,ER)}toString(){return".key"}}const Ih=new A9;class SR{constructor(t,e,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let E4,ad=(()=>{class n{constructor(e,r,i,s,o){this.key=e,this.value=r,this.color=i??n.RED,this.left=s??wl.EMPTY_NODE,this.right=o??wl.EMPTY_NODE}copy(e,r,i,s,o){return new n(e??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wl.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,s;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return wl.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class wl{constructor(t,e=wl.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new wl(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ad.BLACK,null,null))}remove(t){return new wl(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ad.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new SR(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new SR(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new SR(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new SR(this.root_,null,this.comparator_,!0,t)}}function pwe(n,t){return _y(n.name,t.name)}function C4(n,t){return _y(n,t)}wl.EMPTY_NODE=new class fwe{copy(t,e,r,i,s){return this}insert(t,e,r){return new ad(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const I9=function(n){return"number"==typeof n?"number:"+ZW(n):"string:"+n},k9=function(n){if(n.isLeafNode()){const t=n.val();(0,G.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,G.r3)(t,".sv"),"Priority must be a string or number.")}else(0,G.hu)(n===E4||n.isEmpty(),"priority of unexpected type.");(0,G.hu)(n===E4||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let M9,R9,F9,ww=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,G.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),k9(this.priorityNode_)}static set __childrenNodeConstructor(e){M9=e}static get __childrenNodeConstructor(){return M9}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sr(e)?this:".priority"===ir(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=ir(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,G.hu)(".priority"!==i||1===vm(e),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ni(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+I9(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?ZW(this.value_):this.value_,this.lazyHash_=zW(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,G.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return(0,G.hu)(s>=0,"Unknown leaf type: "+r),(0,G.hu)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class ywe extends CR{compare(t,e){const r=t.node.getPriority(),i=e.node.getPriority(),s=r.compareTo(i);return 0===s?_y(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return ur.MIN}maxPost(){return new ur(Ah,new ww("[PRIORITY-POST]",F9))}makePost(t,e){const r=R9(t);return new ur(e,new ww("[PRIORITY-POST]",r))}toString(){return".priority"}},vwe=Math.log(2);class xwe{constructor(t){this.count=parseInt(Math.log(t+1)/vwe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const TR=function(n,t,e,r){n.sort(t);const i=function(h,p){const m=p-h;let v,w;if(0===m)return null;if(1===m)return v=n[h],w=e?e(v):v,new ad(w,v.node,ad.BLACK,null,null);{const E=parseInt(m/2,10)+h,D=i(h,E),S=i(E+1,p);return v=n[E],w=e?e(v):v,new ad(w,v.node,ad.BLACK,D,S)}},c=function(h){let p=null,m=null,v=n.length;const w=function(D,S){const M=v-D,P=v;v-=D;const V=i(M+1,P),B=n[M],X=e?e(B):B;E(new ad(X,B.node,S,null,V))},E=function(D){p?(p.left=D,p=D):(m=D,p=D)};for(let D=0;D<h.count;++D){const S=h.nextBitIsOne(),M=Math.pow(2,h.count-(D+1));S?w(M,ad.BLACK):(w(M,ad.BLACK),w(M,ad.RED))}return m}(new xwe(n.length));return new wl(r||t,c)};let S4;const bw={};class mp{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,G.hu)(bw&&di,"ChildrenNode.ts has not been loaded"),S4=S4||new mp({".priority":bw},{".priority":di}),S4}get(t){const e=(0,G.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof wl?e:null}hasIndex(t){return(0,G.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,G.hu)(t!==Ih,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=e.getIterator(ur.Wrap);let c,o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();c=i?TR(r,t.getCompare()):bw;const h=t.toString(),p=Object.assign({},this.indexSet_);p[h]=t;const m=Object.assign({},this.indexes_);return m[h]=c,new mp(m,p)}addToIndexes(t,e){const r=(0,G.UI)(this.indexes_,(i,s)=>{const o=(0,G.DV)(this.indexSet_,s);if((0,G.hu)(o,"Missing index implementation for "+s),i===bw){if(o.isDefinedOn(t.node)){const c=[],h=e.getIterator(ur.Wrap);let p=h.getNext();for(;p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),TR(c,o.getCompare())}return bw}{const c=e.get(t.name);let h=i;return c&&(h=h.remove(new ur(t.name,c))),h.insert(t,t.node)}});return new mp(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,G.UI)(this.indexes_,i=>{if(i===bw)return i;{const s=e.get(t.name);return s?i.remove(new ur(t.name,s)):i}});return new mp(r,this.indexSet_)}}let PS,Zn=(()=>{class n{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&k9(this.priorityNode_),this.children_.isEmpty()&&(0,G.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return PS||(PS=new n(new wl(C4),null,mp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||PS}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?PS:r}}getChild(e){const r=ir(e);return null===r?this:this.getImmediateChild(r).getChild(ni(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,G.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new ur(e,r);let s,o;r.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,r),o=this.indexMap_.addToIndexes(i,this.children_));const c=s.isEmpty()?PS:this.priorityNode_;return new n(s,c,o)}}updateChild(e,r){const i=ir(e);if(null===i)return r;{(0,G.hu)(".priority"!==ir(e)||1===vm(e),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ni(e),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(di,(c,h)=>{r[c]=h.val(e),i++,o&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!e&&o&&s<2*i){const c=[];for(const h in r)c[h]=r[h];return c}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+I9(this.getPriority().val())+":"),this.forEachChild(di,(r,i)=>{const s=i.hash();""!==s&&(e+=":"+r+":"+s)}),this.lazyHash_=""===e?"":zW(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ur(e,r));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ur(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ur(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ur.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ur.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===NS?-1:0}withIndex(e){if(e===Ih||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ih||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(di),s=r.getIterator(di);let o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return null===o&&null===c}return!1}return!1}}resolveIndex_(e){return e===Ih?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const NS=new class wwe extends Zn{constructor(){super(new wl(C4),Zn.EMPTY_NODE,mp.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Zn.EMPTY_NODE}isEmpty(){return!1}};function Qi(n,t=null){if(null===n)return Zn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,G.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ww(n,Qi(t));if(n instanceof Array){let e=Zn.EMPTY_NODE;return Eo(n,(r,i)=>{if((0,G.r3)(n,r)&&"."!==r.substring(0,1)){const s=Qi(i);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(r,s))}}),e.updatePriority(Qi(t))}{const e=[];let r=!1;if(Eo(n,(o,c)=>{if("."!==o.substring(0,1)){const h=Qi(c);h.isEmpty()||(r=r||!h.getPriority().isEmpty(),e.push(new ur(o,h)))}}),0===e.length)return Zn.EMPTY_NODE;const s=TR(e,pwe,o=>o.name,C4);if(r){const o=TR(e,di.getCompare());return new Zn(s,Qi(t),new mp({".priority":o},{".priority":di}))}return new Zn(s,Qi(t),mp.Default)}}Object.defineProperties(ur,{MIN:{value:new ur(gp,Zn.EMPTY_NODE)},MAX:{value:new ur(Ah,NS)}}),A9.__EMPTY_NODE=Zn.EMPTY_NODE,ww.__childrenNodeConstructor=Zn,function gwe(n){E4=n}(NS),function _we(n){F9=n}(NS),function mwe(n){R9=n}(Qi);class T4 extends CR{constructor(t){super(),this.indexPath_=t,(0,G.hu)(!sr(t)&&".priority"!==ir(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),i=this.extractChild(e.node),s=r.compareTo(i);return 0===s?_y(t.name,e.name):s}makePost(t,e){const r=Qi(t),i=Zn.EMPTY_NODE.updateChild(this.indexPath_,r);return new ur(e,i)}maxPost(){const t=Zn.EMPTY_NODE.updateChild(this.indexPath_,NS);return new ur(Ah,t)}toString(){return FS(this.indexPath_,0).join("/")}}const D4=new class Cwe extends CR{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?_y(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return ur.MIN}maxPost(){return ur.MAX}makePost(t,e){const r=Qi(t);return new ur(e,r)}toString(){return".value"}},Cw="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ewe=function(){let n=0;const t=[];return function(e){const r=e===n;let i;n=e;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Cw.charAt(e%64),e=Math.floor(e/64);(0,G.hu)(0===e,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Cw.charAt(t[i]);return(0,G.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),N9=function(n){if(n===""+h4)return"-";const t=vR(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let o=0;o<e.length;o++)e[o]=n.charAt(o);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Ah;const s=Cw.charAt(Cw.indexOf(e[r])+1);return e[r]=s,e.slice(0,r+1).join("")},L9=function(n){if(n===""+YW)return gp;const t=vR(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+h4:(delete e[e.length-1],e.join("")):(e[e.length-1]=Cw.charAt(Cw.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function B9(n){return{type:"value",snapshotNode:n}}function Ew(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function LS(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function BS(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class I4{constructor(t){this.index_=t}updateChild(t,e,r,i,s,o){(0,G.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?t.hasChild(e)?o.trackChildChange(LS(e,c)):(0,G.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Ew(e,r)):o.trackChildChange(BS(e,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(di,(i,s)=>{e.hasChild(i)||r.trackChildChange(LS(i,s))}),e.isLeafNode()||e.forEachChild(di,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(BS(i,s,o))}else r.trackChildChange(Ew(i,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Zn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class VS{constructor(t){this.indexedFilter_=new I4(t.getIndex()),this.index_=t.getIndex(),this.startPost_=VS.getStartPost_(t),this.endPost_=VS.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,i,s,o){return this.matches(new ur(e,r))||(r=Zn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,i,s,o)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Zn.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(Zn.EMPTY_NODE);const s=this;return e.forEachChild(di,(o,c)=>{s.matches(new ur(o,c))||(i=i.updateImmediateChild(o,Zn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Twe{constructor(t){this.rangedFilter_=new VS(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,i,s,o){return this.rangedFilter_.matches(new ur(e,r))||(r=Zn.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,i,s,o):this.fullLimitUpdateChild_(t,e,r,s,o)}updateFullNode(t,e,r){let i;if(e.isLeafNode()||e.isEmpty())i=Zn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;i=Zn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,!h)break;i=i.updateImmediateChild(c.name,c.node),o++}}else{let s,o,c,h;if(i=e.withIndex(this.index_),i=i.updatePriority(Zn.EMPTY_NODE),this.reverse_){h=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const v=this.index_.getCompare();c=(w,E)=>v(E,w)}else h=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();let p=0,m=!1;for(;h.hasNext();){const v=h.getNext();!m&&c(s,v)<=0&&(m=!0),m&&p<this.limit_&&c(v,o)<=0?p++:i=i.updateImmediateChild(v.name,Zn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,i,s){let o;if(this.reverse_){const v=this.index_.getCompare();o=(w,E)=>v(E,w)}else o=this.index_.getCompare();const c=t;(0,G.hu)(c.numChildren()===this.limit_,"");const h=new ur(e,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(c.hasChild(e)){const v=c.getImmediateChild(e);let w=i.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=w&&(w.name===e||c.hasChild(w.name));)w=i.getChildAfterChild(this.index_,w,this.reverse_);const E=null==w?1:o(w,h);if(m&&!r.isEmpty()&&E>=0)return s?.trackChildChange(BS(e,r,v)),c.updateImmediateChild(e,r);{s?.trackChildChange(LS(e,v));const S=c.updateImmediateChild(e,Zn.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(s?.trackChildChange(Ew(w.name,w.node)),S.updateImmediateChild(w.name,w.node)):S}}return r.isEmpty()?t:m&&o(p,h)>=0?(null!=s&&(s.trackChildChange(LS(p.name,p.node)),s.trackChildChange(Ew(e,r))),c.updateImmediateChild(e,r).updateImmediateChild(p.name,Zn.EMPTY_NODE)):t}}class DR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ah}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,G.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new DR;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function k4(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function M4(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function AR(n,t){const e=n.copy();return e.index_=t,e}function V9(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===D4?e="$value":n.index_===Ih?e="$key":((0,G.hu)(n.index_ instanceof T4,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,G.Pz)(e),n.startSet_&&(t.startAt=(0,G.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,G.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,G.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,G.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function U9(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class IR extends x9{constructor(t,e,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=IS("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,G.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=IR.getListenId_(t,r),c={};this.listens_[o]=c;const h=V9(t._queryParams);this.restRequest_(s+".json",h,(p,m)=>{let v=m;if(404===p&&(v=null,p=null),null===p&&this.onDataUpdate_(s,v,!1,r),(0,G.DV)(this.listens_,o)===c){let w;w=p?401===p?"permission_denied":"rest_error:"+p:"ok",i(w,null)}})}unlisten(t,e){const r=IR.getListenId_(t,e);delete this.listens_[r]}get(t){const e=V9(t._queryParams),r=t._path.toString(),i=new G.BH;return this.restRequest_(r+".json",e,(s,o)=>{let c=o;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(e.auth=i.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,G.xO)(e);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&4===c.readyState){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=(0,G.cI)(c.responseText)}catch{ma("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,h)}else 401!==c.status&&404!==c.status&&ma("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}class Rwe{constructor(){this.rootNode_=Zn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function kR(){return{value:null,children:new Map}}function Sw(n,t,e){if(sr(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=ir(t);n.children.has(r)||n.children.set(r,kR()),Sw(n.children.get(r),t=ni(t),e)}}function R4(n,t){if(sr(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(r,i)=>{Sw(n,new Br(r),i)}),R4(n,t)}}if(n.children.size>0){const e=ir(t);return t=ni(t),n.children.has(e)&&R4(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function F4(n,t,e){null!==n.value?e(t,n.value):function Fwe(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,i)=>{F4(i,new Br(t.toString()+"/"+r),e)})}class Owe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Eo(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=t,e}}class Lwe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Owe(t);const r=1e4+2e4*Math.random();MS(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Eo(t,(i,s)=>{s>0&&(0,G.r3)(this.statsToReport_,i)&&(e[i]=s,r=!0)}),r&&this.server_.reportStats(e),MS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var du=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(du||(du={})),du))();function N4(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class MR{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=du.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(sr(this.path)){if(null!=this.affectedTree.value)return(0,G.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Br(t));return new MR(Fr(),e,this.revert)}}return(0,G.hu)(ir(this.path)===t,"operationForChild called for unrelated child."),new MR(ni(this.path),this.affectedTree,this.revert)}}class US{constructor(t,e){this.source=t,this.path=e,this.type=du.LISTEN_COMPLETE}operationForChild(t){return sr(this.path)?new US(this.source,Fr()):new US(this.source,ni(this.path))}}class xy{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=du.OVERWRITE}operationForChild(t){return sr(this.path)?new xy(this.source,Fr(),this.snap.getImmediateChild(t)):new xy(this.source,ni(this.path),this.snap)}}class Tw{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=du.MERGE}operationForChild(t){if(sr(this.path)){const e=this.children.subtree(new Br(t));return e.isEmpty()?null:e.value?new xy(this.source,Fr(),e.value):new Tw(this.source,Fr(),e)}return(0,G.hu)(ir(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Tw(this.source,ni(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xm{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(sr(t))return this.isFullyInitialized()&&!this.filtered_;const e=ir(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Bwe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function HS(n,t,e,r,i,s){const o=r.filter(c=>c.type===e);o.sort((c,h)=>function Hwe(n,t,e){if(null==t.childName||null==e.childName)throw(0,G.g5)("Should only compare child_ events.");const r=new ur(t.childName,t.snapshotNode),i=new ur(e.childName,e.snapshotNode);return n.index_.compare(r,i)}(n,c,h)),o.forEach(c=>{const h=function Uwe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);i.forEach(p=>{p.respondsTo(c.type)&&t.push(p.createEvent(h,n.query_))})})}function RR(n,t){return{eventCache:n,serverCache:t}}function GS(n,t,e,r){return RR(new xm(t,e,r),n.serverCache)}function G9(n,t,e,r){return RR(n.eventCache,new xm(t,e,r))}function FR(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let L4;class hi{constructor(t,e=(()=>(L4||(L4=new wl(Txe)),L4))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return Eo(t,(r,i)=>{e=e.set(new Br(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Fr(),value:this.value};if(sr(t))return null;{const r=ir(t),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ni(t),e);return null!=s?{path:Hi(new Br(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(sr(t))return this;{const e=ir(t),r=this.children.get(e);return null!==r?r.subtree(ni(t)):new hi(null)}}set(t,e){if(sr(t))return new hi(e,this.children);{const r=ir(t),s=(this.children.get(r)||new hi(null)).set(ni(t),e),o=this.children.insert(r,s);return new hi(this.value,o)}}remove(t){if(sr(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=ir(t),r=this.children.get(e);if(r){const i=r.remove(ni(t));let s;return s=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&s.isEmpty()?new hi(null):new hi(this.value,s)}return this}}get(t){if(sr(t))return this.value;{const e=ir(t),r=this.children.get(e);return r?r.get(ni(t)):null}}setTree(t,e){if(sr(t))return e;{const r=ir(t),s=(this.children.get(r)||new hi(null)).setTree(ni(t),e);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new hi(this.value,o)}}fold(t){return this.fold_(Fr(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Hi(t,i),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Fr(),e)}findOnPath_(t,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(sr(t))return null;{const s=ir(t),o=this.children.get(s);return o?o.findOnPath_(ni(t),Hi(e,s),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Fr(),e)}foreachOnPath_(t,e,r){if(sr(t))return this;{this.value&&r(e,this.value);const i=ir(t),s=this.children.get(i);return s?s.foreachOnPath_(ni(t),Hi(e,i),r):new hi(null)}}foreach(t){this.foreach_(Fr(),t)}foreach_(t,e){this.children.inorderTraversal((r,i)=>{i.foreach_(Hi(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class ld{constructor(t){this.writeTree_=t}static empty(){return new ld(new hi(null))}}function jS(n,t,e){if(sr(t))return new ld(new hi(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=ja(i,t);return s=s.updateChild(o,e),new ld(n.writeTree_.set(i,s))}{const i=new hi(e),s=n.writeTree_.setTree(t,i);return new ld(s)}}}function B4(n,t,e){let r=n;return Eo(e,(i,s)=>{r=jS(r,Hi(t,i),s)}),r}function j9(n,t){if(sr(t))return ld.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new ld(e)}}function V4(n,t){return null!=by(n,t)}function by(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ja(e.path,t)):null}function z9(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(r,i)=>{t.push(new ur(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new ur(r,i.value))}),t}function wm(n,t){if(sr(t))return n;{const e=by(n,t);return new ld(null!=e?new hi(e):n.writeTree_.subtree(t))}}function U4(n){return n.writeTree_.isEmpty()}function Dw(n,t){return $9(Fr(),n.writeTree_,t)}function $9(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{".priority"===i?((0,G.hu)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):e=$9(Hi(n,i),s,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Hi(n,".priority"),r)),e}}function OR(n,t){return K9(t,n)}function qwe(n,t){if(n.snap)return uu(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&uu(Hi(n.path,e),t))return!0;return!1}function Ywe(n){return n.visible}function W9(n,t,e){let r=ld.empty();for(let i=0;i<n.length;++i){const s=n[i];if(t(s)){const o=s.path;let c;if(s.snap)uu(e,o)?(c=ja(e,o),r=jS(r,c,s.snap)):uu(o,e)&&(c=ja(o,e),r=jS(r,Fr(),s.snap.getChild(c)));else{if(!s.children)throw(0,G.g5)("WriteRecord should have .snap or .children");if(uu(e,o))c=ja(e,o),r=B4(r,c,s.children);else if(uu(o,e))if(c=ja(o,e),sr(c))r=B4(r,Fr(),s.children);else{const h=(0,G.DV)(s.children,ir(c));if(h){const p=h.getChild(ni(c));r=jS(r,Fr(),p)}}}}}return r}function q9(n,t,e,r,i){if(r||i){const s=wm(n.visibleWrites,t);return!i&&U4(s)?e:i||null!=e||V4(s,Fr())?Dw(W9(n.allWrites,function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(uu(p.path,t)||uu(t,p.path))},t),e||Zn.EMPTY_NODE):null}{const s=by(n.visibleWrites,t);if(null!=s)return s;{const o=wm(n.visibleWrites,t);return U4(o)?e:null!=e||V4(o,Fr())?Dw(o,e||Zn.EMPTY_NODE):null}}}function PR(n,t,e,r){return q9(n.writeTree,n.treePath,t,e,r)}function H4(n,t){return function Kwe(n,t,e){let r=Zn.EMPTY_NODE;const i=by(n.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(di,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(e){const s=wm(n.visibleWrites,t);return e.forEachChild(di,(o,c)=>{const h=Dw(wm(s,new Br(o)),c);r=r.updateImmediateChild(o,h)}),z9(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return z9(wm(n.visibleWrites,t)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,t)}function Z9(n,t,e,r){return function Xwe(n,t,e,r,i){(0,G.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Hi(t,e);if(V4(n.visibleWrites,s))return null;{const o=wm(n.visibleWrites,s);return U4(o)?i.getChild(e):Dw(o,i.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function NR(n,t){return function Jwe(n,t){return by(n.visibleWrites,t)}(n.writeTree,Hi(n.treePath,t))}function G4(n,t,e){return function Qwe(n,t,e,r){const i=Hi(t,e),s=by(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(e)?Dw(wm(n.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Y9(n,t){return K9(Hi(n.treePath,t),n.writeTree)}function K9(n,t){return{treePath:n,writeTree:t}}class rbe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,G.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,G.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(r,BS(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(r,LS(r,i.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(r,Ew(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,G.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,BS(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const X9=new class ibe{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class j4{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new xm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return G4(this.writes_,t,r)}}getChildAfterChild(t,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wy(this.viewCache_),s=function nbe(n,t,e,r,i,s){return function ebe(n,t,e,r,i,s,o){let c;const h=wm(n.visibleWrites,t),p=by(h,Fr());if(null!=p)c=p;else{if(null==e)return[];c=Dw(h,e)}if(c=c.withIndex(o),c.isEmpty()||c.isLeafNode())return[];{const m=[],v=o.getCompare(),w=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let E=w.getNext();for(;E&&m.length<i;)0!==v(E,r)&&m.push(E),E=w.getNext();return m}}(n.writeTree,n.treePath,t,e,r,i,s)}(this.writes_,i,e,1,r,t);return 0===s.length?null:s[0]}}function Q9(n,t,e,r,i,s){const o=t.eventCache;if(null!=NR(r,e))return t;{let c,h;if(sr(e))if((0,G.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=wy(t),v=H4(r,p instanceof Zn?p:Zn.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{const p=PR(r,wy(t));c=n.filter.updateFullNode(t.eventCache.getNode(),p,s)}else{const p=ir(e);if(".priority"===p){(0,G.hu)(1===vm(e),"Can't have a priority with additional path components");const m=o.getNode();h=t.serverCache.getNode();const v=Z9(r,e,m,h);c=null!=v?n.filter.updatePriority(m,v):o.getNode()}else{const m=ni(e);let v;if(o.isCompleteForChild(p)){h=t.serverCache.getNode();const w=Z9(r,e,o.getNode(),h);v=null!=w?o.getNode().getImmediateChild(p).updateChild(m,w):o.getNode().getImmediateChild(p)}else v=G4(r,p,t.serverCache);c=null!=v?n.filter.updateChild(o.getNode(),p,v,m,i,s):o.getNode()}}return GS(t,c,o.isFullyInitialized()||sr(e),n.filter.filtersNodes())}}function LR(n,t,e,r,i,s,o,c){const h=t.serverCache;let p;const m=o?n.filter:n.filter.getIndexedFilter();if(sr(e))p=m.updateFullNode(h.getNode(),r,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(e,r);p=m.updateFullNode(h.getNode(),E,null)}else{const E=ir(e);if(!h.isCompleteForPath(e)&&vm(e)>1)return t;const D=ni(e),M=h.getNode().getImmediateChild(E).updateChild(D,r);p=".priority"===E?m.updatePriority(h.getNode(),M):m.updateChild(h.getNode(),E,M,D,X9,null)}const v=G9(t,p,h.isFullyInitialized()||sr(e),m.filtersNodes());return Q9(n,v,e,i,new j4(i,v,s),c)}function z4(n,t,e,r,i,s,o){const c=t.eventCache;let h,p;const m=new j4(i,t,s);if(sr(e))p=n.filter.updateFullNode(t.eventCache.getNode(),r,o),h=GS(t,p,!0,n.filter.filtersNodes());else{const v=ir(e);if(".priority"===v)p=n.filter.updatePriority(t.eventCache.getNode(),r),h=GS(t,p,c.isFullyInitialized(),c.isFiltered());else{const w=ni(e),E=c.getNode().getImmediateChild(v);let D;if(sr(w))D=r;else{const S=m.getCompleteChild(v);D=null!=S?".priority"===x4(w)&&S.getChild(E9(w)).isEmpty()?S:S.updateChild(w,r):Zn.EMPTY_NODE}h=E.equals(D)?t:GS(t,n.filter.updateChild(c.getNode(),v,D,w,m,o),c.isFullyInitialized(),n.filter.filtersNodes())}}return h}function J9(n,t){return n.eventCache.isCompleteForChild(t)}function eq(n,t,e){return e.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function $4(n,t,e,r,i,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p,h=t;p=sr(e)?r:new hi(null).setTree(e,r);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,w)=>{if(m.hasChild(v)){const D=eq(0,t.serverCache.getNode().getImmediateChild(v),w);h=LR(n,h,new Br(v),D,i,s,o,c)}}),p.children.inorderTraversal((v,w)=>{const E=!t.serverCache.isCompleteForChild(v)&&void 0===w.value;if(!m.hasChild(v)&&!E){const S=eq(0,t.serverCache.getNode().getImmediateChild(v),w);h=LR(n,h,new Br(v),S,i,s,o,c)}}),h}class fbe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new I4(r.getIndex()),s=function Dwe(n){return n.loadsAllData()?new I4(n.getIndex()):n.hasLimit()?new Twe(n):new VS(n)}(r);this.processor_=function sbe(n){return{filter:n}}(s);const o=e.serverCache,c=e.eventCache,h=i.updateFullNode(Zn.EMPTY_NODE,o.getNode(),null),p=s.updateFullNode(Zn.EMPTY_NODE,c.getNode(),null),m=new xm(h,o.isFullyInitialized(),i.filtersNodes()),v=new xm(p,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=RR(v,m),this.eventGenerator_=new Bwe(this.query_)}get query(){return this.query_}}function mbe(n,t){const e=wy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!sr(t)&&!e.getImmediateChild(ir(t)).isEmpty())?e.getChild(t):null}function tq(n){return 0===n.eventRegistrations_.length}function nq(n,t,e){const r=[];if(e){(0,G.hu)(null==t,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(o)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function rq(n,t,e,r){t.type===du.MERGE&&null!==t.source.queryId&&((0,G.hu)(wy(n.viewCache_),"We should always have a full cache before handling merges"),(0,G.hu)(FR(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function abe(n,t,e,r,i){const s=new rbe;let o,c;if(e.type===du.OVERWRITE){const p=e;p.source.fromUser?o=z4(n,t,p.path,p.snap,r,i,s):((0,G.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered()&&!sr(p.path),o=LR(n,t,p.path,p.snap,r,i,c,s))}else if(e.type===du.MERGE){const p=e;p.source.fromUser?o=function cbe(n,t,e,r,i,s,o){let c=t;return r.foreach((h,p)=>{const m=Hi(e,h);J9(t,ir(m))&&(c=z4(n,c,m,p,i,s,o))}),r.foreach((h,p)=>{const m=Hi(e,h);J9(t,ir(m))||(c=z4(n,c,m,p,i,s,o))}),c}(n,t,p.path,p.children,r,i,s):((0,G.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered(),o=$4(n,t,p.path,p.children,r,i,c,s))}else if(e.type===du.ACK_USER_WRITE){const p=e;o=p.revert?function hbe(n,t,e,r,i,s){let o;if(null!=NR(r,e))return t;{const c=new j4(r,t,i),h=t.eventCache.getNode();let p;if(sr(e)||".priority"===ir(e)){let m;if(t.serverCache.isFullyInitialized())m=PR(r,wy(t));else{const v=t.serverCache.getNode();(0,G.hu)(v instanceof Zn,"serverChildren would be complete if leaf node"),m=H4(r,v)}p=n.filter.updateFullNode(h,m,s)}else{const m=ir(e);let v=G4(r,m,t.serverCache);null==v&&t.serverCache.isCompleteForChild(m)&&(v=h.getImmediateChild(m)),p=null!=v?n.filter.updateChild(h,m,v,ni(e),c,s):t.eventCache.getNode().hasChild(m)?n.filter.updateChild(h,m,Zn.EMPTY_NODE,ni(e),c,s):h,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=PR(r,wy(t)),o.isLeafNode()&&(p=n.filter.updateFullNode(p,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=NR(r,Fr()),GS(t,p,o,n.filter.filtersNodes())}}(n,t,p.path,r,i,s):function ube(n,t,e,r,i,s,o){if(null!=NR(i,e))return t;const c=t.serverCache.isFiltered(),h=t.serverCache;if(null!=r.value){if(sr(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return LR(n,t,e,h.getNode().getChild(e),i,s,c,o);if(sr(e)){let p=new hi(null);return h.getNode().forEachChild(Ih,(m,v)=>{p=p.set(new Br(m),v)}),$4(n,t,e,p,i,s,c,o)}return t}{let p=new hi(null);return r.foreach((m,v)=>{const w=Hi(e,m);h.isCompleteForPath(w)&&(p=p.set(m,h.getNode().getChild(w)))}),$4(n,t,e,p,i,s,c,o)}}(n,t,p.path,p.affectedTree,r,i,s)}else{if(e.type!==du.LISTEN_COMPLETE)throw(0,G.g5)("Unknown operation type: "+e.type);o=function dbe(n,t,e,r,i){const s=t.serverCache;return Q9(n,G9(t,s.getNode(),s.isFullyInitialized()||sr(e),s.isFiltered()),e,r,X9,i)}(n,t,e.path,r,s)}const h=s.getChanges();return function lbe(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=FR(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&e.push(B9(FR(t)))}}(t,o,h),{viewCache:o,changes:h}}(n.processor_,i,t,e,r);return function obe(n,t){(0,G.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,G.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,G.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,iq(n,s.changes,s.viewCache.eventCache.getNode(),null)}function iq(n,t,e,r){return function Vwe(n,t,e,r){const i=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Swe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),HS(n,i,"child_removed",t,r,e),HS(n,i,"child_added",t,r,e),HS(n,i,"child_moved",s,r,e),HS(n,i,"child_changed",t,r,e),HS(n,i,"value",t,r,e),i}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let BR,UR;class sq{constructor(){this.views=new Map}}function W4(n,t,e,r){const i=t.source.queryId;if(null!==i){const s=n.views.get(i);return(0,G.hu)(null!=s,"SyncTree gave us an op for an invalid query."),rq(s,t,e,r)}{let s=[];for(const o of n.views.values())s=s.concat(rq(o,t,e,r));return s}}function q4(n,t,e,r,i){const o=n.views.get(t._queryIdentifier);if(!o){let c=PR(e,i?r:null),h=!1;c?h=!0:r instanceof Zn?(c=H4(e,r),h=!1):(c=Zn.EMPTY_NODE,h=!1);const p=RR(new xm(c,h,!1),new xm(r,i,!1));return new fbe(t,p)}return o}function oq(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function bm(n,t){let e=null;for(const r of n.views.values())e=e||mbe(r,t);return e}function aq(n,t){return t._queryParams.loadsAllData()?VR(n):n.views.get(t._queryIdentifier)}function lq(n,t){return null!=aq(n,t)}function Cm(n){return null!=VR(n)}function VR(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Tbe=1;class cq{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function tbe(){return{visibleWrites:ld.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Z4(n,t,e,r,i){return function jwe(n,t,e,r,i){(0,G.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:i}),i&&(n.visibleWrites=jS(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,i),i?Aw(n,new xy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Em(n,t,e=!1){const r=function $we(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function Wwe(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,G.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const c=n.allWrites[o];c.visible&&(o>=e&&qwe(c,r.path)?i=!1:uu(r.path,c.path)&&(s=!0)),o--}return!!i&&(s?(function Zwe(n){n.visibleWrites=W9(n.allWrites,Ywe,Fr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=j9(n.visibleWrites,r.path):Eo(r.children,h=>{n.visibleWrites=j9(n.visibleWrites,Hi(r.path,h))}),!0))}(n.pendingWriteTree_,t)){let s=new hi(null);return null!=r.snap?s=s.set(Fr(),!0):Eo(r.children,o=>{s=s.set(new Br(o),!0)}),Aw(n,new MR(r.path,s,e))}return[]}function zS(n,t,e){return Aw(n,new xy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function HR(n,t,e,r){const i=t._path,s=n.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||lq(s,t))){const c=function Cbe(n,t,e,r){const i=t._queryIdentifier,s=[];let o=[];const c=Cm(n);if("default"===i)for(const[h,p]of n.views.entries())o=o.concat(nq(p,e,r)),tq(p)&&(n.views.delete(h),p.query._queryParams.loadsAllData()||s.push(p.query));else{const h=n.views.get(i);h&&(o=o.concat(nq(h,e,r)),tq(h)&&(n.views.delete(i),h.query._queryParams.loadsAllData()||s.push(h.query)))}return c&&!Cm(n)&&s.push(new(function xbe(){return(0,G.hu)(BR,"Reference.ts has not been loaded"),BR}())(t._repo,t._path)),{removed:s,events:o}}(s,t,e,r);(function wbe(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const h=c.removed;o=c.events;const p=-1!==h.findIndex(v=>v._queryParams.loadsAllData()),m=n.syncPointTree_.findOnPath(i,(v,w)=>Cm(w));if(p&&!m){const v=n.syncPointTree_.subtree(i);if(!v.isEmpty()){const w=function Obe(n){return n.fold((t,e,r)=>{if(e&&Cm(e))return[VR(e)];{let i=[];return e&&(i=oq(e)),Eo(r,(s,o)=>{i=i.concat(o)}),i}})}(v);for(let E=0;E<w.length;++E){const D=w[E],S=D.query,M=gq(n,D);n.listenProvider_.startListening(WS(S),$S(n,S),M.hashFn,M.onComplete)}}}!m&&h.length>0&&!r&&(p?n.listenProvider_.stopListening(WS(t),null):h.forEach(v=>{const w=n.queryToTagMap.get(jR(v));n.listenProvider_.stopListening(WS(v),w)})),function Pbe(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const i=jR(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,h)}return o}function uq(n,t,e,r){const i=Y4(n,r);if(null!=i){const s=K4(i),o=s.path,c=s.queryId,h=ja(o,t);return X4(n,o,new xy(N4(c),h,e))}return[]}function dq(n,t){const e=n._path;let r=null,i=!1;t.syncPointTree_.foreachOnPath(e,(p,m)=>{const v=ja(p,e);r=r||bm(m,v),i=i||Cm(m)});let o,s=t.syncPointTree_.get(e);s?(i=i||Cm(s),r=r||bm(s,Fr())):(s=new sq,t.syncPointTree_=t.syncPointTree_.set(e,s)),null!=r?o=!0:(o=!1,r=Zn.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((m,v)=>{const w=bm(v,Fr());w&&(r=r.updateImmediateChild(m,w))}));const c=lq(s,n);if(!c&&!n._queryParams.loadsAllData()){const p=jR(n);(0,G.hu)(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const m=function Nbe(){return Tbe++}();t.queryToTagMap.set(p,m),t.tagToQueryMap.set(m,p)}return{syncPoint:s,writesCache:OR(t.pendingWriteTree_,e),serverCache:r,serverCacheComplete:o,foundAncestorDefaultView:i,viewAlreadyExists:c}}function hq(n,t,e){const{syncPoint:r,serverCache:i,writesCache:s,serverCacheComplete:o,viewAlreadyExists:c,foundAncestorDefaultView:h}=dq(t,n);let p=function bbe(n,t,e,r,i,s){const o=q4(n,t,r,i,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function _be(n,t){n.eventRegistrations_.push(t)}(o,e),function ybe(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(s,o)=>{r.push(Ew(s,o))}),e.isFullyInitialized()&&r.push(B9(e.getNode())),iq(n,r,e.getNode(),t)}(o,e)}(r,t,e,s,i,o);if(!c&&!h){const m=aq(r,t);p=p.concat(function Lbe(n,t,e){const r=t._path,i=$S(n,t),s=gq(n,e),o=n.listenProvider_.startListening(WS(t),i,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(r);if(i)(0,G.hu)(!Cm(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((p,m,v)=>{if(!sr(p)&&m&&Cm(m))return[VR(m).query];{let w=[];return m&&(w=w.concat(oq(m).map(E=>E.query))),Eo(v,(E,D)=>{w=w.concat(D)}),w}});for(let p=0;p<h.length;++p){const m=h[p];n.listenProvider_.stopListening(WS(m),$S(n,m))}}return o}(n,t,m))}return p}function GR(n,t,e){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,c)=>{const p=bm(c,ja(o,t));if(p)return p});return q9(i,t,s,e,!0)}function Aw(n,t){return fq(t,n.syncPointTree_,null,OR(n.pendingWriteTree_,Fr()))}function fq(n,t,e,r){if(sr(n.path))return pq(n,t,e,r);{const i=t.get(Fr());null==e&&null!=i&&(e=bm(i,Fr()));let s=[];const o=ir(n.path),c=n.operationForChild(o),h=t.children.get(o);if(h&&c){const p=e?e.getImmediateChild(o):null,m=Y9(r,o);s=s.concat(fq(c,h,p,m))}return i&&(s=s.concat(W4(i,n,r,e))),s}}function pq(n,t,e,r){const i=t.get(Fr());null==e&&null!=i&&(e=bm(i,Fr()));let s=[];return t.children.inorderTraversal((o,c)=>{const h=e?e.getImmediateChild(o):null,p=Y9(r,o),m=n.operationForChild(o);m&&(s=s.concat(pq(m,c,h,p)))}),i&&(s=s.concat(W4(i,n,r,e))),s}function gq(n,t){const e=t.query,r=$S(n,e);return{hashFn:()=>(function pbe(n){return n.viewCache_.serverCache.getNode()}(t)||Zn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function kbe(n,t,e){const r=Y4(n,e);if(r){const i=K4(r),s=i.path,o=i.queryId,c=ja(s,t);return X4(n,s,new US(N4(o),c))}return[]}(n,e._path,r):function Ibe(n,t){return Aw(n,new US({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Ixe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(i,e);return HR(n,e,null,s)}}}}function $S(n,t){const e=jR(t);return n.queryToTagMap.get(e)}function jR(n){return n._path.toString()+"$"+n._queryIdentifier}function Y4(n,t){return n.tagToQueryMap.get(t)}function K4(n){const t=n.indexOf("$");return(0,G.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Br(n.substr(0,t))}}function X4(n,t,e){const r=n.syncPointTree_.get(t);return(0,G.hu)(r,"Missing sync point for query tag that we're tracking"),W4(r,e,OR(n.pendingWriteTree_,t),null)}function WS(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Sbe(){return(0,G.hu)(UR,"Reference.ts has not been loaded"),UR}())(n._repo,n._path):n}class Q4{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Q4(e)}node(){return this.node_}}class J4{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Hi(this.path_,t);return new J4(this.syncTree_,e)}node(){return GR(this.syncTree_,this.path_)}}const mq=function(n,t,e){return n&&"object"==typeof n?((0,G.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Vbe(n[".sv"],t,e):"object"==typeof n[".sv"]?Ube(n[".sv"],t):void(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Vbe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,G.hu)(!1,"Unexpected server value: "+n)},Ube=function(n,t,e){n.hasOwnProperty("increment")||(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,G.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,G.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},_q=function(n,t,e,r){return tV(t,new J4(e,n),r)},eV=function(n,t,e){return tV(n,new Q4(t),e)};function tV(n,t,e){const r=n.getPriority().val(),i=mq(r,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,c=mq(o.getValue(),t,e);return c!==o.getValue()||i!==o.getPriority().val()?new ww(c,Qi(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ww(i))),o.forEachChild(di,(c,h)=>{const p=tV(h,t.getImmediateChild(c),e);p!==h&&(s=s.updateImmediateChild(c,p))}),s}}class nV{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function zR(n,t){let e=t instanceof Br?t:new Br(t),r=n,i=ir(e);for(;null!==i;){const s=(0,G.DV)(r.node.children,i)||{children:{},childCount:0};r=new nV(i,r,s),e=ni(e),i=ir(e)}return r}function Cy(n){return n.node.value}function rV(n,t){n.node.value=t,iV(n)}function yq(n){return n.node.childCount>0}function $R(n,t){Eo(n.node.children,(e,r)=>{t(new nV(e,n,r))})}function vq(n,t,e,r){e&&!r&&t(n),$R(n,i=>{vq(i,t,!0,r)}),e&&r&&t(n)}function qS(n){return new Br(null===n.parent?n.name:qS(n.parent)+"/"+n.name)}function iV(n){null!==n.parent&&function jbe(n,t,e){const r=function Hbe(n){return void 0===Cy(n)&&!yq(n)}(e),i=(0,G.r3)(n.node.children,t);r&&i?(delete n.node.children[t],n.node.childCount--,iV(n)):!r&&!i&&(n.node.children[t]=e.node,n.node.childCount++,iV(n))}(n.parent,n.name,n)}const zbe=/[\[\].#$\/\u0000-\u001F\u007F]/,$be=/[\[\].#$\u0000-\u001F\u007F]/,sV=10485760,WR=function(n){return"string"==typeof n&&0!==n.length&&!zbe.test(n)},xq=function(n){return"string"==typeof n&&0!==n.length&&!$be.test(n)},ZS=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!yR(n)||n&&"object"==typeof n&&(0,G.r3)(n,".sv")},kh=function(n,t,e,r){r&&void 0===t||YS((0,G.gK)(n,"value"),t,e)},YS=function(n,t,e){const r=e instanceof Br?new owe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+yy(r));if("function"==typeof t)throw new Error(n+"contains a function "+yy(r)+" with contents = "+t.toString());if(yR(t))throw new Error(n+"contains "+t.toString()+" "+yy(r));if("string"==typeof t&&t.length>sV/3&&(0,G.ug)(t)>sV)throw new Error(n+"contains a string greater than "+sV+" utf8 bytes "+yy(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,s=!1;if(Eo(t,(o,c)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!WR(o)))throw new Error(n+" contains an invalid key ("+o+") "+yy(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function awe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,G.ug)(t),S9(n)})(r,o),YS(n,c,r),function lwe(n){const t=n.parts_.pop();n.byteLength_-=(0,G.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+yy(r)+" in addition to actual children.")}},wq=function(n,t,e,r){if(r&&void 0===t)return;const i=(0,G.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Eo(t,(o,c)=>{const h=new Br(o);if(YS(i,c,Hi(e,h)),".priority"===x4(h)&&!ZS(c))throw new Error(i+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const s=FS(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!WR(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(swe);let i=null;for(e=0;e<t.length;e++){if(r=t[e],null!==i&&uu(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},oV=function(n,t,e){if(!e||void 0!==t){if(yR(t))throw new Error((0,G.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ZS(t))throw new Error((0,G.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},KS=function(n,t,e,r){if(!(r&&void 0===e||WR(e)))throw new Error((0,G.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},XS=function(n,t,e,r){if(!(r&&void 0===e||xq(e)))throw new Error((0,G.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hu=function(n,t){if(".info"===ir(t))throw new Error(n+" failed = Can't modify data under /.info/")},bq=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!WR(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xq(n)}(e))throw new Error((0,G.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ybe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qR(n,t){let e=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null!==e&&!w4(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(i)}e&&n.eventLists_.push(e)}function Cq(n,t,e){qR(n,e),Eq(n,r=>w4(r,t))}function fu(n,t,e){qR(n,e),Eq(n,r=>uu(r,t)||uu(t,r))}function Eq(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(t(i.path)?(Kbe(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Kbe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();my&&Co("event: "+e.toString()),vw(r)}}}const Sq="repo_interrupt";class Qbe{constructor(t,e,r,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ybe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kR(),this.transactionQueueTree_=new nV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tq(n){const e=n.infoData_.getNode(new Br(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function QS(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Tq(n)})}function Dq(n,t,e,r,i){n.dataUpdateCount++;const s=new Br(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(i)if(r){const h=(0,G.UI)(e,p=>Qi(p));o=function Rbe(n,t,e,r){const i=Y4(n,r);if(i){const s=K4(i),o=s.path,c=s.queryId,h=ja(o,t),p=hi.fromObject(e);return X4(n,o,new Tw(N4(c),h,p))}return[]}(n.serverSyncTree_,s,h,i)}else{const h=Qi(e);o=uq(n.serverSyncTree_,s,h,i)}else if(r){const h=(0,G.UI)(e,p=>Qi(p));o=function Abe(n,t,e){const r=hi.fromObject(e);return Aw(n,new Tw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,s,h)}else{const h=Qi(e);o=zS(n.serverSyncTree_,s,h)}let c=s;o.length>0&&(c=Iw(n,s)),fu(n.eventQueue_,c,o)}function Aq(n,t){aV(n,"connected",t),!1===t&&function r1e(n){Ey(n,"onDisconnectEvents");const t=QS(n),e=kR();F4(n.onDisconnect_,Fr(),(i,s)=>{const o=_q(i,s,n.serverSyncTree_,t);Sw(e,i,o)});let r=[];F4(e,Fr(),(i,s)=>{r=r.concat(zS(n.serverSyncTree_,i,s));const o=dV(n,i);Iw(n,o)}),n.onDisconnect_=kR(),fu(n.eventQueue_,Fr(),r)}(n)}function aV(n,t,e){const r=new Br("/.info/"+t),i=Qi(e);n.infoData_.updateSnapshot(r,i);const s=zS(n.infoSyncTree_,r,i);fu(n.eventQueue_,r,s)}function ZR(n){return n.nextWriteId_++}function t1e(n,t){const e=function Fbe(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(p,m)=>{const v=ja(p,e);r=r||bm(m,v)});let i=n.syncPointTree_.get(e);i?r=r||bm(i,Fr()):(i=new sq,n.syncPointTree_=n.syncPointTree_.set(e,i));const s=null!=r,o=s?new xm(r,!0,!1):null;return function gbe(n){return FR(n.viewCache_)}(q4(i,t,OR(n.pendingWriteTree_,t._path),s?o.getNode():Zn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const i=Qi(r).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())zS(n.serverSyncTree_,t._path,i);else{const o=function Mbe(n,t){const{syncPoint:e,serverCache:r,writesCache:i,serverCacheComplete:s}=dq(t,n),o=q4(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:$S(n,t)}(n.serverSyncTree_,t);uq(n.serverSyncTree_,t._path,i,o)}return HR(n.serverSyncTree_,t,null).length>0&&Ey(n,"unexpected cancel events in repoGetValue"),i},r=>(Ey(n,"get for query "+(0,G.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}function lV(n,t,e,r,i){Ey(n,"set",{path:t.toString(),value:e,priority:r});const s=QS(n),o=Qi(e,r),c=GR(n.serverSyncTree_,t),h=eV(o,c,s),p=ZR(n),m=Z4(n.serverSyncTree_,t,h,p,!0);qR(n.eventQueue_,m),n.server_.put(t.toString(),o.val(!0),(w,E)=>{const D="ok"===w;D||ma("set at "+t+" failed: "+w);const S=Em(n.serverSyncTree_,p,!D);fu(n.eventQueue_,t,S),Sm(0,i,w,E)});const v=dV(n,t);Iw(n,v),fu(n.eventQueue_,v,[])}function i1e(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&R4(n.onDisconnect_,t),Sm(0,e,r,i)})}function Iq(n,t,e,r){const i=Qi(e);n.server_.onDisconnectPut(t.toString(),i.val(!0),(s,o)=>{"ok"===s&&Sw(n.onDisconnect_,t,i),Sm(0,r,s,o)})}function cV(n,t,e){let r;r=".info"===ir(t._path)?HR(n.infoSyncTree_,t,e):HR(n.serverSyncTree_,t,e),Cq(n.eventQueue_,t._path,r)}function kq(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Sq)}function Ey(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Co(e,...t)}function Sm(n,t,e,r){t&&vw(()=>{if("ok"===e)t(null);else{const i=(e||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function uV(n,t,e){return GR(n.serverSyncTree_,t,e)||Zn.EMPTY_NODE}function YR(n,t=n.transactionQueueTree_){if(t||KR(n,t),Cy(t)){const e=Rq(n,t);(0,G.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function u1e(n,t,e){const r=e.map(p=>p.currentWriteId),i=uV(n,t,r);let s=i;const o=i.hash();for(let p=0;p<e.length;p++){const m=e[p];(0,G.hu)(0===m.status,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=ja(t,m.path);s=s.updateChild(v,m.currentOutputSnapshotRaw)}const c=s.val(!0),h=t;n.server_.put(h.toString(),c,p=>{Ey(n,"transaction put response",{path:h.toString(),status:p});let m=[];if("ok"===p){const v=[];for(let w=0;w<e.length;w++)e[w].status=2,m=m.concat(Em(n.serverSyncTree_,e[w].currentWriteId)),e[w].onComplete&&v.push(()=>e[w].onComplete(null,!0,e[w].currentOutputSnapshotResolved)),e[w].unwatcher();KR(n,zR(n.transactionQueueTree_,t)),YR(n,n.transactionQueueTree_),fu(n.eventQueue_,t,m);for(let w=0;w<v.length;w++)vw(v[w])}else{if("datastale"===p)for(let v=0;v<e.length;v++)e[v].status=3===e[v].status?4:0;else{ma("transaction at "+h.toString()+" failed: "+p);for(let v=0;v<e.length;v++)e[v].status=4,e[v].abortReason=p}Iw(n,t)}},o)}(n,qS(t),e)}else yq(t)&&$R(t,e=>{YR(n,e)})}function Iw(n,t){const e=Mq(n,t),r=qS(e);return function d1e(n,t,e){if(0===t.length)return;const r=[];let i=[];const o=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const h=t[c],p=ja(e,h.path);let v,m=!1;if((0,G.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)m=!0,v=h.abortReason,i=i.concat(Em(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)m=!0,v="maxretry",i=i.concat(Em(n.serverSyncTree_,h.currentWriteId,!0));else{const w=uV(n,h.path,o);h.currentInputSnapshot=w;const E=t[c].update(w.val());if(void 0!==E){YS("transaction failed: Data returned ",E,h.path);let D=Qi(E);"object"==typeof E&&null!=E&&(0,G.r3)(E,".priority")||(D=D.updatePriority(w.getPriority()));const M=h.currentWriteId,P=QS(n),V=eV(D,w,P);h.currentOutputSnapshotRaw=D,h.currentOutputSnapshotResolved=V,h.currentWriteId=ZR(n),o.splice(o.indexOf(M),1),i=i.concat(Z4(n.serverSyncTree_,h.path,V,h.currentWriteId,h.applyLocally)),i=i.concat(Em(n.serverSyncTree_,M,!0))}else m=!0,v="nodata",i=i.concat(Em(n.serverSyncTree_,h.currentWriteId,!0))}fu(n.eventQueue_,e,i),i=[],m&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&r.push("nodata"===v?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(v),!1,null)))}KR(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)vw(r[c]);YR(n,n.transactionQueueTree_)}(n,Rq(n,e),r),r}function Mq(n,t){let e,r=n.transactionQueueTree_;for(e=ir(t);null!==e&&void 0===Cy(r);)r=zR(r,e),e=ir(t=ni(t));return r}function Rq(n,t){const e=[];return Fq(n,t,e),e.sort((r,i)=>r.order-i.order),e}function Fq(n,t,e){const r=Cy(t);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);$R(t,i=>{Fq(n,i,e)})}function KR(n,t){const e=Cy(t);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,rV(t,e.length>0?e:void 0)}$R(t,r=>{KR(n,r)})}function dV(n,t){const e=qS(Mq(n,t)),r=zR(n.transactionQueueTree_,t);return function Gbe(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{hV(n,i)}),hV(n,r),vq(r,i=>{hV(n,i)}),e}function hV(n,t){const e=Cy(t);if(e){const r=[];let i=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?((0,G.hu)(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):((0,G.hu)(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(Em(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&r.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?rV(t,void 0):e.length=s+1,fu(n.eventQueue_,qS(t),i);for(let o=0;o<r.length;o++)vw(r[o])}}const fV=function(n,t){const e=p1e(n),r=e.namespace;return"firebase.com"===e.domain&&Dh(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Dh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ma("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new p4(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new Br(e.pathString)}},p1e=function(n){let t="",e="",r="",i="",s="",o=!0,c="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let m=n.indexOf("/");-1===m&&(m=n.length);let v=n.indexOf("?");-1===v&&(v=n.length),t=n.substring(0,Math.min(m,v)),m<v&&(i=function h1e(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(n.substring(m,v)));const w=function f1e(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ma(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,v)));p=t.indexOf(":"),p>=0?(o="https"===c||"wss"===c,h=parseInt(t.substring(p+1),10)):p=t.length;const E=t.slice(0,p);if("localhost"===E.toLowerCase())e="localhost";else if(E.split(".").length<=2)e=E;else{const D=t.indexOf(".");r=t.substring(0,D).toLowerCase(),e=t.substring(D+1),s=r}"ns"in w&&(s=w.ns)}return{host:t,port:h,domain:e,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};class Oq{constructor(t,e,r,i){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,G.Pz)(this.snapshot.exportVal())}}class Pq{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Nq{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,G.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Lq{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new G.BH;return i1e(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){hu("OnDisconnect.remove",this._path);const t=new G.BH;return Iq(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){hu("OnDisconnect.set",this._path),kh("OnDisconnect.set",t,this._path,!1);const e=new G.BH;return Iq(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){hu("OnDisconnect.setWithPriority",this._path),kh("OnDisconnect.setWithPriority",t,this._path,!1),oV("OnDisconnect.setWithPriority",e,!1);const r=new G.BH;return function s1e(n,t,e,r,i){const s=Qi(e,r);n.server_.onDisconnectPut(t.toString(),s.val(!0),(o,c)=>{"ok"===o&&Sw(n.onDisconnect_,t,s),Sm(0,i,o,c)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){hu("OnDisconnect.update",this._path),wq("OnDisconnect.update",t,this._path,!1);const e=new G.BH;return function o1e(n,t,e,r){if((0,G.xb)(e))return Co("onDisconnect().update() called with empty data.  Don't do anything."),void Sm(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(i,s)=>{"ok"===i&&Eo(e,(o,c)=>{const h=Qi(c);Sw(n.onDisconnect_,Hi(t,o),h)}),Sm(0,r,i,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class bl{constructor(t,e,r,i){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return sr(this._path)?null:x4(this._path)}get ref(){return new pu(this._repo,this._path)}get _queryIdentifier(){const t=U9(this._queryParams),e=d4(t);return"{}"===e?"default":e}get _queryObject(){return U9(this._queryParams)}isEqual(t){if(!((t=(0,G.m9)(t))instanceof bl))return!1;const e=this._repo===t._repo,r=w4(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function iwe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function XR(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Tm(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ih){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==gp)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Ah)throw new Error(r);if("string"!=typeof e)throw new Error(i)}}else if(n.getIndex()===di){if(null!=t&&!ZS(t)||null!=e&&!ZS(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,G.hu)(n.getIndex()instanceof T4||n.getIndex()===D4,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function QR(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class pu extends bl{constructor(t,e){super(t,e,new DR,!1)}get parent(){const t=E9(this._path);return null===t?null:new pu(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Sy{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Br(t),r=Ty(this.ref,t);return new Sy(this._node.getChild(e),r,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Sy(i,Ty(this.ref,r),di)))}hasChild(t){const e=new Br(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bq(n,t){return(n=(0,G.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ty(n._root,t):n._root}function Vq(n,t){(n=(0,G.m9)(n))._checkNotDeleted("refFromURL");const e=fV(t,n._repo.repoInfo_.nodeAdmin);bq("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Dh("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),Bq(n,e.path.toString())}function Ty(n,t){return null===ir((n=(0,G.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XS("child","path",e,!1)):XS("child","path",t,!1),new pu(n._repo,Hi(n._path,t));var e}function pV(n,t){n=(0,G.m9)(n),hu("set",n._path),kh("set",t,n._path,!1);const e=new G.BH;return lV(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function v1e(n,t){wq("update",t,n._path,!1);const e=new G.BH;return function n1e(n,t,e,r){Ey(n,"update",{path:t.toString(),value:e});let i=!0;const s=QS(n),o={};if(Eo(e,(c,h)=>{i=!1,o[c]=_q(Hi(t,c),Qi(h),n.serverSyncTree_,s)}),i)Co("update() called with empty data.  Don't do anything."),Sm(0,r,"ok",void 0);else{const c=ZR(n),h=function Dbe(n,t,e,r){!function zwe(n,t,e,r){(0,G.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=B4(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const i=hi.fromObject(e);return Aw(n,new Tw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,t,o,c);qR(n.eventQueue_,h),n.server_.merge(t.toString(),e,(p,m)=>{const v="ok"===p;v||ma("update at "+t+" failed: "+p);const w=Em(n.serverSyncTree_,c,!v),E=w.length>0?Iw(n,t):t;fu(n.eventQueue_,E,w),Sm(0,r,p,m)}),Eo(e,p=>{const m=dV(n,Hi(t,p));Iw(n,m)}),fu(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class JR{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new Oq("value",this,new Sy(t.snapshotNode,new pu(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Pq(this,t,e):null}matches(t){return t instanceof JR&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class eF{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Pq(this,t,e):null}createEvent(t,e){(0,G.hu)(null!=t.childName,"Child events should have a childName.");const r=Ty(new pu(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new Oq(t.type,this,new Sy(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof eF&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function JS(n,t,e,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const h=e,p=(m,v)=>{cV(n._repo,n,c),h(m,v)};p.userCallback=e.userCallback,p.context=e.context,e=p}const o=new Nq(e,s||void 0),c="value"===t?new JR(o):new eF(t,o);return function a1e(n,t,e){let r;r=".info"===ir(t._path)?hq(n.infoSyncTree_,t,e):hq(n.serverSyncTree_,t,e),Cq(n.eventQueue_,t._path,r)}(n._repo,n,c),()=>cV(n._repo,n,c)}function gV(n,t,e,r){return JS(n,"value",t,e,r)}function Uq(n,t,e,r){return JS(n,"child_added",t,e,r)}function Hq(n,t,e,r){return JS(n,"child_changed",t,e,r)}function Gq(n,t,e,r){return JS(n,"child_moved",t,e,r)}function jq(n,t,e,r){return JS(n,"child_removed",t,e,r)}function zq(n,t,e){let r=null;const i=e?new Nq(e):null;"value"===t?r=new JR(i):t&&(r=new eF(t,i)),cV(n._repo,n,r)}class cd{}class $q extends cd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kh("endAt",this._value,t._path,!0);const e=M4(t._queryParams,this._value,this._key);if(QR(e),Tm(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bl(t._repo,t._path,e,t._orderByCalled)}}class b1e extends cd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kh("endBefore",this._value,t._path,!1);const e=function Mwe(n,t,e){let r,i;return n.index_===Ih?("string"==typeof t&&(t=L9(t)),i=M4(n,t,e)):(r=null==e?gp:L9(e),i=M4(n,t,r)),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(QR(e),Tm(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bl(t._repo,t._path,e,t._orderByCalled)}}class Wq extends cd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kh("startAt",this._value,t._path,!0);const e=k4(t._queryParams,this._value,this._key);if(QR(e),Tm(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bl(t._repo,t._path,e,t._orderByCalled)}}class S1e extends cd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){kh("startAfter",this._value,t._path,!1);const e=function kwe(n,t,e){let r;if(n.index_===Ih)"string"==typeof t&&(t=N9(t)),r=k4(n,t,e);else{let i;i=null==e?Ah:N9(e),r=k4(n,t,i)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(QR(e),Tm(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bl(t._repo,t._path,e,t._orderByCalled)}}class D1e extends cd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bl(t._repo,t._path,function Awe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class I1e extends cd{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bl(t._repo,t._path,function Iwe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class M1e extends cd{constructor(t){super(),this._path=t}_apply(t){XR(t,"orderByChild");const e=new Br(this._path);if(sr(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new T4(e),i=AR(t._queryParams,r);return Tm(i),new bl(t._repo,t._path,i,!0)}}class F1e extends cd{_apply(t){XR(t,"orderByKey");const e=AR(t._queryParams,Ih);return Tm(e),new bl(t._repo,t._path,e,!0)}}class P1e extends cd{_apply(t){XR(t,"orderByPriority");const e=AR(t._queryParams,di);return Tm(e),new bl(t._repo,t._path,e,!0)}}class L1e extends cd{_apply(t){XR(t,"orderByValue");const e=AR(t._queryParams,D4);return Tm(e),new bl(t._repo,t._path,e,!0)}}class V1e extends cd{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(kh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $q(this._value,this._key)._apply(new Wq(this._value,this._key)._apply(t))}}function ud(n,...t){let e=(0,G.m9)(n);for(const r of t)e=r._apply(e);return e}(function vbe(n){(0,G.hu)(!BR,"__referenceConstructor has already been defined"),BR=n})(pu),function Ebe(n){(0,G.hu)(!UR,"__referenceConstructor has already been defined"),UR=n}(pu);const mV={};function Zq(n,t,e,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Dh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Co("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,o=fV(s,i),c=o.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(h=!0,s=`http://${p}?ns=${c.namespace}`,o=fV(s,i),c=o.repoInfo):h=!o.repoInfo.secure;const m=i&&h?new RS(RS.OWNER):new Fxe(n.name,n.options,t);bq("Invalid Firebase Database URL",o),sr(o.path)||Dh("Database URL must point to the root of a Firebase Database (not including a child path).");const v=function z1e(n,t,e,r){let i=mV[t.name];i||(i={},mV[t.name]=i);let s=i[n.toURLString()];return s&&Dh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qbe(n,false,e,r),i[n.toURLString()]=s,s}(c,n,m,new Rxe(n.name,e));return new W1e(v,n)}class W1e{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jbe(n,t,e){if(n.stats_=_4(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new IR(n.repoInfo_,(r,i,s,o)=>{Dq(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Aq(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,G.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new vy(n.repoInfo_,t,(r,i,s,o)=>{Dq(n,r,i,s,o)},r=>{Aq(n,r)},r=>{!function e1e(n,t){Eo(t,(e,r)=>{aV(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Nxe(n,t){const e=n.toString();return m4[e]||(m4[e]=t()),m4[e]}(n.repoInfo_,()=>new Lwe(n.stats_,n.server_)),n.infoData_=new Rwe,n.infoSyncTree_=new cq({startListening:(r,i,s,o)=>{let c=[];const h=n.infoData_.getNode(r._path);return h.isEmpty()||(c=zS(n.infoSyncTree_,r._path,h),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),aV(n,"connected",!1),n.serverSyncTree_=new cq({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(c,h)=>{const p=o(c,h);fu(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pu(this._repo,Fr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function j1e(n,t){const e=mV[t];(!e||e[n.key]!==n)&&Dh(`Database ${t}(${n.repoInfo_}) has already been deleted.`),kq(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Dh("Cannot call "+t+" on a deleted database.")}}function Yq(){h9.IS_TRANSPORT_INITIALIZED&&ma("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function q1e(){Yq(),ym.forceDisallow()}function Z1e(){Yq(),xw.forceDisallow(),ym.forceAllow()}function Q1e(n,t){WW(n,t)}const eCe={".sv":"timestamp"};class rCe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}vy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},vy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function J1e(n){HW(uo.SDK_VERSION),(0,uo._registerComponent)(new fl.wA("database",(t,{instanceIdentifier:e})=>Zq(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,uo.registerVersion)(VW,"0.13.4",n),(0,uo.registerVersion)(VW,"0.13.4","esm2017")}();const aCe=new pl.Yd("@firebase/database-compat"),Kq=function(n){aCe.warn("FIREBASE WARNING: "+n)};class uCe{constructor(t){this._delegate=t}cancel(t){(0,G.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,G.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,G.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,G.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,G.Dv)("OnDisconnect.set",1,2,arguments.length),(0,G.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,G.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,G.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,e);return r&&i.then(()=>r(null),s=>r(s)),i}update(t,e){if((0,G.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,Kq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,G.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),i=>e(i)),r}}class dCe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,G.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Dm{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,G.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,G.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,G.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,G.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,G.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),XS("DataSnapshot.child","path",t,!1),new Dm(this._database,this._delegate.child(t))}hasChild(t){return(0,G.Dv)("DataSnapshot.hasChild",1,1,arguments.length),XS("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,G.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,G.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,G.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Dm(this._database,e)))}hasChildren(){return(0,G.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,G.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,G.Dv)("DataSnapshot.ref",0,0,arguments.length),new lc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class jo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,i){var s;(0,G.Dv)("Query.on",2,4,arguments.length),(0,G.Wj)("Query.on","callback",e,!1);const o=jo.getCancelAndContextArgs_("Query.on",r,i),c=(p,m)=>{e.call(o.context,new Dm(this.database,p),m)};c.userCallback=e,c.context=o.context;const h=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return gV(this._delegate,c,h),e;case"child_added":return Uq(this._delegate,c,h),e;case"child_removed":return jq(this._delegate,c,h),e;case"child_changed":return Hq(this._delegate,c,h),e;case"child_moved":return Gq(this._delegate,c,h),e;default:throw new Error((0,G.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,G.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,G.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,G.Wj)("Query.off","callback",e,!0),(0,G.lb)("Query.off","context",r,!0),e){const i=()=>{};i.userCallback=e,i.context=r,zq(this._delegate,t,i)}else zq(this._delegate,t)}get(){return function x1e(n){return t1e((n=(0,G.m9)(n))._repo,n).then(t=>new Sy(t,new pu(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new Dm(this.database,t))}once(t,e,r,i){(0,G.Dv)("Query.once",1,4,arguments.length),(0,G.Wj)("Query.once","callback",e,!0);const s=jo.getCancelAndContextArgs_("Query.once",r,i),o=new G.BH,c=(p,m)=>{const v=new Dm(this.database,p);e&&e.call(s.context,v,m),o.resolve(v)};c.userCallback=e,c.context=s.context;const h=p=>{s.cancel&&s.cancel.call(s.context,p),o.reject(p)};switch(t){case"value":gV(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":Uq(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":jq(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":Hq(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":Gq(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error((0,G.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,G.Dv)("Query.limitToFirst",1,1,arguments.length),new jo(this.database,ud(this._delegate,function A1e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new D1e(n)}(t)))}limitToLast(t){return(0,G.Dv)("Query.limitToLast",1,1,arguments.length),new jo(this.database,ud(this._delegate,function k1e(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new I1e(n)}(t)))}orderByChild(t){return(0,G.Dv)("Query.orderByChild",1,1,arguments.length),new jo(this.database,ud(this._delegate,function R1e(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return XS("orderByChild","path",n,!1),new M1e(n)}(t)))}orderByKey(){return(0,G.Dv)("Query.orderByKey",0,0,arguments.length),new jo(this.database,ud(this._delegate,function O1e(){return new F1e}()))}orderByPriority(){return(0,G.Dv)("Query.orderByPriority",0,0,arguments.length),new jo(this.database,ud(this._delegate,function N1e(){return new P1e}()))}orderByValue(){return(0,G.Dv)("Query.orderByValue",0,0,arguments.length),new jo(this.database,ud(this._delegate,function B1e(){return new L1e}()))}startAt(t=null,e){return(0,G.Dv)("Query.startAt",0,2,arguments.length),new jo(this.database,ud(this._delegate,function E1e(n=null,t){return KS("startAt","key",t,!0),new Wq(n,t)}(t,e)))}startAfter(t=null,e){return(0,G.Dv)("Query.startAfter",0,2,arguments.length),new jo(this.database,ud(this._delegate,function T1e(n,t){return KS("startAfter","key",t,!0),new S1e(n,t)}(t,e)))}endAt(t=null,e){return(0,G.Dv)("Query.endAt",0,2,arguments.length),new jo(this.database,ud(this._delegate,function w1e(n,t){return KS("endAt","key",t,!0),new $q(n,t)}(t,e)))}endBefore(t=null,e){return(0,G.Dv)("Query.endBefore",0,2,arguments.length),new jo(this.database,ud(this._delegate,function C1e(n,t){return KS("endBefore","key",t,!0),new b1e(n,t)}(t,e)))}equalTo(t,e){return(0,G.Dv)("Query.equalTo",1,2,arguments.length),new jo(this.database,ud(this._delegate,function U1e(n,t){return KS("equalTo","key",t,!0),new V1e(n,t)}(t,e)))}toString(){return(0,G.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,G.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,G.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof jo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const i={cancel:void 0,context:void 0};if(e&&r)i.cancel=e,(0,G.Wj)(t,"cancel",i.cancel,!0),i.context=r,(0,G.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,G.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new lc(this.database,new pu(this._delegate._repo,this._delegate._path))}}class lc extends jo{constructor(t,e){super(t,new bl(e._repo,e._path,new DR,!1)),this.database=t,this._delegate=e}getKey(){return(0,G.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,G.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new lc(this.database,Ty(this._delegate,t))}getParent(){(0,G.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new lc(this.database,t):null}getRoot(){return(0,G.Dv)("Reference.root",0,0,arguments.length),new lc(this.database,this._delegate.root)}set(t,e){(0,G.Dv)("Reference.set",1,2,arguments.length),(0,G.Wj)("Reference.set","onComplete",e,!0);const r=pV(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}update(t,e){if((0,G.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,Kq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hu("Reference.update",this._delegate._path),(0,G.Wj)("Reference.update","onComplete",e,!0);const r=v1e(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,G.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,G.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function y1e(n,t,e){if(hu("setWithPriority",n._path),kh("setWithPriority",t,n._path,!1),oV("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new G.BH;return lV(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&i.then(()=>r(null),s=>r(s)),i}remove(t){(0,G.Dv)("Reference.remove",0,1,arguments.length),(0,G.Wj)("Reference.remove","onComplete",t,!0);const e=function m1e(n){return hu("remove",n._path),pV(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,G.Dv)("Reference.transaction",1,3,arguments.length),(0,G.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,G.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,G.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function iCe(n,t,e){var r;if(n=(0,G.m9)(n),hu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=e?.applyLocally)||void 0===r||r,s=new G.BH,c=gV(n,()=>{});return function c1e(n,t,e,r,i,s){Ey(n,"transaction on "+t);const o={path:t,update:e,onComplete:r,status:null,order:jW(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=uV(n,t,void 0);o.currentInputSnapshot=c;const h=o.update(c.val());if(void 0===h)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{YS("transaction failed: Data returned ",h,o.path),o.status=0;const p=zR(n.transactionQueueTree_,t),m=Cy(p)||[];let v;m.push(o),rV(p,m),"object"==typeof h&&null!==h&&(0,G.r3)(h,".priority")?(v=(0,G.DV)(h,".priority"),(0,G.hu)(ZS(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(GR(n.serverSyncTree_,t)||Zn.EMPTY_NODE).getPriority().val();const w=QS(n),E=Qi(h,v),D=eV(E,c,w);o.currentOutputSnapshotRaw=E,o.currentOutputSnapshotResolved=D,o.currentWriteId=ZR(n);const S=Z4(n.serverSyncTree_,t,D,o.currentWriteId,o.applyLocally);fu(n.eventQueue_,t,S),YR(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,p,m)=>{let v=null;h?s.reject(h):(v=new Sy(m,new pu(n._repo,n._path),di),s.resolve(new rCe(p,v)))},c,i),s.promise}(this._delegate,t,{applyLocally:r}).then(s=>new dCe(s.committed,new Dm(this.database,s.snapshot)));return e&&i.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),i}setPriority(t,e){(0,G.Dv)("Reference.setPriority",1,2,arguments.length),(0,G.Wj)("Reference.setPriority","onComplete",e,!0);const r=function _1e(n,t){n=(0,G.m9)(n),hu("setPriority",n._path),oV("setPriority",t,!1);const e=new G.BH;return lV(n._repo,Hi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}push(t,e){(0,G.Dv)("Reference.push",0,2,arguments.length),(0,G.Wj)("Reference.push","onComplete",e,!0);const r=function g1e(n,t){n=(0,G.m9)(n),hu("push",n._path),kh("push",t,n._path,!0);const e=Tq(n._repo),r=Ewe(e),i=Ty(n,r),s=Ty(n,r);let o;return o=null!=t?pV(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,t),i=r.then(o=>new lc(this.database,o));e&&i.then(()=>e(null),o=>e(o));const s=new lc(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return hu("Reference.onDisconnect",this._delegate._path),new uCe(new Lq(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class eT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:q1e,forceLongPolling:Z1e}}useEmulator(t,e,r={}){!function Y1e(n,t,e,r={}){(n=(0,G.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Dh("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Dh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new RS(RS.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,G.Sg)(r.mockUserToken,n.app.options.projectId);s=new RS(o)}!function G1e(n,t,e,r){n.repoInfo_=new p4(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,t,e,s)}(this._delegate,t,e,r)}ref(t){if((0,G.Dv)("database.ref",0,1,arguments.length),t instanceof lc){const e=Vq(this._delegate,t.toString());return new lc(this,e)}{const e=Bq(this._delegate,t);return new lc(this,e)}}refFromURL(t){(0,G.Dv)("database.refFromURL",1,1,arguments.length);const r=Vq(this._delegate,t);return new lc(this,r)}goOffline(){return(0,G.Dv)("database.goOffline",0,0,arguments.length),function K1e(n){(n=(0,G.m9)(n))._checkNotDeleted("goOffline"),kq(n._repo)}(this._delegate)}goOnline(){return(0,G.Dv)("database.goOnline",0,0,arguments.length),function X1e(n){(n=(0,G.m9)(n))._checkNotDeleted("goOnline"),function l1e(n){n.persistentConnection_&&n.persistentConnection_.resume(Sq)}(n._repo)}(this._delegate)}}eT.ServerValue={TIMESTAMP:function tCe(){return eCe}(),increment:n=>function nCe(n){return{".sv":{increment:n}}}(n)};var fCe=Object.freeze({__proto__:null,initStandalone:function hCe({app:n,url:t,version:e,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){HW(e);const o=new fl.zt("auth-internal",new fl.H0("database-standalone"));return o.setComponent(new fl.wA("auth-internal",()=>r,"PRIVATE")),{instance:new eT(Zq(n,o,void 0,t,s),n),namespace:i}}});const pCe=eT.ServerValue;function Xq(n){return null==n}function Qq(n){return"function"==typeof n.set}function Jq(n,t){return Qq(t)?t:n.ref(t)}function eZ(n,t){if(function mCe(n){return"string"==typeof n}(n))return t.stringCase();if(Qq(n))return t.firebaseCase();if(function _Ce(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function tT(n,t,e="on",r=Ld.z){return new vi.y(i=>{let s=null;return s=n[e](t,(o,c)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:c})}),"once"===e&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,C.U)(i=>{const{snapshot:s,prevKey:o}=i;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:o,key:c}}),(0,eL.B)())}function tZ(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function xCe(n,t){const{payload:e,prevKey:r,key:i}=t,s=tZ(n,i),o=function vCe(n,t){if(Xq(t))return 0;{const e=tZ(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let c=null;t.payload.forEach(h=>{const p={payload:h,type:"value",prevKey:c,key:h.key};return c=h.key,n=[...n,p],!1})}return n;case"child_added":if(s>-1){const c=n[s-1];(c&&c.key||null)!==r&&(n=n.filter(h=>h.payload.key!==e.key)).splice(o,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(o,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===i?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(o,0,c),n}return n;default:return n}}function nZ(n){return(Xq(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function rZ(n,t,e){return function yCe(n,t,e){return tT(n,"value","once",e).pipe(Yi(r=>{const i=[Qt(r)];return t.forEach(s=>i.push(tT(n,s,"on",e))),(0,zs.T)(...i).pipe(Zd(xCe,[]))}),j())}(n,t=nZ(t),e)}function iZ(n,t,e){const r=(t=nZ(t)).map(i=>tT(n,i,"on",e));return(0,zs.T)(...r)}function sZ(n,t){return function(r,i){return eZ(r,{stringCase:()=>n.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function ECe(n){return function(e){return e?eZ(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function oZ(n,t){return function(){return tT(n,"value","on",t)}}!function gCe(n){n.INTERNAL.registerComponent(new fl.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new eT(i,r)},"PUBLIC").setServiceProps({Reference:lc,Query:jo,Database:eT,DataSnapshot:Dm,enableLogging:Q1e,INTERNAL:fCe,ServerValue:pCe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.4")}(z0.Z);const DCe=new a.OlP("angularfire2.realtimeDatabaseURL"),ACe=new a.OlP("angularfire2.database.use-emulator");let ICe=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v,w,E,D,S,M){this.schedulers=c;const P=h,V=(0,qi.on)(e,o,r);p&&SL(V,o,m,w,E,D,v,S),this.database=(0,qi.cc)(`${V.name}.database.${i}`,"AngularFireDatabase",V.name,()=>{const B=o.runOutsideAngular(()=>V.database(i||void 0));return P&&B.useEmulator(...P),B},[P])}list(e,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>Jq(this.database,e));let s=i;return r&&(s=r(i)),function SCe(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:sZ(r,"update"),set:sZ(r,"set"),push:i=>r.push(i),remove:ECe(r),snapshotChanges:i=>rZ(n,i,e).pipe(gr.iC),stateChanges:i=>iZ(n,i,e).pipe(gr.iC),auditTrail:i=>function wCe(n,t,e){return function CCe(n,t,e){return function bCe(n,t){return tT(n,"value","on",t).pipe((0,C.U)(e=>{let r;return e.payload.forEach(i=>(r=i.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function xxe(...n){const t=(0,Ea.jO)(n);return(0,Oi.e)((e,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),c=!1;for(let h=0;h<i;h++)(0,rt.Xf)(n[h]).subscribe((0,Xr.x)(r,p=>{s[h]=p,!c&&!o[h]&&(o[h]=!0,(c=o.every(O.y))&&(o=null))},Ht.Z));e.subscribe((0,Xr.x)(r,h=>{if(c){const p=[h,...s];r.next(t?t(...p):p)}}))})}(t),(0,C.U)(([i,s])=>{const o=i.lastKeyToLoad,c=s.map(h=>h.key);return{actions:s,lastKeyToLoad:o,loadedKeys:c}}),function wxe(n){return(0,Oi.e)((t,e)=>{let r=!1,i=0;t.subscribe((0,Xr.x)(e,s=>(r||(r=!n(s,i++)))&&e.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,C.U)(i=>i.actions))}(n,iZ(n,t).pipe(Zd((i,s)=>[...i,s],[])),e)}(n,i,e).pipe(gr.iC),valueChanges:(i,s)=>rZ(n,i,e).pipe((0,C.U)(c=>c.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),gr.iC)}}(s,this)}object(e){return function TCe(n,t){return{query:n,snapshotChanges:()=>oZ(n,t.schedulers.outsideAngular)().pipe(gr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>oZ(n,t.schedulers.outsideAngular)().pipe(gr.iC,(0,C.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Jq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qi.Dh),a.LFG(qi.xv,8),a.LFG(DCe,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gr.HU),a.LFG(ACe,8),a.LFG(TE,8),a.LFG(vL,8),a.LFG(xL,8),a.LFG(wL,8),a.LFG(bL,8),a.LFG(CL,8),a.LFG(EL,8),a.LFG(EE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kCe=(()=>{class n{constructor(){SE.Z.registerVersion("angularfire",gr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ICe]}),n})();const aZ_firebase={apiKey:"AIzaSyABf21Us76ouC8oxtWBnFdNUmwFsSMOUqQ",authDomain:"restaurante-teste-bf5c7.firebaseapp.com",databaseURL:"https://restaurante-teste-bf5c7-default-rtdb.firebaseio.com",projectId:"restaurante-teste-bf5c7",storageBucket:"restaurante-teste-bf5c7.appspot.com",messagingSenderId:"24884724285",appId:"1:24884724285:web:bdb716fe8a0c268ee3a054"},lZ="firebasestorage.googleapis.com",cZ="storageBucket";class hs extends G.ZR{constructor(t,e){super(_V(t),`Firebase Storage: ${e} (${_V(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hs.prototype)}_codeEquals(t){return _V(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function _V(n){return"storage/"+n}function yV(){return new hs("unknown","An unknown error occurred, please check the error payload for server response.")}function uZ(){return new hs("canceled","User canceled the upload/download.")}function dZ(){return new hs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kw(n){return new hs("invalid-argument",n)}function hZ(){return new hs("app-deleted","The Firebase app was deleted.")}function fZ(n){return new hs("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nT(n,t){return new hs("invalid-format","String does not match format '"+n+"': "+t)}function rT(n){throw new hs("internal-error","Internal error: "+n)}class _a{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=_a.makeFromUrl(t,e)}catch{return new _a(t,"")}if(""===r.path)return r;throw function UCe(n){return new hs("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const i="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+i+"(/(.*))?$","i");function p(X){X.path_=decodeURIComponent(X.path)}const v=e.replace(/[.]/g,"\\."),B=[{regex:c,indices:{bucket:1,path:3},postModify:function s(X){"/"===X.path.charAt(X.path.length-1)&&(X.path_=X.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${v}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${e===lZ?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<B.length;X++){const he=B[X],we=he.regex.exec(t);if(we){let Ee=we[he.indices.path];Ee||(Ee=""),r=new _a(we[he.indices.bucket],Ee),he.postModify(r);break}}if(null==r)throw function VCe(n){return new hs("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class zCe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function tF(n){return"string"==typeof n||n instanceof String}function pZ(n){return vV()&&n instanceof Blob}function vV(){return typeof Blob<"u"}function xV(n,t,e,r){if(r<t)throw kw(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw kw(`Invalid value for '${n}'. Expected ${e} or less.`)}function _p(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function gZ(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var Am=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Am||(Am={})),Am))();class KCe{constructor(t,e,r,i,s,o,c,h,p,m,v){this.url_=t,this.method_=e,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,E)=>{this.resolve_=w,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{const s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());!function qCe(n){return void 0!==n}(h)?s():s(h)}catch(h){o(h)}else if(null!==c){const h=yV();h.serverResponse=c.getErrorText(),o(this.errorCallback_?this.errorCallback_(c,h):h)}else o(i.canceled?this.appDelete_?hZ():uZ():function BCe(){return new hs("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new nF(!1,null,!0)):this.backoffId_=function $Ce(n,t,e){let r=1,i=null,s=null,o=!1,c=0;function h(){return 2===c}let p=!1;function m(...M){p||(p=!0,t.apply(null,M))}function v(M){i=setTimeout(()=>{i=null,n(E,h())},M)}function w(){s&&clearTimeout(s)}function E(M,...P){if(p)return void w();if(M)return w(),void m.call(null,M,...P);if(h()||o)return w(),void m.call(null,M,...P);let B;r<64&&(r*=2),1===c?(c=2,B=0):B=1e3*(r+Math.random()),v(B)}let D=!1;function S(M){D||(D=!0,w(),!p&&(null!==i?(M||(c=2),clearTimeout(i),v(0)):M||(c=1)))}return v(0),s=setTimeout(()=>{o=!0,S(!0)},e),S}((r,i)=>{if(i)return void r(!1,new nF(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===Am.NO_ERROR,h=s.getStatus();if(!c||this.isRetryStatusCode_(h)){const m=s.getErrorCode()===Am.ABORT;return void r(!1,new nF(!1,null,m))}const p=-1!==this.successCodes_.indexOf(h);r(!0,new nF(p,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function WCe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||i||s}}class nF{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function rEe(...n){const t=function nEe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(vV())return new Blob(n);throw new hs("unsupported-environment","This browser doesn't seem to support creating Blobs")}const cc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wV{constructor(t,e){this.data=t,this.contentType=e||null}}function bV(n,t){switch(n){case cc.RAW:return new wV(mZ(t));case cc.BASE64:case cc.BASE64URL:return new wV(_Z(n,t));case cc.DATA_URL:return new wV(function aEe(n){const t=new yZ(n);return t.base64?_Z(cc.BASE64,t.rest):function oEe(n){let t;try{t=decodeURIComponent(n)}catch{throw nT(cc.DATA_URL,"Malformed data URL.")}return mZ(t)}(t.rest)}(t),function lEe(n){return new yZ(n).contentType}(t))}throw yV()}function mZ(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _Z(n,t){switch(n){case cc.BASE64:{const i=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(i||s)throw nT(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cc.BASE64URL:{const i=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(i||s)throw nT(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function sEe(n){return atob(n)}(t)}catch{throw nT(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}class yZ{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw nT(cc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function cEe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class Mh{constructor(t,e){let r=0,i="";pZ(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,e){if(pZ(this.data_)){const i=function iEe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===i?null:new Mh(i)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new Mh(r,!0)}}static getBlob(...t){if(vV()){const e=t.map(r=>r instanceof Mh?r.data_:r);return new Mh(rEe.apply(null,e))}{const e=t.map(o=>tF(o)?bV(cc.RAW,o).data:o.data_);let r=0;e.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return e.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new Mh(i,!0)}}uploadData(){return this.data_}}function CV(n){let t;try{t=JSON.parse(n)}catch{return null}return function YCe(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function vZ(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function hEe(n,t){return t}class za{constructor(t,e,r,i){this.server=t,this.local=e||t,this.writable=!!r,this.xform=i||hEe}}let rF=null;function iT(){if(rF)return rF;const n=[];n.push(new za("bucket")),n.push(new za("generation")),n.push(new za("metageneration")),n.push(new za("name","fullPath",!0));const e=new za("name");e.xform=function t(s,o){return function fEe(n){return!tF(n)||n.length<2?n:vZ(n)}(o)},n.push(e);const i=new za("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new za("timeCreated")),n.push(new za("updated")),n.push(new za("md5Hash",null,!0)),n.push(new za("cacheControl",null,!0)),n.push(new za("contentDisposition",null,!0)),n.push(new za("contentEncoding",null,!0)),n.push(new za("contentLanguage",null,!0)),n.push(new za("contentType",null,!0)),n.push(new za("metadata","customMetadata",!0)),rF=n,rF}function xZ(n,t,e){const r=CV(t);return null===r?null:function gEe(n,t,e){const r={type:"file"},i=e.length;for(let s=0;s<i;s++){const o=e[s];r[o.local]=o.xform(r,t[o.server])}return function pEe(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new _a(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(r,n),r}(n,r,e)}function EV(n,t){const e={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const wZ="prefixes";class Rh{constructor(t,e,r,i){this.url=t,this.method=e,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fh(n){if(!n)throw yV()}function iF(n,t){return function e(r,i){const s=xZ(n,i,t);return Fh(null!==s),s}}function Mw(n){return function t(e,r){let i;return i=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function NCe(){return new hs("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function PCe(){return new hs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function OCe(n){return new hs("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function LCe(n){return new hs("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function sT(n){const t=Mw(n);return function e(r,i){let s=t(r,i);return 404===r.getStatus()&&(s=function FCe(n){return new hs("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function CZ(n,t,e){const i=_p(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new Rh(i,"GET",iF(n,e),o);return c.errorHandler=sT(t),c}function wEe(n,t,e,r,i){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),r&&(s.pageToken=r),i&&(s.maxResults=i);const c=_p(t.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,m=new Rh(c,"GET",function vEe(n,t){return function e(r,i){const s=function yEe(n,t,e){const r=CV(e);return null===r?null:function _Ee(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[wZ])for(const i of e[wZ]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new _a(t,s));r.prefixes.push(o)}if(e.items)for(const i of e.items){const s=n._makeStorageReference(new _a(t,i.name));r.items.push(s)}return r}(n,t,r)}(n,t,i);return Fh(null!==s),s}}(n,t.bucket),p);return m.urlParams=s,m.errorHandler=Mw(t),m}function SZ(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function SEe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class sF{constructor(t,e,r,i){this.current=t,this.total=e,this.finalized=!!r,this.metadata=i||null}}function SV(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Fh(!1)}return Fh(!!e&&-1!==(t||["active"]).indexOf(e)),e}const IEe={STATE_CHANGED:"state_changed"},$a={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TV(n){switch(n){case"running":case"pausing":case"canceling":return $a.RUNNING;case"paused":return $a.PAUSED;case"success":return $a.SUCCESS;case"canceled":return $a.CANCELED;default:return $a.ERROR}}class kEe{constructor(t,e,r){if(function ZCe(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=e??void 0,this.complete=r??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Rw(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class REe extends class MEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Am.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Am.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Am.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,i){if(this.sent_)throw rT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rT("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function dd(){return new REe}class IZ{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=iT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function TEe(n,t,e,r,i){const s=t.bucketOnlyServerUrl(),o=SZ(t,r,i),c={name:o.fullPath},h=_p(s,n.host,n._protocol),m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},v=EV(o,e),D=new Rh(h,"POST",function E(S){let M;SV(S);try{M=S.getResponseHeader("X-Goog-Upload-URL")}catch{Fh(!1)}return Fh(tF(M)),M},n.maxUploadRetryTime);return D.urlParams=c,D.headers=m,D.body=v,D.errorHandler=Mw(t),D}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dd,t,e);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const i=function DEe(n,t,e,r){const h=new Rh(e,"POST",function s(p){const m=SV(p,["active","final"]);let v=null;try{v=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fh(!1)}v||Fh(!1);const w=Number(v);return Fh(!isNaN(w)),new sF(w,r.size(),"final"===m)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=Mw(t),h}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(i,dd,e,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new sF(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function AEe(n,t,e,r,i,s,o,c){const h=new sF(0,0);if(o?(h.current=o.current,h.total=o.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw function GCe(){return new hs("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let m=p;i>0&&(m=Math.min(m,i));const v=h.current,D={"X-Goog-Upload-Command":m===p?"upload, finalize":"upload","X-Goog-Upload-Offset":`${h.current}`},S=r.slice(v,v+m);if(null===S)throw dZ();const B=new Rh(e,"POST",function M(X,he){const we=SV(X,["active","final"]),Y=h.current+m,Ee=r.size();let Ce;return Ce="final"===we?iF(t,s)(X,he):null,new sF(Y,Ee,"final"===we,Ce)},t.maxUploadRetryTime);return B.headers=D,B.body=S.uploadData(),B.progressCallback=c||null,B.errorHandler=Mw(n),B}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const c=this._ref.storage._makeRequest(o,dd,i,s);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=CZ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,dd,t,e);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function TZ(n,t,e,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},h=function c(){let B="";for(let X=0;X<2;X++)B+=Math.random().toString().slice(2);return B}();o["Content-Type"]="multipart/related; boundary="+h;const p=SZ(t,r,i),m=EV(p,e),E=Mh.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+m+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",r,"\r\n--"+h+"--");if(null===E)throw dZ();const D={name:p.fullPath},S=_p(s,n.host,n._protocol),P=n.maxUploadRetryTime,V=new Rh(S,"POST",iF(n,e),P);return V.urlParams=D,V.headers=o,V.body=E.uploadData(),V.errorHandler=Mw(t),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,dd,t,e);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=uZ(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=TV(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,i){const s=new kEe(e||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(TV(this._state)){case $a.SUCCESS:Rw(this._resolve.bind(null,this.snapshot))();break;case $a.CANCELED:case $a.ERROR:Rw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(TV(this._state)){case $a.RUNNING:case $a.PAUSED:t.next&&Rw(t.next.bind(t,this.snapshot))();break;case $a.SUCCESS:t.complete&&Rw(t.complete.bind(t))();break;default:t.error&&Rw(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Dy{constructor(t,e){this._service=t,this._location=e instanceof _a?e:_a.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Dy(t,e)}get root(){const t=new _a(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vZ(this._location.path)}get storage(){return this._service}get parent(){const t=function uEe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new _a(this._location.bucket,t);return new Dy(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw fZ(t)}}function MZ(n,t,e){return DV.apply(this,arguments)}function DV(){return DV=(0,qe.Z)(function*(n,t,e){const i=yield RZ(n,{pageToken:e});t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield MZ(n,t,i.nextPageToken))}),DV.apply(this,arguments)}function RZ(n,t){null!=t&&"number"==typeof t.maxResults&&xV("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=wEe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,dd)}function zEe(n){n._throwIfRoot("getDownloadURL");const t=function bEe(n,t,e){const i=_p(t.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,c=new Rh(i,"GET",function xEe(n,t){return function e(r,i){const s=xZ(n,i,t);return Fh(null!==s),function mEe(n,t,e,r){const i=CV(t);if(null===i||!tF(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(p=>{const v=n.fullPath;return _p("/b/"+o(n.bucket)+"/o/"+o(v),e,r)+gZ({alt:"media",token:p})})[0]}(s,i,n.host,n._protocol)}}(n,e),o);return c.errorHandler=sT(t),c}(n.storage,n._location,iT());return n.storage.makeRequestWithTokens(t,dd).then(e=>{if(null===e)throw function jCe(){return new hs("no-download-url","The given file does not have any download URLs.")}();return e})}function FZ(n,t){const e=function dEe(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new _a(n._location.bucket,e);return new Dy(n.storage,r)}function OZ(n,t){if(n instanceof AV){const e=n;if(null==e._bucket)throw function HCe(){return new hs("no-default-bucket","No default bucket found. Did you set the '"+cZ+"' property when initializing the app?")}();const r=new Dy(e,e._bucket);return null!=t?OZ(r,t):r}return void 0!==t?FZ(n,t):n}function ZEe(n,t){if(t&&function WEe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof AV)return function qEe(n,t){return new Dy(n,t)}(n,t);throw kw("To use ref(service, url), the first argument must be a Storage instance.")}return OZ(n,t)}function PZ(n,t){const e=t?.[cZ];return null==e?null:_a.makeFromBucketSpec(e,n)}class AV{constructor(t,e,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=lZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_a.makeFromBucketSpec(i,this._host):PZ(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?_a.makeFromBucketSpec(this._url,t):PZ(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){xV("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){xV("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,qe.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,qe.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Dy(this,t)}_makeRequest(t,e,r,i){if(this._deleted)return new zCe(hZ());{const s=function tEe(n,t,e,r,i,s){const o=gZ(n.urlParams),c=n.url+o,h=Object.assign({},n.headers);return function JCe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(h,t),function XCe(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(h,e),function QCe(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(h,s),function eEe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(h,r),new KCe(c,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(t,this._appId,r,i,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var r=this;return(0,qe.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,i,s).getPromise()})()}}const NZ="@firebase/storage";function VZ(n,t){return ZEe(n=(0,G.m9)(n),t)}function sSe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new AV(e,r,i,t,uo.SDK_VERSION)}!function oSe(){(0,uo._registerComponent)(new fl.wA("storage",sSe,"PUBLIC").setMultipleInstances(!0)),(0,uo.registerVersion)(NZ,"0.9.9",""),(0,uo.registerVersion)(NZ,"0.9.9","esm2017")}();class oF{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UZ{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oF(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new oF(r,this,this._ref))},e)}on(t,e,r,i){let s;return e&&(s="function"==typeof e?o=>e(new oF(o,this,this._ref)):{next:e.next?o=>e.next(new oF(o,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,r||void 0,i||void 0)}}class HZ{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new yp(t,this._service))}get items(){return this._delegate.items.map(t=>new yp(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yp{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function rSe(n,t){return FZ(n,t)}(this._delegate,t);return new yp(e,this.storage)}get root(){return new yp(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new yp(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new UZ(function KEe(n,t,e){return function VEe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new IZ(n,new Mh(t),e)}(n=(0,G.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=cc.RAW,r){this._throwIfRoot("putString");const i=bV(e,t),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new UZ(new IZ(this._delegate,new Mh(i.data,!0),s),this)}listAll(){return function eSe(n){return function HEe(n){const t={prefixes:[],items:[]};return MZ(n,t).then(()=>t)}(n=(0,G.m9)(n))}(this._delegate).then(t=>new HZ(t,this.storage))}list(t){return function JEe(n,t){return RZ(n=(0,G.m9)(n),t)}(this._delegate,t||void 0).then(e=>new HZ(e,this.storage))}getMetadata(){return function XEe(n){return function GEe(n){n._throwIfRoot("getMetadata");const t=CZ(n.storage,n._location,iT());return n.storage.makeRequestWithTokens(t,dd)}(n=(0,G.m9)(n))}(this._delegate)}updateMetadata(t){return function QEe(n,t){return function jEe(n,t){n._throwIfRoot("updateMetadata");const e=function CEe(n,t,e,r){const s=_p(t.fullServerUrl(),n.host,n._protocol),c=EV(e,r),p=n.maxOperationRetryTime,m=new Rh(s,"PATCH",iF(n,r),p);return m.headers={"Content-Type":"application/json; charset=utf-8"},m.body=c,m.errorHandler=sT(t),m}(n.storage,n._location,t,iT());return n.storage.makeRequestWithTokens(e,dd)}(n=(0,G.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function tSe(n){return zEe(n=(0,G.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function nSe(n){return function $Ee(n){n._throwIfRoot("deleteObject");const t=function EEe(n,t){const r=_p(t.fullServerUrl(),n.host,n._protocol),c=new Rh(r,"DELETE",function o(h,p){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=sT(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,dd)}(n=(0,G.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw fZ(t)}}class GZ{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(jZ(t))throw kw("ref() expected a child path but got a URL, use refFromURL instead.");return new yp(VZ(this._delegate,t),this)}refFromURL(t){if(!jZ(t))throw kw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_a.makeFromUrl(t,this._delegate.host)}catch{throw kw("refFromUrl() expected a valid full URL but got an invalid one.")}return new yp(VZ(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function iSe(n,t,e,r={}){!function YEe(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,G.Sg)(i,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function jZ(n){return/^[A-Za-z]+:\/\//.test(n)}function uSe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new GZ(e,r)}function zZ(n){const t=function hSe(n){return new vi.y(t=>{const e=o=>t.next(o);e(n.snapshot);const s=n.on("state_changed",e);return n.then(o=>{e(o),t.complete()},o=>{e(n.snapshot),(o=>{t.error(o)})(o)}),function(){s()}}).pipe(Zp(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,C.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function aF(n){return{getDownloadURL:()=>Qt(void 0).pipe(gr.fc,Yi(()=>n.getDownloadURL()),gr.iC),getMetadata:()=>Qt(void 0).pipe(gr.fc,Yi(()=>n.getMetadata()),gr.iC),delete:()=>(0,er.D)(n.delete()),child:t=>aF(n.child(t)),updateMetadata:t=>(0,er.D)(n.updateMetadata(t)),put:(t,e)=>zZ(n.put(t,e)),putString:(t,e,r)=>zZ(n.putString(t,e,r)),list:t=>(0,er.D)(n.list(t)),listAll:()=>(0,er.D)(n.listAll())}}!function dSe(n){const t={TaskState:$a,TaskEvent:IEe,StringFormat:cc,Storage:GZ,Reference:yp};n.INTERNAL.registerComponent(new fl.wA("storage-compat",uSe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(z0.Z);const fSe=new a.OlP("angularfire2.storageBucket"),pSe=new a.OlP("angularfire2.storage.maxUploadRetryTime"),gSe=new a.OlP("angularfire2.storage.maxOperationRetryTime"),mSe=new a.OlP("angularfire2.storage.use-emulator");let _Se=(()=>{class n{constructor(e,r,i,s,o,c,h,p,m,v){const w=(0,qi.on)(e,o,r);this.storage=(0,qi.cc)(`${w.name}.storage.${i}`,"AngularFireStorage",w.name,()=>{const E=o.runOutsideAngular(()=>w.storage(i||void 0)),D=m;return D&&E.useEmulator(...D),h&&E.setMaxUploadRetryTime(h),p&&E.setMaxOperationRetryTime(p),E},[h,p])}ref(e){return aF(this.storage.ref(e))}refFromURL(e){return aF(this.storage.refFromURL(e))}upload(e,r,i){return aF(this.storage.ref(e)).put(r,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qi.Dh),a.LFG(qi.xv,8),a.LFG(fSe,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(gr.HU),a.LFG(pSe,8),a.LFG(gSe,8),a.LFG(mSe,8),a.LFG(EE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ySe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),vSe=(()=>{class n{constructor(){SE.Z.registerVersion("angularfire",gr.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[_Se],imports:[ySe]}),n})();const xSe=["input"],wSe=function(n){return{enterDuration:n}},bSe=["*"],CSe=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let ESe=0;const SSe={provide:Wl,useExisting:(0,a.Gpc)(()=>$Z),multi:!0};class TSe{constructor(t,e){this.source=t,this.checked=e}}const DSe=Lb(sg(Nb(lv(class{constructor(n){this._elementRef=n}}))));let ASe=(()=>{class n extends DSe{constructor(e,r,i,s,o,c,h){super(e),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=o,this._onChange=p=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===c,this.id=this._uniqueId=`${h}${++ESe}`}get required(){return this._required}set required(e){this._required=Jt(e)}get checked(){return this._checked}set checked(e){this._checked=Jt(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._focused=!0:e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[a.qOj]}),n})(),$Z=(()=>{class n extends ASe{constructor(e,r,i,s,o,c){super(e,r,i,s,o,c,"mat-slide-toggle-")}_createChangeEvent(e){return new TSe(this,e)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Xy),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(CSe),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,r){if(1&e&&a.Gf(xSe,5),2&e){let i;a.iGM(i=a.CRH())&&(r._inputElement=i.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,r){2&e&&(a.Ikx("id",r.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),a.ekj("mat-checked",r.checked)("mat-disabled",r.disabled)("mat-slide-toggle-label-before","before"==r.labelPosition)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[a._Bn([SSe]),a.qOj],ngContentSelectors:bSe,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,r){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),a.NdJ("change",function(s){return r._onChangeEvent(s)})("click",function(s){return r._onInputClick(s)}),a.qZA(),a.TgZ(5,"span",5),a._UZ(6,"span",6),a.TgZ(7,"span",7),a._UZ(8,"span",8),a.qZA()()(),a.TgZ(9,"span",9,10),a.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),a.TgZ(11,"span",11),a._uU(12,"\xa0"),a.qZA(),a.Hsn(13),a.qZA()()),2&e){const i=a.MAs(1),s=a.MAs(10);a.uIk("for",r.inputId),a.xp6(2),a.ekj("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),a.xp6(1),a.Q6J("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex)("checked",r.checked)("disabled",r.disabled),a.uIk("name",r.name)("aria-checked",r.checked)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),a.xp6(4),a.Q6J("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.VKq(18,wSe,r._noopAnimations?0:150))}},dependencies:[df,zy],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),WZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),MSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[WZ,og,pr,cf,WZ,pr]}),n})(),RSe=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-in"]],decls:51,vars:0,consts:[["fxLayout","row","fxFlex","100"],[1,"container"],[1,"login"],[1,"header"],["src","../assets/envolti-dark.png","alt","envolti",1,"logo"],[1,"welcome"],[1,"subtitle"],["type","button",1,"login-with-google",3,"click"],[1,"risk"],[1,"adress"],[1,"email"],["type","email","placeholder","Entre com seu endere\xe7o de e-mail","required","",1,"input-email"],["userName",""],[1,"password"],["type","password","placeholder","Entre com sua senha","required","",1,"input-email"],["userPassword",""],["routerLink","/forgot-password",1,"forgot"],[1,"login-btn",3,"click"],[1,"dont-cont"],["routerLink","/register-user",1,"cadastre"],["fxFlex","50",1,"image-responsive"],["src","../assets/login.jpg","alt","",1,"img-login"]],template:function(e,r){if(1&e){const i=a.EpF();a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a._UZ(4,"img",4),a.TgZ(5,"h1",5),a._uU(6,"Bem-vindo"),a.qZA(),a.TgZ(7,"h3",6),a._uU(8,"Falta pouco para matar sua fome!"),a.qZA(),a.TgZ(9,"button",7),a.NdJ("click",function(){return r.authService.GoogleAuth()}),a._uU(10,"Login com o Google"),a.qZA(),a._UZ(11,"br")(12,"br"),a.TgZ(13,"p",8),a._uU(14,"----------------------------------"),a.qZA(),a.TgZ(15,"p"),a._uU(16," OU FA\xc7A LOGIN COM UM E-MAIL "),a.qZA(),a.TgZ(17,"p",8),a._uU(18,"----------------------------------"),a.qZA()(),a._UZ(19,"br"),a.TgZ(20,"div",9)(21,"p",10)(22,"b"),a._uU(23,"Endere\xe7o de E-mail:"),a.qZA()(),a._UZ(24,"br")(25,"input",11,12)(27,"br")(28,"br"),a.TgZ(29,"p",13)(30,"b"),a._uU(31,"Senha:"),a.qZA()(),a._UZ(32,"br")(33,"input",14,15),a.TgZ(35,"a",16),a._uU(36,"Esqueci minha Senha"),a.qZA(),a._UZ(37,"br")(38,"br")(39,"br")(40,"br"),a.TgZ(41,"button",17),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(26),c=a.MAs(34);return a.KtG(r.authService.SignIn(o.value,c.value))}),a._uU(42,"Login"),a.qZA(),a._UZ(43,"br")(44,"br"),a.TgZ(45,"p",18),a._uU(46,"N\xe3o tem uma conta? "),a.TgZ(47,"a",19),a._uU(48," Cadastre-se"),a.qZA()()()()(),a.TgZ(49,"div",20),a._UZ(50,"img",21),a.qZA()()}},dependencies:[ac,fR,oM],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{border-radius:10px}.login[_ngcontent-%COMP%]{display:block;height:100vh;border-radius:10px;text-align:center;margin-left:4%}.image-responsive[_ngcontent-%COMP%]{width:50%;overflow:hidden}.img-login[_ngcontent-%COMP%]{width:100%;height:100vh}.header[_ngcontent-%COMP%]{margin-right:50px}.logo[_ngcontent-%COMP%]{width:100px;height:100px}.welcome[_ngcontent-%COMP%]{font-size:50px}.subtitle[_ngcontent-%COMP%]{font-size:20px}.risk[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:black;text-decoration-color:#000;color:#fff;margin:5px}p[_ngcontent-%COMP%]{display:inline-block}.login-with-google[_ngcontent-%COMP%]{padding:12px 16px 12px 42px;border:none;border-radius:8px;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;color:#757575;font-size:14px;font-weight:500;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=);background-color:#fff;background-repeat:no-repeat;background-position:12px 11px;cursor:pointer}.login-with-google[_ngcontent-%COMP%]:hover{box-shadow:0 -1px #0000000a,0 2px 4px #00000040}.login-with-google[_ngcontent-%COMP%]:active{background-color:#eee}.login-with-google[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 -1px #0000000a,0 2px 4px #00000040,0 0 0 3px #c8dafc}.adress[_ngcontent-%COMP%]{width:72%;text-align:start;margin-left:100px}.input-email[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:7px;border-style:solid;border-color:#4d4d4d;padding-left:10px}h1[_ngcontent-%COMP%]{color:#4d4d4d;margin-top:0}h3[_ngcontent-%COMP%]{color:#4d4d4d}[_ngcontent-%COMP%]::placeholder{padding-left:10px;font-size:15px}.forgot[_ngcontent-%COMP%]{margin-top:10px;float:right;color:#723caf;cursor:pointer;text-decoration:none}.login-btn[_ngcontent-%COMP%]{text-align:center;width:100%;height:40px;border-radius:7px;background-color:#dc9afe;font-size:20px;cursor:pointer;border-style:solid;border-color:#4d4d4d}.dont-cont[_ngcontent-%COMP%]{text-align:center}.cadastre[_ngcontent-%COMP%]{color:#723caf;text-decoration:none;cursor:pointer}@media (max-width: 800px){.image-responsive[_ngcontent-%COMP%], .img-login[_ngcontent-%COMP%]{display:none}.adress[_ngcontent-%COMP%]{width:72%;text-align:start;margin-left:50px}.risk[_ngcontent-%COMP%]{display:none}}@media (max-width: 1100px){.image-responsive[_ngcontent-%COMP%], .img-login[_ngcontent-%COMP%], .risk[_ngcontent-%COMP%]{display:none}.adress[_ngcontent-%COMP%]{width:72%;text-align:start;margin-left:50px}}"]}),n})(),FSe=(()=>{class n{constructor(e){this.authService=e,this.checked=!1}ngOnInit(){}slideToogleChecked(){this.checked=0==this.checked}terms_of_use(e,r){let i=document.getElementById("name");0==this.checked?alert("Por favor, aceite nossos termos de uso"):this.authService.SignUp(e,r).then(s=>SE.Z.auth().currentUser?.updateProfile({displayName:i.value}))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-up"]],decls:57,vars:0,consts:[["fxLayout","row","fxFlex","100"],["fxFlex","50",1,"image-responsive"],["src","../assets/signup.jpg","alt","",1,"img-login"],[1,"signup"],[1,"header"],[1,"up"],[1,"already-accont"],["routerLink","/sign-in",1,"redirect"],[1,"adress"],[1,"name"],["id","name","type","text","placeholder","Seu nome","required","",1,"input-name"],["userName",""],[1,"email"],["type","email","placeholder","exemplo@gmail.com","required","",1,"input-email"],["userEmail",""],[1,"password"],["type","password","placeholder","Sua Senha","required","",1,"input-password"],["userPwd",""],[1,"politic"],["color","primary",3,"click"],[1,"risk"],[1,"or"],["type","button",1,"login-with-google",3,"click"],["href","javascript:void(0)",1,"button",3,"click"]],template:function(e,r){if(1&e){const i=a.EpF();a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"div",3)(4,"div",4)(5,"h1"),a._uU(6,"Sign "),a.TgZ(7,"span",5),a._uU(8,"Up"),a.qZA()(),a.TgZ(9,"p",6),a._uU(10,"J\xe1 tem uma conta? "),a.TgZ(11,"span",7),a._uU(12,"Log in"),a.qZA()()(),a._UZ(13,"br"),a.TgZ(14,"div",8)(15,"p",9)(16,"b"),a._uU(17,"Nome:"),a.qZA()(),a._UZ(18,"input",10,11)(20,"br")(21,"br"),a.TgZ(22,"p",12)(23,"b"),a._uU(24,"Endere\xe7o de e-mail:"),a.qZA()(),a._UZ(25,"input",13,14)(27,"br")(28,"br"),a.TgZ(29,"p",15)(30,"b"),a._uU(31,"Senha:"),a.qZA()(),a._UZ(32,"input",16,17)(34,"br")(35,"br"),a.TgZ(36,"div",18)(37,"mat-slide-toggle",19),a.NdJ("click",function(){return r.slideToogleChecked()}),a._uU(38,"Eu concordo com os "),a.TgZ(39,"span",5),a._uU(40,"Termos de Uso"),a.qZA(),a._uU(41," e "),a.TgZ(42,"span",5),a._uU(43,"Pol\xedticas de Privacidade"),a.qZA()(),a._UZ(44,"br"),a.TgZ(45,"p",20),a._uU(46,"----------------------------------"),a.qZA(),a.TgZ(47,"p",21),a._uU(48," OU "),a.qZA(),a.TgZ(49,"p",20),a._uU(50,"----------------------------------"),a.qZA(),a._UZ(51,"br"),a.TgZ(52,"button",22),a.NdJ("click",function(){return r.authService.GoogleAuth()}),a._uU(53,"Login com o Google"),a.qZA(),a._UZ(54,"br"),a.TgZ(55,"a",23),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(26),c=a.MAs(33);return a.KtG(r.terms_of_use(o.value,c.value))}),a._uU(56,"Cadastrar conta"),a.qZA()()()()()}},dependencies:[ac,fR,$Z,ip],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.image-responsive[_ngcontent-%COMP%]{width:50%;float:left;height:100%}.signup[_ngcontent-%COMP%]{width:100%;height:100vh;float:left}.img-login[_ngcontent-%COMP%]{height:100vh;width:100%;border-radius:50%}h1[_ngcontent-%COMP%]{font-size:40px;color:#4d4d4d}.already-accont[_ngcontent-%COMP%]{color:#4d4d4d;font-size:15px}.adress[_ngcontent-%COMP%]{width:60%;text-align:start;margin-left:100px}.input-name[_ngcontent-%COMP%], .input-email[_ngcontent-%COMP%], .input-password[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:20px;border-style:solid;padding-left:10px}[_ngcontent-%COMP%]::placeholder{padding:10px}.header[_ngcontent-%COMP%]{width:60%;text-align:start;margin-left:100px;margin-top:60px}.redirect[_ngcontent-%COMP%]{color:#79b9ff;cursor:pointer}.up[_ngcontent-%COMP%]{color:#79b9ff}.politic[_ngcontent-%COMP%]{text-align:center}.risk[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:black;text-decoration-color:#000;color:#fff;margin:20px 5px 5px}p[_ngcontent-%COMP%]{display:inline-block}.login-with-google[_ngcontent-%COMP%]{margin-top:20px;padding:12px 16px 12px 42px;border:none;border-radius:8px;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;color:#757575;font-size:14px;font-weight:500;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=);background-color:#fff;background-repeat:no-repeat;background-position:12px 11px;cursor:pointer}.login-with-google[_ngcontent-%COMP%]:hover{box-shadow:0 -1px #0000000a,0 2px 4px #00000040}.login-with-google[_ngcontent-%COMP%]:active{background-color:#eee}.login-with-google[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 -1px #0000000a,0 2px 4px #00000040,0 0 0 3px #c8dafc}.button[_ngcontent-%COMP%]{margin-top:20px;width:100%;color:#79b9ff;display:inline-block;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;padding:.75rem 1.25rem;border-radius:10rem;font-size:1rem;transition:1s ease-in-out;position:relative;overflow:hidden;text-decoration:none;cursor:pointer;background:transparent;border:1px solid #91C9FF;outline:none}.button[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:#79B9FF;color:#fff;border-color:#fff}@media (max-width: 1100px){.image-responsive[_ngcontent-%COMP%], .img-login[_ngcontent-%COMP%], .risk[_ngcontent-%COMP%]{display:none}.adress[_ngcontent-%COMP%]{width:60%;text-align:start;margin-left:50px}mat-slide-toggle[_ngcontent-%COMP%]{margin-bottom:20px}.login-with-google[_ngcontent-%COMP%]{margin-top:5px}}"]}),n})();function OSe(n,t){1&n&&(a.TgZ(0,"p")(1,"strong"),a._uU(2,"Voc\xea \xe9 Administrador do Sistema"),a.qZA()())}function PSe(n,t){if(1&n&&(a.TgZ(0,"div",3)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h1"),a._uU(5,"Ol\xe1: "),a.TgZ(6,"strong"),a._uU(7),a.qZA()(),a.TgZ(8,"p"),a._uU(9,"User ID: "),a.TgZ(10,"strong"),a._uU(11),a.qZA()(),a.TgZ(12,"p"),a._uU(13,"Email: "),a.TgZ(14,"strong"),a._uU(15),a.qZA()(),a.TgZ(16,"p"),a._uU(17,"Email Verified: "),a.TgZ(18,"strong"),a._uU(19),a.qZA()(),a.YNc(20,OSe,3,0,"p",12),a.qZA()()()()),2&n){const e=t.ngIf,r=a.oxw();a.xp6(7),a.Oqu(e.displayName?e.displayName:"User"),a.xp6(4),a.Oqu(e.uid),a.xp6(4),a.Oqu(e.email),a.xp6(4),a.Oqu(e.emailVerified),a.xp6(1),a.Q6J("ngIf",!0===r.admMode)}}let NSe=(()=>{class n{constructor(e){this.authService=e,this.admMode=!1}ngOnInit(){document.getElementById("adm"),this.admMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===this.authService.userData.uid}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile-dialog"]],decls:10,vars:1,consts:[[1,"navbar","navbar-dark","fixed-top","bg-dark","flex-md-nowrap","p-0","shadow"],[1,"navbar-brand","col-sm-3","col-md-2","mr-0"],[1,"container-fluid"],[1,"row"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],[1,"media-body"],[4,"ngIf"]],template:function(e,r){1&e&&(a.TgZ(0,"nav",0),a._UZ(1,"a",1),a.qZA(),a.TgZ(2,"div",2)(3,"div",3)(4,"main",4)(5,"div",5)(6,"div",6)(7,"h1",7),a._uU(8,"Perfil do Usu\xe1rio"),a.qZA()(),a.YNc(9,PSe,21,5,"div",8),a.qZA()()()()),2&e&&(a.xp6(9),a.Q6J("ngIf",r.authService.userData))},dependencies:[Sr],styles:[".media-body[_ngcontent-%COMP%]{width:150%}"]}),n})();function LSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-icon",19),a.NdJ("click",function(){a.CHM(e);const i=a.oxw().index,s=a.oxw();return a.KtG(s.removeFoodBag(i))}),a._uU(1,"delete"),a.qZA()}}function BSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-icon",19),a.NdJ("click",function(){a.CHM(e);const i=a.oxw().index,s=a.oxw();return a.KtG(s.removeFoodBag(i))}),a._uU(1,"remove_circle_outline"),a.qZA()}}function VSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li",5),a._UZ(1,"img",10),a.TgZ(2,"div",11)(3,"h2",12),a._uU(4),a.qZA(),a.TgZ(5,"div",13)(6,"p",14),a._uU(7),a.qZA(),a.TgZ(8,"div",15),a.YNc(9,LSe,2,0,"mat-icon",16),a.YNc(10,BSe,2,0,"mat-icon",16),a.TgZ(11,"p",17),a._uU(12),a.qZA(),a.TgZ(13,"mat-icon",18),a.NdJ("click",function(){const s=a.CHM(e).index,o=a.oxw();return a.KtG(o.addFoodBag(s))}),a._uU(14,"add_circle_outline"),a.qZA()()()(),a._UZ(15,"br")(16,"br")(17,"br")(18,"br")(19,"br"),a.qZA()}if(2&n){const e=t.$implicit,r=t.index,i=a.oxw();a.xp6(1),a.Q6J("src",i.bagImage[r],a.LSH),a.xp6(3),a.Oqu(e.toString().replaceAll('"'," ")),a.xp6(3),a.hij("R$ ",i.bagValueBag[r],""),a.xp6(2),a.Q6J("ngIf",1==i.bagAmount[r]),a.xp6(1),a.Q6J("ngIf",i.bagAmount[r]>1),a.xp6(2),a.Oqu(i.bagAmount[r])}}function USe(n,t){if(1&n&&(a.TgZ(0,"div",20)(1,"h2",21),a._uU(2),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.hij("Total: R$ ",e.datas.totalValue.toFixed(2).replace(".",","),"")}}let IV=(()=>{class n{constructor(e,r){this.firestore=e,this.dialogReview=r,this.delete=new a.vpe,this.bagValueBagStatic=[],this.itemMode=!1}ngOnInit(){this.bagValue=JSON.parse(sessionStorage.getItem("value")),this.bagName=JSON.parse(sessionStorage.getItem("name")),this.itemMode=this.bagName.length>1,this.bagValueBag=JSON.parse(sessionStorage.getItem("valueBag")),this.bagValueBagStatic=JSON.parse(sessionStorage.getItem("bagValueEstatic")),this.bagImage=JSON.parse(sessionStorage.getItem("imageLink")),this.bagAmount=JSON.parse(sessionStorage.getItem("bagAmount")),this.userID=sessionStorage.getItem("index"),this.userBagAmount=sessionStorage.getItem("bagAmount"),this.bagIndex=JSON.parse(sessionStorage.getItem("arrayBagIndex")),this.firestore.collection("totalValue").snapshotChanges().subscribe(e=>{this.usersEx=e.map(r=>{let i=r.payload.doc.data();return{id:r.payload.doc.id,datas:i}})})}removeFoodBag(e){if(1==this.bagAmount[e]){this.bagValue=Number(this.bagValue)-Number(this.bagValueBagStatic[e]);const i={totalValue:this.bagValue};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(i),this.bagImage.splice(e,1),this.bagName.splice(e,1),this.bagAmount.splice(e,1),this.bagValueBag.splice(e,1),this.bagValueBagStatic.splice(e,1),this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:1}),sessionStorage.setItem("bagValueFinal",JSON.stringify(this.bagValue)),sessionStorage.setItem("value",JSON.stringify(this.bagValue)),sessionStorage.setItem("name",JSON.stringify(this.bagName)),sessionStorage.setItem("valueBag",JSON.stringify(this.bagValueBag)),sessionStorage.setItem("imageLink",JSON.stringify(this.bagImage)),sessionStorage.setItem("bagAmount",JSON.stringify(this.bagAmount)),this.itemMode=this.bagName.length>1}else{let r=Number(this.bagAmount[e]);this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:r-=1}),this.bagAmount[e]=r,this.bagValueBag[e]=this.bagValueBagStatic[e]*r,this.bagValue=Number(this.bagValue)-Number(this.bagValueBagStatic[e]);const s={totalValue:this.bagValue};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(s),sessionStorage.setItem("bagValueFinal",JSON.stringify(this.bagValue)),sessionStorage.setItem("value",JSON.stringify(this.bagValue)),sessionStorage.setItem("name",JSON.stringify(this.bagName)),sessionStorage.setItem("valueBag",JSON.stringify(this.bagValueBag)),sessionStorage.setItem("imageLink",JSON.stringify(this.bagImage)),sessionStorage.setItem("bagAmount",JSON.stringify(this.bagAmount)),sessionStorage.setItem("bagValueFinal",JSON.stringify(this.bagValue))}}addFoodBag(e){let r=Number(this.bagAmount[e]);this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:r+=1}),this.bagAmount[e]=r,this.bagValueBag[e]=this.bagValueBagStatic[e]*r,this.bagValue=Number(this.bagValue)+Number(this.bagValueBagStatic[e]);const s={totalValue:this.bagValue};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(s),sessionStorage.setItem("bagValueFinal",JSON.stringify(this.bagValue)),sessionStorage.setItem("value",JSON.stringify(this.bagValue)),sessionStorage.setItem("name",JSON.stringify(this.bagName)),sessionStorage.setItem("valueBag",JSON.stringify(this.bagValueBag)),sessionStorage.setItem("imageLink",JSON.stringify(this.bagImage)),sessionStorage.setItem("bagAmount",JSON.stringify(this.bagAmount))}addRequest(){const v={nameAdm:JSON.parse(sessionStorage.getItem("name")),valueAdm:JSON.parse(sessionStorage.getItem("valueBag")),bagAmountAdm:JSON.parse(sessionStorage.getItem("bagAmount")),finalValueAdm:JSON.parse(sessionStorage.getItem("bagValueFinal")),Status:1,dateAndHour:Or(new Date,"dd/MM/yyyy hh:mm:ss a","en-US")};this.firestore.collection("requests").add(v),alert("Pedido realizado!"),sessionStorage.clear(),this.dialogReview.close(),this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0})}closeDialog(){this.dialogReview.close({image:this.bagImage,amount:this.bagAmount,name:this.bagName,value:this.bagValueBag,valueTotal:this.bagValue,valueEstatic:this.bagValueBagStatic})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba),a.Y36(Gd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-review-dialog"]],inputs:{packageSelected:"packageSelected"},outputs:{delete:"delete"},decls:20,vars:3,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start",2,"align-items","center"],[1,"close",2,"cursor","pointer",3,"click"],[1,"infos"],[1,"item"],["fxLayout","row"],["fxLayout","column"],["fxLayout","row",4,"ngFor","ngForOf"],["class","col-12",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"bagImage",3,"src"],[1,"col"],[1,"bagName"],[1,"amount"],[1,"bagValue"],["fxLayoutAlign","space-evenly center",1,"amount-son"],["style","cursor: pointer;",3,"click",4,"ngIf"],["min","1",1,"addNumber",2,"text-align","center"],[1,"bagAdd",3,"click"],[2,"cursor","pointer",3,"click"],[1,"col-12"],[1,"total"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"h1",1),a._uU(2," Sua Sacola! "),a.TgZ(3,"mat-icon",2),a.NdJ("click",function(){return r.closeDialog()}),a._uU(4,"close"),a.qZA()(),a.TgZ(5,"div",3)(6,"h2",4),a._uU(7),a.qZA(),a._UZ(8,"br"),a.TgZ(9,"ul",5)(10,"div",6),a.YNc(11,VSe,20,6,"li",7),a.qZA()()(),a.YNc(12,USe,3,1,"div",8),a._UZ(13,"br")(14,"br")(15,"br")(16,"br"),a.TgZ(17,"footer")(18,"button",9),a.NdJ("click",function(){return r.addRequest()}),a._uU(19,"Confirmar Pedido"),a.qZA()()()),2&e&&(a.xp6(7),a.Oqu(!0===r.itemMode?"Itens:":"Item:"),a.xp6(4),a.Q6J("ngForOf",r.bagName),a.xp6(1),a.Q6J("ngForOf",r.usersEx))},dependencies:[_s,Sr,ac,Th,au],styles:[".bagImage[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;object-fit:cover;border-width:5px;border-style:solid;border-color:#5c068c}.col-12[_ngcontent-%COMP%]{text-align:center;align-items:center}#bagRemove[_ngcontent-%COMP%]{float:right;cursor:pointer;color:#5c068c;height:23px;width:23px}#remove[_ngcontent-%COMP%]{float:right;cursor:pointer}.bagAdd[_ngcontent-%COMP%]{float:right;cursor:pointer;color:#5c068c}.amount[_ngcontent-%COMP%]{align-items:center;text-align:center;display:flex;right:0}.amount-son[_ngcontent-%COMP%]{border-width:thin;border-style:solid;border-color:#a9a9a9;width:100px;height:30px;margin-left:30px}.addNumber[_ngcontent-%COMP%]{margin-top:12px}li[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:0}.item[_ngcontent-%COMP%], .bagName[_ngcontent-%COMP%]{margin:15px 0 0}.total[_ngcontent-%COMP%]{float:right}.bagValue[_ngcontent-%COMP%]{margin:0 0 0 5px;color:green;font-size:15px}.btn[_ngcontent-%COMP%]{width:250px;height:30px;font-size:17px;float:right;text-align:center;color:#fff;line-height:30px;border-radius:16px;padding-top:0}.col-12[_ngcontent-%COMP%]{float:right}.container[_ngcontent-%COMP%]{overflow:auto;height:100%;max-height:800px}ul[_ngcontent-%COMP%]{margin:0;padding-left:0;float:left}.value[_ngcontent-%COMP%]{font-size:2px}"]}),n})();const HSe=["error"];let GSe=(()=>{class n{constructor(e,r){this.dialogShared=e,this.firestore=r}ngOnInit(){}closeDialogShare(){this.dialogShared.close()}addReport(){if(document.getElementById("input"),""==this.error.nativeElement.value)alert("Por favor, informe o erro!");else{const r={inputError:this.error.nativeElement.value};this.firestore.collection("report-error").add(r),this.error.nativeElement.value="",alert("Erro enviado para an\xe1lise. Obrigado por reportar!")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gd),a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-report-error-dialog"]],viewQuery:function(e,r){if(1&e&&a.Gf(HSe,5),2&e){let i;a.iGM(i=a.CRH())&&(r.error=i.first)}},decls:20,vars:0,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"close",3,"click"],["fxLayout","row",1,"social-media"],[1,"icon"],["src","../assets/signup-ex.png","alt","",1,"logo"],["type","text","id","input","onfocus","this.value='';","placeholder","Informe o erro aqui"],["error",""],[1,"btn","btn-success",3,"click"],["src","../assets/42.png","alt","",1,"rocket"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"header",1)(2,"h1")(3,"b"),a._uU(4,"Reporte o Erro para o sistema"),a.qZA()(),a.TgZ(5,"mat-icon",2),a.NdJ("click",function(){return r.closeDialogShare()}),a._uU(6,"close"),a.qZA()(),a.TgZ(7,"div",3)(8,"div",4),a._UZ(9,"img",5),a.qZA()(),a._UZ(10,"br"),a.TgZ(11,"p")(12,"b"),a._uU(13,"Reportar Erro:"),a.qZA()(),a.TgZ(14,"div"),a._UZ(15,"input",6,7),a.TgZ(17,"button",8),a.NdJ("click",function(){return r.addReport()}),a._uU(18,"Enviar "),a._UZ(19,"img",9),a.qZA()()())},dependencies:[ac,Th,au],styles:[".container[_ngcontent-%COMP%]{width:500px}.icon[_ngcontent-%COMP%]{background-color:#f5ecec;border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;margin-left:20px;border-style:solid;border-color:#868282;float:center}.logo[_ngcontent-%COMP%]{height:70px;border-radius:50%}#input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px}[_ngcontent-%COMP%]::placeholder{padding:5px}.rocket[_ngcontent-%COMP%]{height:35px}.btn[_ngcontent-%COMP%]{margin-top:10px;height:45px;align-items:center}.close[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();class jSe{constructor(t,e){this._document=e;const r=this._textarea=this._document.createElement("textarea"),i=r.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",r.setAttribute("aria-hidden","true"),r.value=t,r.readOnly=!0,this._document.body.appendChild(r)}copy(){const t=this._textarea;let e=!1;try{if(t){const r=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let zSe=(()=>{class n{constructor(e){this._document=e}copy(e){const r=this.beginCopy(e),i=r.copy();return r.destroy(),i}beginCopy(e){return new jSe(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Te))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $Se=new a.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let WSe=(()=>{class n{constructor(e,r,i){this._clipboard=e,this._ngZone=r,this.text="",this.attempts=1,this.copied=new a.vpe,this._pending=new Set,i&&null!=i.attempts&&(this.attempts=i.attempts)}copy(e=this.attempts){if(e>1){let r=e;const i=this._clipboard.beginCopy(this.text);this._pending.add(i);const s=()=>{const o=i.copy();o||!--r||this._destroyed?(this._currentTimeout=null,this._pending.delete(i),i.destroy(),this.copied.emit(o)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(zSe),a.Y36(a.R0b),a.Y36($Se,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),qSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),ZSe=(()=>{class n{constructor(e){this.dialogShared=e,this.value="http://localhost:4200/"}ngOnInit(){}closeDialogShare(){this.dialogShared.close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-share-dialog"]],decls:30,vars:2,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"close",3,"click"],["fxLayout","row",1,"social-media"],[1,"icon"],["href","https://twitter.com/intent/tweet?url=https://http://localhost:4200/","target","_blank"],["src","../assets/twitter.png","alt",""],["href","https://www.facebook.com/sharer/sharer.php?u=https://http://localhost:4200/","target","_blank"],["src","../assets/facebook.png","alt",""],["href","https://api.whatsapp.com/send?text=https://http://localhost:4200/","target","_blank"],["src","../assets/whatsapp.png","alt",""],[1,"input-group"],["type","text","id","input","value","http://localhost:4200/","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["id","clipboardCopy","type","button",1,"btn","btn-default",3,"cdkCopyToClipboard"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"header",1)(2,"h1")(3,"b"),a._uU(4,"Compartilhe!"),a.qZA()(),a.TgZ(5,"mat-icon",2),a.NdJ("click",function(){return r.closeDialogShare()}),a._uU(6,"close"),a.qZA()(),a.TgZ(7,"div",3)(8,"div",4)(9,"a",5),a._UZ(10,"img",6),a.qZA()(),a._UZ(11,"br"),a.TgZ(12,"div",4)(13,"a",7),a._UZ(14,"img",8),a.qZA()(),a._UZ(15,"br"),a.TgZ(16,"div",4)(17,"a",9),a._UZ(18,"img",10),a.qZA()()(),a._UZ(19,"br"),a.TgZ(20,"p")(21,"b"),a._uU(22,"ou copie o link:"),a.qZA()(),a.TgZ(23,"div",11),a._UZ(24,"br"),a.TgZ(25,"input",12),a.NdJ("ngModelChange",function(s){return r.value=s}),a.qZA(),a.TgZ(26,"span",13)(27,"button",14)(28,"mat-icon"),a._uU(29,"filter_none"),a.qZA()()()()()),2&e&&(a.xp6(25),a.Q6J("ngModel",r.value),a.xp6(2),a.Q6J("cdkCopyToClipboard",r.value))},dependencies:[dl,Gc,qd,ac,Th,au,WSe],styles:[".container[_ngcontent-%COMP%]{width:450px}.icon[_ngcontent-%COMP%]{background-color:#f5ecec;border-radius:50%;width:60px;height:60px;text-align:center;display:flex;justify-content:center;align-items:center;margin-left:20px;border-style:solid;border-color:#868282}img[_ngcontent-%COMP%]{cursor:pointer;height:25px}input[_ngcontent-%COMP%]{height:40px;border-radius:20px}button[_ngcontent-%COMP%]{height:40px}mat-icon[_ngcontent-%COMP%]{color:#000;cursor:pointer}"]}),n})(),qZ=(()=>{class n{constructor(){this.isOpen=!1}toggleOpoen(){this.isOpen=!this.isOpen}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(e,r){1&e&&a.NdJ("click",function(){return r.toggleOpoen()}),2&e&&a.ekj("show",r.isOpen)}}),n})();function YSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",5),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.onSelect("food-list"))}),a._UZ(1,"img",21),a.qZA()}}function KSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",22),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.onSelect("lunch"))}),a._UZ(1,"img",23),a.qZA()}}function XSe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"a",22),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.onSelect("food-list"))}),a._UZ(1,"img",24),a.qZA()}}let QSe=(()=>{class n{constructor(e,r){this.authService=e,this.dialogShared=r,this.isChecked=!0,this.boxMode=!1,this.featureSelected=new a.vpe}onSelect(e){this.featureSelected.emit(e)}ngOnInit(){this.boxMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid}shutdown(){confirm("Voc\xea tem certeza que deseja fechar o site?")&&window.open("","_self")?.close()}switchMode(){0==this.isChecked&&sessionStorage.setItem("isChecked",JSON.stringify(this.isChecked))}openDialogShare(){this.dialogShared.open(ZSe,{})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd),a.Y36($l))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header"]],outputs:{featureSelected:"featureSelected"},decls:39,vars:3,consts:[[1,"navbar","navbar-expand"],[1,"container"],[1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"click"],["src","../assets/cardapio.png","alt",""],["href","javascript:void(0)","class","nav-link",3,"click",4,"ngIf"],[1,"dropdown"],["href","javascript:void(0)","appDropdown","",1,"nav-link","dropdown-toggle"],["src","../assets/ferramentas.png","alt",""],[1,"dropdown-menu"],["href","javascript:void(0)",1,"nav-normal-link",2,"margin-left","10px",3,"click"],["id","share-icon"],["id","sign-out",1,"nav-item"],["src","../assets/log-out.png"],[1,"dropdown-menus"],[1,"menu"],[1,"nav-item-menu"],["href","javascript:void(0)","style","margin-left: 10px;","class","nav-link-menu",3,"click",4,"ngIf"],["src","../assets/log-out.png","alt",""],["src","../assets/caixa.png","alt",""],["href","javascript:void(0)",1,"nav-link-menu",2,"margin-left","10px",3,"click"],["src","../assets/menu-cel.png","alt",""],["src","../assets/caixa-cel.png","alt",""]],template:function(e,r){1&e&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),a.NdJ("click",function(){return r.onSelect("lunch")}),a._UZ(6,"img",6),a.qZA()(),a.TgZ(7,"li",4),a.YNc(8,YSe,2,0,"a",7),a.qZA()(),a.TgZ(9,"ul",3)(10,"li",8)(11,"a",9),a._UZ(12,"img",10),a.qZA(),a.TgZ(13,"ul",11)(14,"li",4)(15,"a",12),a.NdJ("click",function(){return r.openDialogShare()}),a.TgZ(16,"mat-icon",13),a._uU(17,"share"),a.qZA()()(),a.TgZ(18,"li",14)(19,"a",12),a.NdJ("click",function(){return r.authService.SignOut()}),a._UZ(20,"img",15),a.qZA()()()()(),a.TgZ(21,"div",16)(22,"ul",3)(23,"li",17)(24,"a",9)(25,"mat-icon"),a._uU(26,"menu"),a.qZA()(),a.TgZ(27,"ul",11)(28,"li",18),a.YNc(29,KSe,2,0,"a",19),a.qZA(),a.TgZ(30,"li",18),a.YNc(31,XSe,2,0,"a",19),a.qZA(),a.TgZ(32,"li",18)(33,"a",12),a.NdJ("click",function(){return r.openDialogShare()}),a.TgZ(34,"mat-icon",13),a._uU(35,"share"),a.qZA()()(),a.TgZ(36,"li",18)(37,"a",12),a.NdJ("click",function(){return r.authService.SignOut()}),a._UZ(38,"img",20),a.qZA()()()()()()()()()),2&e&&(a.xp6(8),a.Q6J("ngIf",!0===r.boxMode),a.xp6(21),a.Q6J("ngIf",!0===r.boxMode),a.xp6(2),a.Q6J("ngIf",!0===r.boxMode))},dependencies:[Sr,au,qZ],styles:[".nav-link[_ngcontent-%COMP%]{color:#fff;display:block;float:right;margin-right:10px}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.nav-normal-link[_ngcontent-%COMP%]{text-decoration:none}.navbar[_ngcontent-%COMP%]{display:block;float:right;margin-right:10px}mat-icon[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}.menu[_ngcontent-%COMP%]{width:25px;margin-left:15px;display:none}@media (max-width: 820px){.menu[_ngcontent-%COMP%]{display:block;cursor:pointer;float:right}.dropdown[_ngcontent-%COMP%]{display:none}.dropdown-menus[_ngcontent-%COMP%]{position:absolute;right:-30px}.nav-item[_ngcontent-%COMP%]{display:none}.dropdown-menu[_ngcontent-%COMP%]{cursor:pointer;float:right;transform:translate3d(-140px,50px,0)!important;margin-right:10px;overflow:hidden;transition:all 1s ease-in-out}.nav-link-menu[_ngcontent-%COMP%]{text-decoration:none}}@media (max-width: 350px){.dropdown-menus[_ngcontent-%COMP%]{font-size:15px;position:absolute;right:-30px}.dropdown-menu[_ngcontent-%COMP%]{cursor:pointer;float:right;transform:translate3d(-135px,40px,0)!important;margin-right:10px}}#share-icon[_ngcontent-%COMP%]{color:#000}#sign-out[_ngcontent-%COMP%]{margin-top:10px}"]}),n})(),JSe=(()=>{class n{constructor(e,r,i,s,o){this.dialog=e,this.dialogRef=r,this.formBuilder=i,this.firestore=s,this.data=o,this.myFormGroup=this.formBuilder.group({name:["",Ws.required],description:["",Ws.required],value:["",Ws.required],imagePath:["",Ws.required]})}ngOnInit(){this.lunch=JSON.parse(sessionStorage.getItem("lunch")),this.edition(this.lunch),this.lunchEx=sessionStorage.getItem("index")}edition(e){this.myFormGroup.controls.name.setValue(e.name),this.myFormGroup.controls.description.setValue(e.description),this.myFormGroup.controls.value.setValue(e.value),this.myFormGroup.controls.imagePath.setValue(e.imagePath)}refresh(){let e=this.myFormGroup.getRawValue();sessionStorage.setItem("lunch",JSON.stringify(e)),this.firestore.doc("lunch/"+this.lunchEx).update(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($l),a.Y36(Gd),a.Y36(j0),a.Y36(Ba),a.Y36(jd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-details-dialog"]],inputs:{packageSelected:"packageSelected",index:"index",package:"package"},decls:37,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"row"],[1,"col-sm-5"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["nameFoodInput",""],[1,"col-sm-5","form-group"],["for","descripcion"],["type","text","id","description","formControlName","description",1,"form-control"],["descriptionInput",""],["type","number","id","description","formControlName","value",1,"form-control"],["valueInput",""],["for","imagePath"],["type","url","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePathInput",""],["align","end"],["matDialogClose","",1,"btn","btn-danger","mx-md-1"],["matDialogClose","",1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(a.TgZ(0,"h2",0),a._uU(1,"Edite o Item do seu Card\xe1pio!"),a.qZA(),a.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"label",4),a._uU(6,"Nome da Comida"),a.qZA(),a._UZ(7,"input",5,6),a.qZA(),a.TgZ(9,"div",7)(10,"label",8),a._uU(11,"Descri\xe7\xe3o da Comida"),a.qZA(),a._UZ(12,"input",9,10),a.qZA(),a._UZ(14,"br")(15,"br")(16,"br")(17,"br"),a.TgZ(18,"div",7)(19,"label",8),a._uU(20,"Valor da Comida"),a.qZA(),a._UZ(21,"input",11,12),a.qZA(),a._UZ(23,"br")(24,"br")(25,"br")(26,"br"),a.TgZ(27,"div",7)(28,"label",13),a._uU(29,"Informe o link da imagem, para representar a Comida"),a.qZA(),a._UZ(30,"input",14,15),a.qZA(),a.TgZ(32,"mat-dialog-actions",16)(33,"button",17),a._uU(34,"Cancelar"),a.qZA(),a.TgZ(35,"button",18),a.NdJ("click",function(){return r.refresh()}),a._uU(36,"Atualizar"),a.qZA()()()()),2&e&&(a.xp6(2),a.Q6J("formGroup",r.myFormGroup),a.xp6(33),a.Q6J("disabled",!r.myFormGroup.valid))},dependencies:[Zb,mv,RO,wf,dl,bf,Gc,ka,zc,Cf]}),n})();function eTe(n,t){if(1&n&&(a.TgZ(0,"div",16)(1,"h1",17),a._uU(2,"Sacola"),a.qZA(),a.TgZ(3,"h2"),a._uU(4),a.qZA()()),2&n){const e=t.$implicit;a.xp6(4),a.hij("Total: R$ ",e.datas.totalValue.toFixed(2).replace(".",","),"")}}let tTe=(()=>{class n{constructor(e,r,i,s){this.dialogDetail=e,this.cdr=r,this.firestore=i,this.authService=s,this.itemMode=!1,this.packageName=[],this.packageValue=[],this.packageImage=[],this.packageAmount=[],this.valueEstatic=[]}ngOnInit(){sessionStorage.setItem("value",JSON.stringify(this.packageSelected.value)),this.index=sessionStorage.getItem("index"),this.sum=0;let e=document.getElementById("bagCard"),r=document.getElementById("addBag"),i=document.getElementById("editFood");"SHfa4hba4RaCMR78REr5mVTlxBD2"==this.authService.userData.uid?(e.style.display="none",r.style.display="none"):i.style.display="none",this.firestore.collection("totalValue").snapshotChanges().subscribe(s=>{this.usersEx=s.map(o=>{let c=o.payload.doc.data();return{id:o.payload.doc.id,datas:c}})}),this.userID=sessionStorage.getItem("index"),this.bagIndex=JSON.parse(sessionStorage.getItem("arrayBagIndex"))}openDialogDetail(){this.dialogDetail.open(JSe,{}).afterClosed().subscribe(r=>{this.packageSelected=JSON.parse(sessionStorage.getItem("lunch"))})}removeLunch(){this.packages.splice(this.index,1)}sumPackage(){this.sum=this.sum+this.packageSelected.value;const r={totalValue:this.sum};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(r);let i=JSON.stringify(this.packageSelected.value),s=JSON.stringify(this.packageSelected.name),o=JSON.stringify(this.packageSelected.bagAmount),c=this.packageSelected.imagePath;this.packageName.push(s),this.valueEstatic.push(i),sessionStorage.setItem("bagValueEstatic",JSON.stringify(this.valueEstatic)),this.packageValue.push(i),this.packageImage.push(c),this.packageAmount.push(o),sessionStorage.setItem("name",JSON.stringify(this.packageName)),sessionStorage.setItem("valueBag",JSON.stringify(this.packageValue)),sessionStorage.setItem("imageLink",JSON.stringify(this.packageImage)),sessionStorage.setItem("bagAmount",JSON.stringify(this.packageAmount)),sessionStorage.setItem("bagValueFinal",JSON.stringify(this.sum)),this.firestore.doc("lunch/"+this.userID).update({isBag:!0})}openDialogReview(e){this.dialogDetail.open(IV,{}).afterClosed().subscribe(i=>{this.packageName=i.name,this.packageValue=i.value,this.packageImage=i.image,this.packageAmount=i.amount,this.sum=i.valueTotal,this.valueEstatic=i.valueEstatic}),sessionStorage.setItem("value",JSON.stringify(this.sum))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($l),a.Y36(a.sBO),a.Y36(Ba),a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch-details"]],inputs:{packageSelected:"packageSelected",packages:"packages"},decls:42,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"img-responsive",2,"border-radius","20px",3,"src","alt"],[1,"dropdown"],["type","button","aria-expanded","false","aria-haspopup","true","appDropdown","",1,"btn","btn-primary","dropdown-toggle"],[1,"carret"],[1,"dropdown-menu"],["id","editFood",1,"button",2,"margin-left","10px",3,"click"],["id","addBag",1,"button",2,"margin-left","10px",3,"click"],["id","bagCard"],[1,"bag"],["src","../assets/sacolas-de-papel.png","alt","",1,"bagImage"],["fxLayout","column",4,"ngFor","ngForOf"],[1,"review"],["id","review","mat-raised-button","",1,"bagButton",3,"click"],[1,"arrow"],["fxLayout","column"],[1,"bagText"]],template:function(e,r){1&e&&(a._UZ(0,"br")(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),a.TgZ(6,"mat-card")(7,"div",0)(8,"div",1)(9,"h1"),a._uU(10),a.qZA()(),a.TgZ(11,"div",0)(12,"div",1)(13,"h2"),a._uU(14),a.qZA()()(),a.TgZ(15,"div",0)(16,"div",1),a._UZ(17,"img",2),a.qZA()()(),a._UZ(18,"br"),a.TgZ(19,"div",0)(20,"div",1)(21,"div",3)(22,"button",4),a._uU(23," Op\xe7\xf5es "),a._UZ(24,"span",5),a.qZA(),a.TgZ(25,"ul",6)(26,"li")(27,"button",7),a.NdJ("click",function(){return r.openDialogDetail()}),a._uU(28,"Editar Comida"),a.qZA()(),a.TgZ(29,"li")(30,"button",8),a.NdJ("click",function(){return r.sumPackage()}),a._uU(31,"Adicionar a Sacola"),a.qZA()()()()()()(),a._UZ(32,"br"),a.TgZ(33,"mat-card",9)(34,"div",10),a._UZ(35,"img",11),a.YNc(36,eTe,5,1,"div",12),a.qZA(),a.TgZ(37,"div",13)(38,"button",14),a.NdJ("click",function(){return r.openDialogReview(r.index)}),a._uU(39,"Revisar Itens"),a.TgZ(40,"mat-icon",15),a._uU(41,"keyboard_arrow_right"),a.qZA()()()()),2&e&&(a.xp6(10),a.Oqu(r.packageSelected.name),a.xp6(4),a.Oqu(r.packageSelected.description),a.xp6(3),a.s9C("alt",r.packageSelected.name),a.Q6J("src",r.packageSelected.imagePath,a.LSH),a.xp6(19),a.Q6J("ngForOf",r.usersEx))},dependencies:[_s,ac,au,yS,n$,qZ],styles:[".button[_ngcontent-%COMP%]{background:none!important;border:none;padding:0!important;font-family:arial,sans-serif;color:#068;text-decoration:underline;cursor:pointer}.img-responsive[_ngcontent-%COMP%]{max-height:250px;max-width:300px;float:center;margin-right:20px}mat-card[_ngcontent-%COMP%]{border-width:5px;border-style:outset;border-color:#723caf;border-radius:30px}.button[_ngcontent-%COMP%]{text-decoration:none}h1[_ngcontent-%COMP%]{color:#000;text-decoration:underline}@media (max-width: 920px){.img-responsive[_ngcontent-%COMP%]{max-width:250px}}.bag[_ngcontent-%COMP%]{display:inline-flex;color:#9b989f}.bagImage[_ngcontent-%COMP%]{width:100px;height:100px}.bagText[_ngcontent-%COMP%]{margin-top:25px;font-size:30px}.review[_ngcontent-%COMP%]{float:right;margin-top:60px}.arrow[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:-1px}.bagButton[_ngcontent-%COMP%]{width:150px;height:30px;font-size:17px;float:left;text-align:center;background-color:#32b5e5;color:#fff;line-height:30px;border-radius:16px;margin-top:35px}"]}),n})();function nTe(n,t){if(1&n&&a._UZ(0,"app-lunch-details",6),2&n){const e=a.oxw();a.Q6J("packageSelected",e.selectedPackage)("packages",e.selectedPackage)}}let rTe=(()=>{class n{constructor(e){this.firestore=e,this.indexs=[]}ngOnInit(){let e=document.getElementById("info");setTimeout(()=>{e.style.display="block"},5e3),this.switch=sessionStorage.getItem("isChecked"),setInterval(()=>{"true"==this.switch&&(document.getElementById("row").style.backgroundColor="black")},1e3),this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lunch"]],decls:6,vars:1,consts:[["id","row",1,"row"],[1,"col-md-5"],[3,"packageWasSelected"],["id","load",1,"load"],["id","info",1,"col-md-7",2,"display","none"],[3,"packageSelected","packages",4,"ngIf"],[3,"packageSelected","packages"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"app-lunch-list",2),a.NdJ("packageWasSelected",function(s){return r.selectedPackage=s}),a.qZA()(),a._UZ(3,"div",3),a.TgZ(4,"div",4),a.YNc(5,nTe,1,2,"app-lunch-details",5),a.qZA()()),2&e&&(a.xp6(5),a.Q6J("ngIf",r.selectedPackage))},dependencies:[Sr,z7,tTe],styles:[".load[_ngcontent-%COMP%]{animation:is-rotating 1s infinite;border:6px solid #d4cfdd;border-radius:50%;border-top-color:#32b5e5;height:180px;width:180px;text-align:center;margin-top:190px}@keyframes is-rotating{to{transform:rotate(1turn)}}@media (max-width: 500px){.load[_ngcontent-%COMP%]{height:100px;width:100px;margin-left:140px}}@media (width: 540px){.load[_ngcontent-%COMP%]{height:100px;width:100px;margin-left:230px}}"]}),n})();function iTe(n,t){1&n&&(a.TgZ(0,"mat-icon",19),a._uU(1," fastfood"),a.qZA())}function sTe(n,t){1&n&&(a.TgZ(0,"mat-icon",20),a._uU(1," list_alt"),a.qZA())}function oTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-icon",8),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.openDialogDetail())}),a._uU(1," local_grocery_store"),a.qZA()}}function aTe(n,t){1&n&&(a.TgZ(0,"mat-icon",21),a._uU(1," restaurant_menu"),a.qZA())}function lTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-icon",8),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.restart())}),a._uU(1,"settings"),a.qZA()}}function cTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-icon",8),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.openDialogError())}),a._uU(1,"report_problem"),a.qZA()}}function uTe(n,t){1&n&&a._UZ(0,"app-lunch")}function dTe(n,t){1&n&&a._UZ(0,"app-food-list")}let hTe=(()=>{class n{constructor(e,r,i){this.authService=e,this.dialogDetail=r,this.firestore=i,this.cartMode=!1,this.indexs=[],this.loadedFeature="lunch"}ngOnInit(){this.cartMode="SHfa4hba4RaCMR78REr5mVTlxBD2"!==JSON.parse(localStorage.getItem("user")).uid}onNavigate(e){this.loadedFeature=e}openDialog(){this.dialogDetail.open(NSe,{})}reload(){location.reload()}openDialogDetail(){this.dialogDetail.open(IV,{})}openDialogError(){this.dialogDetail.open(GSe,{})}restart(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd),a.Y36($l),a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:36,vars:8,consts:[["fxLayoutAlign","space-between center"],[1,"title"],["href","javascript:void(0)",1,"navbar-brand"],[1,"toolybar"],[3,"featureSelected"],["fxLayout","row"],["mode","side","opened","","fxLayout","column","fxLayoutAlign","start start",1,"col"],[1,"icon"],[3,"click"],["routerLink","/dashboard",4,"ngIf"],["routerLink","/to-do-list",4,"ngIf"],[3,"click",4,"ngIf"],["routerLink","/request",4,"ngIf"],["src","../assets/envolti.png","alt","",1,"footer"],[1,"container"],[1,"row"],[1,"col-12"],[1,"lunch"],[4,"ngIf"],["routerLink","/dashboard"],["routerLink","/to-do-list"],["routerLink","/request"]],template:function(e,r){1&e&&(a.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"a",2),a._uU(3,"Restaurante Envolti "),a.qZA()(),a.TgZ(4,"div",3)(5,"app-header",4),a.NdJ("featureSelected",function(s){return r.onNavigate(s)}),a.qZA()()(),a.TgZ(6,"div",5)(7,"mat-sidenav",6)(8,"div",7)(9,"mat-icon",8),a.NdJ("click",function(){return r.openDialog()}),a._uU(10,"perm_identity"),a.qZA()(),a._UZ(11,"br"),a.TgZ(12,"div",7)(13,"mat-icon",8),a.NdJ("click",function(){return r.reload()}),a._uU(14,"home"),a.qZA()(),a._UZ(15,"br"),a.TgZ(16,"div",7),a.YNc(17,iTe,2,0,"mat-icon",9),a.YNc(18,sTe,2,0,"mat-icon",10),a.qZA(),a._UZ(19,"br"),a.TgZ(20,"div",7),a.YNc(21,oTe,2,0,"mat-icon",11),a.YNc(22,aTe,2,0,"mat-icon",12),a.qZA(),a._UZ(23,"br"),a.TgZ(24,"div",7),a.YNc(25,lTe,2,0,"mat-icon",11),a.YNc(26,cTe,2,0,"mat-icon",11),a.qZA(),a.TgZ(27,"footer"),a._UZ(28,"img",13),a.qZA(),a._UZ(29,"br"),a.qZA(),a.TgZ(30,"div",14)(31,"div",15)(32,"div",16)(33,"div",17),a.YNc(34,uTe,1,0,"app-lunch",18),a.YNc(35,dTe,1,0,"app-food-list",18),a.qZA()()()()()),2&e&&(a.xp6(17),a.Q6J("ngIf",!0===r.cartMode),a.xp6(1),a.Q6J("ngIf",!1===r.cartMode),a.xp6(3),a.Q6J("ngIf",!0===r.cartMode),a.xp6(1),a.Q6J("ngIf",!1===r.cartMode),a.xp6(3),a.Q6J("ngIf",!0===r.cartMode),a.xp6(1),a.Q6J("ngIf",!1===r.cartMode),a.xp6(8),a.Q6J("ngIf","lunch"==r.loadedFeature),a.xp6(1),a.Q6J("ngIf","food-list"==r.loadedFeature))},dependencies:[Sr,ac,Th,au,Jme,ip,QSe,j7,rTe],styles:["mat-toolbar[_ngcontent-%COMP%]{height:64px;background:#32b5e5;color:#fff}.header[_ngcontent-%COMP%]{width:128px}.title[_ngcontent-%COMP%]{font-size:30px;text-align:center}.lunch[_ngcontent-%COMP%]{overflow:auto;height:100%;max-height:800px}@media (max-width: 700px){.header[_ngcontent-%COMP%]{width:88px}.title[_ngcontent-%COMP%]{font-size:23px}}@media (max-width: 350px){.title[_ngcontent-%COMP%]{font-size:15px}.header[_ngcontent-%COMP%]{width:60px}}.col[_ngcontent-%COMP%]{width:100%;max-width:100px;background-color:#5c068c}@media (min-height: 800px){.col[_ngcontent-%COMP%]{height:100vh}}mat-icon[_ngcontent-%COMP%]{font-size:40px;height:50px;width:50px;color:#fff;cursor:pointer;margin-top:5px}.icon[_ngcontent-%COMP%]{background-color:#32b5e5;border-radius:50%;width:50px;height:50px;margin:20px;text-align:center}.footer[_ngcontent-%COMP%]{margin:10px;width:80px;bottom:0}"]}),n})(),fTe=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:0,consts:[["fxFlex","100",1,"container"],["fxLayout","column","fxLayoutAlign","center center",1,"password"],["src","../assets/envolti-dark.png","alt","envolti",1,"logo"],[1,"forgot-password"],[1,"subtitle"],[1,"email"],["type","email","placeholder","Seu endere\xe7o de e-mail","required","",1,"input-email"],["passwordResetEmail",""],[1,"reset-password",3,"click"],["aria-hidden","false","aria-label","Example home icon","routerLink","/sign-in","fontIcon","home",1,"home",2,"cursor","pointer"],["fxFlex","50",1,"image-responsive"],["src","../assets/rockeatman-confuse.jpg","alt","",1,"img-forgot-password"]],template:function(e,r){if(1&e){const i=a.EpF();a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"h1",3),a._uU(4,"Esqueceu a senha?"),a.qZA(),a.TgZ(5,"h3",4),a._uU(6,"Informe seu e-mail para que possamos recuperar pra voc\xea!"),a.qZA(),a._UZ(7,"br")(8,"br"),a.TgZ(9,"p",5)(10,"b"),a._uU(11,"Endere\xe7o de E-mail:"),a.qZA()(),a._UZ(12,"input",6,7)(14,"br")(15,"br"),a.TgZ(16,"button",8),a.NdJ("click",function(){a.CHM(i);const o=a.MAs(13);return a.KtG(r.authService.ForgotPassword(o.value))}),a._uU(17,"Restaurar senha"),a.qZA(),a._UZ(18,"br")(19,"br")(20,"mat-icon",9),a.qZA(),a.TgZ(21,"div",10),a._UZ(22,"img",11),a.qZA()()}},dependencies:[ac,Th,fR,au,ip],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.password[_ngcontent-%COMP%]{display:block;height:100vh;border-radius:10px;text-align:center;overflow:hidden}.image-responsive[_ngcontent-%COMP%]{width:50%;overflow:hidden}.img-forgot-password[_ngcontent-%COMP%]{width:100%;height:100vh;border-radius:20%}.logo[_ngcontent-%COMP%]{width:100px;height:100px}.forgot-password[_ngcontent-%COMP%]{font-size:50px;color:#4d4d4d}.subtitle[_ngcontent-%COMP%]{font-size:20px;color:#4d4d4d}.input-email[_ngcontent-%COMP%]{width:50%;height:30px;border-radius:20px;border-style:solid}[_ngcontent-%COMP%]::placeholder{padding:10px}.reset-password[_ngcontent-%COMP%]{text-align:center;width:35%;height:30px;border-radius:7px;background-color:#c5c4fe;font-size:17px;cursor:pointer;border-style:solid;border-color:#4d4d4d}.home[_ngcontent-%COMP%]{width:40px;height:40px;font-size:40px;background-color:#c5c4fe;border-radius:50%}@media (max-width: 767px){.image-responsive[_ngcontent-%COMP%], .img-forgot-password[_ngcontent-%COMP%]{display:none}}@media (max-width: 1000px){.image-responsive[_ngcontent-%COMP%], .img-forgot-password[_ngcontent-%COMP%]{display:none}}"]}),n})();function pTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2),a._UZ(1,"img",3)(2,"br"),a.TgZ(3,"h1"),a._uU(4,"Cheque seu e-mail, por favor!"),a.qZA(),a.TgZ(5,"p"),a._uU(6,"Para que voc\xea tenha uma experi\xeancia completa, n\xf3s precisamos verificar seu e-mail. N\xf3s enviamos um e-mail para "),a.TgZ(7,"strong"),a._uU(8),a.qZA(),a._uU(9,". Cheque tamb\xe9m seu span e confirme sua identidade!"),a.qZA(),a._UZ(10,"br")(11,"input",4)(12,"br")(13,"br"),a.TgZ(14,"p"),a._uU(15,"N\xe3o recebeu o e-mail? "),a.TgZ(16,"span",5),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.authService.SendVerificationMail())}),a._uU(17,"Mandar novamente"),a.qZA()()()}if(2&n){const e=t.ngIf;a.xp6(8),a.Oqu(e.email)}}let gTe=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(sd))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verify-email"]],decls:2,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"container"],["class","check","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"check"],["src","../assets/rocketman-email.jpg","alt","",1,"image"],["routerLink","/sign-in","type","button","value","Claro!",1,"button"],[1,"send-again",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.YNc(1,pTe,18,1,"div",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",r.authService.userData))},dependencies:[Sr,ac,Th,ip],styles:[".container[_ngcontent-%COMP%]{background-color:#c5c4fe;width:100%;height:100%}.check[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;max-width:100%}.image[_ngcontent-%COMP%]{margin-top:5px;border-radius:50%;width:20%}.button[_ngcontent-%COMP%]{background-color:#c5c4fe;border-radius:20px;width:10%;height:40px;font-size:20px;color:#4d4d4d;border-color:#4d4d4d;border-style:solid}.send-again[_ngcontent-%COMP%]{color:#02d9fe;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:40px;color:#4d4d4d}p[_ngcontent-%COMP%]{font-size:20px;text-align:center}"]}),n})(),mTe=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(sd),a.LFG(Vo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _Te=["task"],yTe=function(n){return{textDecoration:n}};function vTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"span",9)(1,"h3",10),a._uU(2),a.qZA(),a.TgZ(3,"div")(4,"button",11)(5,"mat-icon",12),a.NdJ("click",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.deleteTask(s.id))}),a._uU(6,"delete"),a.qZA()(),a.TgZ(7,"button",11)(8,"mat-icon",13),a.NdJ("click",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.checkTask(s.id))}),a._uU(9,"check"),a.qZA()()()()}if(2&n){const e=t.$implicit;a.xp6(1),a.Q6J("ngStyle",a.VKq(2,yTe,e.datas.isChecked?"line-through":"none")),a.xp6(1),a.Oqu(e.datas.taskValue)}}let xTe=(()=>{class n{constructor(e,r){this.formBuilder=e,this.firestore=r,this.checked=!1,this.myFormGroup=this.formBuilder.group({task:["",Ws.required],checked:["false",Ws.required]})}ngOnInit(){var e=this;this.firestore.collection("to-do-list").snapshotChanges().subscribe(function(){var r=(0,qe.Z)(function*(i){e.taskList=i.map(s=>({id:s.payload.doc.id,datas:s.payload.doc.data()}))});return function(i){return r.apply(this,arguments)}}())}addTask(){if(""==this.task.nativeElement.value)alert("Por favor, informe a tarefa!");else{const i={taskValue:this.task.nativeElement.value,isChecked:this.checked};this.firestore.collection("to-do-list").add(i),this.myFormGroup.reset()}}checkTask(e){0==this.checked?(this.checked=!0,this.firestore.doc("to-do-list/"+e).update({isChecked:!0})):(this.checked=!1,this.firestore.doc("to-do-list/"+e).update({isChecked:!1}))}deleteTask(e){this.firestore.doc("to-do-list/"+e).delete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(j0),a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-to-do-list"]],viewQuery:function(e,r){if(1&e&&a.Gf(_Te,5),2&e){let i;a.iGM(i=a.CRH())&&(r.task=i.first)}},decls:16,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between center",1,"container"],[3,"formGroup"],["type","text","id","task","placeholder","Digite sua tarefa","formControlName","task"],["task",""],["type","submit","id","submit","value","Adicionar",3,"click"],["id","taskValue",1,"list-group"],["class","list-group-item","fxLayout","row","fxLayoutAlign","space-between center","id","span",4,"ngFor","ngForOf"],[1,"icon"],["routerLink","/dashboard",1,"home",2,"cursor","pointer"],["fxLayout","row","fxLayoutAlign","space-between center","id","span",1,"list-group-item"],[2,"margin-top","10px",3,"ngStyle"],["mat-button","",2,"float","right"],["id","delete",3,"click"],["id","check",3,"click"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"h1"),a._uU(2,"LISTA DE TAREFAS"),a.qZA(),a._UZ(3,"br"),a.TgZ(4,"form",1),a._UZ(5,"input",2,3),a.TgZ(7,"input",4),a.NdJ("click",function(){return r.addTask()}),a.qZA()(),a._UZ(8,"br"),a.TgZ(9,"ul",5),a.YNc(10,vTe,10,4,"span",6),a.qZA(),a._UZ(11,"br"),a.TgZ(12,"footer")(13,"div",7)(14,"mat-icon",8),a._uU(15,"home"),a.qZA()()()()),2&e&&(a.xp6(4),a.Q6J("formGroup",r.myFormGroup),a.xp6(6),a.Q6J("ngForOf",r.taskList))},dependencies:[_s,vu,wf,dl,Gc,ka,zc,Cf,ac,Th,aW,au,yS,ip],styles:["#submit[_ngcontent-%COMP%]{margin-left:10px;width:112px;height:50px;border-radius:10px;border-color:#000;border-style:solid;font-weight:500;font-size:16px;line-height:24px}h1[_ngcontent-%COMP%]{color:#723caf;font-weight:600;font-size:48px;line-height:72px}.mat-icon[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}#delete[_ngcontent-%COMP%]:hover{color:red}#check[_ngcontent-%COMP%]:hover{color:#adff2f}.list-group[_ngcontent-%COMP%]{width:50%}.list-group-item[_ngcontent-%COMP%]{border-radius:20px;margin-top:10px}#task[_ngcontent-%COMP%]{width:224px;height:50px;border-radius:10px;border-color:#000;border-style:solid;padding:8px 24px;font-weight:500;font-size:16px;line-height:24px}footer[_ngcontent-%COMP%]{position:fixed;bottom:10px}mat-icon[_ngcontent-%COMP%]{font-size:28px}"]}),n})();const wTe=["select"];function bTe(n,t){if(1&n&&(a.TgZ(0,"tr")(1,"td",12),a._uU(2),a.qZA(),a.TgZ(3,"td",12),a._uU(4),a.qZA(),a.TgZ(5,"td",12),a._uU(6),a.qZA()()),2&n){const e=t.$implicit,r=t.index,i=a.oxw().$implicit,s=a.oxw();a.xp6(2),a.Oqu(e.replaceAll('"',"")),a.xp6(2),a.Oqu(i.datas.bagAmountAdm[r]),a.xp6(2),a.hij("R$ ",s.convert(i.datas.valueAdm[r]),"")}}function CTe(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"tr")(1,"td",6)(2,"mat-icon",7),a.NdJ("click",function(){const s=a.CHM(e).$implicit,o=a.oxw();return a.KtG(o.rotate(s.id))}),a._uU(3,"expand_more"),a.qZA(),a._uU(4),a.TgZ(5,"div",8)(6,"table",9)(7,"thead")(8,"tr")(9,"th",3),a._uU(10,"Alimento"),a.qZA(),a.TgZ(11,"th",3),a._uU(12,"Quantidade"),a.qZA(),a.TgZ(13,"th",3),a._uU(14,"Valor"),a.qZA()()(),a.TgZ(15,"tbody"),a.YNc(16,bTe,7,3,"tr",4),a.qZA(),a._UZ(17,"br"),a.TgZ(18,"table",10)(19,"thead")(20,"tr")(21,"th"),a._uU(22,"Valor Total:"),a.qZA(),a.TgZ(23,"td"),a._uU(24),a.qZA()()()()()()(),a.TgZ(25,"td",11),a._uU(26),a.qZA(),a.TgZ(27,"td",12)(28,"div",13)(29,"mat-form-field")(30,"mat-select",14,15),a.NdJ("valueChange",function(i){const o=a.CHM(e).$implicit;return a.KtG(o.datas.Status=i)})("selectionChange",function(i){const o=a.CHM(e).$implicit,c=a.oxw();return a.KtG(c.valueCheck(i,o.id))}),a.TgZ(32,"mat-option",16),a._uU(33," Pedido Realizado "),a.qZA(),a.TgZ(34,"mat-option",16),a._uU(35," Preparando "),a.qZA(),a.TgZ(36,"mat-option",16),a._uU(37," Entregue "),a.qZA()()()()(),a._UZ(38,"br"),a.qZA()}if(2&n){const e=t.$implicit,r=a.oxw();a.xp6(4),a.hij("",e.id," "),a.xp6(1),a.s9C("id",e.id),a.xp6(11),a.Q6J("ngForOf",e.datas.nameAdm),a.xp6(8),a.hij("R$ ",r.convert(e.datas.finalValueAdm),""),a.xp6(2),a.Oqu(e.datas.dateAndHour),a.xp6(4),a.Q6J("value",e.datas.Status),a.xp6(2),a.Q6J("value",1),a.xp6(2),a.Q6J("value",2),a.xp6(2),a.Q6J("value",3)}}const ETe=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:RSe},{path:"register-user",component:FSe},{path:"dashboard",component:hTe,canActivate:[mTe]},{path:"forgot-password",component:fTe},{path:"verify-email-adress",component:gTe},{path:"review",component:IV},{path:"to-do-list",component:xTe},{path:"request",component:(()=>{class n{constructor(e){this.firestore=e,this.select="",this.selected=1}ngOnInit(){var e=this;this.firestore.collection("requests").snapshotChanges().subscribe(function(){var r=(0,qe.Z)(function*(i){e.requestList=i.map(s=>({id:s.payload.doc.id,datas:s.payload.doc.data()}))});return function(i){return r.apply(this,arguments)}}())}convert(e){return Number(e).toFixed(2).replace(".",",")}convert2(e){return Number(e).toFixed(2).replace(".",",")}valueCheck(e,r){this.select=e.value,(1==this.select||2==this.select||3==this.select)&&this.firestore.doc("requests/"+r).update({Status:this.select})}rotate(e){document.getElementById("arrow");let i=document.getElementById(e);i.style.display="block"==i.style.display?"none":"block"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ba))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-payment-form"]],viewQuery:function(e,r){if(1&e&&a.Gf(wTe,5),2&e){let i;a.iGM(i=a.CRH())&&(r.selectOption=i.first)}},decls:15,vars:1,consts:[["fxLayout","column","fxLayoutAlign","space-around center",1,"container"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["routerLink","/dashboard",2,"color","black"],["scope","row",1,"caret"],["id","arrowDown",3,"click"],[2,"display","none",3,"id"],[1,"table","table-light"],[1,"table","table-light","table-bordered"],["scope","row",1,"date"],["scope","row"],[1,"select"],[3,"value","valueChange","selectionChange"],["select",""],[3,"value"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),a._uU(5,"Pedido"),a.qZA(),a.TgZ(6,"th",3),a._uU(7,"Realizado em"),a.qZA(),a.TgZ(8,"th",3),a._uU(9,"Status"),a.qZA()()(),a.TgZ(10,"tbody"),a.YNc(11,CTe,39,9,"tr",4),a.qZA()(),a.TgZ(12,"footer")(13,"mat-icon",5),a._uU(14,"arrow_back"),a.qZA()()()),2&e&&(a.xp6(11),a.Q6J("ngForOf",r.requestList))},dependencies:[_s,ac,Th,au,o4,txe,DO,ip],styles:['table[_ngcontent-%COMP%]{width:100%;max-height:100vh}mat-select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;outline:0;box-shadow:none;border:0!important;background:#5c6664;background-image:none;flex:1;padding:0 .5em;color:#fff;cursor:pointer;font-size:1em;font-family:Open Sans,sans-serif}mat-select[_ngcontent-%COMP%]::-ms-expand{display:none}mat-select[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:3em;line-height:3;background:rgb(228,225,225);overflow:hidden;border-radius:.25em;align-items:center}mat-select[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;top:0;right:0;padding:.3em;background:#2b2e2e;cursor:pointer;pointer-events:none;transition:.25s all ease}mat-select[_ngcontent-%COMP%]:hover:after{color:#723caf}  .mat-form-field-appearance-legacy .mat-form-field-underline{background-color:transparent!important}footer[_ngcontent-%COMP%]{bottom:10px;cursor:pointer}#arrowDown[_ngcontent-%COMP%]{padding-top:5px;cursor:pointer;color:#2b2e2e}#arrowUp[_ngcontent-%COMP%]{cursor:pointer;color:#fff;transform:rotate(180deg);padding:0}.date[_ngcontent-%COMP%]{padding-top:15px}']}),n})()}];let STe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[gG.forRoot(ETe),gG]}),n})(),VTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[tv]}),n})(),nDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[VTe,pr,pr]}),n})(),lDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),mDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[lDe,pr,pr]}),n})(),_De=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[nne]}),n.\u0275inj=a.cJS({providers:[sd,C3],imports:[Tr,HD,oP,IA,Ml,uve,Zme,zpe,w3,e0e,OW,OW,qpe,U7,gR,yxe,vxe,qi.hO.initializeApp(aZ_firebase),kCe,PJ,vSe,MSe,DJ,FW,qSe,STe,nDe,mDe]}),n})();a.B6R(j7,function(){return[_s,Sr,dl,Gc,qd,ac,Th,au,yS,o4,Rve,LW,wpe]},function(){return[BW]}),a.B6R(z7,function(){return[_s,Sr,dl,Gc,qd,au,o4,Mve,LW,Ype]},function(){return[BW]}),(0,a.G48)(),Nm().bootstrapModule(_De).catch(n=>console.error(n))},5867:(un,ct,z)=>{z.d(ct,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=z(9681);(0,a.registerVersion)("firebase","9.9.2","app")},127:(un,ct,z)=>{z.d(ct,{Z:()=>a.Z});var a=z(3942);a.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(un,ct,z)=>{z.r(ct);var a=z(5861),te=z(3942),H=z(6457),ke=z(2090),Te=(z(9681),z(1877),z(4859));function Ve(){return window}function ce(){return(ce=(0,a.Z)(function*(_e,ue,oe){var Qe;const{BuildInfo:At}=Ve();(0,H.aq)(ue.sessionId,"AuthEvent did not contain a session ID");const at=yield je(ue.sessionId),Nt={};return(0,H.ar)()?Nt.ibi=At.packageName:(0,H.as)()?Nt.apn=At.packageName:(0,H.at)(_e,"operation-not-supported-in-this-environment"),At.displayName&&(Nt.appDisplayName=At.displayName),Nt.sessionId=at,(0,H.au)(_e,oe,ue.type,void 0,null!==(Qe=ue.eventId)&&void 0!==Qe?Qe:void 0,Nt)})).apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(_e){const{BuildInfo:ue}=Ve(),oe={};(0,H.ar)()?oe.iosBundleId=ue.packageName:(0,H.as)()?oe.androidPackageName=ue.packageName:(0,H.at)(_e,"operation-not-supported-in-this-environment"),yield(0,H.av)(_e,oe)})).apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(_e,ue,oe){const{cordova:Qe}=Ve();let At=()=>{};try{yield new Promise((at,Nt)=>{let gn=null;function Vn(){var Rn;at();const lr=null===(Rn=Qe.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof lr&&lr(),"function"==typeof oe?.close&&oe.close()}function pi(){gn||(gn=window.setTimeout(()=>{Nt((0,H.aw)(_e,"redirect-cancelled-by-user"))},2e3))}function Er(){"visible"===document?.visibilityState&&pi()}ue.addPassiveListener(Vn),document.addEventListener("resume",pi,!1),(0,H.as)()&&document.addEventListener("visibilitychange",Er,!1),At=()=>{ue.removePassiveListener(Vn),document.removeEventListener("resume",pi,!1),document.removeEventListener("visibilitychange",Er,!1),gn&&window.clearTimeout(gn)}})}finally{At()}})).apply(this,arguments)}function je(_e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(_e){const ue=Kt(_e),oe=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(oe)).map(At=>At.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kt(_e){if((0,H.aq)(/[0-9a-zA-Z]+/.test(_e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_e);const ue=new ArrayBuffer(_e.length),oe=new Uint8Array(ue);for(let Qe=0;Qe<_e.length;Qe++)oe[Qe]=_e.charCodeAt(Qe);return oe}class ht extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(oe=>oe(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,a.Z)(function*(){yield ue.initPromise})()}}function Ie(_e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(_e){const ue=yield Se()._get(He(_e));return ue&&(yield Se()._remove(He(_e))),ue})).apply(this,arguments)}function ve(){const _e=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let oe=0;oe<20;oe++){const Qe=Math.floor(Math.random()*ue.length);_e.push(ue.charAt(Qe))}return _e.join("")}function Se(){return(0,H.ay)(H.b)}function He(_e){return(0,H.az)("authEvent",_e.config.apiKey,_e.name)}function Ct(_e){if(!_e?.includes("?"))return{};const[ue,...oe]=_e.split("?");return(0,ke.zd)(oe.join("?"))}function Lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function zn(){var _e;return(null===(_e=self?.location)||void 0===_e?void 0:_e.protocol)||null}function fs(_e=(0,ke.z$)()){return!("file:"!==zn()&&"ionic:"!==zn()&&"capacitor:"!==zn()||!_e.toLowerCase().match(/iphone|ipad|ipod|android/))}function to(){try{const _e=self.localStorage,ue=H.aI();if(_e)return _e.setItem(ue,"1"),_e.removeItem(ue),!function zo(_e=(0,ke.z$)()){return function ps(){return(0,ke.w1)()&&11===document?.documentMode}()||function Vr(_e=(0,ke.z$)()){return/Edge\/\d+/.test(_e)}(_e)}()||(0,ke.hl)()}catch{return no()&&(0,ke.hl)()}return!1}function no(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ri(){return(function Pn(){return"http:"===zn()||"https:"===zn()}()||(0,ke.ru)()||fs())&&!function qa(){return(0,ke.b$)()||(0,ke.UG)()}()&&to()&&!no()}function $o(){return fs()&&typeof document<"u"}function kr(){return(kr=(0,a.Z)(function*(){return!!$o()&&new Promise(_e=>{const ue=setTimeout(()=>{_e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ue),_e(!0)})})})).apply(this,arguments)}const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Ii=H.ax,ms="persistence";function Cr(_e){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,a.Z)(function*(_e){yield _e._initializationPromise;const ue=rn(),oe=H.az(ms,_e.config.apiKey,_e.name);ue&&ue.setItem(oe,_e._getPersistence())})).apply(this,arguments)}function rn(){var _e;try{return(null===(_e=function gs(){return typeof window<"u"?window:null}())||void 0===_e?void 0:_e.sessionStorage)||null}catch{return null}}const en=H.ax;class Or{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Qn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ue){var oe=this;return(0,a.Z)(function*(){const Qe=ue._key();let At=oe.eventManagers.get(Qe);return At||(At=new ht(ue),oe.eventManagers.set(Qe,At),oe.attachCallbackListeners(ue,At)),At})()}_openPopup(ue){(0,H.at)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,oe,Qe,At){var at=this;return(0,a.Z)(function*(){!function Ke(_e){var ue,oe,Qe,At,at,Nt,gn,Vn,pi,Er;const Rn=Ve();(0,H.ax)("function"==typeof(null===(ue=Rn?.universalLinks)||void 0===ue?void 0:ue.subscribe),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(oe=Rn?.BuildInfo)||void 0===oe?void 0:oe.packageName)<"u",_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(at=null===(At=null===(Qe=Rn?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===At?void 0:At.browsertab)||void 0===at?void 0:at.openUrl),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Vn=null===(gn=null===(Nt=Rn?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===gn?void 0:gn.browsertab)||void 0===Vn?void 0:Vn.isAvailable),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Er=null===(pi=Rn?.cordova)||void 0===pi?void 0:pi.InAppBrowser)||void 0===Er?void 0:Er.open),_e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const Nt=yield at._initialize(ue);yield Nt.initialized(),Nt.resetRedirect(),(0,H.aD)(),yield at._originValidation(ue);const gn=function tt(_e,ue,oe=null){return{type:ue,eventId:oe,urlResponse:null,sessionId:ve(),postBody:null,tenantId:_e.tenantId,error:(0,H.aw)(_e,"no-auth-event")}}(ue,Qe,At);yield function Pt(_e,ue){return Se()._set(He(_e),ue)}(ue,gn);const Vn=yield function le(_e,ue,oe){return ce.apply(this,arguments)}(ue,gn,oe),pi=yield function mt(_e){const{cordova:ue}=Ve();return new Promise(oe=>{ue.plugins.browsertab.isAvailable(Qe=>{let At=null;Qe?ue.plugins.browsertab.openUrl(_e):At=ue.InAppBrowser.open(_e,(0,H.ap)()?"_blank":"_system","location=yes"),oe(At)})})}(Vn);return function et(_e,ue,oe){return tn.apply(this,arguments)}(ue,Nt,pi)})()}_isIframeWebStorageSupported(ue,oe){throw new Error("Method not implemented.")}_originValidation(ue){const oe=ue._key();return this.originValidationPromises[oe]||(this.originValidationPromises[oe]=function be(_e){return Dt.apply(this,arguments)}(ue)),this.originValidationPromises[oe]}attachCallbackListeners(ue,oe){const{universalLinks:Qe,handleOpenURL:At,BuildInfo:at}=Ve(),Nt=setTimeout((0,a.Z)(function*(){yield Ie(ue),oe.onEvent(Lt())}),500),gn=function(){var Er=(0,a.Z)(function*(Rn){clearTimeout(Nt);const lr=yield Ie(ue);let El=null;lr&&Rn?.url&&(El=function Ze(_e,ue){var oe,Qe;const At=function bt(_e){const ue=Ct(_e),oe=ue.link?decodeURIComponent(ue.link):void 0,Qe=Ct(oe).link,At=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return Ct(At).link||At||Qe||oe||_e}(ue);if(At.includes("/__/auth/callback")){const at=Ct(At),Nt=at.firebaseError?function Me(_e){try{return JSON.parse(_e)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,gn=null===(Qe=null===(oe=Nt?.code)||void 0===oe?void 0:oe.split("auth/"))||void 0===Qe?void 0:Qe[1],Vn=gn?(0,H.aw)(gn):null;return Vn?{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,error:Vn,urlResponse:null,sessionId:null,postBody:null}:{type:_e.type,eventId:_e.eventId,tenantId:_e.tenantId,sessionId:_e.sessionId,urlResponse:At,postBody:null}}return null}(lr,Rn.url)),oe.onEvent(El||Lt())});return function(lr){return Er.apply(this,arguments)}}();typeof Qe<"u"&&"function"==typeof Qe.subscribe&&Qe.subscribe(null,gn);const Vn=At,pi=`${at.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var Er=(0,a.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(pi)&&gn({url:Rn}),"function"==typeof Vn)try{Vn(Rn)}catch(lr){console.error(lr)}});return function(Rn){return Er.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ue){var oe=this;return(0,a.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,oe,Qe,At){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(ue,oe,Qe,At)})()}_openRedirect(ue,oe,Qe,At){var at=this;return(0,a.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(ue,oe,Qe,At)})()}_isIframeWebStorageSupported(ue,oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,oe)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return $o()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return en(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,a.Z)(function*(){if(ue.underlyingResolver)return;const oe=yield function fn(){return kr.apply(this,arguments)}();ue.underlyingResolver=oe?ue.cordovaResolver:ue.browserResolver})()}}function As(_e){return _e.unwrap()}function Nn(_e){return Is(_e)}function Is(_e){const{_tokenResponse:ue}=_e instanceof ke.ZR?_e.customData:_e;if(!ue)return null;if(!(_e instanceof ke.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return H.P.credentialFromResult(_e);const oe=ue.providerId;if(!oe||oe===H.o.PASSWORD)return null;let Qe;switch(oe){case H.o.GOOGLE:Qe=H.Q;break;case H.o.FACEBOOK:Qe=H.N;break;case H.o.GITHUB:Qe=H.T;break;case H.o.TWITTER:Qe=H.W;break;default:const{oauthIdToken:At,oauthAccessToken:at,oauthTokenSecret:Nt,pendingToken:gn,nonce:Vn}=ue;return at||Nt||At||gn?gn?oe.startsWith("saml.")?H.aL._create(oe,gn):H.J._fromParams({providerId:oe,signInMethod:oe,pendingToken:gn,idToken:At,accessToken:at}):new H.U(oe).credential({idToken:At,accessToken:at,rawNonce:Vn}):null}return _e instanceof ke.ZR?Qe.credentialFromError(_e):Qe.credentialFromResult(_e)}function kn(_e,ue){return ue.catch(oe=>{throw oe instanceof ke.ZR&&function $r(_e,ue){var oe,Qe;const At=null===(oe=ue.customData)||void 0===oe?void 0:oe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Qe=ue)||void 0===Qe?void 0:Qe.code))ue.resolver=new ye(_e,H.an(_e,ue));else if(At){const at=Is(ue),Nt=ue;at&&(Nt.credential=at,Nt.tenantId=At.tenantId||void 0,Nt.email=At.email||void 0,Nt.phoneNumber=At.phoneNumber||void 0)}}(_e,oe),oe}).then(oe=>{const At=oe.user;return{operationType:oe.operationType,credential:Nn(oe),additionalUserInfo:H.al(oe),user:ae.getOrCreate(At)}})}function ro(_e,ue){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(_e,ue){const oe=yield ue;return{verificationId:oe.verificationId,confirm:Qe=>kn(_e,oe.confirm(Qe))}})).apply(this,arguments)}class ye{constructor(ue,oe){this.resolver=oe,this.auth=function Ur(_e){return _e.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return kn(As(this.auth),this.resolver.resolveSignIn(ue))}}class ae{constructor(ue){this._delegate=ue,this.multiFactor=H.ao(ue)}static getOrCreate(ue){return ae.USER_MAP.has(ue)||ae.USER_MAP.set(ue,new ae(ue)),ae.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var oe=this;return(0,a.Z)(function*(){return kn(oe.auth,H.Z(oe._delegate,ue))})()}linkWithPhoneNumber(ue,oe){var Qe=this;return(0,a.Z)(function*(){return ro(Qe.auth,H.l(Qe._delegate,ue,oe))})()}linkWithPopup(ue){var oe=this;return(0,a.Z)(function*(){return kn(oe.auth,H.d(oe._delegate,ue,Or))})()}linkWithRedirect(ue){var oe=this;return(0,a.Z)(function*(){return yield Cr(H.aE(oe.auth)),H.g(oe._delegate,ue,Or)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var oe=this;return(0,a.Z)(function*(){return kn(oe.auth,H._(oe._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,oe){return ro(this.auth,H.r(this._delegate,ue,oe))}reauthenticateWithPopup(ue){return kn(this.auth,H.e(this._delegate,ue,Or))}reauthenticateWithRedirect(ue){var oe=this;return(0,a.Z)(function*(){return yield Cr(H.aE(oe.auth)),H.h(oe._delegate,ue,Or)})()}sendEmailVerification(ue){return H.ab(this._delegate,ue)}unlink(ue){var oe=this;return(0,a.Z)(function*(){return yield H.ak(oe._delegate,ue),oe})()}updateEmail(ue){return H.ag(this._delegate,ue)}updatePassword(ue){return H.ah(this._delegate,ue)}updatePhoneNumber(ue){return H.u(this._delegate,ue)}updateProfile(ue){return H.af(this._delegate,ue)}verifyBeforeUpdateEmail(ue,oe){return H.ac(this._delegate,ue,oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ae.USER_MAP=new WeakMap;const ne=H.ax;let de=(()=>{class _e{constructor(oe,Qe){if(this.app=oe,Qe.isInitialized())return this._delegate=Qe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:At}=oe.options;ne(At,"invalid-api-key",{appName:oe.name}),ne(At,"invalid-api-key",{appName:oe.name});const at=typeof window<"u"?Or:void 0;this._delegate=Qe.initialize({options:{persistence:ot(At,oe.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ae.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,Qe){H.G(this._delegate,oe,Qe)}applyActionCode(oe){return H.a2(this._delegate,oe)}checkActionCode(oe){return H.a3(this._delegate,oe)}confirmPasswordReset(oe,Qe){return H.a1(this._delegate,oe,Qe)}createUserWithEmailAndPassword(oe,Qe){var At=this;return(0,a.Z)(function*(){return kn(At._delegate,H.a5(At._delegate,oe,Qe))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return H.aa(this._delegate,oe)}isSignInWithEmailLink(oe){return H.a8(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,a.Z)(function*(){ne(ri(),oe._delegate,"operation-not-supported-in-this-environment");const Qe=yield H.j(oe._delegate,Or);return Qe?kn(oe._delegate,Promise.resolve(Qe)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function Ir(_e,ue){(0,H.aE)(_e)._logFramework(ue)}(this._delegate,oe)}onAuthStateChanged(oe,Qe,At){const{next:at,error:Nt,complete:gn}=fe(oe,Qe,At);return this._delegate.onAuthStateChanged(at,Nt,gn)}onIdTokenChanged(oe,Qe,At){const{next:at,error:Nt,complete:gn}=fe(oe,Qe,At);return this._delegate.onIdTokenChanged(at,Nt,gn)}sendSignInLinkToEmail(oe,Qe){return H.a7(this._delegate,oe,Qe)}sendPasswordResetEmail(oe,Qe){return H.a0(this._delegate,oe,Qe||void 0)}setPersistence(oe){var Qe=this;return(0,a.Z)(function*(){let At;switch(function ki(_e,ue){Ii(Object.values(ar).includes(ue),_e,"invalid-persistence-type"),(0,ke.b$)()?Ii(ue!==ar.SESSION,_e,"unsupported-persistence-type"):(0,ke.UG)()?Ii(ue===ar.NONE,_e,"unsupported-persistence-type"):no()?Ii(ue===ar.NONE||ue===ar.LOCAL&&(0,ke.hl)(),_e,"unsupported-persistence-type"):Ii(ue===ar.NONE||to(),_e,"unsupported-persistence-type")}(Qe._delegate,oe),oe){case ar.SESSION:At=H.a;break;case ar.LOCAL:At=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case ar.NONE:At=H.L;break;default:return H.at("argument-error",{appName:Qe._delegate.name})}return Qe._delegate.setPersistence(At)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return kn(this._delegate,H.X(this._delegate))}signInWithCredential(oe){return kn(this._delegate,H.Y(this._delegate,oe))}signInWithCustomToken(oe){return kn(this._delegate,H.$(this._delegate,oe))}signInWithEmailAndPassword(oe,Qe){return kn(this._delegate,H.a6(this._delegate,oe,Qe))}signInWithEmailLink(oe,Qe){return kn(this._delegate,H.a9(this._delegate,oe,Qe))}signInWithPhoneNumber(oe,Qe){return ro(this._delegate,H.s(this._delegate,oe,Qe))}signInWithPopup(oe){var Qe=this;return(0,a.Z)(function*(){return ne(ri(),Qe._delegate,"operation-not-supported-in-this-environment"),kn(Qe._delegate,H.c(Qe._delegate,oe,Or))})()}signInWithRedirect(oe){var Qe=this;return(0,a.Z)(function*(){return ne(ri(),Qe._delegate,"operation-not-supported-in-this-environment"),yield Cr(Qe._delegate),H.f(Qe._delegate,oe,Or)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return H.a4(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _e.Persistence=ar,_e})();function fe(_e,ue,oe){let Qe=_e;"function"!=typeof _e&&({next:Qe,error:ue,complete:oe}=_e);const At=Qe;return{next:Nt=>At(Nt&&ae.getOrCreate(Nt)),error:ue,complete:oe}}function ot(_e,ue){const oe=function Mr(_e,ue){const oe=rn();if(!oe)return[];const Qe=H.az(ms,_e,ue);switch(oe.getItem(Qe)){case ar.NONE:return[H.L];case ar.LOCAL:return[H.i,H.a];case ar.SESSION:return[H.a];default:return[]}}(_e,ue);if(typeof self<"u"&&!oe.includes(H.i)&&oe.push(H.i),typeof window<"u")for(const Qe of[H.b,H.a])oe.includes(Qe)||oe.push(Qe);return oe.includes(H.L)||oe.push(H.L),oe}class It{constructor(){this.providerId="phone",this._delegate=new H.P(As(te.Z.auth()))}static credential(ue,oe){return H.P.credential(ue,oe)}verifyPhoneNumber(ue,oe){return this._delegate.verifyPhoneNumber(ue,oe)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=H.P.PROVIDER_ID;const _n=H.ax;class hr{constructor(ue,oe,Qe=te.Z.app()){var At;_n(null===(At=Qe.options)||void 0===At?void 0:At.apiKey,"invalid-api-key",{appName:Qe.name}),this._delegate=new H.R(ue,oe,Qe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fi(_e){_e.INTERNAL.registerComponent(new Te.wA("auth-compat",ue=>{const oe=ue.getProvider("app-compat").getImmediate(),Qe=ue.getProvider("auth");return new de(oe,Qe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:hr,TwitterAuthProvider:H.W,Auth:de,AuthCredential:H.H,Error:ke.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_e.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},9751:(un,ct,z)=>{z.d(ct,{y:()=>Ve});var a=z(930),te=z(727),H=z(8822),ke=z(9635),Re=z(2416),We=z(576),Te=z(2806);let Ve=(()=>{class be{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const et=new be;return et.source=this,et.operator=mt,et}subscribe(mt,et,tn){const Ke=function ce(be){return be&&be instanceof a.Lv||function le(be){return be&&(0,We.m)(be.next)&&(0,We.m)(be.error)&&(0,We.m)(be.complete)}(be)&&(0,te.Nn)(be)}(mt)?mt:new a.Hp(mt,et,tn);return(0,Te.x)(()=>{const{operator:je,source:Yt}=this;Ke.add(je?je.call(Ke,Yt):Yt?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(mt){try{return this._subscribe(mt)}catch(et){mt.error(et)}}forEach(mt,et){return new(et=Ye(et))((tn,Ke)=>{const je=new a.Hp({next:Yt=>{try{mt(Yt)}catch(Kt){Ke(Kt),je.unsubscribe()}},error:Ke,complete:tn});this.subscribe(je)})}_subscribe(mt){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(mt)}[H.L](){return this}pipe(...mt){return(0,ke.U)(mt)(this)}toPromise(mt){return new(mt=Ye(mt))((et,tn)=>{let Ke;this.subscribe(je=>Ke=je,je=>tn(je),()=>et(Ke))})}}return be.create=Dt=>new be(Dt),be})();function Ye(be){var Dt;return null!==(Dt=be??Re.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(un,ct,z)=>{z.d(ct,{x:()=>Te});var a=z(9751),te=z(727);const ke=(0,z(3888).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=z(8737),We=z(2806);let Te=(()=>{class Ye extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const be=new Ve(this,this);return be.operator=ce,be}_throwIfClosed(){if(this.closed)throw new ke}next(ce){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ce)}})}error(ce){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:be}=this;for(;be.length;)be.shift().error(ce)}})}complete(){(0,We.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:be,isStopped:Dt,observers:mt}=this;return be||Dt?te.Lc:(this.currentObservers=null,mt.push(ce),new te.w0(()=>{this.currentObservers=null,(0,Re.P)(mt,ce)}))}_checkFinalizedStatuses(ce){const{hasError:be,thrownError:Dt,isStopped:mt}=this;be?ce.error(Dt):mt&&ce.complete()}asObservable(){const ce=new a.y;return ce.source=this,ce}}return Ye.create=(le,ce)=>new Ve(le,ce),Ye})();class Ve extends Te{constructor(le,ce){super(),this.destination=le,this.source=ce}next(le){var ce,be;null===(be=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===be||be.call(ce,le)}error(le){var ce,be;null===(be=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===be||be.call(ce,le)}complete(){var le,ce;null===(ce=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===ce||ce.call(le)}_subscribe(le){var ce,be;return null!==(be=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(le))&&void 0!==be?be:te.Lc}}},930:(un,ct,z)=>{z.d(ct,{Hp:()=>tn,Lv:()=>be});var a=z(576),te=z(727),H=z(2416),ke=z(7849),Re=z(5032);const We=Ye("C",void 0,void 0);function Ye(pt,ht,tt){return{kind:pt,value:ht,error:tt}}var le=z(3410),ce=z(2806);class be extends te.w0{constructor(ht){super(),this.isStopped=!1,ht?(this.destination=ht,(0,te.Nn)(ht)&&ht.add(this)):this.destination=Kt}static create(ht,tt,Pt){return new tn(ht,tt,Pt)}next(ht){this.isStopped?Yt(function Ve(pt){return Ye("N",pt,void 0)}(ht),this):this._next(ht)}error(ht){this.isStopped?Yt(function Te(pt){return Ye("E",void 0,pt)}(ht),this):(this.isStopped=!0,this._error(ht))}complete(){this.isStopped?Yt(We,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ht){this.destination.next(ht)}_error(ht){try{this.destination.error(ht)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function mt(pt,ht){return Dt.call(pt,ht)}class et{constructor(ht){this.partialObserver=ht}next(ht){const{partialObserver:tt}=this;if(tt.next)try{tt.next(ht)}catch(Pt){Ke(Pt)}}error(ht){const{partialObserver:tt}=this;if(tt.error)try{tt.error(ht)}catch(Pt){Ke(Pt)}else Ke(ht)}complete(){const{partialObserver:ht}=this;if(ht.complete)try{ht.complete()}catch(tt){Ke(tt)}}}class tn extends be{constructor(ht,tt,Pt){let Ie;if(super(),(0,a.m)(ht)||!ht)Ie={next:ht??void 0,error:tt??void 0,complete:Pt??void 0};else{let Ne;this&&H.v.useDeprecatedNextContext?(Ne=Object.create(ht),Ne.unsubscribe=()=>this.unsubscribe(),Ie={next:ht.next&&mt(ht.next,Ne),error:ht.error&&mt(ht.error,Ne),complete:ht.complete&&mt(ht.complete,Ne)}):Ie=ht}this.destination=new et(Ie)}}function Ke(pt){H.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(pt):(0,ke.h)(pt)}function Yt(pt,ht){const{onStoppedNotification:tt}=H.v;tt&&le.z.setTimeout(()=>tt(pt,ht))}const Kt={closed:!0,next:Re.Z,error:function je(pt){throw pt},complete:Re.Z}},727:(un,ct,z)=>{z.d(ct,{Lc:()=>We,w0:()=>Re,Nn:()=>Te});var a=z(576);const H=(0,z(3888).d)(Ye=>function(ce){Ye(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((be,Dt)=>`${Dt+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var ke=z(8737);class Re{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const mt of ce)mt.remove(this);else ce.remove(this);const{initialTeardown:be}=this;if((0,a.m)(be))try{be()}catch(mt){le=mt instanceof H?mt.errors:[mt]}const{_finalizers:Dt}=this;if(Dt){this._finalizers=null;for(const mt of Dt)try{Ve(mt)}catch(et){le=le??[],et instanceof H?le=[...le,...et.errors]:le.push(et)}}if(le)throw new H(le)}}add(le){var ce;if(le&&le!==this)if(this.closed)Ve(le);else{if(le instanceof Re){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(le)}}_hasParent(le){const{_parentage:ce}=this;return ce===le||Array.isArray(ce)&&ce.includes(le)}_addParent(le){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(le),ce):ce?[ce,le]:le}_removeParent(le){const{_parentage:ce}=this;ce===le?this._parentage=null:Array.isArray(ce)&&(0,ke.P)(ce,le)}remove(le){const{_finalizers:ce}=this;ce&&(0,ke.P)(ce,le),le instanceof Re&&le._removeParent(this)}}Re.EMPTY=(()=>{const Ye=new Re;return Ye.closed=!0,Ye})();const We=Re.EMPTY;function Te(Ye){return Ye instanceof Re||Ye&&"closed"in Ye&&(0,a.m)(Ye.remove)&&(0,a.m)(Ye.add)&&(0,a.m)(Ye.unsubscribe)}function Ve(Ye){(0,a.m)(Ye)?Ye():Ye.unsubscribe()}},2416:(un,ct,z)=>{z.d(ct,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(un,ct,z)=>{z.d(ct,{E:()=>te});const te=new(z(9751).y)(Re=>Re.complete())},8996:(un,ct,z)=>{z.d(ct,{D:()=>ht});var a=z(8421),te=z(5363),H=z(9468),We=z(9751),Ve=z(2202),Ye=z(576),le=z(9672);function be(tt,Pt){if(!tt)throw new Error("Iterable cannot be null");return new We.y(Ie=>{(0,le.f)(Ie,Pt,()=>{const Ne=tt[Symbol.asyncIterator]();(0,le.f)(Ie,Pt,()=>{Ne.next().then(Ze=>{Ze.done?Ie.complete():Ie.next(Ze.value)})},0,!0)})})}var Dt=z(3670),mt=z(8239),et=z(1144),tn=z(6495),Ke=z(2206),je=z(4532),Yt=z(3260);function ht(tt,Pt){return Pt?function pt(tt,Pt){if(null!=tt){if((0,Dt.c)(tt))return function ke(tt,Pt){return(0,a.Xf)(tt).pipe((0,H.R)(Pt),(0,te.Q)(Pt))}(tt,Pt);if((0,et.z)(tt))return function Te(tt,Pt){return new We.y(Ie=>{let Ne=0;return Pt.schedule(function(){Ne===tt.length?Ie.complete():(Ie.next(tt[Ne++]),Ie.closed||this.schedule())})})}(tt,Pt);if((0,mt.t)(tt))return function Re(tt,Pt){return(0,a.Xf)(tt).pipe((0,H.R)(Pt),(0,te.Q)(Pt))}(tt,Pt);if((0,Ke.D)(tt))return be(tt,Pt);if((0,tn.T)(tt))return function ce(tt,Pt){return new We.y(Ie=>{let Ne;return(0,le.f)(Ie,Pt,()=>{Ne=tt[Ve.h](),(0,le.f)(Ie,Pt,()=>{let Ze,ve;try{({value:Ze,done:ve}=Ne.next())}catch(Se){return void Ie.error(Se)}ve?Ie.complete():Ie.next(Ze)},0,!0)}),()=>(0,Ye.m)(Ne?.return)&&Ne.return()})}(tt,Pt);if((0,Yt.L)(tt))return function Kt(tt,Pt){return be((0,Yt.Q)(tt),Pt)}(tt,Pt)}throw(0,je.z)(tt)}(tt,Pt):(0,a.Xf)(tt)}},8421:(un,ct,z)=>{z.d(ct,{Xf:()=>Dt});var a=z(655),te=z(1144),H=z(8239),ke=z(9751),Re=z(3670),We=z(2206),Te=z(4532),Ve=z(6495),Ye=z(3260),le=z(576),ce=z(7849),be=z(8822);function Dt(pt){if(pt instanceof ke.y)return pt;if(null!=pt){if((0,Re.c)(pt))return function mt(pt){return new ke.y(ht=>{const tt=pt[be.L]();if((0,le.m)(tt.subscribe))return tt.subscribe(ht);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pt);if((0,te.z)(pt))return function et(pt){return new ke.y(ht=>{for(let tt=0;tt<pt.length&&!ht.closed;tt++)ht.next(pt[tt]);ht.complete()})}(pt);if((0,H.t)(pt))return function tn(pt){return new ke.y(ht=>{pt.then(tt=>{ht.closed||(ht.next(tt),ht.complete())},tt=>ht.error(tt)).then(null,ce.h)})}(pt);if((0,We.D)(pt))return je(pt);if((0,Ve.T)(pt))return function Ke(pt){return new ke.y(ht=>{for(const tt of pt)if(ht.next(tt),ht.closed)return;ht.complete()})}(pt);if((0,Ye.L)(pt))return function Yt(pt){return je((0,Ye.Q)(pt))}(pt)}throw(0,Te.z)(pt)}function je(pt){return new ke.y(ht=>{(function Kt(pt,ht){var tt,Pt,Ie,Ne;return(0,a.mG)(this,void 0,void 0,function*(){try{for(tt=(0,a.KL)(pt);!(Pt=yield tt.next()).done;)if(ht.next(Pt.value),ht.closed)return}catch(Ze){Ie={error:Ze}}finally{try{Pt&&!Pt.done&&(Ne=tt.return)&&(yield Ne.call(tt))}finally{if(Ie)throw Ie.error}}ht.complete()})})(pt,ht).catch(tt=>ht.error(tt))})}},6451:(un,ct,z)=>{z.d(ct,{T:()=>We});var a=z(8189),te=z(8421),H=z(515),ke=z(3269),Re=z(8996);function We(...Te){const Ve=(0,ke.yG)(Te),Ye=(0,ke._6)(Te,1/0),le=Te;return le.length?1===le.length?(0,te.Xf)(le[0]):(0,a.J)(Ye)((0,Re.D)(le,Ve)):H.E}},5403:(un,ct,z)=>{z.d(ct,{x:()=>te});var a=z(930);function te(ke,Re,We,Te,Ve){return new H(ke,Re,We,Te,Ve)}class H extends a.Lv{constructor(Re,We,Te,Ve,Ye,le){super(Re),this.onFinalize=Ye,this.shouldUnsubscribe=le,this._next=We?function(ce){try{We(ce)}catch(be){Re.error(be)}}:super._next,this._error=Ve?function(ce){try{Ve(ce)}catch(be){Re.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ce){Re.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:We}=this;super.unsubscribe(),!We&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},4004:(un,ct,z)=>{z.d(ct,{U:()=>H});var a=z(4482),te=z(5403);function H(ke,Re){return(0,a.e)((We,Te)=>{let Ve=0;We.subscribe((0,te.x)(Te,Ye=>{Te.next(ke.call(Re,Ye,Ve++))}))})}},8189:(un,ct,z)=>{z.d(ct,{J:()=>H});var a=z(5577),te=z(4671);function H(ke=1/0){return(0,a.z)(te.y,ke)}},5577:(un,ct,z)=>{z.d(ct,{z:()=>Ve});var a=z(4004),te=z(8421),H=z(4482),ke=z(9672),Re=z(5403),Te=z(576);function Ve(Ye,le,ce=1/0){return(0,Te.m)(le)?Ve((be,Dt)=>(0,a.U)((mt,et)=>le(be,mt,Dt,et))((0,te.Xf)(Ye(be,Dt))),ce):("number"==typeof le&&(ce=le),(0,H.e)((be,Dt)=>function We(Ye,le,ce,be,Dt,mt,et,tn){const Ke=[];let je=0,Yt=0,Kt=!1;const pt=()=>{Kt&&!Ke.length&&!je&&le.complete()},ht=Pt=>je<be?tt(Pt):Ke.push(Pt),tt=Pt=>{mt&&le.next(Pt),je++;let Ie=!1;(0,te.Xf)(ce(Pt,Yt++)).subscribe((0,Re.x)(le,Ne=>{Dt?.(Ne),mt?ht(Ne):le.next(Ne)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(je--;Ke.length&&je<be;){const Ne=Ke.shift();et?(0,ke.f)(le,et,()=>tt(Ne)):tt(Ne)}pt()}catch(Ne){le.error(Ne)}}))};return Ye.subscribe((0,Re.x)(le,ht,()=>{Kt=!0,pt()})),()=>{tn?.()}}(be,Dt,Ye,ce)))}},5363:(un,ct,z)=>{z.d(ct,{Q:()=>ke});var a=z(9672),te=z(4482),H=z(5403);function ke(Re,We=0){return(0,te.e)((Te,Ve)=>{Te.subscribe((0,H.x)(Ve,Ye=>(0,a.f)(Ve,Re,()=>Ve.next(Ye),We),()=>(0,a.f)(Ve,Re,()=>Ve.complete(),We),Ye=>(0,a.f)(Ve,Re,()=>Ve.error(Ye),We)))})}},3099:(un,ct,z)=>{z.d(ct,{B:()=>Re});var a=z(8421),te=z(7579),H=z(930),ke=z(4482);function Re(Te={}){const{connector:Ve=(()=>new te.x),resetOnError:Ye=!0,resetOnComplete:le=!0,resetOnRefCountZero:ce=!0}=Te;return be=>{let Dt,mt,et,tn=0,Ke=!1,je=!1;const Yt=()=>{mt?.unsubscribe(),mt=void 0},Kt=()=>{Yt(),Dt=et=void 0,Ke=je=!1},pt=()=>{const ht=Dt;Kt(),ht?.unsubscribe()};return(0,ke.e)((ht,tt)=>{tn++,!je&&!Ke&&Yt();const Pt=et=et??Ve();tt.add(()=>{tn--,0===tn&&!je&&!Ke&&(mt=We(pt,ce))}),Pt.subscribe(tt),!Dt&&tn>0&&(Dt=new H.Hp({next:Ie=>Pt.next(Ie),error:Ie=>{je=!0,Yt(),mt=We(Kt,Ye,Ie),Pt.error(Ie)},complete:()=>{Ke=!0,Yt(),mt=We(Kt,le),Pt.complete()}}),(0,a.Xf)(ht).subscribe(Dt))})(be)}}function We(Te,Ve,...Ye){if(!0===Ve)return void Te();if(!1===Ve)return;const le=new H.Hp({next:()=>{le.unsubscribe(),Te()}});return Ve(...Ye).subscribe(le)}},9468:(un,ct,z)=>{z.d(ct,{R:()=>te});var a=z(4482);function te(H,ke=0){return(0,a.e)((Re,We)=>{We.add(H.schedule(()=>Re.subscribe(We),ke))})}},8505:(un,ct,z)=>{z.d(ct,{b:()=>Re});var a=z(576),te=z(4482),H=z(5403),ke=z(4671);function Re(We,Te,Ve){const Ye=(0,a.m)(We)||Te||Ve?{next:We,error:Te,complete:Ve}:We;return Ye?(0,te.e)((le,ce)=>{var be;null===(be=Ye.subscribe)||void 0===be||be.call(Ye);let Dt=!0;le.subscribe((0,H.x)(ce,mt=>{var et;null===(et=Ye.next)||void 0===et||et.call(Ye,mt),ce.next(mt)},()=>{var mt;Dt=!1,null===(mt=Ye.complete)||void 0===mt||mt.call(Ye),ce.complete()},mt=>{var et;Dt=!1,null===(et=Ye.error)||void 0===et||et.call(Ye,mt),ce.error(mt)},()=>{var mt,et;Dt&&(null===(mt=Ye.unsubscribe)||void 0===mt||mt.call(Ye)),null===(et=Ye.finalize)||void 0===et||et.call(Ye)}))}):ke.y}},4408:(un,ct,z)=>{z.d(ct,{o:()=>Re});var a=z(727);class te extends a.w0{constructor(Te,Ve){super()}schedule(Te,Ve=0){return this}}const H={setInterval(We,Te,...Ve){const{delegate:Ye}=H;return Ye?.setInterval?Ye.setInterval(We,Te,...Ve):setInterval(We,Te,...Ve)},clearInterval(We){const{delegate:Te}=H;return(Te?.clearInterval||clearInterval)(We)},delegate:void 0};var ke=z(8737);class Re extends te{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve,this.pending=!1}schedule(Te,Ve=0){if(this.closed)return this;this.state=Te;const Ye=this.id,le=this.scheduler;return null!=Ye&&(this.id=this.recycleAsyncId(le,Ye,Ve)),this.pending=!0,this.delay=Ve,this.id=this.id||this.requestAsyncId(le,this.id,Ve),this}requestAsyncId(Te,Ve,Ye=0){return H.setInterval(Te.flush.bind(Te,this),Ye)}recycleAsyncId(Te,Ve,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return Ve;H.clearInterval(Ve)}execute(Te,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Te,Ve);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ve){let le,Ye=!1;try{this.work(Te)}catch(ce){Ye=!0,le=ce||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ve}=this,{actions:Ye}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ke.P)(Ye,this),null!=Te&&(this.id=this.recycleAsyncId(Ve,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(un,ct,z)=>{z.d(ct,{v:()=>H});var a=z(6063);class te{constructor(Re,We=te.now){this.schedulerActionCtor=Re,this.now=We}schedule(Re,We=0,Te){return new this.schedulerActionCtor(this,Re).schedule(Te,We)}}te.now=a.l.now;class H extends te{constructor(Re,We=te.now){super(Re,We),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Re){const{actions:We}=this;if(this._active)return void We.push(Re);let Te;this._active=!0;do{if(Te=Re.execute(Re.state,Re.delay))break}while(Re=We.shift());if(this._active=!1,Te){for(;Re=We.shift();)Re.unsubscribe();throw Te}}}},4986:(un,ct,z)=>{z.d(ct,{P:()=>ke,z:()=>H});var a=z(4408);const H=new(z(7565).v)(a.o),ke=H},6063:(un,ct,z)=>{z.d(ct,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(un,ct,z)=>{z.d(ct,{z:()=>a});const a={setTimeout(te,H,...ke){const{delegate:Re}=a;return Re?.setTimeout?Re.setTimeout(te,H,...ke):setTimeout(te,H,...ke)},clearTimeout(te){const{delegate:H}=a;return(H?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(un,ct,z)=>{z.d(ct,{h:()=>te});const te=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(un,ct,z)=>{z.d(ct,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(un,ct,z)=>{z.d(ct,{_6:()=>We,jO:()=>ke,yG:()=>Re});var a=z(576),te=z(3532);function H(Te){return Te[Te.length-1]}function ke(Te){return(0,a.m)(H(Te))?Te.pop():void 0}function Re(Te){return(0,te.K)(H(Te))?Te.pop():void 0}function We(Te,Ve){return"number"==typeof H(Te)?Te.pop():Ve}},8737:(un,ct,z)=>{function a(te,H){if(te){const ke=te.indexOf(H);0<=ke&&te.splice(ke,1)}}z.d(ct,{P:()=>a})},3888:(un,ct,z)=>{function a(te){const ke=te(Re=>{Error.call(Re),Re.stack=(new Error).stack});return ke.prototype=Object.create(Error.prototype),ke.prototype.constructor=ke,ke}z.d(ct,{d:()=>a})},2806:(un,ct,z)=>{z.d(ct,{O:()=>ke,x:()=>H});var a=z(2416);let te=null;function H(Re){if(a.v.useDeprecatedSynchronousErrorHandling){const We=!te;if(We&&(te={errorThrown:!1,error:null}),Re(),We){const{errorThrown:Te,error:Ve}=te;if(te=null,Te)throw Ve}}else Re()}function ke(Re){a.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=Re)}},9672:(un,ct,z)=>{function a(te,H,ke,Re=0,We=!1){const Te=H.schedule(function(){ke(),We?te.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(te.add(Te),!We)return Te}z.d(ct,{f:()=>a})},4671:(un,ct,z)=>{function a(te){return te}z.d(ct,{y:()=>a})},1144:(un,ct,z)=>{z.d(ct,{z:()=>a});const a=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(un,ct,z)=>{z.d(ct,{D:()=>te});var a=z(576);function te(H){return Symbol.asyncIterator&&(0,a.m)(H?.[Symbol.asyncIterator])}},576:(un,ct,z)=>{function a(te){return"function"==typeof te}z.d(ct,{m:()=>a})},3670:(un,ct,z)=>{z.d(ct,{c:()=>H});var a=z(8822),te=z(576);function H(ke){return(0,te.m)(ke[a.L])}},6495:(un,ct,z)=>{z.d(ct,{T:()=>H});var a=z(2202),te=z(576);function H(ke){return(0,te.m)(ke?.[a.h])}},8239:(un,ct,z)=>{z.d(ct,{t:()=>te});var a=z(576);function te(H){return(0,a.m)(H?.then)}},3260:(un,ct,z)=>{z.d(ct,{L:()=>ke,Q:()=>H});var a=z(655),te=z(576);function H(Re){return(0,a.FC)(this,arguments,function*(){const Te=Re.getReader();try{for(;;){const{value:Ve,done:Ye}=yield(0,a.qq)(Te.read());if(Ye)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Ve)}}finally{Te.releaseLock()}})}function ke(Re){return(0,te.m)(Re?.getReader)}},3532:(un,ct,z)=>{z.d(ct,{K:()=>te});var a=z(576);function te(H){return H&&(0,a.m)(H.schedule)}},4482:(un,ct,z)=>{z.d(ct,{A:()=>te,e:()=>H});var a=z(576);function te(ke){return(0,a.m)(ke?.lift)}function H(ke){return Re=>{if(te(Re))return Re.lift(function(We){try{return ke(We,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(un,ct,z)=>{function a(){}z.d(ct,{Z:()=>a})},9635:(un,ct,z)=>{z.d(ct,{U:()=>H,z:()=>te});var a=z(4671);function te(...ke){return H(ke)}function H(ke){return 0===ke.length?a.y:1===ke.length?ke[0]:function(We){return ke.reduce((Te,Ve)=>Ve(Te),We)}}},7849:(un,ct,z)=>{z.d(ct,{h:()=>H});var a=z(2416),te=z(3410);function H(ke){te.z.setTimeout(()=>{const{onUnhandledError:Re}=a.v;if(!Re)throw ke;Re(ke)})}},4532:(un,ct,z)=>{function a(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(ct,{z:()=>a})},655:(un,ct,z)=>{function ke(ve,Se){var He={};for(var Me in ve)Object.prototype.hasOwnProperty.call(ve,Me)&&Se.indexOf(Me)<0&&(He[Me]=ve[Me]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var bt=0;for(Me=Object.getOwnPropertySymbols(ve);bt<Me.length;bt++)Se.indexOf(Me[bt])<0&&Object.prototype.propertyIsEnumerable.call(ve,Me[bt])&&(He[Me[bt]]=ve[Me[bt]])}return He}function Ve(ve,Se,He,Me){return new(He||(He=Promise))(function(Ct,pn){function Qn(Ir){try{Lt(Me.next(Ir))}catch(qr){pn(qr)}}function jn(Ir){try{Lt(Me.throw(Ir))}catch(qr){pn(qr)}}function Lt(Ir){Ir.done?Ct(Ir.value):function bt(Ct){return Ct instanceof He?Ct:new He(function(pn){pn(Ct)})}(Ir.value).then(Qn,jn)}Lt((Me=Me.apply(ve,Se||[])).next())})}function Ke(ve){return this instanceof Ke?(this.v=ve,this):new Ke(ve)}function je(ve,Se,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,Me=He.apply(ve,Se||[]),Ct=[];return bt={},pn("next"),pn("throw"),pn("return"),bt[Symbol.asyncIterator]=function(){return this},bt;function pn(or){Me[or]&&(bt[or]=function(Jn){return new Promise(function(zn,Pn){Ct.push([or,Jn,zn,Pn])>1||Qn(or,Jn)})})}function Qn(or,Jn){try{!function jn(or){or.value instanceof Ke?Promise.resolve(or.value.v).then(Lt,Ir):qr(Ct[0][2],or)}(Me[or](Jn))}catch(zn){qr(Ct[0][3],zn)}}function Lt(or){Qn("next",or)}function Ir(or){Qn("throw",or)}function qr(or,Jn){or(Jn),Ct.shift(),Ct.length&&Qn(Ct[0][0],Ct[0][1])}}function Kt(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Se=ve[Symbol.asyncIterator];return Se?Se.call(ve):(ve=function be(ve){var Se="function"==typeof Symbol&&Symbol.iterator,He=Se&&ve[Se],Me=0;if(He)return He.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&Me>=ve.length&&(ve=void 0),{value:ve&&ve[Me++],done:!ve}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),He={},Me("next"),Me("throw"),Me("return"),He[Symbol.asyncIterator]=function(){return this},He);function Me(Ct){He[Ct]=ve[Ct]&&function(pn){return new Promise(function(Qn,jn){!function bt(Ct,pn,Qn,jn){Promise.resolve(jn).then(function(Lt){Ct({value:Lt,done:Qn})},pn)}(Qn,jn,(pn=ve[Ct](pn)).done,pn.value)})}}}z.d(ct,{FC:()=>je,KL:()=>Kt,_T:()=>ke,mG:()=>Ve,qq:()=>Ke})},4650:(un,ct,z)=>{z.d(ct,{$8M:()=>Np,$Z:()=>cv,AFp:()=>_l,ALo:()=>t_,AaK:()=>Ve,AsE:()=>z0,B6R:()=>de,BQk:()=>qd,CHM:()=>Nl,CRH:()=>CC,CZH:()=>Uf,CqO:()=>XO,D6c:()=>C_,EJc:()=>Gf,EiD:()=>wT,EpF:()=>hA,F$t:()=>yA,F4k:()=>fA,FYo:()=>FT,FiY:()=>Fe,G48:()=>WI,Gf:()=>Jd,GfV:()=>PT,GkF:()=>wf,Gpc:()=>ce,Gre:()=>ln,Hsn:()=>zc,Ikx:()=>Gv,JOm:()=>Aa,JVY:()=>ai,KtG:()=>Ll,L6k:()=>Ld,LAX:()=>Xr,LFG:()=>Kr,LSH:()=>ib,Lbi:()=>Hf,Lck:()=>sC,MAs:()=>h1,MMx:()=>Kl,NdJ:()=>Mv,OlP:()=>Gn,Oqu:()=>qi,PXZ:()=>m_,Q6J:()=>uA,QGY:()=>bf,QP$:()=>Lg,QbO:()=>$P,Qsj:()=>OT,R0b:()=>sa,RDi:()=>mT,Rgc:()=>Fg,SBq:()=>Qp,Sil:()=>Pr,Suo:()=>bC,TTD:()=>oo,TgZ:()=>f1,Udp:()=>Nv,VKq:()=>Pf,WFA:()=>p1,X6Q:()=>QP,XFs:()=>fn,Xpm:()=>ne,Xts:()=>ob,Y36:()=>A0,YKP:()=>Rf,YNc:()=>ZO,Yjl:()=>fi,Yz7:()=>Jn,ZZ4:()=>Sx,_Bn:()=>sI,_UZ:()=>kv,_Vd:()=>Ky,_c5:()=>XI,_uU:()=>Zd,aQg:()=>qC,c2e:()=>WP,cJS:()=>Pn,cg1:()=>F1,d8E:()=>jv,dDg:()=>p_,dqk:()=>en,eBb:()=>Oi,eFA:()=>BC,ekj:()=>E1,eoX:()=>Ju,f3M:()=>$p,g9A:()=>NI,h0i:()=>Qd,hGG:()=>d2,hij:()=>T1,iGM:()=>wC,ifc:()=>rn,ip1:()=>Pe,kL8:()=>Tf,kYT:()=>_n,lG2:()=>fr,lqb:()=>Vc,lri:()=>rh,mCW:()=>De,n5z:()=>Ea,n_E:()=>cx,oAB:()=>It,oxw:()=>mA,pB0:()=>Zp,q3G:()=>Pi,q4F:()=>NT,qLn:()=>m0,qOj:()=>ug,qZA:()=>Iv,qzn:()=>Bc,rWj:()=>Ql,s9C:()=>m1,sBO:()=>JP,sIi:()=>Sv,s_b:()=>gl,soG:()=>u_,tb:()=>FC,tp0:()=>Bt,uIk:()=>u1,vHH:()=>et,vpe:()=>Zc,wAp:()=>bn,xi3:()=>gC,xp6:()=>vD,ynx:()=>H0,z2F:()=>zf,z3N:()=>Lc,zSh:()=>ST,zs3:()=>uf});var a=z(7579),te=z(727),H=z(9751),ke=z(6451),Re=z(3099);function We(l){for(let u in l)if(l[u]===We)return u;throw Error("Could not find renamed property on target object.")}function Te(l,u){for(const d in u)u.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=u[d])}function Ve(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Ve).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function Ye(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const le=We({__forward_ref__:We});function ce(l){return l.__forward_ref__=ce,l.toString=function(){return Ve(this())},l}function be(l){return Dt(l)?l():l}function Dt(l){return"function"==typeof l&&l.hasOwnProperty(le)&&l.__forward_ref__===ce}class et extends Error{constructor(u,d){super(function tn(l,u){return`NG0${Math.abs(l)}${u?": "+u.trim():""}`}(u,d)),this.code=u}}function Ke(l){return"string"==typeof l?l:null==l?"":String(l)}function ht(l,u){throw new et(-201,!1)}function jn(l,u){null==l&&function Lt(l,u,d,f){throw new Error(`ASSERTION ERROR: ${l}`+(null==f?"":` [Expected=> ${d} ${f} ${u} <=Actual]`))}(u,l,null,"!=")}function Jn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Pn(l){return{providers:l.providers||[],imports:l.imports||[]}}function fs(l){return qa(l,to)||qa(l,ri)}function qa(l,u){return l.hasOwnProperty(u)?l[u]:null}function zo(l){return l&&(l.hasOwnProperty(no)||l.hasOwnProperty($o))?l[no]:null}const to=We({\u0275prov:We}),no=We({\u0275inj:We}),ri=We({ngInjectableDef:We}),$o=We({ngInjectorDef:We});var fn=(()=>((fn=fn||{})[fn.Default=0]="Default",fn[fn.Host=1]="Host",fn[fn.Self=2]="Self",fn[fn.SkipSelf=4]="SkipSelf",fn[fn.Optional=8]="Optional",fn))();let kr;function ar(l){const u=kr;return kr=l,u}function Ii(l,u,d){const f=fs(l);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&fn.Optional?null:void 0!==u?u:void ht(Ve(l))}function ki(l){return{toString:l}.toString()}var Cr=(()=>((Cr=Cr||{})[Cr.OnPush=0]="OnPush",Cr[Cr.Default=1]="Default",Cr))(),rn=(()=>{return(l=rn||(rn={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",rn;var l})();const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ur={},Nn=[],$r=We({\u0275cmp:We}),Is=We({\u0275dir:We}),kn=We({\u0275pipe:We}),ro=We({\u0275mod:We}),Dn=We({\u0275fac:We}),ye=We({__NG_ELEMENT_ID__:We});let ae=0;function ne(l){return ki(()=>{const d=!0===l.standalone,f={},g={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||Nn,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||rn.Emulated,id:"c"+ae++,styles:l.styles||Nn,_:null,setInput:null,schemas:l.schemas||null,tView:null},_=l.dependencies,b=l.features;return g.inputs=hr(l.inputs,f),g.outputs=hr(l.outputs),b&&b.forEach(T=>T(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(fe).filter(ot):null,g.pipeDefs=_?()=>("function"==typeof _?_():_).map(oe).filter(ot):null,g})}function de(l,u,d){const f=l.\u0275cmp;f.directiveDefs=()=>("function"==typeof u?u():u).map(fe),f.pipeDefs=()=>("function"==typeof d?d():d).map(oe)}function fe(l){return _e(l)||ue(l)}function ot(l){return null!==l}function It(l){return ki(()=>({type:l.type,bootstrap:l.bootstrap||Nn,declarations:l.declarations||Nn,imports:l.imports||Nn,exports:l.exports||Nn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function _n(l,u){return ki(()=>{const d=Qe(l,!0);d.declarations=u.declarations||Nn,d.imports=u.imports||Nn,d.exports=u.exports||Nn})}function hr(l,u){if(null==l)return Ur;const d={};for(const f in l)if(l.hasOwnProperty(f)){let g=l[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),d[g]=f,u&&(u[g]=_)}return d}const fr=ne;function fi(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function _e(l){return l[$r]||null}function ue(l){return l[Is]||null}function oe(l){return l[kn]||null}function Qe(l,u){const d=l[ro]||null;if(!d&&!0===u)throw new Error(`Type ${Ve(l)} does not have '\u0275mod' property.`);return d}function Sr(l){return Array.isArray(l)&&"object"==typeof l[1]}function So(l){return Array.isArray(l)&&!0===l[1]}function Ya(l){return 0!=(8&l.flags)}function yu(l){return 2==(2&l.flags)}function va(l){return 1==(1&l.flags)}function io(l){return null!==l.template}function Vh(l){return 0!=(256&l[2])}function _c(l,u){return l.hasOwnProperty(Dn)?l[Dn]:null}class wu{constructor(u,d,f){this.previousValue=u,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function oo(){return Il}function Il(l){return l.type.prototype.ngOnChanges&&(l.setInput=Rm),yc}function yc(){const l=gd(this),u=l?.current;if(u){const d=l.previous;if(d===Ur)l.previous=u;else for(let f in u)d[f]=u[f];l.current=null,this.ngOnChanges(u)}}function Rm(l,u,d,f){const g=gd(l)||function Fm(l,u){return l[bu]=u}(l,{previous:Ur,current:null}),_=g.current||(g.current={}),b=g.previous,T=this.declaredInputs[d],I=b[T];_[T]=new wu(I&&I.currentValue,u,b===Ur),l[f]=u}oo.ngInherit=!0;const bu="__ngSimpleChanges__";function gd(l){return l[bu]||null}function mi(l){for(;Array.isArray(l);)l=l[0];return l}function Cu(l,u){return mi(u[l])}function Gs(l,u){return mi(u[l.index])}function Fl(l,u){return l.data[u]}function Ca(l,u){return l[u]}function Ji(l,u){const d=u[l];return Sr(d)?d:d[0]}function Ol(l){return 4==(4&l[2])}function qo(l){return 64==(64&l[2])}function Zo(l,u){return null==u?null:l[u]}function Qa(l){l[18]=0}function Pl(l,u){l[5]+=u;let d=l,f=l[3];for(;null!==f&&(1===u&&1===d[5]||-1===u&&0===d[5]);)f[5]+=u,d=f,f=f[3]}const wn={lFrame:Sc(null),bindingsEnabled:!0};function vc(){return wn.bindingsEnabled}function lt(){return wn.lFrame.lView}function Hn(){return wn.lFrame.tView}function Nl(l){return wn.lFrame.contextLView=l,l[8]}function Ll(l){return wn.lFrame.contextLView=null,l}function si(){let l=Bl();for(;null!==l&&64===l.type;)l=l.parent;return l}function Bl(){return wn.lFrame.currentTNode}function ks(l,u){const d=wn.lFrame;d.currentTNode=l,d.isParent=u}function Hh(){return wn.lFrame.isParent}function Vl(){wn.lFrame.isParent=!1}function ji(){const l=wn.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function Ul(){return wn.lFrame.bindingIndex++}function Ao(l){const u=wn.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,d}function yd(l,u){const d=wn.lFrame;d.bindingIndex=d.bindingRootIndex=l,Tu(u)}function Tu(l){wn.lFrame.currentDirectiveIndex=l}function Du(l){const u=wn.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function Cc(){return wn.lFrame.currentQueryIndex}function $h(l){wn.lFrame.currentQueryIndex=l}function Au(l){const u=l[1];return 2===u.type?u.declTNode:1===u.type?l[6]:null}function vd(l,u,d){if(d&fn.SkipSelf){let g=u,_=l;for(;!(g=g.parent,null!==g||d&fn.Host||(g=Au(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;u=g,l=_}const f=wn.lFrame=Rp();return f.currentTNode=u,f.lView=l,!0}function Ec(l){const u=Rp(),d=l[1];wn.lFrame=u,u.currentTNode=d.firstChild,u.lView=l,u.tView=d,u.contextLView=l,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function Rp(){const l=wn.lFrame,u=null===l?null:l.child;return null===u?Sc(l):u}function Sc(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function Fp(){const l=wn.lFrame;return wn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Tc=Fp;function xd(){const l=Fp();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function _i(){return wn.lFrame.selectedIndex}function Yo(l){wn.lFrame.selectedIndex=l}function Tr(){const l=wn.lFrame;return Fl(l.tView,l.selectedIndex)}function Zh(l,u){for(let d=u.directiveStart,f=u.directiveEnd;d<f;d++){const _=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:T,ngAfterViewInit:I,ngAfterViewChecked:F,ngOnDestroy:L}=_;b&&(l.contentHooks||(l.contentHooks=[])).push(-d,b),T&&((l.contentHooks||(l.contentHooks=[])).push(d,T),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,T)),I&&(l.viewHooks||(l.viewHooks=[])).push(-d,I),F&&((l.viewHooks||(l.viewHooks=[])).push(d,F),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,F)),null!=L&&(l.destroyHooks||(l.destroyHooks=[])).push(d,L)}}function Um(l,u,d){Hl(l,u,3,d)}function Hm(l,u,d,f){(3&l[2])===d&&Hl(l,u,d,f)}function ku(l,u){let d=l[2];(3&d)===u&&(d&=2047,d+=1,l[2]=d)}function Hl(l,u,d,f){const _=f??-1,b=u.length-1;let T=0;for(let I=void 0!==f?65535&l[18]:0;I<b;I++)if("number"==typeof u[I+1]){if(T=u[I],null!=f&&T>=f)break}else u[I]<0&&(l[18]+=65536),(T<_||-1==_)&&(Bw(l,d,u,I),l[18]=(4294901760&l[18])+I+2),I++}function Bw(l,u,d,f){const g=d[f]<0,_=d[f+1],T=l[g?-d[f]:d[f]];if(g){if(l[2]>>11<l[18]>>16&&(3&l[2])===u){l[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class Dc{constructor(u,d,f){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Mu(l,u,d){let f=0;for(;f<d.length;){const g=d[f];if("number"==typeof g){if(0!==g)break;f++;const _=d[f++],b=d[f++],T=d[f++];l.setAttribute(u,b,T,_)}else{const _=g,b=d[++f];Ru(_)?l.setProperty(u,_,b):l.setAttribute(u,_,b),f++}}return f}function Kh(l){return 3===l||4===l||6===l}function Ru(l){return 64===l.charCodeAt(0)}function kc(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let d=-1;for(let f=0;f<u.length;f++){const g=u[f];"number"==typeof g?d=g:0===d||zm(l,d,g,null,-1===d||2===d?u[++f]:null)}}return l}function zm(l,u,d,f,g){let _=0,b=l.length;if(-1===u)b=-1;else for(;_<l.length;){const T=l[_++];if("number"==typeof T){if(T===u){b=-1;break}if(T>u){b=_-1;break}}}for(;_<l.length;){const T=l[_];if("number"==typeof T)break;if(T===d){if(null===f)return void(null!==g&&(l[_+1]=g));if(f===l[_+1])return void(l[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==b&&(l.splice(b,0,u),_=b+1),l.splice(_++,0,d),null!==f&&l.splice(_++,0,f),null!==g&&l.splice(_++,0,g)}function $m(l){return-1!==l}function Fu(l){return 32767&l}function Ri(l,u){let d=function Uw(l){return l>>16}(l),f=u;for(;d>0;)f=f[15],d--;return f}let Ou=!0;function Mc(l){const u=Ou;return Ou=l,u}let $i=0;const vr={};function Xo(l,u){const d=Io(l,u);if(-1!==d)return d;const f=u[1];f.firstCreatePass&&(l.injectorIndex=u.length,Pu(f.data,l),Pu(u,null),Pu(f.blueprint,null));const g=bd(l,u),_=l.injectorIndex;if($m(g)){const b=Fu(g),T=Ri(g,u),I=T[1].data;for(let F=0;F<8;F++)u[_+F]=T[b+F]|I[b+F]}return u[_+8]=g,_}function Pu(l,u){l.push(0,0,0,0,0,0,0,0,u)}function Io(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function bd(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,f=null,g=u;for(;null!==g;){if(f=Sd(g),null===f)return-1;if(d++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function tl(l,u,d){!function Rc(l,u,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(ye)&&(f=d[ye]),null==f&&(f=d[ye]=$i++);const g=255&f;u.data[l+(g>>5)]|=1<<g}(l,u,d)}function Qo(l,u,d){if(d&fn.Optional)return l;ht()}function Lu(l,u,d,f){if(d&fn.Optional&&void 0===f&&(f=null),0==(d&(fn.Self|fn.Host))){const g=l[9],_=ar(void 0);try{return g?g.get(u,f,d&fn.Optional):Ii(u,f,d&fn.Optional)}finally{ar(_)}}return Qo(f,0,d)}function Cd(l,u,d,f=fn.Default,g){if(null!==l){if(1024&u[2]){const b=function Qt(l,u,d,f,g){let _=l,b=u;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const T=nl(_,b,d,f|fn.Self,vr);if(T!==vr)return T;let I=_.parent;if(!I){const F=b[21];if(F){const L=F.get(d,vr,f);if(L!==vr)return L}I=Sd(b),b=b[15]}_=I}return g}(l,u,d,f,vr);if(b!==vr)return b}const _=nl(l,u,d,f,vr);if(_!==vr)return _}return Lu(u,d,f,g)}function nl(l,u,d,f,g){const _=function rl(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(ye)?l[ye]:void 0;return"number"==typeof u?u>=0?255&u:yi:u}(d);if("function"==typeof _){if(!vd(u,l,f))return f&fn.Host?Qo(g,0,f):Lu(u,d,f,g);try{const b=_(f);if(null!=b||f&fn.Optional)return b;ht()}finally{Tc()}}else if("number"==typeof _){let b=null,T=Io(l,u),I=-1,F=f&fn.Host?u[16][6]:null;for((-1===T||f&fn.SkipSelf)&&(I=-1===T?bd(l,u):u[T+8],-1!==I&&hn(f,!1)?(b=u[1],T=Fu(I),u=Ri(I,u)):T=-1);-1!==T;){const L=u[1];if(il(_,T,L.data)){const q=Fc(T,u,d,b,f,F);if(q!==vr)return q}I=u[T+8],-1!==I&&hn(f,u[1].data[T+8]===F)&&il(_,T,u)?(b=L,T=Fu(I),u=Ri(I,u)):T=-1}}return g}function Fc(l,u,d,f,g,_){const b=u[1],T=b.data[l+8],L=Ed(T,b,d,null==f?yu(T)&&Ou:f!=b&&0!=(3&T.type),g&fn.Host&&_===T);return null!==L?ko(u,b,L,T):vr}function Ed(l,u,d,f,g){const _=l.providerIndexes,b=u.data,T=1048575&_,I=l.directiveStart,L=_>>20,ge=g?T+L:l.directiveEnd;for(let me=f?T:T+L;me<ge;me++){const it=b[me];if(me<I&&d===it||me>=I&&it.type===d)return me}if(g){const me=b[I];if(me&&io(me)&&me.type===d)return I}return null}function ko(l,u,d,f){let g=l[d];const _=u.data;if(function wd(l){return l instanceof Dc}(g)){const b=g;b.resolving&&function Yt(l,u){const d=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new et(-200,`Circular dependency in DI detected for ${l}${d}`)}(function je(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Ke(l)}(_[d]));const T=Mc(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?ar(b.injectImpl):null;vd(l,f,fn.Default);try{g=l[d]=b.factory(void 0,_,l,f),u.firstCreatePass&&d>=f.directiveStart&&function qh(l,u,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=u.type.prototype;if(f){const b=Il(u);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,b)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,g),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,_))}(d,_[d],u)}finally{null!==I&&ar(I),Mc(T),b.resolving=!1,Tc()}}return g}function il(l,u,d){return!!(d[u+(l>>5)]&1<<l)}function hn(l,u){return!(l&fn.Self||l&fn.Host&&u)}class oi{constructor(u,d){this._tNode=u,this._lView=d}get(u,d,f){return Cd(this._tNode,this._lView,u,f,d)}}function yi(){return new oi(si(),lt())}function Ea(l){return ki(()=>{const u=l.prototype.constructor,d=u[Dn]||er(u),f=Object.prototype;let g=Object.getPrototypeOf(l.prototype).constructor;for(;g&&g!==f;){const _=g[Dn]||er(g);if(_&&_!==d)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function er(l){return Dt(l)?()=>{const u=er(be(l));return u&&u()}:_c(l)}function Sd(l){const u=l[1],d=u.type;return 2===d?u.declTNode:1===d?l[6]:null}function Np(l){return function Nu(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const d=l.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const _=d[g];if(Kh(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(_===u)return d[g+1];g+=2}}}return null}(si(),l)}const Bu="__parameters__";function Jo(l,u,d){return ki(()=>{const f=function Vu(l){return function(...d){if(l){const f=l(...d);for(const g in f)this[g]=f[g]}}}(u);function g(..._){if(this instanceof g)return f.apply(this,_),this;const b=new g(..._);return T.annotation=b,T;function T(I,F,L){const q=I.hasOwnProperty(Bu)?I[Bu]:Object.defineProperty(I,Bu,{value:[]})[Bu];for(;q.length<=L;)q.push(null);return(q[L]=q[L]||[]).push(b),I}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=l,g.annotationCls=g,g})}class Gn{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Jn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(l,u){void 0===u&&(u=l);for(let d=0;d<l.length;d++){let f=l[d];Array.isArray(f)?(u===l&&(u=l.slice(0,d)),ys(f,u)):u!==l&&u.push(f)}return u}function Sa(l,u){l.forEach(d=>Array.isArray(d)?Sa(d,u):u(d))}function Jh(l,u,d){u>=l.length?l.push(d):l.splice(u,0,d)}function ef(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function Oc(l,u){const d=[];for(let f=0;f<l;f++)d.push(u);return d}function vs(l,u,d){let f=Uu(l,u);return f>=0?l[1|f]=d:(f=~f,function Xm(l,u,d,f){let g=l.length;if(g==u)l.push(d,f);else if(1===g)l.push(f,l[0]),l[0]=d;else{for(g--,l.push(l[g-1],l[g]);g>u;)l[g]=l[g-2],g--;l[u]=d,l[u+1]=f}}(l,f,u,d)),f}function Ad(l,u){const d=Uu(l,u);if(d>=0)return l[1|d]}function Uu(l,u){return function Hu(l,u,d){let f=0,g=l.length>>d;for(;g!==f;){const _=f+(g-f>>1),b=l[_<<d];if(u===b)return _<<d;b>u?g=_:f=_+1}return~(g<<d)}(l,u,1)}const Md={},Mo="__NG_DI_FLAG__",Rd="ngTempTokenPath",zp=/\n/gm,nf="__source";let ea;function Pc(l){const u=ea;return ea=l,u}function Vy(l,u=fn.Default){if(void 0===ea)throw new et(-203,!1);return null===ea?Ii(l,void 0,u):ea.get(l,u&fn.Optional?null:void 0,u)}function Kr(l,u=fn.Default){return(function gs(){return kr}()||Vy)(be(l),u)}function $p(l,u=fn.Default){return"number"!=typeof u&&(u=0|(u.optional&&8)|(u.host&&1)|(u.self&&2)|(u.skipSelf&&4)),Kr(l,u)}function Fd(l){const u=[];for(let d=0;d<l.length;d++){const f=be(l[d]);if(Array.isArray(f)){if(0===f.length)throw new et(900,!1);let g,_=fn.Default;for(let b=0;b<f.length;b++){const T=f[b],I=R(T);"number"==typeof I?-1===I?g=T.token:_|=I:g=T}u.push(Kr(g,_))}else u.push(Kr(f))}return u}function k(l,u){return l[Mo]=u,l.prototype[Mo]=u,l}function R(l){return l[Mo]}const Fe=k(Jo("Optional"),8),Bt=k(Jo("SkipSelf"),4);let Uy,o0;function mT(l){Uy=l}function af(l){return function qp(){if(void 0===o0&&(o0=null,en.trustedTypes))try{o0=en.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return o0}()?.createHTML(l)||l}class Nd{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hy extends Nd{getTypeName(){return"HTML"}}class vT extends Nd{getTypeName(){return"Style"}}class Gy extends Nd{getTypeName(){return"Script"}}class xT extends Nd{getTypeName(){return"URL"}}class Jw extends Nd{getTypeName(){return"ResourceURL"}}function Lc(l){return l instanceof Nd?l.changingThisBreaksApplicationSecurity:l}function Bc(l,u){const d=function ju(l){return l instanceof Nd&&l.getTypeName()||null}(l);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===u}function ai(l){return new Hy(l)}function Ld(l){return new vT(l)}function Oi(l){return new Gy(l)}function Xr(l){return new xT(l)}function Zp(l){return new Jw(l)}class C{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const d=(new window.DOMParser).parseFromString(af(u),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(u):(d.removeChild(d.firstChild),d)}catch{return null}}}class y{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(u){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=af(u),d;const f=this.inertDocument.createElement("body");return f.innerHTML=af(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(u){const d=u.attributes;for(let g=d.length-1;0<g;g--){const b=d.item(g).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&u.removeAttribute(b)}let f=u.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const A=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,j=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function De(l){return(l=String(l)).match(A)||l.match(j)?l:"unsafe:"+l}function Ht(l){const u={};for(const d of l.split(","))u[d]=!0;return u}function kt(...l){const u={};for(const d of l)for(const f in d)d.hasOwnProperty(f)&&(u[f]=!0);return u}const Jt=Ht("area,br,col,hr,img,wbr"),Dr=Ht("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Da=Ht("rp,rt"),Yp=kt(Jt,kt(Dr,Ht("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kt(Da,Ht("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kt(Da,Dr)),vi=Ht("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lf=Ht("srcset"),cf=kt(vi,lf,Ht("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ht("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),c0=Ht("script,style,template");class $y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let d=u.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(u){const d=u.nodeName.toLowerCase();if(!Yp.hasOwnProperty(d))return this.sanitizedSomething=!0,!c0.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=u.attributes;for(let g=0;g<f.length;g++){const _=f.item(g),b=_.name,T=b.toLowerCase();if(!cf.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let I=_.value;vi[T]&&(I=De(I)),lf[T]&&(l=I,I=(l=String(l)).split(",").map(u=>De(u.trim())).join(", ")),this.buf.push(" ",b,'="',d0(I),'"')}var l;return this.buf.push(">"),!0}endElement(u){const d=u.nodeName.toLowerCase();Yp.hasOwnProperty(d)&&!Jt.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(u){this.buf.push(d0(u))}checkClobberedElement(u,d){if(d&&(u.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return d}}const eb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u0=/([^\#-~ |!])/g;function d0(l){return l.replace(/&/g,"&amp;").replace(eb,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(u0,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wy;function wT(l,u){let d=null;try{Wy=Wy||function Wr(l){const u=new y(l);return function x(){try{return!!(new window.DOMParser).parseFromString(af(""),"text/html")}catch{return!1}}()?new C(u):u}(l);let f=u?String(u):"";d=Wy.getInertBodyElement(f);let g=5,_=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=_,_=d.innerHTML,d=Wy.getInertBodyElement(f)}while(f!==_);return af((new $y).sanitizeChildren(tb(d)||d))}finally{if(d){const f=tb(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function tb(l){return"content"in l&&function nb(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Pi=(()=>((Pi=Pi||{})[Pi.NONE=0]="NONE",Pi[Pi.HTML=1]="HTML",Pi[Pi.STYLE=2]="STYLE",Pi[Pi.SCRIPT=3]="SCRIPT",Pi[Pi.URL=4]="URL",Pi[Pi.RESOURCE_URL=5]="RESOURCE_URL",Pi))();function ib(l){const u=function p0(){const l=lt();return l&&l[12]}();return u?u.sanitize(Pi.URL,l)||"":Bc(l,"URL")?Lc(l):De(Ke(l))}const ob=new Gn("ENVIRONMENT_INITIALIZER"),bT=new Gn("INJECTOR",-1),Zy=new Gn("INJECTOR_DEF_TYPES");class ab{get(u,d=Md){if(d===Md){const f=new Error(`NullInjectorError: No provider for ${Ve(u)}!`);throw f.name="NullInjectorError",f}return d}}function TF(...l){return{\u0275providers:lb(0,l)}}function lb(l,...u){const d=[],f=new Set;let g;return Sa(u,_=>{const b=_;CT(b,d,[],f)&&(g||(g=[]),g.push(b))}),void 0!==g&&DF(g,d),d}function DF(l,u){for(let d=0;d<l.length;d++){const{providers:g}=l[d];Sa(g,_=>{u.push(_)})}}function CT(l,u,d,f){if(!(l=be(l)))return!1;let g=null,_=zo(l);const b=!_&&_e(l);if(_||b){if(b&&!b.standalone)return!1;g=l}else{const I=l.ngModule;if(_=zo(I),!_)return!1;g=I}const T=f.has(g);if(b){if(T)return!1;if(f.add(g),b.dependencies){const I="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const F of I)CT(F,u,d,f)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let F;f.add(g);try{Sa(_.imports,L=>{CT(L,u,d,f)&&(F||(F=[]),F.push(L))})}finally{}void 0!==F&&DF(F,u)}if(!T){const F=_c(g)||(()=>new g);u.push({provide:g,useFactory:F,deps:Nn},{provide:Zy,useValue:g,multi:!0},{provide:ob,useValue:()=>Kr(g),multi:!0})}const I=_.providers;null==I||T||Sa(I,L=>{u.push(L)})}}return g!==l&&void 0!==l.providers}const ZV=We({provide:String,useValue:We});function cb(l){return null!==l&&"object"==typeof l&&ZV in l}function Kp(l){return"function"==typeof l}const ST=new Gn("Set Injector scope."),Yy={},kF={};let TT;function ub(){return void 0===TT&&(TT=new ab),TT}class Vc{}class DT extends Vc{constructor(u,d,f,g){super(),this.parent=d,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hb(u,b=>this.processProvider(b)),this.records.set(bT,Xp(void 0,this)),g.has("environment")&&this.records.set(Vc,Xp(void 0,this));const _=this.records.get(ST);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Zy.multi,Nn,fn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const d=Pc(this),f=ar(void 0);try{return u()}finally{Pc(d),ar(f)}}get(u,d=Md,f=fn.Default){this.assertNotDestroyed();const g=Pc(this),_=ar(void 0);try{if(!(f&fn.SkipSelf)){let T=this.records.get(u);if(void 0===T){const I=function kT(l){return"function"==typeof l||"object"==typeof l&&l instanceof Gn}(u)&&fs(u);T=I&&this.injectableDefInScope(I)?Xp(db(u),Yy):null,this.records.set(u,T)}if(null!=T)return this.hydrate(u,T)}return(f&fn.Self?ub():this.parent).get(u,d=f&fn.Optional&&d===Md?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[Rd]=b[Rd]||[]).unshift(Ve(u)),g)throw b;return function N(l,u,d,f){const g=l[Rd];throw u[nf]&&g.unshift(u[nf]),l.message=function Q(l,u,d,f=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let g=Ve(u);if(Array.isArray(u))g=u.map(Ve).join(" -> ");else if("object"==typeof u){let _=[];for(let b in u)if(u.hasOwnProperty(b)){let T=u[b];_.push(b+":"+("string"==typeof T?JSON.stringify(T):Ve(T)))}g=`{${_.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${l.replace(zp,"\n  ")}`}("\n"+l.message,g,d,f),l.ngTokenPath=g,l[Rd]=null,l}(b,u,"R3InjectorError",this.source)}throw b}finally{ar(_),Pc(g)}}resolveInjectorInitializers(){const u=Pc(this),d=ar(void 0);try{const f=this.get(ob.multi,Nn,fn.Self);for(const g of f)g()}finally{Pc(u),ar(d)}}toString(){const u=[],d=this.records;for(const f of d.keys())u.push(Ve(f));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(u){let d=Kp(u=be(u))?u:be(u&&u.provide);const f=function RF(l){return cb(l)?Xp(void 0,l.useValue):Xp(AT(l),Yy)}(u);if(Kp(u)||!0!==u.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Xp(void 0,Yy,!0),g.factory=()=>Fd(g.multi),this.records.set(d,g)),d=u,g.multi.push(u)}this.records.set(d,f)}hydrate(u,d){return d.value===Yy&&(d.value=kF,d.value=d.factory()),"object"==typeof d.value&&d.value&&function IT(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(u){if(!u.providedIn)return!1;const d=be(u.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function db(l){const u=fs(l),d=null!==u?u.factory:_c(l);if(null!==d)return d;if(l instanceof Gn)throw new et(204,!1);if(l instanceof Function)return function MF(l){const u=l.length;if(u>0)throw Oc(u,"?"),new et(204,!1);const d=function ps(l){const u=l&&(l[to]||l[ri]);if(u){const d=function Vr(l){if(l.hasOwnProperty("name"))return l.name;const u=(""+l).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),u}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new et(204,!1)}function AT(l,u,d){let f;if(Kp(l)){const g=be(l);return _c(g)||db(g)}if(cb(l))f=()=>be(l.useValue);else if(function ET(l){return!(!l||!l.useFactory)}(l))f=()=>l.useFactory(...Fd(l.deps||[]));else if(function IF(l){return!(!l||!l.useExisting)}(l))f=()=>Kr(be(l.useExisting));else{const g=be(l&&(l.useClass||l.provide));if(!function FF(l){return!!l.deps}(l))return _c(g)||db(g);f=()=>new g(...Fd(l.deps))}return f}function Xp(l,u,d=!1){return{factory:l,value:u,multi:d?[]:void 0}}function OF(l){return!!l.\u0275providers}function hb(l,u){for(const d of l)Array.isArray(d)?hb(d,u):OF(d)?hb(d.\u0275providers,u):u(d)}class MT{}class KV{resolveComponentFactory(u){throw function fb(l){const u=Error(`No component factory found for ${Ve(l)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=l,u}(u)}}let Ky=(()=>{class l{}return l.NULL=new KV,l})();function XV(){return g0(si(),lt())}function g0(l,u){return new Qp(Gs(l,u))}let Qp=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=XV,l})();function RT(l){return l instanceof Qp?l.nativeElement:l}class FT{}let OT=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Jp(){const l=lt(),d=Ji(si().index,l);return(Sr(d)?d:l)[11]}(),l})(),LF=(()=>{class l{}return l.\u0275prov=Jn({token:l,providedIn:"root",factory:()=>null}),l})();class PT{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const NT=new PT("14.1.3"),pb={};function yb(l){return l.ngOriginalError}class m0{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u);this._console.error("ERROR",u),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(u){let d=u&&yb(u);for(;d&&yb(d);)d=yb(d);return d||null}}const vb=new Map;let xb=0;const wb="__ngContext__";function co(l,u){Sr(u)?(l[wb]=u[20],function qT(l){vb.set(l[20],l)}(u)):l[wb]=u}function Jy(l){const u=l[wb];return"number"==typeof u?function ZT(l){return vb.get(l)||null}(u):u||null}function bb(l){const u=Jy(l);return u?Sr(u)?u:u.lView:null}const nU=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(en))();function Bd(l){return l instanceof Function?l():l}var Aa=(()=>((Aa=Aa||{})[Aa.Important=1]="Important",Aa[Aa.DashCase=2]="DashCase",Aa))();function tD(l,u){return undefined(l,u)}function ev(l){const u=l[3];return So(u)?u[3]:u}function nD(l){return tv(l[13])}function rg(l){return tv(l[4])}function tv(l){for(;null!==l&&!So(l);)l=l[4];return l}function v0(l,u,d,f,g){if(null!=f){let _,b=!1;So(f)?_=f:Sr(f)&&(b=!0,f=f[0]);const T=mi(f);0===l&&null!==d?null==g?Eb(u,d,T):zs(u,d,T,g||null,!0):1===l&&null!==d?zs(u,d,T,g||null,!0):2===l?function iO(l,u,d){const f=iv(l,u);f&&function rO(l,u,d,f){l.removeChild(u,d,f)}(l,f,u,d)}(u,T,b):3===l&&u.destroyNode(T),null!=_&&function S0(l,u,d,f,g){const _=d[7];_!==mi(d)&&v0(u,l,f,_,g);for(let T=10;T<d.length;T++){const I=d[T];C0(I[1],I,l,u,f,_)}}(u,l,_,d,g)}}function iD(l,u,d){return l.createElement(u,d)}function sD(l,u){const d=l[9],f=d.indexOf(u),g=u[3];512&u[2]&&(u[2]&=-513,Pl(g,-1)),d.splice(f,1)}function oD(l,u){if(l.length<=10)return;const d=10+u,f=l[d];if(f){const g=f[17];null!==g&&g!==l&&sD(g,f),u>0&&(l[d-1][4]=f[4]);const _=ef(l,10+u);!function Cb(l,u){C0(l,u,u[11],2,null,null),u[0]=null,u[6]=null}(f[1],f);const b=_[19];null!==b&&b.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function tO(l,u){if(!(128&u[2])){const d=u[11];d.destroyNode&&C0(l,u,d,3,null,null),function eO(l){let u=l[13];if(!u)return aD(l[1],l);for(;u;){let d=null;if(Sr(u))d=u[13];else{const f=u[10];f&&(d=f)}if(!d){for(;u&&!u[4]&&u!==l;)Sr(u)&&aD(u[1],u),u=u[3];null===u&&(u=l),Sr(u)&&aD(u[1],u),d=u&&u[4]}u=d}}(u)}}function aD(l,u){if(!(128&u[2])){u[2]&=-65,u[2]|=128,function gU(l,u){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let f=0;f<d.length;f+=2){const g=u[d[f]];if(!(g instanceof Dc)){const _=d[f+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const T=g[_[b]],I=_[b+1];try{I.call(T)}finally{}}else try{_.call(g)}finally{}}}}(l,u),function w0(l,u){const d=l.cleanup,f=u[7];let g=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+1],T="function"==typeof b?b(u):mi(u[b]),I=f[g=d[_+2]],F=d[_+3];"boolean"==typeof F?T.removeEventListener(d[_],I,F):F>=0?f[g=F]():f[g=-F].unsubscribe(),_+=2}else{const b=f[g=d[_+1]];d[_].call(b)}if(null!==f){for(let _=g+1;_<f.length;_++)(0,f[_])();u[7]=null}}(l,u),1===u[1].type&&u[11].destroy();const d=u[17];if(null!==d&&So(u[3])){d!==u[3]&&sD(d,u);const f=u[19];null!==f&&f.detachView(l)}!function tU(l){vb.delete(l[20])}(u)}}function ig(l,u,d){return function nO(l,u,d){let f=u;for(;null!==f&&40&f.type;)f=(u=f).parent;if(null===f)return d[0];if(2&f.flags){const g=l.data[f.directiveStart].encapsulation;if(g===rn.None||g===rn.Emulated)return null}return Gs(f,d)}(l,u.parent,d)}function zs(l,u,d,f,g){l.insertBefore(u,d,f,g)}function Eb(l,u,d){l.appendChild(u,d)}function Sb(l,u,d,f,g){null!==f?zs(l,u,d,f,g):Eb(l,u,d)}function iv(l,u){return l.parentNode(u)}function sv(l,u,d){return cD(l,u,d)}let cD=function Tb(l,u,d){return 40&l.type?Gs(l,d):null};function Ab(l,u,d,f){const g=ig(l,f,u),_=u[11],T=sv(f.parent||u[6],f,u);if(null!=g)if(Array.isArray(d))for(let I=0;I<d.length;I++)Sb(_,g,d[I],T,!1);else Sb(_,g,d,T,!1)}function Ib(l,u){if(null!==u){const d=u.type;if(3&d)return Gs(u,l);if(4&d)return dD(-1,l[u.index]);if(8&d){const f=u.child;if(null!==f)return Ib(l,f);{const g=l[u.index];return So(g)?dD(-1,g):mi(g)}}if(32&d)return tD(u,l)()||mi(l[u.index]);{const f=uD(l,u);return null!==f?Array.isArray(f)?f[0]:Ib(ev(l[16]),f):Ib(l,u.next)}}return null}function uD(l,u){return null!==u?l[16][6].projection[u.projection]:null}function dD(l,u){const d=10+l+1;if(d<u.length){const f=u[d],g=f[1].firstChild;if(null!==g)return Ib(f,g)}return u[7]}function ov(l,u,d,f,g,_,b){for(;null!=d;){const T=f[d.index],I=d.type;if(b&&0===u&&(T&&co(mi(T),f),d.flags|=4),64!=(64&d.flags))if(8&I)ov(l,u,d.child,f,g,_,!1),v0(u,l,g,T,_);else if(32&I){const F=tD(d,f);let L;for(;L=F();)v0(u,l,g,L,_);v0(u,l,g,T,_)}else 16&I?E0(l,u,f,d,g,_):v0(u,l,g,T,_);d=b?d.projectionNext:d.next}}function C0(l,u,d,f,g,_){ov(d,f,l.firstChild,u,g,_,!1)}function E0(l,u,d,f,g,_){const b=d[16],I=b[6].projection[f.projection];if(Array.isArray(I))for(let F=0;F<I.length;F++)v0(u,l,g,I[F],_);else ov(l,u,I,b[3],g,_,!0)}function fD(l,u,d){l.setAttribute(u,"style",d)}function kb(l,u,d){""===d?l.removeAttribute(u,"class"):l.setAttribute(u,"class",d)}function Vd(l,u,d){let f=l.length;for(;;){const g=l.indexOf(u,d);if(-1===g)return g;if(0===g||l.charCodeAt(g-1)<=32){const _=u.length;if(g+_===f||l.charCodeAt(g+_)<=32)return g}d=g+1}}const Mb="ng-template";function mU(l,u,d){let f=0;for(;f<l.length;){let g=l[f++];if(d&&"class"===g){if(g=l[f],-1!==Vd(g.toLowerCase(),u,0))return!0}else if(1===g){for(;f<l.length&&"string"==typeof(g=l[f++]);)if(g.toLowerCase()===u)return!0;return!1}}return!1}function aO(l){return 4===l.type&&l.value!==Mb}function pD(l,u,d){return u===(4!==l.type||d?l.value:Mb)}function lO(l,u,d){let f=4;const g=l.attrs||[],_=function gD(l){for(let u=0;u<l.length;u++)if(Kh(l[u]))return u;return l.length}(g);let b=!1;for(let T=0;T<u.length;T++){const I=u[T];if("number"!=typeof I){if(!b)if(4&f){if(f=2|1&f,""!==I&&!pD(l,I,d)||""===I&&1===u.length){if(zl(f))return!1;b=!0}}else{const F=8&f?I:u[++T];if(8&f&&null!==l.attrs){if(!mU(l.attrs,F,d)){if(zl(f))return!1;b=!0}continue}const q=cO(8&f?"class":I,g,aO(l),d);if(-1===q){if(zl(f))return!1;b=!0;continue}if(""!==F){let ge;ge=q>_?"":g[q+1].toLowerCase();const me=8&f?ge:null;if(me&&-1!==Vd(me,F,0)||2&f&&F!==ge){if(zl(f))return!1;b=!0}}}}else{if(!b&&!zl(f)&&!zl(I))return!1;if(b&&zl(I))continue;b=!1,f=I|1&f}}return zl(f)||b}function zl(l){return 0==(1&l)}function cO(l,u,d,f){if(null===u)return-1;let g=0;if(f||!d){let _=!1;for(;g<u.length;){const b=u[g];if(b===l)return g;if(3===b||6===b)_=!0;else{if(1===b||2===b){let T=u[++g];for(;"string"==typeof T;)T=u[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=_?1:2}return-1}return function mD(l,u){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const f=l[d];if("number"==typeof f)return-1;if(f===u)return d;d++}return-1}(u,l)}function ul(l,u,d=!1){for(let f=0;f<u.length;f++)if(lO(l,u[f],d))return!0;return!1}function _D(l,u){e:for(let d=0;d<u.length;d++){const f=u[d];if(l.length===f.length){for(let g=0;g<l.length;g++)if(l[g]!==f[g])continue e;return!0}}return!1}function yD(l,u){return l?":not("+u.trim()+")":u}function dO(l){let u=l[0],d=1,f=2,g="",_=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&f){const T=l[++d];g+="["+b+(T.length>0?'="'+T+'"':"")+"]"}else 8&f?g+="."+b:4&f&&(g+=" "+b);else""!==g&&!zl(b)&&(u+=yD(_,g),g=""),f=b,_=_||!zl(f);d++}return""!==g&&(u+=yD(_,g)),u}const In={};function vD(l){D0(Hn(),lt(),_i()+l,!1)}function D0(l,u,d,f){if(!f)if(3==(3&u[2])){const _=l.preOrderCheckHooks;null!==_&&Um(u,_,d)}else{const _=l.preOrderHooks;null!==_&&Hm(u,_,0,d)}Yo(d)}function Ob(l,u=null,d=null,f){const g=av(l,u,d,f);return g.resolveInjectorInitializers(),g}function av(l,u=null,d=null,f,g=new Set){const _=[d||Nn,TF(l)];return f=f||("object"==typeof l?void 0:Ve(l)),new DT(_,u||ub(),f||null,g)}let uf=(()=>{class l{static create(d,f){if(Array.isArray(d))return Ob({name:""},f,d,"");{const g=d.name??"";return Ob({name:g},d.parent,d.providers,g)}}}return l.THROW_IF_NOT_FOUND=Md,l.NULL=new ab,l.\u0275prov=Jn({token:l,providedIn:"any",factory:()=>Kr(bT)}),l.__NG_ELEMENT_ID__=-1,l})();function A0(l,u=fn.Default){const d=lt();return null===d?Kr(l,u):Cd(si(),d,be(l),u)}function cv(){throw new Error("invalid")}function Bb(l,u){return l<<17|u<<2}function Fo(l){return l>>17&32767}function uv(l){return 2|l}function zu(l){return(131068&l)>>2}function I0(l,u){return-131069&l|u<<2}function dv(l){return 1|l}function LD(l,u){const d=l.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const g=d[f],_=d[f+1];if(-1!==_){const b=l.data[_];$h(g),b.contentQueries(2,u[_],_)}}}function R0(l,u,d,f,g,_,b,T,I,F,L){const q=u.blueprint.slice();return q[0]=g,q[2]=76|f,(null!==L||l&&1024&l[2])&&(q[2]|=1024),Qa(q),q[3]=q[15]=l,q[8]=d,q[10]=b||l&&l[10],q[11]=T||l&&l[11],q[12]=I||l&&l[12]||null,q[9]=F||l&&l[9]||null,q[6]=_,q[20]=function Qy(){return xb++}(),q[21]=L,q[16]=2==u.type?l[16]:q,q}function jd(l,u,d,f,g){let _=l.data[u];if(null===_)_=function $b(l,u,d,f,g){const _=Bl(),b=Hh(),I=l.data[u]=function GD(l,u,d,f,g,_){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,u,f,g);return null===l.firstChild&&(l.firstChild=I),null!==_&&(b?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I)),I}(l,u,d,f,g),function Pm(){return wn.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=f,_.attrs=g;const b=function wc(){const l=wn.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return ks(_,!0),_}function pf(l,u,d,f){if(0===d)return-1;const g=u.length;for(let _=0;_<d;_++)u.push(f),l.blueprint.push(f),l.data.push(null);return g}function Wb(l,u,d){Ec(u);try{const f=l.viewQuery;null!==f&&bv(1,f,d);const g=l.template;null!==g&&BD(l,u,g,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&LD(l,u),l.staticViewQueries&&bv(2,l.viewQuery,d);const _=l.components;null!==_&&function Gd(l,u){for(let d=0;d<u.length;d++)XD(l,u[d])}(u,_)}catch(f){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),f}finally{u[2]&=-5,xd()}}function F0(l,u,d,f){const g=u[2];if(128!=(128&g)){Ec(u);try{Qa(u),function Gh(l){return wn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&BD(l,u,d,2,f);const b=3==(3&g);if(b){const F=l.preOrderCheckHooks;null!==F&&Um(u,F,null)}else{const F=l.preOrderHooks;null!==F&&Hm(u,F,0,null),ku(u,0)}if(function KD(l){for(let u=nD(l);null!==u;u=rg(u)){if(!u[2])continue;const d=u[9];for(let f=0;f<d.length;f++){const g=d[f],_=g[3];0==(512&g[2])&&Pl(_,1),g[2]|=512}}}(u),function YD(l){for(let u=nD(l);null!==u;u=rg(u))for(let d=10;d<u.length;d++){const f=u[d],g=f[1];qo(f)&&F0(g,f,g.template,f[8])}}(u),null!==l.contentQueries&&LD(l,u),b){const F=l.contentCheckHooks;null!==F&&Um(u,F)}else{const F=l.contentHooks;null!==F&&Hm(u,F,1),ku(u,1)}!function gv(l,u){const d=l.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)Yo(~g);else{const _=g,b=d[++f],T=d[++f];yd(b,_),T(2,u[_])}}}finally{Yo(-1)}}(l,u);const T=l.components;null!==T&&function kO(l,u){for(let d=0;d<u.length;d++)LO(l,u[d])}(u,T);const I=l.viewQuery;if(null!==I&&bv(2,I,f),b){const F=l.viewCheckHooks;null!==F&&Um(u,F)}else{const F=l.viewHooks;null!==F&&Hm(u,F,2),ku(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[2]&=-41,512&u[2]&&(u[2]&=-513,Pl(u[3],-1))}finally{xd()}}}function MO(l,u,d,f){const g=u[10],b=Ol(u);try{!b&&g.begin&&g.begin(),b&&Wb(l,u,f),F0(l,u,d,f)}finally{!b&&g.end&&g.end()}}function BD(l,u,d,f,g){const _=_i(),b=2&f;try{Yo(-1),b&&u.length>22&&D0(l,u,22,!1),d(f,g)}finally{Yo(_)}}function VD(l,u,d){if(Ya(u)){const g=u.directiveEnd;for(let _=u.directiveStart;_<g;_++){const b=l.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function $l(l,u,d){!vc()||(function zD(l,u,d,f){const g=d.directiveStart,_=d.directiveEnd;l.firstCreatePass||Xo(d,u),co(f,u);const b=d.initialInputs;for(let T=g;T<_;T++){const I=l.data[T],F=io(I);F&&qD(u,d,I);const L=ko(u,l,T,d);co(L,u),null!==b&&ZD(0,T-g,L,I,0,b),F&&(Ji(d.index,u)[8]=L)}}(l,u,d,Gs(d,u)),128==(128&d.flags)&&function $s(l,u,d){const f=d.directiveStart,g=d.directiveEnd,_=d.index,b=function zh(){return wn.lFrame.currentDirectiveIndex}();try{Yo(_);for(let T=f;T<g;T++){const I=l.data[T],F=u[T];Tu(T),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&qu(I,F)}}finally{Yo(-1),Tu(b)}}(l,u,d))}function qb(l,u,d=Gs){const f=u.localNames;if(null!==f){let g=u.index+1;for(let _=0;_<f.length;_+=2){const b=f[_+1],T=-1===b?d(u,l):l[b];l[g++]=T}}}function Zb(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=mv(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function mv(l,u,d,f,g,_,b,T,I,F){const L=22+f,q=L+g,ge=function LU(l,u){const d=[];for(let f=0;f<u;f++)d.push(f<l?null:In);return d}(L,q),me="function"==typeof F?F():F;return ge[1]={type:l,blueprint:ge,template:d,queries:null,viewQuery:T,declTNode:u,data:ge.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:me,incompleteFirstPass:!1}}function HD(l,u,d,f){const g=Zl(u);null===d?g.push(f):(g.push(d),l.firstCreatePass&&r1(l).push(f,g.length-1))}function Yb(l,u,d){for(let f in l)if(l.hasOwnProperty(f)){const g=l[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(u,g):d[f]=[u,g]}return d}function zd(l,u){const f=u.directiveEnd,g=l.data,_=u.attrs,b=[];let T=null,I=null;for(let F=u.directiveStart;F<f;F++){const L=g[F],q=L.inputs,ge=null===_||aO(u)?null:yv(q,_);b.push(ge),T=Yb(q,F,T),I=Yb(L.outputs,F,I)}null!==T&&(T.hasOwnProperty("class")&&(u.flags|=16),T.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=b,u.inputs=T,u.outputs=I}function Ia(l,u,d,f,g,_,b,T){const I=Gs(u,d);let L,F=u.inputs;!T&&null!=F&&(L=F[f])?(Gc(l,d,L,f,g),yu(u)&&Kb(d,u.index)):3&u.type&&(f=function Wl(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(f),g=null!=b?b(g,u.value||"",f):g,_.setProperty(I,f,g))}function Kb(l,u){const d=Ji(u,l);16&d[2]||(d[2]|=32)}function dl(l,u,d,f){let g=!1;if(vc()){const _=function PO(l,u,d){const f=l.directiveRegistry;let g=null;if(f)for(let _=0;_<f.length;_++){const b=f[_];ul(d,b.selectors,!1)&&(g||(g=[]),tl(Xo(d,u),l,b.type),io(b)?(Ws(l,d),g.unshift(b)):g.push(b))}return g}(l,u,d),b=null===f?null:{"":-1};if(null!==_){g=!0,Xb(d,l.data.length,_.length);for(let L=0;L<_.length;L++){const q=_[L];q.providersResolver&&q.providersResolver(q)}let T=!1,I=!1,F=pf(l,u,_.length,null);for(let L=0;L<_.length;L++){const q=_[L];d.mergedAttrs=kc(d.mergedAttrs,q.hostAttrs),Qb(l,d,u,F,q),WD(F,q,b),null!==q.contentQueries&&(d.flags|=8),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(d.flags|=128);const ge=q.type.prototype;!T&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),T=!0),!I&&(ge.ngOnChanges||ge.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),I=!0),F++}zd(l,d)}b&&function $D(l,u,d){if(u){const f=l.localNames=[];for(let g=0;g<u.length;g+=2){const _=d[u[g+1]];if(null==_)throw new et(-301,!1);f.push(u[g],_)}}}(d,f,b)}return d.mergedAttrs=kc(d.mergedAttrs,d.attrs),g}function jD(l,u,d,f,g,_){const b=_.hostBindings;if(b){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const I=~u.index;(function $d(l){let u=l.length;for(;u>0;){const d=l[--u];if("number"==typeof d&&d<0)return d}return 0})(T)!=I&&T.push(I),T.push(f,g,b)}}function qu(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function Ws(l,u){u.flags|=2,(l.components||(l.components=[])).push(u.index)}function WD(l,u,d){if(d){if(u.exportAs)for(let f=0;f<u.exportAs.length;f++)d[u.exportAs[f]]=l;io(u)&&(d[""]=l)}}function Xb(l,u,d){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+d,l.providerIndexes=u}function Qb(l,u,d,f,g){l.data[f]=g;const _=g.factory||(g.factory=_c(g.type)),b=new Dc(_,io(g),A0);l.blueprint[f]=b,d[f]=b,jD(l,u,0,f,pf(l,d,g.hostVars,In),g)}function qD(l,u,d){const f=Gs(u,l),g=Zb(d),_=l[10],b=O0(l,R0(l,g,null,d.onPush?32:16,f,u,_,_.createRenderer(f,d),null,null,null));l[u.index]=b}function ql(l,u,d,f,g,_){const b=Gs(l,u);!function _v(l,u,d,f,g,_,b){if(null==_)l.removeAttribute(u,g,d);else{const T=null==b?Ke(_):b(_,f||"",g);l.setAttribute(u,g,T,d)}}(u[11],b,_,l.value,d,f,g)}function ZD(l,u,d,f,g,_){const b=_[u];if(null!==b){const T=f.setInput;for(let I=0;I<b.length;){const F=b[I++],L=b[I++],q=b[I++];null!==T?f.setInput(d,q,F,L):d[L]=q}}}function yv(l,u){let d=null,f=0;for(;f<u.length;){const g=u[f];if(0!==g)if(5!==g){if("number"==typeof g)break;l.hasOwnProperty(g)&&(null===d&&(d=[]),d.push(g,l[g],u[f+1])),f+=2}else f+=2;else f+=4}return d}function Jb(l,u,d,f){return new Array(l,!0,!1,u,null,0,f,d,null,null)}function LO(l,u){const d=Ji(u,l);if(qo(d)){const f=d[1];48&d[2]?F0(f,d,f.template,d[8]):d[5]>0&&vv(d)}}function vv(l){for(let f=nD(l);null!==f;f=rg(f))for(let g=10;g<f.length;g++){const _=f[g];if(qo(_))if(512&_[2]){const b=_[1];F0(b,_,b.template,_[8])}else _[5]>0&&vv(_)}const d=l[1].components;if(null!==d)for(let f=0;f<d.length;f++){const g=Ji(d[f],l);qo(g)&&g[5]>0&&vv(g)}}function XD(l,u){const d=Ji(u,l),f=d[1];(function e1(l,u){for(let d=u.length;d<l.blueprint.length;d++)u.push(l.blueprint[d])})(f,d),Wb(f,d,d[8])}function O0(l,u){return l[13]?l[14][4]=u:l[13]=u,l[14]=u,u}function P0(l){for(;l;){l[2]|=32;const u=ev(l);if(Vh(l)&&!u)return l;l=u}return null}function wv(l){!function t1(l){for(let u=0;u<l.components.length;u++){const d=l.components[u],f=bb(d);if(null!==f){const g=f[1];MO(g,f,g.template,d)}}}(l[8])}function bv(l,u,d){$h(0),u(l,d)}const Oo=(()=>Promise.resolve(null))();function Zl(l){return l[7]||(l[7]=[])}function r1(l){return l.cleanup||(l.cleanup=[])}function UO(l,u,d){return(null===l||io(l))&&(d=function md(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[u.index])),d[11]}function HO(l,u){const d=l[9],f=d?d.get(m0,null):null;f&&f.handleError(u)}function Gc(l,u,d,f,g){for(let _=0;_<d.length;){const b=d[_++],T=d[_++],I=u[b],F=l.data[b];null!==F.setInput?F.setInput(I,g,f,T):I[T]=g}}function ka(l,u,d){const f=Cu(u,l);!function JF(l,u,d){l.setValue(u,d)}(l[11],f,d)}function lg(l,u,d){let f=d?l.styles:null,g=d?l.classes:null,_=0;if(null!==u)for(let b=0;b<u.length;b++){const T=u[b];"number"==typeof T?_=T:1==_?g=Ye(g,T):2==_&&(f=Ye(f,T+": "+u[++b]+";"))}d?l.styles=f:l.stylesWithoutHost=f,d?l.classes=g:l.classesWithoutHost=g}function gf(l,u,d,f,g=!1){for(;null!==d;){const _=u[d.index];if(null!==_&&f.push(mi(_)),So(_))for(let T=10;T<_.length;T++){const I=_[T],F=I[1].firstChild;null!==F&&gf(I[1],I,F,f)}const b=d.type;if(8&b)gf(l,u,d.child,f);else if(32&b){const T=tD(d,u);let I;for(;I=T();)f.push(I)}else if(16&b){const T=uD(u,d);if(Array.isArray(T))f.push(...T);else{const I=ev(u[16]);gf(I[1],I,T,f,!0)}}d=g?d.projectionNext:d.next}return f}class N0{constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,d=u[1];return gf(d,u,d.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(So(u)){const d=u[8],f=d?d.indexOf(this):-1;f>-1&&(oD(u,f),ef(d,f))}this._attachedToViewContainer=!1}tO(this._lView[1],this._lView)}onDestroy(u){HD(this._lView[1],this._lView,null,u)}markForCheck(){P0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xv(l,u,d){const f=u[10];f.begin&&f.begin();try{F0(l,u,l.template,d)}catch(g){throw HO(u,g),g}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nv(l,u){C0(l,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=u}}class s1 extends N0{constructor(u){super(u),this._view=u}detectChanges(){wv(this._view)}checkNoChanges(){}get context(){return null}}class o1 extends Ky{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=_e(u);return new Cv(d,this.ngModule)}}function GO(l){const u=[];for(let d in l)l.hasOwnProperty(d)&&u.push({propName:l[d],templateName:d});return u}class UU{constructor(u,d){this.injector=u,this.parentInjector=d}get(u,d,f){const g=this.injector.get(u,pb,f);return g!==pb||d===pb?g:this.parentInjector.get(u,d,f)}}class Cv extends MT{constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=function T0(l){return l.map(dO).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return GO(this.componentDef.inputs)}get outputs(){return GO(this.componentDef.outputs)}create(u,d,f,g){let _=(g=g||this.ngModule)instanceof Vc?g:g?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new UU(u,_):u,T=b.get(FT,null);if(null===T)throw new et(407,!1);const I=b.get(LF,null),F=T.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",q=f?function UD(l,u,d){return l.selectRootElement(u,d===rn.ShadowDom)}(F,f,this.componentDef.encapsulation):iD(T.createRenderer(null,this.componentDef),L,function VU(l){const u=l.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(L)),ge=this.componentDef.onPush?288:272,me=function zO(l,u){return{components:[],scheduler:l||nU,clean:Oo,playerHandler:u||null,flags:0}}(),it=mv(0,null,null,1,0,null,null,null,null,null),Et=R0(null,it,me,ge,null,null,T,F,I,b,null);let Gt,sn;Ec(Et);try{const xn=function JD(l,u,d,f,g,_){const b=d[1];d[22]=l;const I=jd(b,22,2,"#host",null),F=I.mergedAttrs=u.hostAttrs;null!==F&&(lg(I,F,!0),null!==l&&(Mu(g,l,F),null!==I.classes&&kb(g,l,I.classes),null!==I.styles&&fD(g,l,I.styles)));const L=f.createRenderer(l,u),q=R0(d,Zb(u),null,u.onPush?32:16,d[22],I,f,L,_||null,null,null);return b.firstCreatePass&&(tl(Xo(I,d),b,u.type),Ws(b,I),Xb(I,d.length,1)),O0(d,q),d[22]=q}(q,this.componentDef,Et,T,F);if(q)if(f)Mu(F,q,["ng-version",NT.full]);else{const{attrs:yt,classes:vn}=function _U(l){const u=[],d=[];let f=1,g=2;for(;f<l.length;){let _=l[f];if("string"==typeof _)2===g?""!==_&&u.push(_,l[++f]):8===g&&d.push(_);else{if(!zl(g))break;g=_}f++}return{attrs:u,classes:d}}(this.componentDef.selectors[0]);yt&&Mu(F,q,yt),vn&&vn.length>0&&kb(F,q,vn.join(" "))}if(sn=Fl(it,22),void 0!==d){const yt=sn.projection=[];for(let vn=0;vn<this.ngContentSelectors.length;vn++){const tr=d[vn];yt.push(null!=tr?Array.from(tr):null)}}Gt=function jO(l,u,d,f,g){const _=d[1],b=function OO(l,u,d){const f=si();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),Qb(l,f,u,pf(l,u,1,null),d),zd(l,f));const g=ko(u,l,f.directiveStart,f);co(g,u);const _=Gs(f,u);return _&&co(_,u),g}(_,d,u);if(f.components.push(b),l[8]=b,null!==g)for(const I of g)I(b,u);if(u.contentQueries){const I=si();u.contentQueries(1,b,I.directiveStart)}const T=si();return!_.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Yo(T.index),jD(d[1],T,0,T.directiveStart,T.directiveEnd,u),qu(u,b)),b}(xn,this.componentDef,Et,me,[$O]),Wb(it,Et,null)}finally{xd()}return new GU(this.componentType,Gt,g0(sn,Et),Et,sn)}}class GU extends class PF{}{constructor(u,d,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new s1(g),this.componentType=u}setInput(u,d){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[u])){const _=this._rootLView;Gc(_[1],_,g,u,d),Kb(_,this._tNode.index)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function $O(){const l=si();Zh(lt()[1],l)}function ug(l){let u=function cg(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const f=[l];for(;u;){let g;if(io(l))g=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new et(903,!1);g=u.\u0275dir}if(g){if(d){f.push(g);const b=l;b.inputs=mf(l.inputs),b.declaredInputs=mf(l.declaredInputs),b.outputs=mf(l.outputs);const T=g.hostBindings;T&&l1(l,T);const I=g.viewQuery,F=g.contentQueries;if(I&&a1(l,I),F&&tA(l,F),Te(l.inputs,g.inputs),Te(l.declaredInputs,g.declaredInputs),Te(l.outputs,g.outputs),io(g)&&g.data.animation){const L=l.data;L.animation=(L.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let b=0;b<_.length;b++){const T=_[b];T&&T.ngInherit&&T(l),T===ug&&(d=!1)}}u=Object.getPrototypeOf(u)}!function dg(l){let u=0,d=null;for(let f=l.length-1;f>=0;f--){const g=l[f];g.hostVars=u+=g.hostVars,g.hostAttrs=kc(g.hostAttrs,d=kc(d,g.hostAttrs))}}(f)}function mf(l){return l===Ur?{}:l===Nn?[]:l}function a1(l,u){const d=l.viewQuery;l.viewQuery=d?(f,g)=>{u(f,g),d(f,g)}:u}function tA(l,u){const d=l.contentQueries;l.contentQueries=d?(f,g,_)=>{u(f,g,_),d(f,g,_)}:u}function l1(l,u){const d=l.hostBindings;l.hostBindings=d?(f,g)=>{u(f,g),d(f,g)}:u}let L0=null;function jc(){if(!L0){const l=en.Symbol;if(l&&l.iterator)L0=l.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<u.length;++d){const f=u[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(L0=f)}}}return L0}function Sv(l){return!!iA(l)&&(Array.isArray(l)||!(l instanceof Map)&&jc()in l)}function iA(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ra(l,u,d){return l[u]=d}function xs(l,u,d){return!Object.is(l[u],d)&&(l[u]=d,!0)}function _f(l,u,d,f){const g=xs(l,u,d);return xs(l,u+1,f)||g}function u1(l,u,d,f){const g=lt();return xs(g,Ul(),u)&&(Hn(),ql(Tr(),g,l,u,d,f)),u1}function yf(l,u,d,f){return xs(l,Ul(),d)?u+Ke(d)+f:In}function pg(l,u,d,f,g,_){const T=_f(l,function ao(){return wn.lFrame.bindingIndex}(),d,g);return Ao(2),T?u+Ke(d)+f+Ke(g)+_:In}function ZO(l,u,d,f,g,_,b,T){const I=lt(),F=Hn(),L=l+22,q=F.firstCreatePass?function U0(l,u,d,f,g,_,b,T,I){const F=u.consts,L=jd(u,l,4,b||null,Zo(F,T));dl(u,d,L,Zo(F,I)),Zh(u,L);const q=L.tViews=mv(2,L,f,g,_,u.directiveRegistry,u.pipeRegistry,null,u.schemas,F);return null!==u.queries&&(u.queries.template(u,L),q.queries=u.queries.embeddedTView(L)),L}(L,F,I,u,d,f,g,_,b):F.data[L];ks(q,!1);const ge=I[11].createComment("");Ab(F,I,ge,q),co(ge,I),O0(I,I[L]=Jb(ge,I,ge,q)),va(q)&&$l(F,I,q),null!=b&&qb(I,q,T)}function h1(l){return Ca(function bc(){return wn.lFrame.contextLView}(),22+l)}function uA(l,u,d){const f=lt();return xs(f,Ul(),u)&&Ia(Hn(),Tr(),f,l,u,f[11],d,!1),uA}function dA(l,u,d,f,g){const b=g?"class":"style";Gc(l,d,u.inputs[b],b,f)}function f1(l,u,d,f){const g=lt(),_=Hn(),b=22+l,T=g[11],I=g[b]=iD(T,u,function Op(){return wn.lFrame.currentNamespace}()),F=_.firstCreatePass?function $U(l,u,d,f,g,_,b){const T=u.consts,F=jd(u,l,2,g,Zo(T,_));return dl(u,d,F,Zo(T,b)),null!==F.attrs&&lg(F,F.attrs,!1),null!==F.mergedAttrs&&lg(F,F.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,F),F}(b,_,g,0,u,d,f):_.data[b];ks(F,!0);const L=F.mergedAttrs;null!==L&&Mu(T,I,L);const q=F.classes;null!==q&&kb(T,I,q);const ge=F.styles;return null!==ge&&fD(T,I,ge),64!=(64&F.flags)&&Ab(_,g,I,F),0===function Eu(){return wn.lFrame.elementDepthCount}()&&co(I,g),function Mp(){wn.lFrame.elementDepthCount++}(),va(F)&&($l(_,g,F),VD(_,F,g)),null!==f&&qb(g,F),f1}function Iv(){let l=si();Hh()?Vl():(l=l.parent,ks(l,!1));const u=l;!function Ja(){wn.lFrame.elementDepthCount--}();const d=Hn();return d.firstCreatePass&&(Zh(d,l),Ya(l)&&d.queries.elementEnd(l)),null!=u.classesWithoutHost&&function zi(l){return 0!=(16&l.flags)}(u)&&dA(d,u,lt(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Gm(l){return 0!=(32&l.flags)}(u)&&dA(d,u,lt(),u.stylesWithoutHost,!1),Iv}function kv(l,u,d,f){return f1(l,u,d,f),Iv(),kv}function H0(l,u,d){const f=lt(),g=Hn(),_=l+22,b=g.firstCreatePass?function KO(l,u,d,f,g){const _=u.consts,b=Zo(_,f),T=jd(u,l,8,"ng-container",b);return null!==b&&lg(T,b,!0),dl(u,d,T,Zo(_,g)),null!==u.queries&&u.queries.elementStart(u,T),T}(_,g,f,u,d):g.data[_];ks(b,!0);const T=f[_]=f[11].createComment("");return Ab(g,f,T,b),co(T,f),va(b)&&($l(g,f,b),VD(g,b,f)),null!=d&&qb(f,b),H0}function qd(){let l=si();const u=Hn();return Hh()?Vl():(l=l.parent,ks(l,!1)),u.firstCreatePass&&(Zh(u,l),Ya(l)&&u.queries.elementEnd(l)),qd}function wf(l,u,d){return H0(l,u,d),qd(),wf}function hA(){return lt()}function bf(l){return!!l&&"function"==typeof l.then}function fA(l){return!!l&&"function"==typeof l.subscribe}const XO=fA;function Mv(l,u,d,f){const g=lt(),_=Hn(),b=si();return gA(_,g,g[11],b,l,u,0,f),Mv}function p1(l,u){const d=si(),f=lt(),g=Hn();return gA(g,f,UO(Du(g.data),d,f),d,l,u),p1}function gA(l,u,d,f,g,_,b,T){const I=va(f),L=l.firstCreatePass&&r1(l),q=u[8],ge=Zl(u);let me=!0;if(3&f.type||T){const Gt=Gs(f,u),sn=T?T(Gt):Gt,xn=ge.length,yt=T?tr=>T(mi(tr[f.index])):f.index;let vn=null;if(!T&&I&&(vn=function pA(l,u,d,f){const g=l.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const b=g[_];if(b===d&&g[_+1]===f){const T=u[7],I=g[_+2];return T.length>I?T[I]:null}"string"==typeof b&&(_+=2)}return null}(l,u,g,f.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=_,vn.__ngLastListenerFn__=_,me=!1;else{_=Rv(f,u,q,_,!1);const tr=d.listen(sn,g,_);ge.push(_,tr),L&&L.push(g,yt,xn,xn+1)}}else _=Rv(f,u,q,_,!1);const it=f.outputs;let Et;if(me&&null!==it&&(Et=it[g])){const Gt=Et.length;if(Gt)for(let sn=0;sn<Gt;sn+=2){const ei=u[Et[sn]][Et[sn+1]].subscribe(_),dh=ge.length;ge.push(_,ei),L&&L.push(g,f.index,dh,-(dh+1))}}}function g1(l,u,d,f){try{return!1!==d(f)}catch(g){return HO(l,g),!1}}function Rv(l,u,d,f,g){return function _(b){if(b===Function)return f;P0(2&l.flags?Ji(l.index,u):u);let I=g1(u,0,f,b),F=_.__ngNextListenerFn__;for(;F;)I=g1(u,0,F,b)&&I,F=F.__ngNextListenerFn__;return g&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function mA(l=1){return function Nm(l){return(wn.lFrame.contextLView=function Iu(l,u){for(;l>0;)u=u[15],l--;return u}(l,wn.lFrame.contextLView))[8]}(l)}function _A(l,u){let d=null;const f=function uO(l){const u=l.attrs;if(null!=u){const d=u.indexOf(5);if(0==(1&d))return u[d+1]}return null}(l);for(let g=0;g<u.length;g++){const _=u[g];if("*"!==_){if(null===f?ul(l,_,!0):_D(f,_))return g}else d=g}return d}function yA(l){const u=lt()[16][6];if(!u.projection){const f=u.projection=Oc(l?l.length:1,null),g=f.slice();let _=u.child;for(;null!==_;){const b=l?_A(_,l):0;null!==b&&(g[b]?g[b].projectionNext=_:f[b]=_,g[b]=_),_=_.next}}}function zc(l,u=0,d){const f=lt(),g=Hn(),_=jd(g,22+l,16,null,d||null);null===_.projection&&(_.projection=u),Vl(),64!=(64&_.flags)&&function sO(l,u,d){E0(u[11],0,u,d,ig(l,d,u),sv(d.parent||u[6],d,u))}(g,f,_)}function m1(l,u,d){return G0(l,"",u,"",d),m1}function G0(l,u,d,f,g){const _=lt(),b=yf(_,u,d,f);return b!==In&&Ia(Hn(),Tr(),_,l,b,_[11],g,!1),G0}function v1(l,u,d,f,g){const _=l[d+1],b=null===u;let T=f?Fo(_):zu(_),I=!1;for(;0!==T&&(!1===I||b);){const L=l[T+1];eP(l[T],u)&&(I=!0,l[T+1]=f?dv(L):uv(L)),T=f?Fo(L):zu(L)}I&&(l[d+1]=f?uv(_):dv(_))}function eP(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Uu(l,u)>=0}const Ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ov(l){return l.substring(Ms.key,Ms.keyEnd)}function x1(l,u){const d=Ms.textEnd;return d===u?-1:(u=Ms.keyEnd=function b1(l,u,d){for(;u<d&&l.charCodeAt(u)>32;)u++;return u}(l,Ms.key=u,d),vg(l,u,d))}function vg(l,u,d){for(;u<d&&l.charCodeAt(u)<=32;)u++;return u}function Nv(l,u,d){return hl(l,u,d,!1),Nv}function E1(l,u){return hl(l,u,null,!0),E1}function $c(l,u){for(let d=function EA(l){return function w1(l){Ms.key=0,Ms.keyEnd=0,Ms.value=0,Ms.valueEnd=0,Ms.textEnd=l.length}(l),x1(l,vg(l,0,Ms.textEnd))}(u);d>=0;d=x1(u,d))vs(l,Ov(u),!0)}function hl(l,u,d,f){const g=lt(),_=Hn(),b=Ao(2);_.firstUpdatePass&&sP(_,l,b,f),u!==In&&xs(g,b,u)&&aP(_,_.data[_i()],g,g[11],l,g[b+1]=function S1(l,u){return null==l||("string"==typeof u?l+=u:"object"==typeof l&&(l=Ve(Lc(l)))),l}(u,d),f,b)}function iP(l,u){return u>=l.expandoStartIndex}function sP(l,u,d,f){const g=l.data;if(null===g[d+1]){const _=g[_i()],b=iP(l,d);FA(_,f)&&null===u&&!b&&(u=!1),u=function AA(l,u,d,f){const g=Du(l);let _=f?u.residualClasses:u.residualStyles;if(null===g)0===(f?u.classBindings:u.styleBindings)&&(d=Lv(d=MA(null,l,u,d,f),u.attrs,f),_=null);else{const b=u.directiveStylingLast;if(-1===b||l[b]!==g)if(d=MA(g,l,u,d,f),null===_){let I=function oP(l,u,d){const f=d?u.classBindings:u.styleBindings;if(0!==zu(f))return l[Fo(f)]}(l,u,f);void 0!==I&&Array.isArray(I)&&(I=MA(null,l,u,I[1],f),I=Lv(I,u.attrs,f),function IA(l,u,d,f){l[Fo(d?u.classBindings:u.styleBindings)]=f}(l,u,f,I))}else _=function kA(l,u,d){let f;const g=u.directiveEnd;for(let _=1+u.directiveStylingLast;_<g;_++)f=Lv(f,l[_].hostAttrs,d);return Lv(f,u.attrs,d)}(l,u,f)}return void 0!==_&&(f?u.residualClasses=_:u.residualStyles=_),d}(g,_,u,f),function QO(l,u,d,f,g,_){let b=_?u.classBindings:u.styleBindings,T=Fo(b),I=zu(b);l[f]=d;let L,F=!1;if(Array.isArray(d)){const q=d;L=q[1],(null===L||Uu(q,L)>0)&&(F=!0)}else L=d;if(g)if(0!==I){const ge=Fo(l[T+1]);l[f+1]=Bb(ge,T),0!==ge&&(l[ge+1]=I0(l[ge+1],f)),l[T+1]=function SO(l,u){return 131071&l|u<<17}(l[T+1],f)}else l[f+1]=Bb(T,0),0!==T&&(l[T+1]=I0(l[T+1],f)),T=f;else l[f+1]=Bb(I,0),0===T?T=f:l[I+1]=I0(l[I+1],f),I=f;F&&(l[f+1]=uv(l[f+1])),v1(l,L,f,!0),v1(l,L,f,!1),function JO(l,u,d,f,g){const _=g?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof u&&Uu(_,u)>=0&&(d[f+1]=dv(d[f+1]))}(u,L,l,f,_),b=Bb(T,I),_?u.classBindings=b:u.styleBindings=b}(g,_,u,d,b,f)}}function MA(l,u,d,f,g){let _=null;const b=d.directiveEnd;let T=d.directiveStylingLast;for(-1===T?T=d.directiveStart:T++;T<b&&(_=u[T],f=Lv(f,_.hostAttrs,g),_!==l);)T++;return null!==l&&(d.directiveStylingLast=T),f}function Lv(l,u,d){const f=d?1:2;let g=-1;if(null!==u)for(let _=0;_<u.length;_++){const b=u[_];"number"==typeof b?g=b:g===f&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),vs(l,b,!!d||u[++_]))}return void 0===l?null:l}function aP(l,u,d,f,g,_,b,T){if(!(3&u.type))return;const I=l.data,F=I[T+1];gr(function Vb(l){return 1==(1&l)}(F)?lP(I,u,d,g,zu(F),b):void 0)||(gr(_)||function EO(l){return 2==(2&l)}(F)&&(_=lP(I,null,d,g,T,b)),function hD(l,u,d,f,g){if(u)g?l.addClass(d,f):l.removeClass(d,f);else{let _=-1===f.indexOf("-")?void 0:Aa.DashCase;null==g?l.removeStyle(d,f,_):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),_|=Aa.Important),l.setStyle(d,f,g,_))}}(f,b,Cu(_i(),d),g,_))}function lP(l,u,d,f,g,_){const b=null===u;let T;for(;g>0;){const I=l[g],F=Array.isArray(I),L=F?I[1]:I,q=null===L;let ge=d[g+1];ge===In&&(ge=q?Nn:void 0);let me=q?Ad(ge,f):L===f?ge:void 0;if(F&&!gr(me)&&(me=Ad(I,f)),gr(me)&&(T=me,b))return T;const it=l[g+1];g=b?Fo(it):zu(it)}if(null!==u){let I=_?u.residualClasses:u.residualStyles;null!=I&&(T=Ad(I,f))}return T}function gr(l){return void 0!==l}function FA(l,u){return 0!=(l.flags&(u?16:32))}function Zd(l,u=""){const d=lt(),f=Hn(),g=l+22,_=f.firstCreatePass?jd(f,g,1,u,null):f.data[g],b=d[g]=function rD(l,u){return l.createText(u)}(d[11],u);Ab(f,d,b,_),ks(_,!1)}function qi(l){return T1("",l,""),qi}function T1(l,u,d){const f=lt(),g=yf(f,l,u,d);return g!==In&&ka(f,_i(),g),T1}function z0(l,u,d,f,g){const _=lt(),b=pg(_,l,u,d,f,g);return b!==In&&ka(_,_i(),b),z0}function ln(l,u,d){!function Wc(l,u,d,f){const g=Hn(),_=Ao(2);g.firstUpdatePass&&sP(g,null,_,f);const b=lt();if(d!==In&&xs(b,_,d)){const T=g.data[_i()];if(FA(T,f)&&!iP(g,_)){let I=f?T.classesWithoutHost:T.stylesWithoutHost;null!==I&&(d=Ye(I,d||"")),dA(g,T,b,d,f)}else!function qU(l,u,d,f,g,_,b,T){g===In&&(g=Nn);let I=0,F=0,L=0<g.length?g[0]:null,q=0<_.length?_[0]:null;for(;null!==L||null!==q;){const ge=I<g.length?g[I+1]:void 0,me=F<_.length?_[F+1]:void 0;let Et,it=null;L===q?(I+=2,F+=2,ge!==me&&(it=q,Et=me)):null===q||null!==L&&L<q?(I+=2,it=L):(F+=2,it=q,Et=me),null!==it&&aP(l,u,d,f,it,Et,b,T),L=I<g.length?g[I]:null,q=F<_.length?_[F]:null}}(g,T,b,b[11],b[_+1],b[_+1]=function RA(l,u,d){if(null==d||""===d)return Nn;const f=[],g=Lc(d);if(Array.isArray(g))for(let _=0;_<g.length;_++)l(f,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&l(f,_,g[_]);else"string"==typeof g&&u(f,g);return f}(l,u,d),f,_)}}(vs,$c,yf(lt(),l,u,d),!0)}function Gv(l,u,d){const f=lt();return xs(f,Ul(),u)&&Ia(Hn(),Tr(),f,l,u,f[11],d,!0),Gv}function jv(l,u,d){const f=lt();if(xs(f,Ul(),u)){const _=Hn(),b=Tr();Ia(_,b,f,l,u,UO(Du(_.data),b,f),d,!0)}return jv}const Zu=void 0;var BA=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LA(l){const d=Math.floor(Math.abs(l)),f=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Sf={};function F1(l){const u=function gP(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=O1(u);if(d)return d;const f=u.split("-")[0];if(d=O1(f),d)return d;if("en"===f)return BA;throw new et(701,!1)}function Tf(l){return F1(l)[bn.PluralCase]}function O1(l){return l in Sf||(Sf[l]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[l]),Sf[l]}var bn=(()=>((bn=bn||{})[bn.LocaleId=0]="LocaleId",bn[bn.DayPeriodsFormat=1]="DayPeriodsFormat",bn[bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",bn[bn.DaysFormat=3]="DaysFormat",bn[bn.DaysStandalone=4]="DaysStandalone",bn[bn.MonthsFormat=5]="MonthsFormat",bn[bn.MonthsStandalone=6]="MonthsStandalone",bn[bn.Eras=7]="Eras",bn[bn.FirstDayOfWeek=8]="FirstDayOfWeek",bn[bn.WeekendRange=9]="WeekendRange",bn[bn.DateFormat=10]="DateFormat",bn[bn.TimeFormat=11]="TimeFormat",bn[bn.DateTimeFormat=12]="DateTimeFormat",bn[bn.NumberSymbols=13]="NumberSymbols",bn[bn.NumberFormats=14]="NumberFormats",bn[bn.CurrencyCode=15]="CurrencyCode",bn[bn.CurrencySymbol=16]="CurrencySymbol",bn[bn.CurrencyName=17]="CurrencyName",bn[bn.Currencies=18]="Currencies",bn[bn.Directionality=19]="Directionality",bn[bn.PluralCase=20]="PluralCase",bn[bn.ExtraData=21]="ExtraData",bn))();const Kd="en-US";let N1=Kd;function nx(l,u,d,f,g){if(l=be(l),Array.isArray(l))for(let _=0;_<l.length;_++)nx(l[_],u,d,f,g);else{const _=Hn(),b=lt();let T=Kp(l)?l:be(l.provide),I=AT(l);const F=si(),L=1048575&F.providerIndexes,q=F.directiveStart,ge=F.providerIndexes>>20;if(Kp(l)||!l.multi){const me=new Dc(I,g,A0),it=rx(T,u,g?L:L+ge,q);-1===it?(tl(Xo(F,b),_,T),rC(_,l,u.length),u.push(T),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),d.push(me),b.push(me)):(d[it]=me,b[it]=me)}else{const me=rx(T,u,L+ge,q),it=rx(T,u,L,L+ge),Et=me>=0&&d[me],Gt=it>=0&&d[it];if(g&&!Gt||!g&&!Et){tl(Xo(F,b),_,T);const sn=function iC(l,u,d,f,g){const _=new Dc(l,d,A0);return _.multi=[],_.index=u,_.componentProviders=0,Ig(_,g,f&&!d),_}(g?X0:ix,d.length,g,f,I);!g&&Gt&&(d[it].providerFactory=sn),rC(_,l,u.length,0),u.push(T),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),d.push(sn),b.push(sn)}else rC(_,l,me>-1?me:it,Ig(d[g?it:me],I,!g&&f));!g&&f&&Gt&&d[it].componentProviders++}}}function rC(l,u,d,f){const g=Kp(u),_=function YV(l){return!!l.useClass}(u);if(g||_){const I=(_?be(u.useClass):u).prototype.ngOnDestroy;if(I){const F=l.destroyHooks||(l.destroyHooks=[]);if(!g&&u.multi){const L=F.indexOf(d);-1===L?F.push(d,[f,I]):F[L+1].push(f,I)}else F.push(d,I)}}}function Ig(l,u,d){return d&&l.componentProviders++,l.multi.push(u)-1}function rx(l,u,d,f){for(let g=d;g<f;g++)if(u[g]===l)return g;return-1}function ix(l,u,d,f){return Yu(this.multi,[])}function X0(l,u,d,f){const g=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,T=ko(d,d[1],this.providerFactory.index,f);_=T.slice(0,b),Yu(g,_);for(let I=b;I<T.length;I++)_.push(T[I])}else _=[],Yu(g,_);return _}function Yu(l,u){for(let d=0;d<l.length;d++)u.push((0,l[d])());return u}function sI(l,u=[]){return d=>{d.providersResolver=(f,g)=>function iI(l,u,d){const f=Hn();if(f.firstCreatePass){const g=io(l);nx(d,f.data,f.blueprint,g,!0),nx(u,f.data,f.blueprint,g,!1)}}(f,g?g(l):l,u)}}class Qd{}class Rf{}function sC(l,u){return new oC(l,u??null)}class oC extends Qd{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new o1(this);const f=Qe(u);this._bootstrapComponents=Bd(f.bootstrap),this._r3Injector=av(u,d,[{provide:Qd,useValue:this},{provide:Ky,useValue:this.componentFactoryResolver}],Ve(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class aC extends Rf{constructor(u){super(),this.moduleType=u}create(u){return new oC(this.moduleType,u)}}class Ff extends Qd{constructor(u,d,f){super(),this.componentFactoryResolver=new o1(this),this.instance=null;const g=new DT([...u,{provide:Qd,useValue:this},{provide:Ky,useValue:this.componentFactoryResolver}],d||ub(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Kl(l,u,d=null){return new Ff(l,u,d).injector}function Pf(l,u,d,f){return function hC(l,u,d,f,g,_){const b=u+d;return xs(l,b,g)?ra(l,b+1,_?f.call(_,g):f(g)):Rg(l,b+1)}(lt(),ji(),l,u,d,f)}function Rg(l,u){const d=l[u];return d===In?void 0:d}function t_(l,u){const d=Hn();let f;const g=l+22;d.firstCreatePass?(f=function n_(l,u){if(u)for(let d=u.length-1;d>=0;d--){const f=u[d];if(l===f.name)return f}}(u,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const _=f.factory||(f.factory=_c(f.type)),b=ar(A0);try{const T=Mc(!1),I=_();return Mc(T),function YO(l,u,d,f){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),u[d]=f}(d,lt(),g,I),I}finally{ar(b)}}function gC(l,u,d,f){const g=l+22,_=lt(),b=Ca(_,g);return function ci(l,u){return l[1].data[u].pure}(_,g)?function lx(l,u,d,f,g,_,b){const T=u+d;return _f(l,T,g,_)?ra(l,T+2,b?f.call(b,g,_):f(g,_)):Rg(l,T+2)}(_,ji(),u,b.transform,d,f,b):b.transform(d,f)}function mC(l){return u=>{setTimeout(l,void 0,u)}}const Zc=class _I extends a.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,f){let g=u,_=d||(()=>null),b=f;if(u&&"object"==typeof u){const I=u;g=I.next?.bind(I),_=I.error?.bind(I),b=I.complete?.bind(I)}this.__isAsync&&(_=mC(_),g&&(g=mC(g)),b&&(b=mC(b)));const T=super.subscribe({next:g,error:_,complete:b});return u instanceof te.w0&&u.add(T),T}};function PP(){return this._results[jc()]()}class cx{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=jc(),f=cx.prototype;f[d]||(f[d]=PP)}get changes(){return this._changes||(this._changes=new Zc)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const f=this;f.dirty=!1;const g=ys(u);(this._changesDetected=!function zw(l,u,d){if(l.length!==u.length)return!1;for(let f=0;f<l.length;f++){let g=l[f],_=u[f];if(d&&(g=d(g),_=d(_)),_!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fg=(()=>{class l{}return l.__NG_ELEMENT_ID__=ux,l})();const yI=Fg,vI=class extends yI{constructor(u,d,f){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(u,d){const f=this._declarationTContainer.tViews,g=R0(this._declarationLView,f,u,16,null,f.declTNode,null,null,null,null,d||null);g[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(g[19]=b.createEmbeddedView(f)),Wb(f,g,u),new N0(g)}};function ux(){return s_(si(),lt())}function s_(l,u){return 4&l.type?new vI(u,l,g0(l,u)):null}let gl=(()=>{class l{}return l.__NG_ELEMENT_ID__=xI,l})();function xI(){return fx(si(),lt())}const NP=gl,dx=class extends NP{constructor(u,d,f){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=f}get element(){return g0(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){const u=bd(this._hostTNode,this._hostLView);if($m(u)){const d=Ri(u,this._hostLView),f=Fu(u);return new oi(d[1].data[f+8],d)}return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=Og(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,d,f){let g,_;"number"==typeof f?g=f:null!=f&&(g=f.index,_=f.injector);const b=u.createEmbeddedView(d||{},_);return this.insert(b,g),b}createComponent(u,d,f,g,_){const b=u&&!function Qh(l){return"function"==typeof l}(u);let T;if(b)T=d;else{const q=d||{};T=q.index,f=q.injector,g=q.projectableNodes,_=q.environmentInjector||q.ngModuleRef}const I=b?u:new Cv(_e(u)),F=f||this.parentInjector;if(!_&&null==I.ngModule){const ge=(b?F:this.parentInjector).get(Vc,null);ge&&(_=ge)}const L=I.create(F,g,void 0,_);return this.insert(L.hostView,T),L}insert(u,d){const f=u._lView,g=f[1];if(function Xa(l){return So(l[3])}(f)){const L=this.indexOf(u);if(-1!==L)this.detach(L);else{const q=f[3],ge=new dx(q,q[6],q[3]);ge.detach(ge.indexOf(u))}}const _=this._adjustIndex(d),b=this._lContainer;!function rv(l,u,d,f){const g=10+f,_=d.length;f>0&&(d[g-1][4]=u),f<_-10?(u[4]=d[g],Jh(d,10+f,u)):(d.push(u),u[4]=null),u[3]=d;const b=u[17];null!==b&&d!==b&&function pU(l,u){const d=l[9];u[16]!==u[3][3][16]&&(l[2]=!0),null===d?l[9]=[u]:d.push(u)}(b,u);const T=u[19];null!==T&&T.insertView(l),u[2]|=64}(g,f,b,_);const T=dD(_,b),I=f[11],F=iv(I,b[7]);return null!==F&&function x0(l,u,d,f,g,_){f[0]=g,f[6]=u,C0(l,f,d,1,g,_)}(g,b[6],I,f,F,T),u.attachToViewContainerRef(),Jh(hx(b),_,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=Og(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),f=oD(this._lContainer,d);f&&(ef(hx(this._lContainer),d),tO(f[1],f))}detach(u){const d=this._adjustIndex(u,-1),f=oD(this._lContainer,d);return f&&null!=ef(hx(this._lContainer),d)?new N0(f):null}_adjustIndex(u,d=0){return u??this.length+d}};function Og(l){return l[8]}function hx(l){return l[8]||(l[8]=[])}function fx(l,u){let d;const f=u[l.index];if(So(f))d=f;else{let g;if(8&l.type)g=mi(f);else{const _=u[11];g=_.createComment("");const b=Gs(l,u);zs(_,iv(_,b),g,function lD(l,u){return l.nextSibling(u)}(_,b),!1)}u[l.index]=d=Jb(f,u,g,l),O0(u,d)}return new dx(d,l,u)}class Pg{constructor(u){this.queryList=u,this.matches=null}clone(){return new Pg(this.queryList)}setDirty(){this.queryList.setDirty()}}class _C{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const f=null!==u.contentQueries?u.contentQueries[0]:d.length,g=[];for(let _=0;_<f;_++){const b=d.getByIndex(_);g.push(this.queries[b.indexInDeclarationView].clone())}return new _C(g)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==SC(u,d).matches&&this.queries[d].setDirty()}}class yC{constructor(u,d,f=null){this.predicate=u,this.flags=d,this.read=f}}class Nf{constructor(u=[]){this.queries=u}elementStart(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,_=this.getByIndex(f).embeddedTView(u,g);_&&(_.indexInDeclarationView=f,null!==d?d.push(_):d=[_])}return null!==d?new Nf(d):null}template(u,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class gx{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new gx(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=u.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(u,d,CI(d,_)),this.matchTNodeWithReadOption(u,d,Ed(d,u,_,!1,!1))}else f===Fg?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,Ed(d,u,f,!1,!1))}matchTNodeWithReadOption(u,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Qp||g===gl||g===Fg&&4&d.type)this.addMatch(d.index,-2);else{const _=Ed(d,u,g,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,f)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function CI(l,u){const d=l.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===u)return d[f+1];return null}function xC(l,u,d,f){return-1===d?function vC(l,u){return 11&l.type?g0(l,u):4&l.type?s_(l,u):null}(u,l):-2===d?function EI(l,u,d){return d===Qp?g0(u,l):d===Fg?s_(u,l):d===gl?fx(u,l):void 0}(l,u,f):ko(l,l[1],d,u)}function o_(l,u,d,f){const g=u[19].queries[f];if(null===g.matches){const _=l.data,b=d.matches,T=[];for(let I=0;I<b.length;I+=2){const F=b[I];T.push(F<0?null:xC(u,_[F],b[I+1],d.metadata.read))}g.matches=T}return g.matches}function mx(l,u,d,f){const g=l.queries.getByIndex(d),_=g.matches;if(null!==_){const b=o_(l,u,g,d);for(let T=0;T<_.length;T+=2){const I=_[T];if(I>0)f.push(b[T/2]);else{const F=_[T+1],L=u[-I];for(let q=10;q<L.length;q++){const ge=L[q];ge[17]===ge[3]&&mx(ge[1],ge,F,f)}if(null!==L[9]){const q=L[9];for(let ge=0;ge<q.length;ge++){const me=q[ge];mx(me[1],me,F,f)}}}}}return f}function wC(l){const u=lt(),d=Hn(),f=Cc();$h(f+1);const g=SC(d,f);if(l.dirty&&Ol(u)===(2==(2&g.metadata.flags))){if(null===g.matches)l.reset([]);else{const _=g.crossesNgTemplate?mx(d,u,f,[]):o_(d,u,g,f);l.reset(_,RT),l.notifyOnChanges()}return!0}return!1}function Jd(l,u,d){const f=Hn();f.firstCreatePass&&(a_(f,new yC(l,u,d),-1),2==(2&u)&&(f.staticViewQueries=!0)),EC(f,lt(),u)}function bC(l,u,d,f){const g=Hn();if(g.firstCreatePass){const _=si();a_(g,new yC(u,d,f),_.index),function Ma(l,u){const d=l.contentQueries||(l.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,u)}(g,l),2==(2&d)&&(g.staticContentQueries=!0)}EC(g,lt(),d)}function CC(){return function SI(l,u){return l[19].queries[u].queryList}(lt(),Cc())}function EC(l,u,d){const f=new cx(4==(4&d));HD(l,u,f,f.destroy),null===u[19]&&(u[19]=new _C),u[19].queries.push(new Pg(f))}function a_(l,u,d){null===l.queries&&(l.queries=new Nf),l.queries.track(new gx(u,d))}function SC(l,u){return l.queries.getByIndex(u)}function Lg(l){const u=_e(l)||ue(l)||oe(l);return null!==u&&u.standalone}function Xl(...l){}const Pe=new Gn("Application Initializer");let Uf=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Xl,this.reject=Xl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(bf(_))d.push(_);else if(XO(_)){const b=new Promise((T,I)=>{_.subscribe({complete:T,error:I})});d.push(b)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(Kr(Pe,8))},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const _l=new Gn("AppId",{providedIn:"root",factory:function PI(){return`${Yc()}${Yc()}${Yc()}`}});function Yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NI=new Gn("Platform Initializer"),Hf=new Gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FC=new Gn("appBootstrapListener"),$P=new Gn("AnimationModuleType");let WP=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const u_=new Gn("LocaleId",{providedIn:"root",factory:()=>$p(u_,fn.Optional|fn.SkipSelf)||function ia(){return typeof $localize<"u"&&$localize.locale||Kd}()}),Gf=new Gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Xs{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}let Pr=(()=>{class l{compileModuleSync(d){return new aC(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),_=Bd(Qe(d).declarations).reduce((b,T)=>{const I=_e(T);return I&&b.push(new Cv(I)),b},[]);return new Xs(f,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Li=(()=>Promise.resolve(0))();function Ku(l){typeof Zone>"u"?Li.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class sa{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zc(!1),this.onMicrotaskEmpty=new Zc(!1),this.onStable=new Zc(!1),this.onError=new Zc(!1),typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function PC(){let l=en.requestAnimationFrame,u=en.cancelAnimationFrame;if(typeof Zone<"u"&&l&&u){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const f=u[Zone.__symbol__("OriginalDelegate")];f&&(u=f)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function f_(l){const u=()=>{!function Xu(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(en,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,jf(l),l.isCheckStableRunning=!0,NC(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),jf(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,_,b,T)=>{try{return LC(l),d.invokeTask(g,_,b,T)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&u(),Qu(l)}},onInvoke:(d,f,g,_,b,T,I)=>{try{return LC(l),d.invoke(g,_,b,T,I)}finally{l.shouldCoalesceRunChangeDetection&&u(),Qu(l)}},onHasTask:(d,f,g,_)=>{d.hasTask(g,_),f===g&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,jf(l),NC(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,f,g,_)=>(d.handleError(g,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new et(909,!1)}run(u,d,f){return this._inner.run(u,d,f)}runTask(u,d,f,g){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+g,u,h_,Xl,Xl);try{return _.runTask(b,d,f)}finally{_.cancelTask(b)}}runGuarded(u,d,f){return this._inner.runGuarded(u,d,f)}runOutsideAngular(u){return this._outer.run(u)}}const h_={};function NC(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function jf(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function LC(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Qu(l){l._nesting--,NC(l)}class wx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zc,this.onMicrotaskEmpty=new Zc,this.onStable=new Zc,this.onError=new Zc}run(u,d,f){return u.apply(d,f)}runGuarded(u,d,f){return u.apply(d,f)}runOutsideAngular(u){return u()}runTask(u,d,f,g){return u.apply(d,f)}}const rh=new Gn(""),Ql=new Gn("");let ih,p_=(()=>{class l{constructor(d,f,g){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ih||(function UI(l){ih=l}(g),g.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),Ku(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ku(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,g){return[]}}return l.\u0275fac=function(d){return new(d||l)(Kr(sa),Kr(Ju),Kr(Ql))},l.\u0275prov=Jn({token:l,factory:l.\u0275fac}),l})(),Ju=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return ih?.findTestabilityInTree(this,d,f)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})(),Kc=null;const sh=new Gn("AllowMultipleToken"),g_=new Gn("PlatformDestroyListeners");class m_{constructor(u,d){this.name=u,this.token=d}}function BC(l,u,d=[]){const f=`Platform: ${u}`,g=new Gn(f);return(_=[])=>{let b=UC();if(!b||b.injector.get(sh,!1)){const T=[...d,..._,{provide:g,useValue:!0}];l?l(T):function GI(l){if(Kc&&!Kc.get(sh,!1))throw new et(400,!1);Kc=l;const u=l.get(HC);(function jI(l){const u=l.get(NI,null);u&&u.forEach(d=>d())})(l)}(function VC(l=[],u){return uf.create({name:u,providers:[{provide:ST,useValue:"platform"},{provide:g_,useValue:new Set([()=>Kc=null])},...l]})}(T,f))}return function Qs(l){const u=UC();if(!u)throw new et(401,!1);return u}()}}function UC(){return Kc?.get(HC)??null}let HC=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const g=function XP(l,u){let d;return d="noop"===l?new wx:("zone.js"===l?void 0:l)||new sa(u),d}(f?.ngZone,function oh(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(f)),_=[{provide:sa,useValue:g}];return g.run(()=>{const b=uf.create({providers:_,parent:this.injector,name:d.moduleType.name}),T=d.create(b),I=T.injector.get(m0,null);if(!I)throw new et(402,!1);return g.runOutsideAngular(()=>{const F=g.onError.subscribe({next:L=>{I.handleError(L)}});T.onDestroy(()=>{y_(this._modules,T),F.unsubscribe()})}),function Vg(l,u,d){try{const f=d();return bf(f)?f.catch(g=>{throw u.runOutsideAngular(()=>l.handleError(g)),g}):f}catch(f){throw u.runOutsideAngular(()=>l.handleError(f)),f}}(I,g,()=>{const F=T.injector.get(Uf);return F.runInitializers(),F.donePromise.then(()=>(function jA(l){jn(l,"Expected localeId to be defined"),"string"==typeof l&&(N1=l.toLowerCase().replace(/_/g,"-"))}(T.injector.get(u_,Kd)||Kd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(d,f=[]){const g=__({},f);return function HI(l,u,d){const f=new aC(d);return Promise.resolve(f)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(d){const f=d.injector.get(zf);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new et(403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new et(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(g_,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(Kr(uf))},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function __(l,u){return Array.isArray(u)?u.reduce(__,l):{...l,...u}}let zf=(()=>{class l{constructor(d,f,g){this._zone=d,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new H.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new H.y(T=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{sa.assertNotInAngularZone(),Ku(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{I.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ke.T)(_,b.pipe((0,Re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const g=d instanceof MT;if(!this._injector.get(Uf).done)throw!g&&Lg(d),new et(405,false);let b;b=g?d:this._injector.get(Ky).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const T=function bx(l){return l.isBoundToModule}(b)?void 0:this._injector.get(Qd),F=b.create(uf.NULL,[],f||b.selector,T),L=F.location.nativeElement,q=F.injector.get(rh,null);return q?.registerApplication(L),F.onDestroy(()=>{this.detachView(F.hostView),y_(this.components,F),q?.unregisterApplication(L)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new et(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;y_(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(FC,[]).concat(this._bootstrapListeners).forEach(g=>g(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>y_(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new et(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(Kr(sa),Kr(Vc),Kr(m0))},l.\u0275prov=Jn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function y_(l,u){const d=l.indexOf(u);d>-1&&l.splice(d,1)}let zI=!0,$I=!1;function QP(){return $I=!0,zI}function WI(){if($I)throw new Error("Cannot enable prod mode after platform setup.");zI=!1}let JP=(()=>{class l{}return l.__NG_ELEMENT_ID__=ah,l})();function ah(l){return function Ug(l,u,d){if(yu(l)&&!d){const f=Ji(l.index,u);return new N0(f,f)}return 47&l.type?new N0(u[16],u):null}(si(),lt(),16==(16&l))}class $C{constructor(){}supports(u){return Sv(u)}create(u){return new a2(u)}}const Ex=(l,u)=>u;class a2{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Ex}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,f=this._removalsHead,g=0,_=null;for(;d||f;){const b=!f||d&&d.currentIndex<ch(f,g,_)?d:f,T=ch(b,g,_),I=b.currentIndex;if(b===f)g--,f=f._nextRemoved;else if(d=d._next,null==b.previousIndex)g++;else{_||(_=[]);const F=T-g,L=I-g;if(F!=L){for(let ge=0;ge<F;ge++){const me=ge<_.length?_[ge]:_[ge]=0,it=me+ge;L<=it&&it<F&&(_[ge]=me+1)}_[b.previousIndex]=L-F}}T!==I&&u(b,T,I)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!Sv(u))throw new et(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let g,_,b,d=this._itHead,f=!1;if(Array.isArray(u)){this.length=u.length;for(let T=0;T<this.length;T++)_=u[T],b=this._trackByFn(T,_),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,_,b,T)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,T),f=!0),d=d._next}else g=0,function WO(l,u){if(Array.isArray(l))for(let d=0;d<l.length;d++)u(l[d]);else{const d=l[jc()]();let f;for(;!(f=d.next()).done;)u(f.value)}}(u,T=>{b=this._trackByFn(g,T),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,T,b,g)),Object.is(d.item,T)||this._addIdentityChange(d,T)):(d=this._mismatch(d,T,b,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,f,g){let _;return null===u?_=this._itTail:(_=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,_,g)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,_,g)):u=this._addAfter(new l2(d,f),_,g),u}_verifyReinsertion(u,d,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?u=this._reinsertAfter(_,u._prev,g):u.currentIndex!=g&&(u.currentIndex=g,this._addToMoves(u,g)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const g=u._prevRemoved,_=u._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(u,d,f),this._addToMoves(u,f),u}_moveAfter(u,d,f){return this._unlink(u),this._insertAfter(u,d,f),this._addToMoves(u,f),u}_addAfter(u,d,f){return this._insertAfter(u,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,f){const g=null===d?this._itHead:d._next;return u._next=g,u._prev=d,null===g?this._itTail=u:g._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new Wf),this._linkedRecords.put(u),u.currentIndex=f,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,f=u._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wf),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class l2{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YI{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,u))return f;return null}remove(u){const d=u._prevDup,f=u._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class Wf{constructor(){this.map=new Map}put(u){const d=u.trackById;let f=this.map.get(d);f||(f=new YI,this.map.set(d,f)),f.add(u)}get(u,d){const g=this.map.get(u);return g?g.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ch(l,u,d){const f=l.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+u+g}class WC{constructor(){}supports(u){return u instanceof Map||iA(u)}create(){return new qf}}class qf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||iA(u)))throw new et(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const f=u._prev;return d._next=u,d._prev=f,u._prev=d,f&&(f._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const g=this._records.get(u);this._maybeAddToChanges(g,d);const _=g._prev,b=g._next;return _&&(_._next=b),b&&(b._prev=_),g._next=null,g._prev=null,g}const f=new KI(u);return this._records.set(u,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(f=>d(u[f],f))}}class KI{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zf(){return new Sx([new $C])}let Sx=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||Zf()),deps:[[l,new Bt,new Fe]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new et(901,!1)}}return l.\u0275prov=Jn({token:l,providedIn:"root",factory:Zf}),l})();function jg(){return new qC([new WC])}let qC=(()=>{class l{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new l(d)}static extend(d){return{provide:l,useFactory:f=>l.create(d,f||jg()),deps:[[l,new Bt,new Fe]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new et(901,!1)}}return l.\u0275prov=Jn({token:l,providedIn:"root",factory:jg}),l})();const XI=BC(null,"core",[]);let d2=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(Kr(zf))},l.\u0275mod=It({type:l}),l.\u0275inj=Pn({}),l})();function C_(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(un,ct,z)=>{z.d(ct,{Z:()=>et});var a=z(2090),te=z(4859),H=z(9681),ke=z(1877);class Re{constructor(Ke,je){this._delegate=Ke,this.firebase=je,(0,H._addComponent)(Ke,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this._delegate.automaticDataCollectionEnabled=Ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ke=>{this._delegate.checkDestroyed(),Ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ke,je=H._DEFAULT_ENTRY_NAME){var Yt;this._delegate.checkDestroyed();const Kt=this._delegate.container.getProvider(Ke);return!Kt.isInitialized()&&"EXPLICIT"===(null===(Yt=Kt.getComponent())||void 0===Yt?void 0:Yt.instantiationMode)&&Kt.initialize(),Kt.getImmediate({identifier:je})}_removeServiceInstance(Ke,je=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ke).clearInstance(je)}_addComponent(Ke){(0,H._addComponent)(this._delegate,Ke)}_addOrOverwriteComponent(Ke){(0,H._addOrOverwriteComponent)(this._delegate,Ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Ye(){const tn=function Ve(tn){const Ke={},je={__esModule:!0,initializeApp:function pt(Ie,Ne={}){const Ze=H.initializeApp(Ie,Ne);if((0,a.r3)(Ke,Ze.name))return Ke[Ze.name];const ve=new tn(Ze,je);return Ke[Ze.name]=ve,ve},app:Kt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function tt(Ie){const Ne=Ie.name,Ze=Ne.replace("-compat","");if(H._registerComponent(Ie)&&"PUBLIC"===Ie.type){const ve=(Se=Kt())=>{if("function"!=typeof Se[Ze])throw Te.create("invalid-app-argument",{appName:Ne});return Se[Ze]()};void 0!==Ie.serviceProps&&(0,a.ZB)(ve,Ie.serviceProps),je[Ze]=ve,tn.prototype[Ze]=function(...Se){return this._getService.bind(this,Ne).apply(this,Ie.multipleInstances?Se:[])}}return"PUBLIC"===Ie.type?je[Ze]:null},removeApp:function Yt(Ie){delete Ke[Ie]},useAsService:function Pt(Ie,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:H}};function Kt(Ie){if(!(0,a.r3)(Ke,Ie=Ie||H._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ie});return Ke[Ie]}return je.default=je,Object.defineProperty(je,"apps",{get:function ht(){return Object.keys(Ke).map(Ie=>Ke[Ie])}}),Kt.App=tn,je}(Re);return tn.INTERNAL=Object.assign(Object.assign({},tn.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function Ke(je){(0,a.ZB)(tn,je)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),tn}(),ce=new ke.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tn=self.firebase.SDK_VERSION;tn&&tn.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=le;!function mt(tn){(0,H.registerVersion)("@firebase/app-compat","0.1.31",tn)}()},9681:(un,ct,z)=>{z.r(ct),z.d(ct,{FirebaseError:()=>ke.ZR,SDK_VERSION:()=>to,_DEFAULT_ENTRY_NAME:()=>jn,_addComponent:()=>or,_addOrOverwriteComponent:()=>Jn,_apps:()=>Ir,_clearComponents:()=>qa,_components:()=>qr,_getProvider:()=>Pn,_registerComponent:()=>zn,_removeServiceInstance:()=>fs,deleteApp:()=>fn,getApp:()=>ri,getApps:()=>$o,initializeApp:()=>no,onLog:()=>ar,registerVersion:()=>gs,setLogLevel:()=>Ii});var a=z(5861),te=z(4859),H=z(1877),ke=z(2090),Re=z(8766);class We{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(fe=>{if(function Te(ne){return"VERSION"===ne.getComponent()?.type}(fe)){const ot=fe.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(fe=>fe).join(" ")}}const Ve="@firebase/app",le=new H.Yd("@firebase/app"),jn="[DEFAULT]",Lt={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ir=new Map,qr=new Map;function or(ne,de){try{ne.container.addComponent(de)}catch(fe){le.debug(`Component ${de.name} failed to register with FirebaseApp ${ne.name}`,fe)}}function Jn(ne,de){ne.container.addOrOverwriteComponent(de)}function zn(ne){const de=ne.name;if(qr.has(de))return le.debug(`There were multiple attempts to register component ${de}.`),!1;qr.set(de,ne);for(const fe of Ir.values())or(fe,ne);return!0}function Pn(ne,de){const fe=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return fe&&fe.triggerHeartbeat(),ne.container.getProvider(de)}function fs(ne,de,fe=jn){Pn(ne,de).clearInstance(fe)}function qa(){qr.clear()}const Vr=new ke.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zo{constructor(de,fe,ot){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},fe),this._name=fe.name,this._automaticDataCollectionEnabled=fe.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const to="9.9.2";function no(ne,de={}){"object"!=typeof de&&(de={name:de});const fe=Object.assign({name:jn,automaticDataCollectionEnabled:!1},de),ot=fe.name;if("string"!=typeof ot||!ot)throw Vr.create("bad-app-name",{appName:String(ot)});const It=Ir.get(ot);if(It){if((0,ke.vZ)(ne,It.options)&&(0,ke.vZ)(fe,It.config))return It;throw Vr.create("duplicate-app",{appName:ot})}const _n=new te.H0(ot);for(const fr of qr.values())_n.addComponent(fr);const hr=new zo(ne,fe,_n);return Ir.set(ot,hr),hr}function ri(ne=jn){const de=Ir.get(ne);if(!de)throw Vr.create("no-app",{appName:ne});return de}function $o(){return Array.from(Ir.values())}function fn(ne){return kr.apply(this,arguments)}function kr(){return(kr=(0,a.Z)(function*(ne){const de=ne.name;Ir.has(de)&&(Ir.delete(de),yield Promise.all(ne.container.getProviders().map(fe=>fe.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function gs(ne,de,fe){var ot;let It=null!==(ot=Lt[ne])&&void 0!==ot?ot:ne;fe&&(It+=`-${fe}`);const _n=It.match(/\s|\//),hr=de.match(/\s|\//);if(_n||hr){const fr=[`Unable to register library "${It}" with version "${de}":`];return _n&&fr.push(`library name "${It}" contains illegal characters (whitespace or "/")`),_n&&hr&&fr.push("and"),hr&&fr.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void le.warn(fr.join(" "))}zn(new te.wA(`${It}-version`,()=>({library:It,version:de}),"VERSION"))}function ar(ne,de){if(null!==ne&&"function"!=typeof ne)throw Vr.create("invalid-log-argument");(0,H.Am)(ne,de)}function Ii(ne){(0,H.Ub)(ne)}const Cr="firebase-heartbeat-store";let Ds=null;function Mr(){return Ds||(Ds=(0,Re.X3)("firebase-heartbeat-database",1,{upgrade:(ne,de)=>{0===de&&ne.createObjectStore(Cr)}}).catch(ne=>{throw Vr.create("idb-open",{originalErrorMessage:ne.message})})),Ds}function en(){return(en=(0,a.Z)(function*(ne){var de;try{return(yield Mr()).transaction(Cr).objectStore(Cr).get(Ur(ne))}catch(fe){if(fe instanceof ke.ZR)le.warn(fe.message);else{const ot=Vr.create("idb-get",{originalErrorMessage:null===(de=fe)||void 0===de?void 0:de.message});le.warn(ot.message)}}})).apply(this,arguments)}function Or(ne,de){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(ne,de){var fe;try{const It=(yield Mr()).transaction(Cr,"readwrite");return yield It.objectStore(Cr).put(de,Ur(ne)),It.done}catch(ot){if(ot instanceof ke.ZR)le.warn(ot.message);else{const It=Vr.create("idb-set",{originalErrorMessage:null===(fe=ot)||void 0===fe?void 0:fe.message});le.warn(It.message)}}})).apply(this,arguments)}function Ur(ne){return`${ne.name}!${ne.options.appId}`}class Is{constructor(de){this.container=de,this._heartbeatsCache=null;const fe=this.container.getProvider("app").getImmediate();this._storage=new Dn(fe),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var de=this;return(0,a.Z)(function*(){const ot=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=kn();if(null===de._heartbeatsCache&&(de._heartbeatsCache=yield de._heartbeatsCachePromise),de._heartbeatsCache.lastSentHeartbeatDate!==It&&!de._heartbeatsCache.heartbeats.some(_n=>_n.date===It))return de._heartbeatsCache.heartbeats.push({date:It,agent:ot}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(_n=>{const hr=new Date(_n.date).valueOf();return Date.now()-hr<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,a.Z)(function*(){if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null===de._heartbeatsCache||0===de._heartbeatsCache.heartbeats.length)return"";const fe=kn(),{heartbeatsToSend:ot,unsentEntries:It}=function ro(ne,de=1024){const fe=[];let ot=ne.slice();for(const It of ne){const _n=fe.find(hr=>hr.agent===It.agent);if(_n){if(_n.dates.push(It.date),ye(fe)>de){_n.dates.pop();break}}else if(fe.push({agent:It.agent,dates:[It.date]}),ye(fe)>de){fe.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:fe,unsentEntries:ot}}(de._heartbeatsCache.heartbeats),_n=(0,ke.L)(JSON.stringify({version:2,heartbeats:ot}));return de._heartbeatsCache.lastSentHeartbeatDate=fe,It.length>0?(de._heartbeatsCache.heartbeats=It,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),_n})()}}function kn(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ke.hl)()&&(0,ke.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,a.Z)(function*(){return(yield de._canUseIndexedDBPromise)&&(yield function rn(ne){return en.apply(this,arguments)}(de.app))||{heartbeats:[]}})()}overwrite(de){var fe=this;return(0,a.Z)(function*(){var ot;if(yield fe._canUseIndexedDBPromise){const _n=yield fe.read();return Or(fe.app,{lastSentHeartbeatDate:null!==(ot=de.lastSentHeartbeatDate)&&void 0!==ot?ot:_n.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var fe=this;return(0,a.Z)(function*(){var ot;if(yield fe._canUseIndexedDBPromise){const _n=yield fe.read();return Or(fe.app,{lastSentHeartbeatDate:null!==(ot=de.lastSentHeartbeatDate)&&void 0!==ot?ot:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...de.heartbeats]})}})()}}function ye(ne){return(0,ke.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function ae(ne){zn(new te.wA("platform-logger",de=>new We(de),"PRIVATE")),zn(new te.wA("heartbeat",de=>new Is(de),"PRIVATE")),gs(Ve,"0.7.30",ne),gs(Ve,"0.7.30","esm2017"),gs("fire-js","")}("")},4859:(un,ct,z)=>{z.d(ct,{H0:()=>Ve,wA:()=>H,zt:()=>Re});var a=z(5861),te=z(2090);class H{constructor(le,ce,be){this.name=le,this.instanceFactory=ce,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const ke="[DEFAULT]";class Re{constructor(le,ce){this.name=le,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const ce=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(ce)){const be=new te.BH;if(this.instancesDeferred.set(ce,be),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Dt=this.getOrInitializeService({instanceIdentifier:ce});Dt&&be.resolve(Dt)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(le){var ce;const be=this.normalizeInstanceIdentifier(le?.identifier),Dt=null!==(ce=le?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(mt){if(Dt)return null;throw mt}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Te(Ye){return"EAGER"===Ye.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:ke})}catch{}for(const[ce,be]of this.instancesDeferred.entries()){const Dt=this.normalizeInstanceIdentifier(ce);try{const mt=this.getOrInitializeService({instanceIdentifier:Dt});be.resolve(mt)}catch{}}}}clearInstance(le=ke){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,a.Z)(function*(){const ce=Array.from(le.instances.values());yield Promise.all([...ce.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ce.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=ke){return this.instances.has(le)}getOptions(le=ke){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:ce={}}=le,be=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Dt=this.getOrInitializeService({instanceIdentifier:be,options:ce});for(const[mt,et]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(mt)&&et.resolve(Dt);return Dt}onInit(le,ce){var be;const Dt=this.normalizeInstanceIdentifier(ce),mt=null!==(be=this.onInitCallbacks.get(Dt))&&void 0!==be?be:new Set;mt.add(le),this.onInitCallbacks.set(Dt,mt);const et=this.instances.get(Dt);return et&&le(et,Dt),()=>{mt.delete(le)}}invokeOnInitCallbacks(le,ce){const be=this.onInitCallbacks.get(ce);if(be)for(const Dt of be)try{Dt(le,ce)}catch{}}getOrInitializeService({instanceIdentifier:le,options:ce={}}){let be=this.instances.get(le);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=le,Ye===ke?void 0:Ye),options:ce}),this.instances.set(le,be),this.instancesOptions.set(le,ce),this.invokeOnInitCallbacks(be,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,be)}catch{}var Ye;return be||null}normalizeInstanceIdentifier(le=ke){return this.component?this.component.multipleInstances?le:ke:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const ce=this.getProvider(le.name);if(ce.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);ce.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const ce=new Re(le,this);return this.providers.set(le,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(un,ct,z)=>{z.d(ct,{Am:()=>Ye,Ub:()=>Ve,Yd:()=>Te,in:()=>te});const a=[];var te=(()=>{return(le=te||(te={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",te;var le})();const H={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ke=te.INFO,Re={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},We=(le,ce,...be)=>{if(ce<le.logLevel)return;const Dt=(new Date).toISOString(),mt=Re[ce];if(!mt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[mt](`[${Dt}]  ${le.name}:`,...be)};class Te{constructor(ce){this.name=ce,this._logLevel=ke,this._logHandler=We,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in te))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?H[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...ce),this._logHandler(this,te.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...ce),this._logHandler(this,te.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,te.INFO,...ce),this._logHandler(this,te.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,te.WARN,...ce),this._logHandler(this,te.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...ce),this._logHandler(this,te.ERROR,...ce)}}function Ve(le){a.forEach(ce=>{ce.setLogLevel(le)})}function Ye(le,ce){for(const be of a){let Dt=null;ce&&ce.level&&(Dt=H[ce.level]),be.userLogHandler=null===le?null:(mt,et,...tn)=>{const Ke=tn.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");et>=(Dt??mt.logLevel)&&le({level:te[et].toLowerCase(),message:Ke,args:tn,type:mt.name})}}}},8766:(un,ct,z)=>{z.d(ct,{Lj:()=>pt,X3:()=>Kt});var a=z(5861);let H,ke;const Te=new WeakMap,Ve=new WeakMap,Ye=new WeakMap,le=new WeakMap,ce=new WeakMap;let mt={get(Ne,Ze,ve){if(Ne instanceof IDBTransaction){if("done"===Ze)return Ve.get(Ne);if("objectStoreNames"===Ze)return Ne.objectStoreNames||Ye.get(Ne);if("store"===Ze)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return je(Ne[Ze])},set:(Ne,Ze,ve)=>(Ne[Ze]=ve,!0),has:(Ne,Ze)=>Ne instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in Ne};function Ke(Ne){return"function"==typeof Ne?function tn(Ne){return Ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ne)?function(...Ze){return Ne.apply(Yt(this),Ze),je(Te.get(this))}:function(...Ze){return je(Ne.apply(Yt(this),Ze))}:function(Ze,...ve){const Se=Ne.call(Yt(this),Ze,...ve);return Ye.set(Se,Ze.sort?Ze.sort():[Ze]),je(Se)}}(Ne):(Ne instanceof IDBTransaction&&function Dt(Ne){if(Ve.has(Ne))return;const Ze=new Promise((ve,Se)=>{const He=()=>{Ne.removeEventListener("complete",Me),Ne.removeEventListener("error",bt),Ne.removeEventListener("abort",bt)},Me=()=>{ve(),He()},bt=()=>{Se(Ne.error||new DOMException("AbortError","AbortError")),He()};Ne.addEventListener("complete",Me),Ne.addEventListener("error",bt),Ne.addEventListener("abort",bt)});Ve.set(Ne,Ze)}(Ne),((Ne,Ze)=>Ze.some(ve=>Ne instanceof ve))(Ne,function Re(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ne,mt):Ne)}function je(Ne){if(Ne instanceof IDBRequest)return function be(Ne){const Ze=new Promise((ve,Se)=>{const He=()=>{Ne.removeEventListener("success",Me),Ne.removeEventListener("error",bt)},Me=()=>{ve(je(Ne.result)),He()},bt=()=>{Se(Ne.error),He()};Ne.addEventListener("success",Me),Ne.addEventListener("error",bt)});return Ze.then(ve=>{ve instanceof IDBCursor&&Te.set(ve,Ne)}).catch(()=>{}),ce.set(Ze,Ne),Ze}(Ne);if(le.has(Ne))return le.get(Ne);const Ze=Ke(Ne);return Ze!==Ne&&(le.set(Ne,Ze),ce.set(Ze,Ne)),Ze}const Yt=Ne=>ce.get(Ne);function Kt(Ne,Ze,{blocked:ve,upgrade:Se,blocking:He,terminated:Me}={}){const bt=indexedDB.open(Ne,Ze),Ct=je(bt);return Se&&bt.addEventListener("upgradeneeded",pn=>{Se(je(bt.result),pn.oldVersion,pn.newVersion,je(bt.transaction))}),ve&&bt.addEventListener("blocked",()=>ve()),Ct.then(pn=>{Me&&pn.addEventListener("close",()=>Me()),He&&pn.addEventListener("versionchange",()=>He())}).catch(()=>{}),Ct}function pt(Ne,{blocked:Ze}={}){const ve=indexedDB.deleteDatabase(Ne);return Ze&&ve.addEventListener("blocked",()=>Ze()),je(ve).then(()=>{})}const ht=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],Pt=new Map;function Ie(Ne,Ze){if(!(Ne instanceof IDBDatabase)||Ze in Ne||"string"!=typeof Ze)return;if(Pt.get(Ze))return Pt.get(Ze);const ve=Ze.replace(/FromIndex$/,""),Se=Ze!==ve,He=tt.includes(ve);if(!(ve in(Se?IDBIndex:IDBObjectStore).prototype)||!He&&!ht.includes(ve))return;const Me=function(){var bt=(0,a.Z)(function*(Ct,...pn){const Qn=this.transaction(Ct,He?"readwrite":"readonly");let jn=Qn.store;return Se&&(jn=jn.index(pn.shift())),(yield Promise.all([jn[ve](...pn),He&&Qn.done]))[0]});return function(pn){return bt.apply(this,arguments)}}();return Pt.set(Ze,Me),Me}!function et(Ne){mt=Ne(mt)}(Ne=>({...Ne,get:(Ze,ve,Se)=>Ie(Ze,ve)||Ne.get(Ze,ve,Se),has:(Ze,ve)=>!!Ie(Ze,ve)||Ne.has(Ze,ve)}))},5861:(un,ct,z)=>{function a(H,ke,Re,We,Te,Ve,Ye){try{var le=H[Ve](Ye),ce=le.value}catch(be){return void Re(be)}le.done?ke(ce):Promise.resolve(ce).then(We,Te)}function te(H){return function(){var ke=this,Re=arguments;return new Promise(function(We,Te){var Ve=H.apply(ke,Re);function Ye(ce){a(Ve,We,Te,Ye,le,"next",ce)}function le(ce){a(Ve,We,Te,Ye,le,"throw",ce)}Ye(void 0)})}}z.d(ct,{Z:()=>te})}},un=>{un(un.s=929)}]);