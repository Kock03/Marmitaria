"use strict";(self.webpackChunkMarmitaria=self.webpackChunkMarmitaria||[]).push([[179],{440:(Zn,St,M)=>{M.d(St,{nm:()=>Zi});var _=M(5813);M(4650),M(5867);var xt=M(5861),Ue=M(9681),Ve=M(4859),at=M(2090),ze=M(1877);const nt=new Map,Qe={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function ae(zt){return nt.get(zt)||Qe}function _t(zt,Pt){nt.set(zt,Pt)}function Ne(){return Pe}class Kt{constructor(Pt,yn,zn,fr,Br){if(this.operation=Pt,this.retryPolicy=yn,this.getWaitDuration=zn,this.lowerBound=fr,this.upperBound=Br,this.pending=null,this.nextErrorWaitInterval=fr,fr>Br)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Pt){var yn=this;return(0,xt.Z)(function*(){yn.stop();try{yn.pending=new at.BH,yield function kn(zt){return new Promise(Pt=>{setTimeout(Pt,zt)})}(yn.getNextRun(Pt)),yn.pending.resolve(),yield yn.pending.promise,yn.pending=new at.BH,yield yn.operation(),yn.pending.resolve(),yield yn.pending.promise,yn.process(!0).catch(()=>{})}catch(zn){yn.retryPolicy(zn)?yn.process(!1).catch(()=>{}):yn.stop()}})()}getNextRun(Pt){if(Pt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const yn=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),yn}}}const cn=new at.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wt(zt){if(!ae(zt).activated)throw cn.create("use-before-activation",{appName:zt.name})}function dr(zt,Pt){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,xt.Z)(function*({url:zt,body:Pt},yn){var zn,fr;const Br={"Content-Type":"application/json"},si=yn.getImmediate({optional:!0});if(si){const ca=yield si.getHeartbeatsHeader();ca&&(Br["X-Firebase-Client"]=ca)}const Ls={method:"POST",body:JSON.stringify(Pt),headers:Br};let Hi,no;try{Hi=yield fetch(zt,Ls)}catch(ca){throw cn.create("fetch-network-error",{originalErrorMessage:null===(zn=ca)||void 0===zn?void 0:zn.message})}if(200!==Hi.status)throw cn.create("fetch-status-error",{httpStatus:Hi.status});try{no=yield Hi.json()}catch(ca){throw cn.create("fetch-parse-error",{originalErrorMessage:null===(fr=ca)||void 0===fr?void 0:fr.message})}const Go=no.ttl.match(/^([\d.]+)(s)$/);if(!Go||!Go[2]||isNaN(Number(Go[1])))throw cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${no.ttl}`});const rs=1e3*Number(Go[1]),ea=Date.now();return{token:no.token,expireTimeMillis:ea+rs,issuedAtTimeMillis:ea}})).apply(this,arguments)}function di(zt,Pt){const{projectId:yn,appId:zn,apiKey:fr}=zt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${yn}/apps/${zn}:exchangeDebugToken?key=${fr}`,body:{debug_token:Pt}}}const mr="firebase-app-check-store";let hi=null;function Yt(){return hi||(hi=new Promise((zt,Pt)=>{var yn;try{const zn=indexedDB.open("firebase-app-check-database",1);zn.onsuccess=fr=>{zt(fr.target.result)},zn.onerror=fr=>{var Br;Pt(cn.create("storage-open",{originalErrorMessage:null===(Br=fr.target.error)||void 0===Br?void 0:Br.message}))},zn.onupgradeneeded=fr=>{0===fr.oldVersion&&fr.target.result.createObjectStore(mr,{keyPath:"compositeKey"})}}catch(zn){Pt(cn.create("storage-open",{originalErrorMessage:null===(yn=zn)||void 0===yn?void 0:yn.message}))}}),hi)}function Hn(){return(Hn=(0,xt.Z)(function*(zt,Pt){const zn=(yield Yt()).transaction(mr,"readwrite"),Br=zn.objectStore(mr).put({compositeKey:zt,value:Pt});return new Promise((si,Ls)=>{Br.onsuccess=Hi=>{si()},zn.onerror=Hi=>{var no;Ls(cn.create("storage-set",{originalErrorMessage:null===(no=Hi.target.error)||void 0===no?void 0:no.message}))}})})).apply(this,arguments)}const Ht=new ze.Yd("@firebase/app-check");function vr(zt,Pt){return(0,at.hl)()?function Xe(zt,Pt){return function pn(zt,Pt){return Hn.apply(this,arguments)}(function Ye(zt){return`${zt.options.appId}-${zt.name}`}(zt),Pt)}(zt,Pt).catch(yn=>{Ht.warn(`Failed to write token to IndexedDB. Error: ${yn}`)}):Promise.resolve()}function Ke(){return Ne().enabled}function Y(){return V.apply(this,arguments)}function V(){return(V=(0,xt.Z)(function*(){const zt=Ne();if(zt.enabled&&zt.token)return zt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pe={error:"UNKNOWN_ERROR"};function ue(zt){return at.US.encodeString(JSON.stringify(zt),!1)}function se(zt){return be.apply(this,arguments)}function be(){return(be=(0,xt.Z)(function*(zt,Pt=!1){const yn=zt.app;Wt(yn);const zn=ae(yn);let Br,fr=zn.token;if(!fr){const Hi=yield zn.cachedTokenPromise;Hi&&de(Hi)&&(fr=Hi)}if(!Pt&&fr&&de(fr))return{token:fr.token};let Ls,si=!1;if(Ke()){zn.exchangeTokenPromise||(zn.exchangeTokenPromise=dr(di(yn,yield Y()),zt.heartbeatServiceProvider).then(no=>(zn.exchangeTokenPromise=void 0,no)),si=!0);const Hi=yield zn.exchangeTokenPromise;return yield vr(yn,Hi),_t(yn,Object.assign(Object.assign({},zn),{token:Hi})),{token:Hi.token}}try{zn.exchangeTokenPromise||(zn.exchangeTokenPromise=zn.provider.getToken().then(Hi=>(zn.exchangeTokenPromise=void 0,Hi)),si=!0),fr=yield zn.exchangeTokenPromise}catch(Hi){"appCheck/throttled"===Hi.code?Ht.warn(Hi.message):Ht.error(Hi),Br=Hi}return fr?(Ls={token:fr.token},_t(yn,Object.assign(Object.assign({},zn),{token:fr})),yield vr(yn,fr)):Ls=ke(Br),si&&Un(yn,Ls),Ls})).apply(this,arguments)}function Dt(zt,Pt){const yn=ae(zt),zn=yn.tokenObservers.filter(fr=>fr.next!==Pt);0===zn.length&&yn.tokenRefresher&&yn.tokenRefresher.isRunning()&&yn.tokenRefresher.stop(),_t(zt,Object.assign(Object.assign({},yn),{tokenObservers:zn}))}function jn(zt){const{app:Pt}=zt,yn=ae(Pt);let zn=yn.tokenRefresher;zn||(zn=function tr(zt){const{app:Pt}=zt;return new Kt((0,xt.Z)(function*(){let zn;if(zn=ae(Pt).token?yield se(zt,!0):yield se(zt),zn.error)throw zn.error}),()=>!0,()=>{const yn=ae(Pt);if(yn.token){let zn=yn.token.issuedAtTimeMillis+.5*(yn.token.expireTimeMillis-yn.token.issuedAtTimeMillis)+3e5;return zn=Math.min(zn,yn.token.expireTimeMillis-3e5),Math.max(0,zn-Date.now())}return 0},3e4,96e4)}(zt),_t(Pt,Object.assign(Object.assign({},yn),{tokenRefresher:zn}))),!zn.isRunning()&&yn.isTokenAutoRefreshEnabled&&zn.start()}function Un(zt,Pt){const yn=ae(zt).tokenObservers;for(const zn of yn)try{"EXTERNAL"===zn.type&&null!=Pt.error?zn.error(Pt.error):zn.next(Pt)}catch{}}function de(zt){return zt.expireTimeMillis-Date.now()>0}function ke(zt){return{token:ue(pe),error:zt}}class ve{constructor(Pt,yn){this.app=Pt,this.heartbeatServiceProvider=yn}_delete(){const{tokenObservers:Pt}=ae(this.app);for(const yn of Pt)Dt(this.app,yn.next);return Promise.resolve()}}const co="app-check-internal";!function Ks(){(0,Ue._registerComponent)(new Ve.wA("app-check",zt=>function tt(zt,Pt){return new ve(zt,Pt)}(zt.getProvider("app").getImmediate(),zt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((zt,Pt,yn)=>{zt.getProvider(co).initialize()})),(0,Ue._registerComponent)(new Ve.wA(co,zt=>function Tt(zt){return{getToken:Pt=>se(zt,Pt),addTokenListener:Pt=>function ot(zt,Pt,yn,zn){const{app:fr}=zt,Br=ae(fr),si={next:yn,error:zn,type:Pt};if(_t(fr,Object.assign(Object.assign({},Br),{tokenObservers:[...Br.tokenObservers,si]})),Br.token&&de(Br.token)){const Ls=Br.token;Promise.resolve().then(()=>{yn({token:Ls.token}),jn(zt)}).catch(()=>{})}Br.cachedTokenPromise.then(()=>jn(zt))}(zt,"INTERNAL",Pt),removeTokenListener:Pt=>Dt(zt.app,Pt)}}(zt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)("@firebase/app-check","0.5.12")}();class Zi{constructor(){return(0,_.vb)("app-check")}}typeof window<"u"&&window},1205:(Zn,St,M)=>{M.d(St,{zQ:()=>Je,ww:()=>Gt,rT:()=>Pe,f7:()=>_t,L6:()=>nt,_Q:()=>Qe,lh:()=>ae,Qv:()=>ze,nw:()=>Ne});var _=M(4650),d=M(7579),H=M(9646),ge=M(9751),Re=M(8996),Ae=M(6451),Ge=M(6063);class Oe extends d.x{constructor(Pn=1/0,Vn=1/0,sn=Ge.l){super(),this._bufferSize=Pn,this._windowTime=Vn,this._timestampProvider=sn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Vn===1/0,this._bufferSize=Math.max(1,Pn),this._windowTime=Math.max(1,Vn)}next(Pn){const{isStopped:Vn,_buffer:sn,_infiniteTimeWindow:Kt,_timestampProvider:kn,_windowTime:fn}=this;Vn||(sn.push(Pn),!Kt&&sn.push(kn.now()+fn)),this._trimBuffer(),super.next(Pn)}_subscribe(Pn){this._throwIfClosed(),this._trimBuffer();const Vn=this._innerSubscribe(Pn),{_infiniteTimeWindow:sn,_buffer:Kt}=this,kn=Kt.slice();for(let fn=0;fn<kn.length&&!Pn.closed;fn+=sn?1:2)Pn.next(kn[fn]);return this._checkFinalizedStatuses(Pn),Vn}_trimBuffer(){const{_bufferSize:Pn,_timestampProvider:Vn,_buffer:sn,_infiniteTimeWindow:Kt}=this,kn=(Kt?1:2)*Pn;if(Pn<1/0&&kn<sn.length&&sn.splice(0,sn.length-kn),!Kt){const fn=Vn.now();let cn=0;for(let mn=1;mn<sn.length&&sn[mn]<=fn;mn+=2)cn=mn;cn&&sn.splice(0,cn+1)}}}var me=M(3099);function Ce(qt,Pn,Vn){let sn,Kt=!1;return qt&&"object"==typeof qt?({bufferSize:sn=1/0,windowTime:Pn=1/0,refCount:Kt=!1,scheduler:Vn}=qt):sn=qt??1/0,(0,me.B)({connector:()=>new Oe(sn,Pn,Vn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Kt})}var xe=M(3900),Fe=M(576);function pt(qt,Pn){return(0,Fe.m)(Pn)?(0,xe.w)(()=>qt,Pn):(0,xe.w)(()=>qt)}var Et=M(5363),ct=M(4004),jt=M(590),Ft=M(9468),At=M(9300),en=M(5813),gn=M(2011),xt=M(6895),Ue=M(440),Ve=M(127);const ze=new _.OlP("angularfire2.auth.use-emulator"),nt=new _.OlP("angularfire2.auth.settings"),Qe=new _.OlP("angularfire2.auth.tenant-id"),Pe=new _.OlP("angularfire2.auth.langugage-code"),ae=new _.OlP("angularfire2.auth.use-device-language"),_t=new _.OlP("angularfire.auth.persistence"),Ne=(qt,Pn,Vn,sn,Kt,kn,fn,cn)=>(0,gn.cc)(`${qt.name}.auth`,"AngularFireAuth",qt.name,()=>{const mn=Pn.runOutsideAngular(()=>qt.auth());if(Vn&&mn.useEmulator(...Vn),sn&&(mn.tenantId=sn),mn.languageCode=Kt,kn&&mn.useDeviceLanguage(),fn)for(const[Wt,An]of Object.entries(fn))mn.settings[Wt]=An;return cn&&mn.setPersistence(cn),mn},[Vn,sn,Kt,kn,fn,cn]);let Je=(()=>{class qt{constructor(Vn,sn,Kt,kn,fn,cn,mn,Wt,An,Kn,dr,Lr){const ui=new d.x,Mr=(0,H.of)(void 0).pipe((0,Et.Q)(fn.outsideAngular),(0,xe.w)(()=>kn.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,ct.U)(()=>(0,gn.on)(Vn,kn,sn)),(0,ct.U)(di=>Ne(di,kn,cn,Wt,An,Kn,mn,dr)),Ce({bufferSize:1,refCount:!1}));if((0,xt.PM)(Kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{Mr.pipe((0,jt.P)()).subscribe();const jr=Mr.pipe((0,xe.w)(Hr=>Hr.getRedirectResult().then(hi=>hi,()=>null)),en.iC,Ce({bufferSize:1,refCount:!1})),xi=Mr.pipe((0,xe.w)(Hr=>new ge.y(hi=>({unsubscribe:kn.runOutsideAngular(()=>Hr.onAuthStateChanged(Yt=>hi.next(Yt),Yt=>hi.error(Yt),()=>hi.complete()))})))),mr=Mr.pipe((0,xe.w)(Hr=>new ge.y(hi=>({unsubscribe:kn.runOutsideAngular(()=>Hr.onIdTokenChanged(Yt=>hi.next(Yt),Yt=>hi.error(Yt),()=>hi.complete()))}))));this.authState=jr.pipe(pt(xi),(0,Ft.R)(fn.outsideAngular),(0,Et.Q)(fn.insideAngular)),this.user=jr.pipe(pt(mr),(0,Ft.R)(fn.outsideAngular),(0,Et.Q)(fn.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(Hr=>Hr?(0,Re.D)(Hr.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(Hr=>Hr?(0,Re.D)(Hr.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,Ae.T)(jr,ui,this.authState.pipe((0,At.h)(Hr=>!Hr))).pipe((0,ct.U)(Hr=>Hr?.user?Hr:null),(0,Ft.R)(fn.outsideAngular),(0,Et.Q)(fn.insideAngular))}return(0,gn.pX)(this,Mr,kn,{spy:{apply:(di,jr,xi)=>{(di.startsWith("signIn")||di.startsWith("createUser"))&&xi.then(mr=>ui.next(mr))}}})}}return qt.\u0275fac=function(Vn){return new(Vn||qt)(_.LFG(gn.Dh),_.LFG(gn.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(en.HU),_.LFG(ze,8),_.LFG(nt,8),_.LFG(Qe,8),_.LFG(Pe,8),_.LFG(ae,8),_.LFG(_t,8),_.LFG(Ue.nm,8))},qt.\u0275prov=_.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"any"}),qt})(),Gt=(()=>{class qt{constructor(){Ve.Z.registerVersion("angularfire",en.q4.full,"auth-compat")}}return qt.\u0275fac=function(Vn){return new(Vn||qt)},qt.\u0275mod=_.oAB({type:qt}),qt.\u0275inj=_.cJS({providers:[Je]}),qt})()},4206:(Zn,St,M)=>{M.d(St,{ST:()=>fn,yb:()=>cn});var _=M(4650),d=M(4986),H=M(9751),ge=M(8996),Re=M(9646),Ae=M(5813),Ge=M(4482),Oe=M(5403);function me(){return(0,Ge.e)((mn,Wt)=>{let An,Kn=!1;mn.subscribe((0,Oe.x)(Wt,dr=>{const Lr=An;An=dr,Kn&&Wt.next([Lr,dr]),Kn=!0}))})}var Ce=M(8675),xe=M(4004),Fe=M(5026),pt=M(1884),Et=M(9300),ct=M(2011),jt=M(6895),en=(M(5881),M(6533),M(1205)),gn=M(440),xt=M(127);function Ve(mn,Wt){return function Ue(mn,Wt=d.z){return new H.y(An=>{let Kn;return null!=Wt?Wt.schedule(()=>{Kn=mn.onSnapshot({includeMetadataChanges:!0},An)}):Kn=mn.onSnapshot({includeMetadataChanges:!0},An),()=>{Kn?.()}})}(mn,Wt)}function ze(mn,Wt){return Ve(mn,Wt).pipe((0,xe.U)(An=>({payload:An,type:"query"})))}function nt(mn,Wt){return ze(mn,Wt).pipe((0,Ce.O)(void 0),me(),(0,xe.U)(([An,Kn])=>{const dr=Kn.payload.docChanges(),Lr=dr.map(ui=>({type:ui.type,payload:ui}));return An&&JSON.stringify(An.payload.metadata)!==JSON.stringify(Kn.payload.metadata)&&Kn.payload.docs.forEach((ui,Mr)=>{const di=dr.find(xi=>xi.doc.ref.isEqual(ui.ref)),jr=An?.payload.docs.find(xi=>xi.ref.isEqual(ui.ref));di&&JSON.stringify(di.doc.metadata)===JSON.stringify(ui.metadata)||!di&&jr&&JSON.stringify(jr.metadata)===JSON.stringify(ui.metadata)||Lr.push({type:"modified",payload:{oldIndex:Mr,newIndex:Mr,type:"modified",doc:ui}})}),Lr}))}function Qe(mn,Wt,An){return nt(mn,An).pipe((0,Fe.R)((Kn,dr)=>function Pe(mn,Wt,An){return Wt.forEach(Kn=>{An.indexOf(Kn.type)>-1&&(mn=function _t(mn,Wt){switch(Wt.type){case"added":if(!mn[Wt.newIndex]||!mn[Wt.newIndex].doc.ref.isEqual(Wt.doc.ref))return ae(mn,Wt.newIndex,0,Wt);break;case"modified":if(null==mn[Wt.oldIndex]||mn[Wt.oldIndex].doc.ref.isEqual(Wt.doc.ref)){if(Wt.oldIndex!==Wt.newIndex){const An=mn.slice();return An.splice(Wt.oldIndex,1),An.splice(Wt.newIndex,0,Wt),An}return ae(mn,Wt.newIndex,1,Wt)}break;case"removed":if(mn[Wt.oldIndex]&&mn[Wt.oldIndex].doc.ref.isEqual(Wt.doc.ref))return ae(mn,Wt.oldIndex,1)}return mn}(mn,Kn))}),mn}(Kn,dr.map(Lr=>Lr.payload),Wt),[]),(0,pt.x)(),(0,xe.U)(Kn=>Kn.map(dr=>({type:dr.type,payload:dr}))))}function ae(mn,Wt,An,...Kn){const dr=mn.slice();return dr.splice(Wt,An,...Kn),dr}function Ne(mn){return(!mn||0===mn.length)&&(mn=["added","removed","modified"]),mn}class Je{constructor(Wt,An,Kn){this.ref=Wt,this.query=An,this.afs=Kn}stateChanges(Wt){let An=nt(this.query,this.afs.schedulers.outsideAngular);return Wt&&Wt.length>0&&(An=An.pipe((0,xe.U)(Kn=>Kn.filter(dr=>Wt.indexOf(dr.type)>-1)))),An.pipe((0,Ce.O)(void 0),me(),(0,Et.h)(([Kn,dr])=>dr.length>0||!Kn),(0,xe.U)(([Kn,dr])=>dr),Ae.iC)}auditTrail(Wt){return this.stateChanges(Wt).pipe((0,Fe.R)((An,Kn)=>[...An,...Kn],[]))}snapshotChanges(Wt){const An=Ne(Wt);return Qe(this.query,An,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(Wt={}){return ze(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(An=>An.payload.docs.map(Kn=>Wt.idField?Object.assign(Object.assign({},Kn.data()),{[Wt.idField]:Kn.id}):Kn.data())),Ae.iC)}get(Wt){return(0,ge.D)(this.query.get(Wt)).pipe(Ae.iC)}add(Wt){return this.ref.add(Wt)}doc(Wt){return new Gt(this.ref.doc(Wt),this.afs)}}class Gt{constructor(Wt,An){this.ref=Wt,this.afs=An}set(Wt,An){return this.ref.set(Wt,An)}update(Wt){return this.ref.update(Wt)}delete(){return this.ref.delete()}collection(Wt,An){const Kn=this.ref.collection(Wt),{ref:dr,query:Lr}=kn(Kn,An);return new Je(dr,Lr,this.afs)}snapshotChanges(){return function at(mn,Wt){return Ve(mn,Wt).pipe((0,Ce.O)(void 0),me(),(0,xe.U)(([An,Kn])=>Kn.exists?An?.exists?{payload:Kn,type:"modified"}:{payload:Kn,type:"added"}:{payload:Kn,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(Wt={}){return this.snapshotChanges().pipe((0,xe.U)(({payload:An})=>Wt.idField?Object.assign(Object.assign({},An.data()),{[Wt.idField]:An.id}):An.data()))}get(Wt){return(0,ge.D)(this.ref.get(Wt)).pipe(Ae.iC)}}class qt{constructor(Wt,An){this.query=Wt,this.afs=An}stateChanges(Wt){return Wt&&0!==Wt.length?nt(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(An=>An.filter(Kn=>Wt.indexOf(Kn.type)>-1)),(0,Et.h)(An=>An.length>0),Ae.iC):nt(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(Wt){return this.stateChanges(Wt).pipe((0,Fe.R)((An,Kn)=>[...An,...Kn],[]))}snapshotChanges(Wt){const An=Ne(Wt);return Qe(this.query,An,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(Wt={}){return ze(this.query,this.afs.schedulers.outsideAngular).pipe((0,xe.U)(Kn=>Kn.payload.docs.map(dr=>Wt.idField?Object.assign({[Wt.idField]:dr.id},dr.data()):dr.data())),Ae.iC)}get(Wt){return(0,ge.D)(this.query.get(Wt)).pipe(Ae.iC)}}const Pn=new _.OlP("angularfire2.enableFirestorePersistence"),Vn=new _.OlP("angularfire2.firestore.persistenceSettings"),sn=new _.OlP("angularfire2.firestore.settings"),Kt=new _.OlP("angularfire2.firestore.use-emulator");function kn(mn,Wt=(An=>An)){return{query:Wt(mn),ref:mn}}let fn=(()=>{class mn{constructor(An,Kn,dr,Lr,ui,Mr,di,jr,xi,mr,Hr,hi,Yt,fe,Xe,kt,tn){this.schedulers=di;const pn=(0,ct.on)(An,Mr,Kn),Hn=xi;mr&&(0,en.nw)(pn,Mr,Hr,Yt,fe,Xe,hi,kt),[this.firestore,this.persistenceEnabled$]=(0,ct.cc)(`${pn.name}.firestore`,"AngularFirestore",pn.name,()=>{const Rt=Mr.runOutsideAngular(()=>pn.firestore());if(Lr&&Rt.settings(Lr),Hn&&Rt.useEmulator(...Hn),dr&&!(0,jt.PM)(ui)){const st=()=>{try{return(0,ge.D)(Rt.enablePersistence(jr||void 0).then(()=>!0,()=>!1))}catch(Ye){return typeof console<"u"&&console.warn(Ye),(0,Re.of)(!1)}};return[Rt,Mr.runOutsideAngular(st)]}return[Rt,(0,Re.of)(!1)]},[Lr,Hn,dr])}collection(An,Kn){let dr;dr="string"==typeof An?this.firestore.collection(An):An;const{ref:Lr,query:ui}=kn(dr,Kn),Mr=this.schedulers.ngZone.run(()=>Lr);return new Je(Mr,ui,this)}collectionGroup(An,Kn){const dr=Kn||(ui=>ui),Lr=this.firestore.collectionGroup(An);return new qt(dr(Lr),this)}doc(An){let Kn;Kn="string"==typeof An?this.firestore.doc(An):An;const dr=this.schedulers.ngZone.run(()=>Kn);return new Gt(dr,this)}createId(){return this.firestore.collection("_").doc().id}}return mn.\u0275fac=function(An){return new(An||mn)(_.LFG(ct.Dh),_.LFG(ct.xv,8),_.LFG(Pn,8),_.LFG(sn,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ae.HU),_.LFG(Vn,8),_.LFG(Kt,8),_.LFG(en.zQ,8),_.LFG(en.Qv,8),_.LFG(en.L6,8),_.LFG(en._Q,8),_.LFG(en.rT,8),_.LFG(en.lh,8),_.LFG(en.f7,8),_.LFG(gn.nm,8))},mn.\u0275prov=_.Yz7({token:mn,factory:mn.\u0275fac,providedIn:"any"}),mn})(),cn=(()=>{class mn{constructor(){xt.Z.registerVersion("angularfire",Ae.q4.full,"fst-compat")}static enablePersistence(An){return{ngModule:mn,providers:[{provide:Pn,useValue:!0},{provide:Vn,useValue:An}]}}}return mn.\u0275fac=function(An){return new(An||mn)},mn.\u0275mod=_.oAB({type:mn}),mn.\u0275inj=_.cJS({providers:[fn]}),mn})()},2011:(Zn,St,M)=>{M.d(St,{Dh:()=>Oe,GT:()=>Ae,cc:()=>Et,hO:()=>pt,on:()=>Ce,pX:()=>Re,xv:()=>me});var _=M(4650),d=M(127),H=M(5813);Zn=M.hmd(Zn);const ge=["ngOnDestroy"],Re=(At,en,gn,xt={})=>new Proxy(At,{get:(Ue,Ve)=>gn.runOutsideAngular(()=>{var at;if(At[Ve])return!(null===(at=xt?.spy)||void 0===at)&&at.get&&xt.spy.get(Ve,At[Ve]),At[Ve];if(ge.indexOf(Ve)>-1)return()=>{};const ze=en.toPromise().then(nt=>{const Qe=nt&&nt[Ve];return"function"==typeof Qe?Qe.bind(nt):Qe&&Qe.then?Qe.then(Pe=>gn.run(()=>Pe)):gn.run(()=>Qe)});return new Proxy(()=>{},{get:(nt,Qe)=>ze[Qe],apply:(nt,Qe,Pe)=>ze.then(ae=>{var _t;const Ne=ae&&ae(...Pe);return!(null===(_t=xt?.spy)||void 0===_t)&&_t.apply&&xt.spy.apply(Ve,Pe,Ne),Ne})})})}),Ae=(At,en)=>{en.forEach(gn=>{Object.getOwnPropertyNames(gn.prototype||gn).forEach(xt=>{Object.defineProperty(At.prototype,xt,Object.getOwnPropertyDescriptor(gn.prototype||gn,xt))})})};class Ge{constructor(en){return en}}const Oe=new _.OlP("angularfire2.app.options"),me=new _.OlP("angularfire2.app.name");function Ce(At,en,gn){const Ue="object"==typeof gn&&gn||{};Ue.name=Ue.name||"string"==typeof gn&&gn||"[DEFAULT]";const at=d.Z.apps.filter(ze=>ze&&ze.name===Ue.name)[0]||en.runOutsideAngular(()=>d.Z.initializeApp(At,Ue));try{JSON.stringify(At)!==JSON.stringify(at.options)&&xe("error",`${at.name} Firebase App already initialized with different options${Zn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ge(at)}const xe=(At,...en)=>{(0,_.X6Q)()&&typeof console<"u"&&console[At](...en)},Fe={provide:Ge,useFactory:Ce,deps:[Oe,_.R0b,[new _.FiY,me]]};let pt=(()=>{class At{constructor(gn){d.Z.registerVersion("angularfire",H.q4.full,"core"),d.Z.registerVersion("angularfire",H.q4.full,"app-compat"),d.Z.registerVersion("angular",_.q4F.full,gn.toString())}static initializeApp(gn,xt){return{ngModule:At,providers:[{provide:Oe,useValue:gn},{provide:me,useValue:xt}]}}}return At.\u0275fac=function(gn){return new(gn||At)(_.LFG(_.Lbi))},At.\u0275mod=_.oAB({type:At}),At.\u0275inj=_.cJS({providers:[Fe]}),At})();function Et(At,en,gn,xt,Ue){const[,Ve,at]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===At)||[];if(Ve)return function ct(At,en){try{return At.toString()===en.toString()}catch{return At===en}}(Ue,at)||(Ft("error",`${en} was already initialized on the ${gn} Firebase App with different settings.${jt?" You may need to reload as Firebase is not HMR aware.":""}`),Ft("warn",{is:Ue,was:at})),Ve;{const ze=xt();return globalThis.\u0275AngularfireInstanceCache.push([At,ze,Ue]),ze}}const jt=!!Zn.hot,Ft=(At,...en)=>{(0,_.X6Q)()&&typeof console<"u"&&console[At](...en)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Zn,St,M)=>{M.d(St,{q4:()=>Ji,iC:()=>io,fc:()=>Dc,HU:()=>Ta,vb:()=>Tl,JM:()=>Cc});var _=M(4650),d=M(5867),H=M(5861),ge=M(9681),Re=M(2090),Ae=M(4859),Ge=M(1877),Oe=M(8766);const me="@firebase/installations",Ce="0.5.12",Fe=`w:${Ce}`,pt="FIS_v2",en=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gn(z){return z instanceof Re.ZR&&z.code.includes("request-failed")}function xt({projectId:z}){return`https://firebaseinstallations.googleapis.com/v1/projects/${z}/installations`}function Ue(z){return{token:z.token,requestStatus:2,expiresIn:ae(z.expiresIn),creationTime:Date.now()}}function Ve(z,te){return at.apply(this,arguments)}function at(){return(at=(0,H.Z)(function*(z,te){const lt=(yield te.json()).error;return en.create("request-failed",{requestName:z,serverCode:lt.code,serverMessage:lt.message,serverStatus:lt.status})})).apply(this,arguments)}function ze({apiKey:z}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z})}function nt(z,{refreshToken:te}){const we=ze(z);return we.append("Authorization",function _t(z){return`${pt} ${z}`}(te)),we}function Qe(z){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,H.Z)(function*(z){const te=yield z();return te.status>=500&&te.status<600?z():te})).apply(this,arguments)}function ae(z){return Number(z.replace("s","000"))}function Ne(z,te){return Je.apply(this,arguments)}function Je(){return(Je=(0,H.Z)(function*({appConfig:z,heartbeatServiceProvider:te},{fid:we}){const lt=xt(z),$t=ze(z),Cn=te.getImmediate({optional:!0});if(Cn){const li=yield Cn.getHeartbeatsHeader();li&&$t.append("x-firebase-client",li)}const Cr={method:"POST",headers:$t,body:JSON.stringify({fid:we,authVersion:pt,appId:z.appId,sdkVersion:Fe})},yi=yield Qe(()=>fetch(lt,Cr));if(yi.ok){const li=yield yi.json();return{fid:li.fid||we,registrationStatus:2,refreshToken:li.refreshToken,authToken:Ue(li.authToken)}}throw yield Ve("Create Installation",yi)})).apply(this,arguments)}function Gt(z){return new Promise(te=>{setTimeout(te,z)})}const Pn=/^[cdef][\w-]{21}$/;function sn(){try{const z=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(z),z[0]=112+z[0]%16;const we=function Kt(z){return function qt(z){return btoa(String.fromCharCode(...z)).replace(/\+/g,"-").replace(/\//g,"_")}(z).substr(0,22)}(z);return Pn.test(we)?we:""}catch{return""}}function kn(z){return`${z.appName}!${z.appId}`}const fn=new Map;function cn(z,te){const we=kn(z);An(we,te),function Kn(z,te){const we=function Lr(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=z=>{An(z.data.key,z.data.fid)}),dr}();we&&we.postMessage({key:z,fid:te}),function ui(){0===fn.size&&dr&&(dr.close(),dr=null)}()}(we,te)}function An(z,te){const we=fn.get(z);if(we)for(const lt of we)lt(te)}let dr=null;const jr="firebase-installations-store";let xi=null;function mr(){return xi||(xi=(0,Oe.X3)("firebase-installations-database",1,{upgrade:(z,te)=>{0===te&&z.createObjectStore(jr)}})),xi}function Hr(z,te){return hi.apply(this,arguments)}function hi(){return(hi=(0,H.Z)(function*(z,te){const we=kn(z),$t=(yield mr()).transaction(jr,"readwrite"),Cn=$t.objectStore(jr),lr=yield Cn.get(we);return yield Cn.put(te,we),yield $t.done,(!lr||lr.fid!==te.fid)&&cn(z,te.fid),te})).apply(this,arguments)}function Yt(z){return fe.apply(this,arguments)}function fe(){return(fe=(0,H.Z)(function*(z){const te=kn(z),lt=(yield mr()).transaction(jr,"readwrite");yield lt.objectStore(jr).delete(te),yield lt.done})).apply(this,arguments)}function Xe(z,te){return kt.apply(this,arguments)}function kt(){return(kt=(0,H.Z)(function*(z,te){const we=kn(z),$t=(yield mr()).transaction(jr,"readwrite"),Cn=$t.objectStore(jr),lr=yield Cn.get(we),Cr=te(lr);return void 0===Cr?yield Cn.delete(we):yield Cn.put(Cr,we),yield $t.done,Cr&&(!lr||lr.fid!==Cr.fid)&&cn(z,Cr.fid),Cr})).apply(this,arguments)}function tn(z){return pn.apply(this,arguments)}function pn(){return(pn=(0,H.Z)(function*(z){let te;const we=yield Xe(z.appConfig,lt=>{const $t=Hn(lt),Cn=Rt(z,$t);return te=Cn.registrationPromise,Cn.installationEntry});return""===we.fid?{installationEntry:yield te}:{installationEntry:we,registrationPromise:te}})).apply(this,arguments)}function Hn(z){return vr(z||{fid:sn(),registrationStatus:0})}function Rt(z,te){if(0===te.registrationStatus){if(!navigator.onLine)return{installationEntry:te,registrationPromise:Promise.reject(en.create("app-offline"))};const we={fid:te.fid,registrationStatus:1,registrationTime:Date.now()},lt=function st(z,te){return Ye.apply(this,arguments)}(z,we);return{installationEntry:we,registrationPromise:lt}}return 1===te.registrationStatus?{installationEntry:te,registrationPromise:Ht(z)}:{installationEntry:te}}function Ye(){return(Ye=(0,H.Z)(function*(z,te){try{const we=yield Ne(z,te);return Hr(z.appConfig,we)}catch(we){throw gn(we)&&409===we.customData.serverCode?yield Yt(z.appConfig):yield Hr(z.appConfig,{fid:te.fid,registrationStatus:0}),we}})).apply(this,arguments)}function Ht(z){return vn.apply(this,arguments)}function vn(){return(vn=(0,H.Z)(function*(z){let te=yield Dn(z.appConfig);for(;1===te.registrationStatus;)yield Gt(100),te=yield Dn(z.appConfig);if(0===te.registrationStatus){const{installationEntry:we,registrationPromise:lt}=yield tn(z);return lt||we}return te})).apply(this,arguments)}function Dn(z){return Xe(z,te=>{if(!te)throw en.create("installation-not-found");return vr(te)})}function vr(z){return function Xt(z){return 1===z.registrationStatus&&z.registrationTime+1e4<Date.now()}(z)?{fid:z.fid,registrationStatus:0}:z}function gt(z,te){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,H.Z)(function*({appConfig:z,heartbeatServiceProvider:te},we){const lt=Y(z,we),$t=nt(z,we),Cn=te.getImmediate({optional:!0});if(Cn){const li=yield Cn.getHeartbeatsHeader();li&&$t.append("x-firebase-client",li)}const Cr={method:"POST",headers:$t,body:JSON.stringify({installation:{sdkVersion:Fe,appId:z.appId}})},yi=yield Qe(()=>fetch(lt,Cr));if(yi.ok)return Ue(yield yi.json());throw yield Ve("Generate Auth Token",yi)})).apply(this,arguments)}function Y(z,{fid:te}){return`${xt(z)}/${te}/authTokens:generate`}function V(z){return ne.apply(this,arguments)}function ne(){return(ne=(0,H.Z)(function*(z,te=!1){let we;const lt=yield Xe(z.appConfig,Cn=>{if(!Dt(Cn))throw en.create("not-registered");const lr=Cn.authToken;if(!te&&jn(lr))return Cn;if(1===lr.requestStatus)return we=pe(z,te),Cn;{if(!navigator.onLine)throw en.create("app-offline");const Cr=Un(Cn);return we=be(z,Cr),Cr}});return we?yield we:lt.authToken})).apply(this,arguments)}function pe(z,te){return ue.apply(this,arguments)}function ue(){return(ue=(0,H.Z)(function*(z,te){let we=yield se(z.appConfig);for(;1===we.authToken.requestStatus;)yield Gt(100),we=yield se(z.appConfig);const lt=we.authToken;return 0===lt.requestStatus?V(z,te):lt})).apply(this,arguments)}function se(z){return Xe(z,te=>{if(!Dt(te))throw en.create("not-registered");return function de(z){return 1===z.requestStatus&&z.requestTime+1e4<Date.now()}(te.authToken)?Object.assign(Object.assign({},te),{authToken:{requestStatus:0}}):te})}function be(z,te){return ot.apply(this,arguments)}function ot(){return(ot=(0,H.Z)(function*(z,te){try{const we=yield gt(z,te),lt=Object.assign(Object.assign({},te),{authToken:we});return yield Hr(z.appConfig,lt),we}catch(we){if(!gn(we)||401!==we.customData.serverCode&&404!==we.customData.serverCode){const lt=Object.assign(Object.assign({},te),{authToken:{requestStatus:0}});yield Hr(z.appConfig,lt)}else yield Yt(z.appConfig);throw we}})).apply(this,arguments)}function Dt(z){return void 0!==z&&2===z.registrationStatus}function jn(z){return 2===z.requestStatus&&!function tr(z){const te=Date.now();return te<z.creationTime||z.creationTime+z.expiresIn<te+36e5}(z)}function Un(z){const te={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},z),{authToken:te})}function ve(){return(ve=(0,H.Z)(function*(z){const te=z,{installationEntry:we,registrationPromise:lt}=yield tn(te);return lt?lt.catch(console.error):V(te).catch(console.error),we.fid})).apply(this,arguments)}function Tt(){return(Tt=(0,H.Z)(function*(z,te=!1){const we=z;return yield Ut(we),(yield V(we,te)).token})).apply(this,arguments)}function Ut(z){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,H.Z)(function*(z){const{registrationPromise:te}=yield tn(z);te&&(yield te)})).apply(this,arguments)}function Zt(z){return en.create("missing-app-config-values",{valueName:z})}const sr="installations",Xr=z=>{const te=z.getProvider("app").getImmediate(),we=function Vt(z){if(!z||!z.options)throw Zt("App Configuration");if(!z.name)throw Zt("App Name");const te=["projectId","apiKey","appId"];for(const we of te)if(!z.options[we])throw Zt(we);return{appName:z.name,projectId:z.options.projectId,apiKey:z.options.apiKey,appId:z.options.appId}}(te);return{app:te,appConfig:we,heartbeatServiceProvider:(0,ge._getProvider)(te,"heartbeat"),_delete:()=>Promise.resolve()}},Ar=z=>{const te=z.getProvider("app").getImmediate(),we=(0,ge._getProvider)(te,sr).getImmediate();return{getId:()=>function ke(z){return ve.apply(this,arguments)}(we),getToken:$t=>function tt(z){return Tt.apply(this,arguments)}(we,$t)}};(function $e(){(0,ge._registerComponent)(new Ae.wA(sr,Xr,"PUBLIC")),(0,ge._registerComponent)(new Ae.wA("installations-internal",Ar,"PRIVATE"))})(),(0,ge.registerVersion)(me,Ce),(0,ge.registerVersion)(me,Ce,"esm2017");const Jt="@firebase/remote-config",ni=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ba{constructor(te,we,lt,$t){this.client=te,this.storage=we,this.storageCache=lt,this.logger=$t}isCachedDataFresh(te,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const lt=Date.now()-we,$t=lt<=te;return this.logger.debug(`Config fetch cache check. Cache age millis: ${lt}. Cache max age millis (minimumFetchIntervalMillis setting): ${te}. Is cache hit: ${$t}.`),$t}fetch(te){var we=this;return(0,H.Z)(function*(){const[lt,$t]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if($t&&we.isCachedDataFresh(te.cacheMaxAgeMillis,lt))return $t;te.eTag=$t&&$t.eTag;const Cn=yield we.client.fetch(te),lr=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Cn.status&&lr.push(we.storage.setLastSuccessfulFetchResponse(Cn)),yield Promise.all(lr),Cn})()}}function pa(z=navigator){return z.languages&&z.languages[0]||z.language}class Jo{constructor(te,we,lt,$t,Cn,lr){this.firebaseInstallations=te,this.sdkVersion=we,this.namespace=lt,this.projectId=$t,this.apiKey=Cn,this.appId=lr}fetch(te){var we=this;return(0,H.Z)(function*(){var lt,$t,Cn;const[lr,Cr]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),li=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,Li={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":te.eTag||"*"},Rr={sdk_version:we.sdkVersion,app_instance_id:lr,app_instance_id_token:Cr,app_id:we.appId,language_code:pa()},ha={method:"POST",headers:Li,body:JSON.stringify(Rr)},fs=fetch(li,ha),hl=new Promise((Ic,Mo)=>{te.signal.addEventListener(()=>{const zl=new Error("The operation was aborted.");zl.name="AbortError",Mo(zl)})});let Al;try{yield Promise.race([fs,hl]),Al=yield fs}catch(Ic){let Mo="fetch-client-network";throw"AbortError"===(null===(lt=Ic)||void 0===lt?void 0:lt.name)&&(Mo="fetch-timeout"),ni.create(Mo,{originalErrorMessage:null===($t=Ic)||void 0===$t?void 0:$t.message})}let va=Al.status;const Wc=Al.headers.get("ETag")||void 0;let Ac,$c;if(200===Al.status){let Ic;try{Ic=yield Al.json()}catch(Mo){throw ni.create("fetch-client-parse",{originalErrorMessage:null===(Cn=Mo)||void 0===Cn?void 0:Cn.message})}Ac=Ic.entries,$c=Ic.state}if("INSTANCE_STATE_UNSPECIFIED"===$c?va=500:"NO_CHANGE"===$c?va=304:("NO_TEMPLATE"===$c||"EMPTY_CONFIG"===$c)&&(Ac={}),304!==va&&200!==va)throw ni.create("fetch-status",{httpStatus:va});return{status:va,eTag:Wc,config:Ac}})()}}class Pt{constructor(te,we){this.client=te,this.storage=we}fetch(te){var we=this;return(0,H.Z)(function*(){const lt=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch(te,lt)})()}attemptFetch(te,{throttleEndTimeMillis:we,backoffCount:lt}){var $t=this;return(0,H.Z)(function*(){yield function to(z,te){return new Promise((we,lt)=>{const $t=Math.max(te-Date.now(),0),Cn=setTimeout(we,$t);z.addEventListener(()=>{clearTimeout(Cn),lt(ni.create("fetch-throttle",{throttleEndTimeMillis:te}))})})}(te.signal,we);try{const Cn=yield $t.client.fetch(te);return yield $t.storage.deleteThrottleMetadata(),Cn}catch(Cn){if(!function zt(z){if(!(z instanceof Re.ZR&&z.customData))return!1;const te=Number(z.customData.httpStatus);return 429===te||500===te||503===te||504===te}(Cn))throw Cn;const lr={throttleEndTimeMillis:Date.now()+(0,Re.$s)(lt),backoffCount:lt+1};return yield $t.storage.setThrottleMetadata(lr),$t.attemptFetch(te,lr)}})()}}class fr{constructor(te,we,lt,$t,Cn){this.app=te,this._client=we,this._storageCache=lt,this._storage=$t,this._logger=Cn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Br(z,te){var we;const lt=z.target.error||void 0;return ni.create(te,{originalErrorMessage:lt&&(null===(we=lt)||void 0===we?void 0:we.message)})}const si="app_namespace_store";class Go{constructor(te,we,lt,$t=function no(){return new Promise((z,te)=>{var we;try{const lt=indexedDB.open("firebase_remote_config",1);lt.onerror=$t=>{te(Br($t,"storage-open"))},lt.onsuccess=$t=>{z($t.target.result)},lt.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(si,{keyPath:"compositeKey"})}}catch(lt){te(ni.create("storage-open",{originalErrorMessage:null===(we=lt)||void 0===we?void 0:we.message}))}})}()){this.appId=te,this.appName=we,this.namespace=lt,this.openDbPromise=$t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(te){return this.set("last_fetch_status",te)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(te){return this.set("last_successful_fetch_timestamp_millis",te)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(te){return this.set("last_successful_fetch_response",te)}getActiveConfig(){return this.get("active_config")}setActiveConfig(te){return this.set("active_config",te)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(te){return this.set("active_config_etag",te)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(te){return this.set("throttle_metadata",te)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(te){var we=this;return(0,H.Z)(function*(){const lt=yield we.openDbPromise;return new Promise(($t,Cn)=>{var lr;const yi=lt.transaction([si],"readonly").objectStore(si),li=we.createCompositeKey(te);try{const Li=yi.get(li);Li.onerror=Rr=>{Cn(Br(Rr,"storage-get"))},Li.onsuccess=Rr=>{const ha=Rr.target.result;$t(ha?ha.value:void 0)}}catch(Li){Cn(ni.create("storage-get",{originalErrorMessage:null===(lr=Li)||void 0===lr?void 0:lr.message}))}})})()}set(te,we){var lt=this;return(0,H.Z)(function*(){const $t=yield lt.openDbPromise;return new Promise((Cn,lr)=>{var Cr;const li=$t.transaction([si],"readwrite").objectStore(si),Li=lt.createCompositeKey(te);try{const Rr=li.put({compositeKey:Li,value:we});Rr.onerror=ha=>{lr(Br(ha,"storage-set"))},Rr.onsuccess=()=>{Cn()}}catch(Rr){lr(ni.create("storage-set",{originalErrorMessage:null===(Cr=Rr)||void 0===Cr?void 0:Cr.message}))}})})()}delete(te){var we=this;return(0,H.Z)(function*(){const lt=yield we.openDbPromise;return new Promise(($t,Cn)=>{var lr;const yi=lt.transaction([si],"readwrite").objectStore(si),li=we.createCompositeKey(te);try{const Li=yi.delete(li);Li.onerror=Rr=>{Cn(Br(Rr,"storage-delete"))},Li.onsuccess=()=>{$t()}}catch(Li){Cn(ni.create("storage-delete",{originalErrorMessage:null===(lr=Li)||void 0===lr?void 0:lr.message}))}})})()}createCompositeKey(te){return[this.appId,this.appName,this.namespace,te].join()}}class rs{constructor(te){this.storage=te}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var te=this;return(0,H.Z)(function*(){const we=te.storage.getLastFetchStatus(),lt=te.storage.getLastSuccessfulFetchTimestampMillis(),$t=te.storage.getActiveConfig(),Cn=yield we;Cn&&(te.lastFetchStatus=Cn);const lr=yield lt;lr&&(te.lastSuccessfulFetchTimestampMillis=lr);const Cr=yield $t;Cr&&(te.activeConfig=Cr)})()}setLastFetchStatus(te){return this.lastFetchStatus=te,this.storage.setLastFetchStatus(te)}setLastSuccessfulFetchTimestampMillis(te){return this.lastSuccessfulFetchTimestampMillis=te,this.storage.setLastSuccessfulFetchTimestampMillis(te)}setActiveConfig(te){return this.activeConfig=te,this.storage.setActiveConfig(te)}}function js(){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,H.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}!function ea(){(0,ge._registerComponent)(new Ae.wA("remote-config",function z(te,{instanceIdentifier:we}){const lt=te.getProvider("app").getImmediate(),$t=te.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,Re.hl)())throw ni.create("indexed-db-unavailable");const{projectId:Cn,apiKey:lr,appId:Cr}=lt.options;if(!Cn)throw ni.create("registration-project-id");if(!lr)throw ni.create("registration-api-key");if(!Cr)throw ni.create("registration-app-id");const yi=new Go(Cr,lt.name,we=we||"firebase"),li=new rs(yi),Li=new Ge.Yd(Jt);Li.logLevel=Ge.in.ERROR;const Rr=new Jo($t,ge.SDK_VERSION,we,Cn,lr,Cr),ha=new Pt(Rr,yi),fs=new ba(ha,yi,li,Li),hl=new fr(lt,fs,li,yi,Li);return function Ki(z){const te=(0,Re.m9)(z);te._initializePromise||(te._initializePromise=te._storageCache.loadFromStorage().then(()=>{te._isInitializationComplete=!0}))}(hl),hl},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Jt,"0.3.11"),(0,ge.registerVersion)(Jt,"0.3.11","esm2017")}();const wo="/firebase-messaging-sw.js",Eo="/firebase-cloud-messaging-push-scope",bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ta="google.c.a.c_id",ho="google.c.a.c_l",_l="google.c.a.ts",Ss="google.c.a.e";var cs=(()=>{return(z=cs||(cs={})).PUSH_RECEIVED="push-received",z.NOTIFICATION_CLICKED="notification-clicked",cs;var z})();function Ni(z){const te=new Uint8Array(z);return btoa(String.fromCharCode(...te)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ua(z){const we=(z+"=".repeat((4-z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),lt=atob(we),$t=new Uint8Array(lt.length);for(let Cn=0;Cn<lt.length;++Cn)$t[Cn]=lt.charCodeAt(Cn);return $t}const ga="fcm_token_details_db",Qa="fcm_token_object_Store";function is(z){return vl.apply(this,arguments)}function vl(){return vl=(0,H.Z)(function*(z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Cn=>Cn.name).includes(ga))return null;let te=null;return(yield(0,Oe.X3)(ga,5,{upgrade:(lt=(0,H.Z)(function*($t,Cn,lr,Cr){var yi;if(Cn<2||!$t.objectStoreNames.contains(Qa))return;const li=Cr.objectStore(Qa),Li=yield li.index("fcmSenderId").get(z);if(yield li.clear(),Li)if(2===Cn){const Rr=Li;if(!Rr.auth||!Rr.p256dh||!Rr.endpoint)return;te={token:Rr.fcmToken,createTime:null!==(yi=Rr.createTime)&&void 0!==yi?yi:Date.now(),subscriptionOptions:{auth:Rr.auth,p256dh:Rr.p256dh,endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:"string"==typeof Rr.vapidKey?Rr.vapidKey:Ni(Rr.vapidKey)}}}else if(3===Cn){const Rr=Li;te={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:Ni(Rr.auth),p256dh:Ni(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:Ni(Rr.vapidKey)}}}else if(4===Cn){const Rr=Li;te={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:Ni(Rr.auth),p256dh:Ni(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:Ni(Rr.vapidKey)}}}}),function(Cn,lr,Cr,yi){return lt.apply(this,arguments)})})).close(),yield(0,Oe.Lj)(ga),yield(0,Oe.Lj)("fcm_vapid_details_db"),yield(0,Oe.Lj)("undefined"),ti(te)?te:null;var lt}),vl.apply(this,arguments)}function ti(z){if(!z||!z.subscriptionOptions)return!1;const{subscriptionOptions:te}=z;return"number"==typeof z.createTime&&z.createTime>0&&"string"==typeof z.token&&z.token.length>0&&"string"==typeof te.auth&&te.auth.length>0&&"string"==typeof te.p256dh&&te.p256dh.length>0&&"string"==typeof te.endpoint&&te.endpoint.length>0&&"string"==typeof te.swScope&&te.swScope.length>0&&"string"==typeof te.vapidKey&&te.vapidKey.length>0}const Xa="firebase-messaging-store";let ma=null;function fo(){return ma||(ma=(0,Oe.X3)("firebase-messaging-database",1,{upgrade:(z,te)=>{0===te&&z.createObjectStore(Xa)}})),ma}function Ei(z){return Q.apply(this,arguments)}function Q(){return(Q=(0,H.Z)(function*(z){const te=wn(z),lt=yield(yield fo()).transaction(Xa).objectStore(Xa).get(te);if(lt)return lt;{const $t=yield is(z.appConfig.senderId);if($t)return yield De(z,$t),$t}})).apply(this,arguments)}function De(z,te){return X.apply(this,arguments)}function X(){return(X=(0,H.Z)(function*(z,te){const we=wn(z),$t=(yield fo()).transaction(Xa,"readwrite");return yield $t.objectStore(Xa).put(te,we),yield $t.done,te})).apply(this,arguments)}function Ie(z){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,H.Z)(function*(z){const te=wn(z),lt=(yield fo()).transaction(Xa,"readwrite");yield lt.objectStore(Xa).delete(te),yield lt.done})).apply(this,arguments)}function wn({appConfig:z}){return z.appId}const kr=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ds(z,te){return ji.apply(this,arguments)}function ji(){return(ji=(0,H.Z)(function*(z,te){var we;const lt=yield Wn(z),$t=Gi(te),Cn={method:"POST",headers:lt,body:JSON.stringify($t)};let lr;try{lr=yield(yield fetch(Ti(z.appConfig),Cn)).json()}catch(Cr){throw kr.create("token-subscribe-failed",{errorInfo:null===(we=Cr)||void 0===we?void 0:we.toString()})}if(lr.error)throw kr.create("token-subscribe-failed",{errorInfo:lr.error.message});if(!lr.token)throw kr.create("token-subscribe-no-token");return lr.token})).apply(this,arguments)}function hs(z,te){return ki.apply(this,arguments)}function ki(){return(ki=(0,H.Z)(function*(z,te){var we;const lt=yield Wn(z),$t=Gi(te.subscriptionOptions),Cn={method:"PATCH",headers:lt,body:JSON.stringify($t)};let lr;try{lr=yield(yield fetch(`${Ti(z.appConfig)}/${te.token}`,Cn)).json()}catch(Cr){throw kr.create("token-update-failed",{errorInfo:null===(we=Cr)||void 0===we?void 0:we.toString()})}if(lr.error)throw kr.create("token-update-failed",{errorInfo:lr.error.message});if(!lr.token)throw kr.create("token-update-no-token");return lr.token})).apply(this,arguments)}function Ts(z,te){return zi.apply(this,arguments)}function zi(){return(zi=(0,H.Z)(function*(z,te){var we;const $t={method:"DELETE",headers:yield Wn(z)};try{const lr=yield(yield fetch(`${Ti(z.appConfig)}/${te}`,$t)).json();if(lr.error)throw kr.create("token-unsubscribe-failed",{errorInfo:lr.error.message})}catch(Cn){throw kr.create("token-unsubscribe-failed",{errorInfo:null===(we=Cn)||void 0===we?void 0:we.toString()})}})).apply(this,arguments)}function Ti({projectId:z}){return`https://fcmregistrations.googleapis.com/v1/projects/${z}/registrations`}function Wn(z){return Or.apply(this,arguments)}function Or(){return(Or=(0,H.Z)(function*({appConfig:z,installations:te}){const we=yield te.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":z.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Gi({p256dh:z,auth:te,endpoint:we,vapidKey:lt}){const $t={web:{endpoint:we,auth:te,p256dh:z}};return lt!==bo&&($t.web.applicationPubKey=lt),$t}const As=6048e5;function Is(z){return Io.apply(this,arguments)}function Io(){return(Io=(0,H.Z)(function*(z){const te=yield wr(z.swRegistration,z.vapidKey),we={vapidKey:z.vapidKey,swScope:z.swRegistration.scope,endpoint:te.endpoint,auth:Ni(te.getKey("auth")),p256dh:Ni(te.getKey("p256dh"))},lt=yield Ei(z.firebaseDependencies);if(lt){if(zs(lt.subscriptionOptions,we))return Date.now()>=lt.createTime+As?q(z,{token:lt.token,createTime:Date.now(),subscriptionOptions:we}):lt.token;try{yield Ts(z.firebaseDependencies,lt.token)}catch($t){console.warn($t)}return Te(z.firebaseDependencies,we)}return Te(z.firebaseDependencies,we)})).apply(this,arguments)}function Oa(z){return J.apply(this,arguments)}function J(){return(J=(0,H.Z)(function*(z){const te=yield Ei(z.firebaseDependencies);te&&(yield Ts(z.firebaseDependencies,te.token),yield Ie(z.firebaseDependencies));const we=yield z.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function q(z,te){return j.apply(this,arguments)}function j(){return(j=(0,H.Z)(function*(z,te){try{const we=yield hs(z.firebaseDependencies,te),lt=Object.assign(Object.assign({},te),{token:we,createTime:Date.now()});return yield De(z.firebaseDependencies,lt),we}catch(we){throw yield Oa(z),we}})).apply(this,arguments)}function Te(z,te){return un.apply(this,arguments)}function un(){return(un=(0,H.Z)(function*(z,te){const lt={token:yield ds(z,te),createTime:Date.now(),subscriptionOptions:te};return yield De(z,lt),lt.token})).apply(this,arguments)}function wr(z,te){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,H.Z)(function*(z,te){return(yield z.pushManager.getSubscription())||z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ua(te)})})).apply(this,arguments)}function zs(z,te){return te.vapidKey===z.vapidKey&&te.endpoint===z.endpoint&&te.auth===z.auth&&te.p256dh===z.p256dh}function Lo(z){const te={from:z.from,collapseKey:z.collapse_key,messageId:z.fcmMessageId};return function Ai(z,te){if(!te.notification)return;z.notification={};const we=te.notification.title;we&&(z.notification.title=we);const lt=te.notification.body;lt&&(z.notification.body=lt);const $t=te.notification.image;$t&&(z.notification.image=$t)}(te,z),function yl(z,te){!te.data||(z.data=te.data)}(te,z),function Da(z,te){var we,lt,$t,Cn,lr;if(!(te.fcmOptions||null!==(we=te.notification)&&void 0!==we&&we.click_action))return;z.fcmOptions={};const Cr=null!==($t=null===(lt=te.fcmOptions)||void 0===lt?void 0:lt.link)&&void 0!==$t?$t:null===(Cn=te.notification)||void 0===Cn?void 0:Cn.click_action;Cr&&(z.fcmOptions.link=Cr);const yi=null===(lr=te.fcmOptions)||void 0===lr?void 0:lr.analytics_label;yi&&(z.fcmOptions.analyticsLabel=yi)}(te,z),te}function vc(z){return"object"==typeof z&&!!z&&ta in z}function ks(z,te){const we=[];for(let lt=0;lt<z.length;lt++)we.push(z.charAt(lt)),lt<te.length&&we.push(te.charAt(lt));return we.join("")}function Fa(z){return kr.create("missing-app-config-values",{valueName:z})}ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tc{constructor(te,we,lt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $t=function pu(z){if(!z||!z.options)throw Fa("App Configuration Object");if(!z.name)throw Fa("App Name");const te=["projectId","apiKey","appId","messagingSenderId"],{options:we}=z;for(const lt of te)if(!we[lt])throw Fa(lt);return{appName:z.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}(te);this.firebaseDependencies={app:te,appConfig:$t,installations:we,analyticsProvider:lt}}_delete(){return Promise.resolve()}}function ko(z){return al.apply(this,arguments)}function al(){return(al=(0,H.Z)(function*(z){var te;try{z.swRegistration=yield navigator.serviceWorker.register(wo,{scope:Eo}),z.swRegistration.update().catch(()=>{})}catch(we){throw kr.create("failed-service-worker-registration",{browserErrorMessage:null===(te=we)||void 0===te?void 0:te.message})}})).apply(this,arguments)}function Nl(z,te){return bi.apply(this,arguments)}function bi(){return(bi=(0,H.Z)(function*(z,te){if(!te&&!z.swRegistration&&(yield ko(z)),te||!z.swRegistration){if(!(te instanceof ServiceWorkerRegistration))throw kr.create("invalid-sw-registration");z.swRegistration=te}})).apply(this,arguments)}function na(z,te){return ll.apply(this,arguments)}function ll(){return(ll=(0,H.Z)(function*(z,te){te?z.vapidKey=te:z.vapidKey||(z.vapidKey=bo)})).apply(this,arguments)}function Yi(){return(Yi=(0,H.Z)(function*(z,te){if(!navigator)throw kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kr.create("permission-blocked");return yield na(z,te?.vapidKey),yield Nl(z,te?.serviceWorkerRegistration),Is(z)})).apply(this,arguments)}function nc(z,te,we){return xl.apply(this,arguments)}function xl(){return(xl=(0,H.Z)(function*(z,te,we){const lt=ss(te);(yield z.firebaseDependencies.analyticsProvider.get()).logEvent(lt,{message_id:we[ta],message_name:we[ho],message_time:we[_l],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ss(z){switch(z){case cs.NOTIFICATION_CLICKED:return"notification_open";case cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wl(){return(wl=(0,H.Z)(function*(z,te){const we=te.data;if(!we.isFirebaseMessaging)return;z.onMessageHandler&&we.messageType===cs.PUSH_RECEIVED&&("function"==typeof z.onMessageHandler?z.onMessageHandler(Lo(we)):z.onMessageHandler.next(Lo(we)));const lt=we.data;vc(lt)&&"1"===lt[Ss]&&(yield nc(z,we.messageType,lt))})).apply(this,arguments)}const Ys="@firebase/messaging",Qi=z=>{const te=new tc(z.getProvider("app").getImmediate(),z.getProvider("installations-internal").getImmediate(),z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function rc(z,te){return wl.apply(this,arguments)}(te,we)),te},gu=z=>{const te=z.getProvider("messaging").getImmediate();return{getToken:lt=>function yc(z,te){return Yi.apply(this,arguments)}(te,lt)}};function Uc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,H.Z)(function*(){try{yield(0,Re.eu)()}catch{return!1}return typeof window<"u"&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ms(){(0,ge._registerComponent)(new Ae.wA("messaging",Qi,"PUBLIC")),(0,ge._registerComponent)(new Ae.wA("messaging-internal",gu,"PRIVATE")),(0,ge.registerVersion)(Ys,"0.9.16"),(0,ge.registerVersion)(Ys,"0.9.16","esm2017")}();const Ja="analytics",cl="firebase_id",_a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_r="https://www.googletagmanager.com/gtag/js",Do=new Ge.Yd("@firebase/analytics");function mu(z){return Promise.all(z.map(te=>te.catch(we=>we)))}function Ju(z,te){const we=document.createElement("script");we.src=`${_r}?l=${z}&id=${te}`,we.async=!0,document.head.appendChild(we)}function Rs(z,te,we,lt,$t,Cn){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,H.Z)(function*(z,te,we,lt,$t,Cn){const lr=lt[$t];try{if(lr)yield te[lr];else{const yi=(yield mu(we)).find(li=>li.measurementId===$t);yi&&(yield te[yi.appId])}}catch(Cr){Do.error(Cr)}z("config",$t,Cn)})).apply(this,arguments)}function Xi(z,te,we,lt,$t){return Va.apply(this,arguments)}function Va(){return(Va=(0,H.Z)(function*(z,te,we,lt,$t){try{let Cn=[];if($t&&$t.send_to){let lr=$t.send_to;Array.isArray(lr)||(lr=[lr]);const Cr=yield mu(we);for(const yi of lr){const li=Cr.find(Rr=>Rr.measurementId===yi),Li=li&&te[li.appId];if(!Li){Cn=[];break}Cn.push(Li)}}0===Cn.length&&(Cn=Object.values(te)),yield Promise.all(Cn),z("event",lt,$t||{})}catch(Cn){Do.error(Cn)}})).apply(this,arguments)}function Vl(){const z=window.document.getElementsByTagName("script");for(const te of Object.values(z))if(te.src&&te.src.includes(_r))return te;return null}const Pi=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gi=new class Jr{constructor(te={},we=1e3){this.throttleMetadata=te,this.intervalMillis=we}getThrottleMetadata(te){return this.throttleMetadata[te]}setThrottleMetadata(te,we){this.throttleMetadata[te]=we}deleteThrottleMetadata(te){delete this.throttleMetadata[te]}};function sc(z){return new Headers({Accept:"application/json","x-goog-api-key":z})}function Fr(z){return on.apply(this,arguments)}function on(){return(on=(0,H.Z)(function*(z){var te;const{appId:we,apiKey:lt}=z,$t={method:"GET",headers:sc(lt)},Cn=_a.replace("{app-id}",we),lr=yield fetch(Cn,$t);if(200!==lr.status&&304!==lr.status){let Cr="";try{const yi=yield lr.json();null!==(te=yi.error)&&void 0!==te&&te.message&&(Cr=yi.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:lr.status,responseMessage:Cr})}return lr.json()})).apply(this,arguments)}function ir(z){return gs.apply(this,arguments)}function gs(){return(gs=(0,H.Z)(function*(z,te=gi,we){const{appId:lt,apiKey:$t,measurementId:Cn}=z.options;if(!lt)throw Pi.create("no-app-id");if(!$t){if(Cn)return{measurementId:Cn,appId:lt};throw Pi.create("no-api-key")}const lr=te.getThrottleMetadata(lt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cr=new _u;return setTimeout((0,H.Z)(function*(){Cr.abort()}),void 0!==we?we:6e4),Cl({appId:lt,apiKey:$t,measurementId:Cn},lr,Cr,te)})).apply(this,arguments)}function Cl(z,te,we){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,H.Z)(function*(z,{throttleEndTimeMillis:te,backoffCount:we},lt,$t=gi){var Cn,lr;const{appId:Cr,measurementId:yi}=z;try{yield xc(lt,te)}catch(li){if(yi)return Do.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yi} provided in the "measurementId" field in the local Firebase config. [${null===(Cn=li)||void 0===Cn?void 0:Cn.message}]`),{appId:Cr,measurementId:yi};throw li}try{const li=yield Fr(z);return $t.deleteThrottleMetadata(Cr),li}catch(li){const Li=li;if(!Gl(Li)){if($t.deleteThrottleMetadata(Cr),yi)return Do.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yi} provided in the "measurementId" field in the local Firebase config. [${Li?.message}]`),{appId:Cr,measurementId:yi};throw li}const Rr=503===Number(null===(lr=Li?.customData)||void 0===lr?void 0:lr.httpStatus)?(0,Re.$s)(we,$t.intervalMillis,30):(0,Re.$s)(we,$t.intervalMillis),ha={throttleEndTimeMillis:Date.now()+Rr,backoffCount:we+1};return $t.setThrottleMetadata(Cr,ha),Do.debug(`Calling attemptFetch again in ${Rr} millis`),Cl(z,ha,lt,$t)}})).apply(this,arguments)}function xc(z,te){return new Promise((we,lt)=>{const $t=Math.max(te-Date.now(),0),Cn=setTimeout(we,$t);z.addEventListener(()=>{clearTimeout(Cn),lt(Pi.create("fetch-throttle",{throttleEndTimeMillis:te}))})})}function Gl(z){if(!(z instanceof Re.ZR&&z.customData))return!1;const te=Number(z.customData.httpStatus);return 429===te||500===te||503===te||504===te}class _u{constructor(){this.listeners=[]}addEventListener(te){this.listeners.push(te)}abort(){this.listeners.forEach(te=>te())}}let zc,jl;function oc(){return(oc=(0,H.Z)(function*(z,te,we,lt,$t){if($t&&$t.global)z("event",we,lt);else{const Cn=yield te;z("event",we,Object.assign(Object.assign({},lt),{send_to:Cn}))}})).apply(this,arguments)}function Wi(z){jl=z}function ed(z){zc=z}function So(){return br.apply(this,arguments)}function br(){return(br=(0,H.Z)(function*(){var z;if(!(0,Re.hl)())return Do.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(te){return Do.warn(Pi.create("indexeddb-unavailable",{errorInfo:null===(z=te)||void 0===z?void 0:z.toString()}).message),!1}return!0})).apply(this,arguments)}function Us(){return(Us=(0,H.Z)(function*(z,te,we,lt,$t,Cn,lr){var Cr;const yi=ir(z);yi.then(fs=>{we[fs.measurementId]=fs.appId,z.options.measurementId&&fs.measurementId!==z.options.measurementId&&Do.warn(`The measurement ID in the local Firebase config (${z.options.measurementId}) does not match the measurement ID fetched from the server (${fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fs=>Do.error(fs)),te.push(yi);const li=So().then(fs=>{if(fs)return lt.getId()}),[Li,Rr]=yield Promise.all([yi,li]);Vl()||Ju(Cn,Li.measurementId),jl&&($t("consent","default",jl),Wi(void 0)),$t("js",new Date);const ha=null!==(Cr=lr?.config)&&void 0!==Cr?Cr:{};return ha.origin="firebase",ha.update=!0,null!=Rr&&(ha[cl]=Rr),$t("config",Li.measurementId,ha),zc&&($t("set",zc),ed(void 0)),Li.measurementId})).apply(this,arguments)}class Sn{constructor(te){this.app=te}_delete(){return delete Qs[this.app.options.appId],Promise.resolve()}}let Qs={},po=[];const Qn={};let ac,vi,Bo="dataLayer",Ec=!1;function Sl(z,te,we){!function ph(){const z=[];if((0,Re.ru)()&&z.push("This is a browser extension environment."),(0,Re.zI)()||z.push("Cookies are not available."),z.length>0){const te=z.map((lt,$t)=>`(${$t+1}) ${lt}`).join(" "),we=Pi.create("invalid-analytics-context",{errorInfo:te});Do.warn(we.message)}}();const lt=z.options.appId;if(!lt)throw Pi.create("no-app-id");if(!z.options.apiKey){if(!z.options.measurementId)throw Pi.create("no-api-key");Do.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${z.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qs[lt])throw Pi.create("already-exists",{id:lt});if(!Ec){!function El(z){let te=[];Array.isArray(window[z])?te=window[z]:window[z]=te}(Bo);const{wrappedGtag:Cn,gtagCore:lr}=function jc(z,te,we,lt,$t){let Cn=function(...lr){window[lt].push(arguments)};return window[$t]&&"function"==typeof window[$t]&&(Cn=window[$t]),window[$t]=function bl(z,te,we,lt){function Cn(){return(Cn=(0,H.Z)(function*(lr,Cr,yi){try{"event"===lr?yield Xi(z,te,we,Cr,yi):"config"===lr?yield Rs(z,te,we,lt,Cr,yi):"consent"===lr?z("consent","update",yi):z("set",Cr)}catch(li){Do.error(li)}})).apply(this,arguments)}return function $t(lr,Cr,yi){return Cn.apply(this,arguments)}}(Cn,z,te,we),{gtagCore:Cn,wrappedGtag:window[$t]}}(Qs,po,Qn,Bo,"gtag");vi=Cn,ac=lr,Ec=!0}return Qs[lt]=function Zs(z,te,we,lt,$t,Cn,lr){return Us.apply(this,arguments)}(z,po,Qn,te,ac,Bo,we),new Sn(z)}function yu(){return zo.apply(this,arguments)}function zo(){return(zo=(0,H.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}const Ws="@firebase/analytics",k="0.8.0";!function O(){(0,ge._registerComponent)(new Ae.wA(Ja,(te,{options:we})=>Sl(te.getProvider("app").getImmediate(),te.getProvider("installations-internal").getImmediate(),we),"PUBLIC")),(0,ge._registerComponent)(new Ae.wA("analytics-internal",function z(te){try{const we=te.getProvider(Ja).getImmediate();return{logEvent:(lt,$t,Cn)=>function $i(z,te,we,lt){z=(0,Re.m9)(z),function Dl(z,te,we,lt,$t){return oc.apply(this,arguments)}(vi,Qs[z.app.options.appId],te,we,lt).catch($t=>Do.error($t))}(we,lt,$t,Cn)}}catch(we){throw Pi.create("interop-component-reg-failed",{reason:we})}},"PRIVATE")),(0,ge.registerVersion)(Ws,k),(0,ge.registerVersion)(Ws,k,"esm2017")}();var I=M(4408),Z=M(7565);const qe=new class ye extends Z.v{}(class G extends I.o{constructor(te,we){super(te,we),this.scheduler=te,this.work=we}schedule(te,we=0){return we>0?super.schedule(te,we):(this.delay=we,this.state=te,this.scheduler.flush(this),this)}execute(te,we){return we>0||this.closed?super.execute(te,we):this._execute(te,we)}requestAsyncId(te,we,lt=0){return null!=lt&&lt>0||null==lt&&this.delay>0?super.requestAsyncId(te,we,lt):te.flush(this)}});var xn=M(4986),Er=M(8505),fi=M(5363),Pr=M(9468);const Ji=new _.GfV("7.4.1"),Mi="__angularfire_symbol__analyticsIsSupportedValue",To="__angularfire_symbol__analyticsIsSupported",Xs="__angularfire_symbol__remoteConfigIsSupportedValue",Ui="__angularfire_symbol__remoteConfigIsSupported",dl="__angularfire_symbol__messagingIsSupportedValue",Ha="__angularfire_symbol__messagingIsSupported";function Cc(z,te,we){if(te){if(1===te.length)return te[0];const Cn=te.filter(lr=>lr.app===we);if(1===Cn.length)return Cn[0]}return we.container.getProvider(z).getImmediate({optional:!0})}globalThis[To]||(globalThis[To]=yu().then(z=>globalThis[Mi]=z).catch(()=>globalThis[Mi]=!1)),globalThis[Ha]||(globalThis[Ha]=Uc().then(z=>globalThis[dl]=z).catch(()=>globalThis[dl]=!1)),globalThis[Ui]||(globalThis[Ui]=js().then(z=>globalThis[Xs]=z).catch(()=>globalThis[Xs]=!1));const Tl=(z,te)=>{const we=te?[te]:(0,d.C6)(),lt=[];return we.forEach($t=>{$t.container.getProvider(z).instances.forEach(lr=>{lt.includes(lr)||lt.push(lr)})}),lt};function Ga(){}class el{constructor(te,we=qe){this.zone=te,this.delegate=we}now(){return this.delegate.now()}schedule(te,we,lt){const $t=this.zone;return this.delegate.schedule(function(lr){$t.runGuarded(()=>{te.apply(this,[lr])})},we,lt)}}class kd{constructor(te){this.zone=te,this.task=null}call(te,we){const lt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),we.pipe((0,Er.b)({next:lt,complete:lt,error:lt})).subscribe(te).add(lt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ta=(()=>{class z{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new el(Zone.current)),this.insideAngular=we.run(()=>new el(Zone.current,xn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return z.\u0275fac=function(we){return new(we||z)(_.LFG(_.R0b))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function mo(){const z=globalThis.\u0275AngularFireScheduler;if(!z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return z}function Dc(z){return z.pipe((0,fi.Q)(mo().outsideAngular))}function io(z){return mo(),function Sc(z){return function(we){return(we=we.lift(new kd(z.ngZone))).pipe((0,Pr.R)(z.outsideAngular),(0,fi.Q)(z.insideAngular))}}(mo())(z)}},8084:(Zn,St,M)=>{M.d(St,{Bs:()=>At,IR:()=>Fe,Ot:()=>Ht,QI:()=>Ye,RK:()=>st,WU:()=>jt,g5:()=>ct,iR:()=>nt,wY:()=>Ft,yB:()=>Dn});var _=M(4650),d=M(6895),H=M(7579),ge=M(1135),Re=M(9751),Ae=M(6451),Ge=M(9300),Oe=M(8505);const Ce={provide:_.tb,useFactory:function me(Xt,gt){return()=>{if((0,d.NF)(gt)){const Ke=Array.from(Xt.querySelectorAll(`[class*=${xe}]`)),Y=/\bflex-layout-.+?\b/g;Ke.forEach(V=>{V.classList.contains(`${xe}ssr`)&&V.parentNode?V.parentNode.removeChild(V):V.className.replace(Y,"")})}}},deps:[d.K0,_.Lbi],multi:!0},xe="flex-layout-";let Fe=(()=>(()=>{class gt{}return gt.\u0275fac=function(Y){return new(Y||gt)},gt.\u0275mod=_.oAB({type:gt}),gt.\u0275inj=_.cJS({providers:[Ce]}),gt})())();class pt{constructor(gt=!1,Ke="all",Y="",V="",ne=0){this.matches=gt,this.mediaQuery=Ke,this.mqAlias=Y,this.suffix=V,this.priority=ne,this.property=""}clone(){return new pt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Et=(()=>(()=>{class gt{constructor(){this.stylesheet=new Map}addStyleToElement(Y,V,ne){const pe=this.stylesheet.get(Y);pe?pe.set(V,ne):this.stylesheet.set(Y,new Map([[V,ne]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(Y,V){const ne=this.stylesheet.get(Y);let pe="";if(ne){const ue=ne.get(V);("number"==typeof ue||"string"==typeof ue)&&(pe=ue+"")}return pe}}return gt.\u0275fac=function(Y){return new(Y||gt)},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt},token:gt,providedIn:"root"}),gt})())();const ct={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},jt=new _.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>ct}),Ft=new _.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),At=new _.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function en(Xt,gt){return Xt=Xt?Xt.clone():new pt,gt&&(Xt.mqAlias=gt.alias,Xt.mediaQuery=gt.mediaQuery,Xt.suffix=gt.suffix,Xt.priority=gt.priority),Xt}const gn="inline",xt=["row","column","row-reverse","column-reverse"];function at(Xt){if(Xt)switch(Xt.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":Xt="wrap-reverse";break;case"no":case"none":case"nowrap":Xt="nowrap";break;default:Xt="wrap"}return Xt}let nt=(()=>{class Xt{constructor(Ke,Y,V,ne){this.elementRef=Ke,this.styleBuilder=Y,this.styler=V,this.marshal=ne,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new H.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(Ke){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,Ke,this.marshal.activatedAlias)}ngOnChanges(Ke){Object.keys(Ke).forEach(Y=>{if(-1!==this.inputs.indexOf(Y)){const V=Y.split(".").slice(1).join(".");this.setValue(Ke[Y].currentValue,V)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(Ke=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),Ke)}addStyles(Ke,Y){const V=this.styleBuilder,ne=V.shouldCache;let pe=this.styleCache.get(Ke);(!pe||!ne)&&(pe=V.buildStyles(Ke,Y),ne&&this.styleCache.set(Ke,pe)),this.mru=Object.assign({},pe),this.applyStyleToElement(pe),V.sideEffect(Ke,pe,Y)}clearStyles(){Object.keys(this.mru).forEach(Ke=>{this.mru[Ke]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(Ke,Y=!1){if(Ke){const[V,ne]=this.styler.getFlowDirection(Ke);if(!ne&&Y){const pe=function Ue(Xt){let[gt,Ke,Y]=function Ve(Xt){Xt=Xt?Xt.toLowerCase():"";let[gt,Ke,Y]=Xt.split(" ");return xt.find(V=>V===gt)||(gt=xt[0]),Ke===gn&&(Ke=Y!==gn?Y:"",Y=gn),[gt,at(Ke),!!Y]}(Xt);return function ze(Xt,gt=null,Ke=!1){return{display:Ke?"inline-flex":"flex","box-sizing":"border-box","flex-direction":Xt,"flex-wrap":gt||null}}(gt,Ke,Y)}(V);this.styler.applyStyleToElements(pe,[Ke])}return V.trim()}return"row"}hasWrap(Ke){return this.styler.hasWrap(Ke)}applyStyleToElement(Ke,Y,V=this.nativeElement){this.styler.applyStyleToElement(V,Ke,Y)}setValue(Ke,Y){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,Ke,Y)}updateWithValue(Ke){this.currentValue!==Ke&&(this.addStyles(Ke),this.currentValue=Ke)}}return Xt.\u0275fac=function(Ke){_.$Z()},Xt.\u0275dir=_.lG2({type:Xt,features:[_.TTD]}),Xt})();const Qe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Pe="(orientation: portrait) and (max-width: 599.9px)",ae="(orientation: landscape) and (max-width: 959.9px)",_t="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",Ne="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",Je="(orientation: portrait) and (min-width: 840px)",Gt="(orientation: landscape) and (min-width: 1280px)",qt={HANDSET:`${Pe}, ${ae}`,TABLET:`${_t} , ${Ne}`,WEB:`${Je}, ${Gt} `,HANDSET_PORTRAIT:`${Pe}`,TABLET_PORTRAIT:`${_t} `,WEB_PORTRAIT:`${Je}`,HANDSET_LANDSCAPE:`${ae}`,TABLET_LANDSCAPE:`${Ne}`,WEB_LANDSCAPE:`${Gt}`},Pn=[{alias:"handset",priority:2e3,mediaQuery:qt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:qt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:qt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:qt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:qt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:qt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:qt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:qt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:qt.WEB_PORTRAIT,overlapping:!0}],sn=/(\.|-|_)/g;function Kt(Xt){let gt=Xt.length>0?Xt.charAt(0):"",Ke=Xt.length>1?Xt.slice(1):"";return gt.toUpperCase()+Ke}function cn(Xt,gt=[]){const Ke={};return Xt.forEach(Y=>{Ke[Y.alias]=Y}),gt.forEach(Y=>{Ke[Y.alias]?function Vn(Xt,...gt){if(null==Xt)throw TypeError("Cannot convert undefined or null to object");for(let Ke of gt)if(null!=Ke)for(let Y in Ke)Ke.hasOwnProperty(Y)&&(Xt[Y]=Ke[Y])}(Ke[Y.alias],Y):Ke[Y.alias]=Y}),function fn(Xt){return Xt.forEach(gt=>{gt.suffix||(gt.suffix=function kn(Xt){return Xt.replace(sn,"|").split("|").map(Kt).join("")}(gt.alias),gt.overlapping=!!gt.overlapping)}),Xt}(Object.keys(Ke).map(Y=>Ke[Y]))}const mn=new _.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const Xt=(0,_.f3M)(At),gt=(0,_.f3M)(jt),Ke=[].concat.apply([],(Xt||[]).map(V=>Array.isArray(V)?V:[V]));return cn((gt.disableDefaultBps?[]:Qe).concat(gt.addOrientationBps?Pn:[]),Ke)}});function Wt(Xt,gt){return(gt&&gt.priority||0)-(Xt&&Xt.priority||0)}function An(Xt,gt){return(Xt.priority||0)-(gt.priority||0)}let Kn=(()=>(()=>{class gt{constructor(Y){this.findByMap=new Map,this.items=[...Y].sort(An)}findByAlias(Y){return Y?this.findWithPredicate(Y,V=>V.alias==Y):null}findByQuery(Y){return this.findWithPredicate(Y,V=>V.mediaQuery==Y)}get overlappings(){return this.items.filter(Y=>1==Y.overlapping)}get aliases(){return this.items.map(Y=>Y.alias)}get suffixes(){return this.items.map(Y=>Y.suffix?Y.suffix:"")}findWithPredicate(Y,V){let ne=this.findByMap.get(Y);return ne||(ne=this.items.find(V)||null,this.findByMap.set(Y,ne)),ne||null}}return gt.\u0275fac=function(Y){return new(Y||gt)(_.LFG(mn))},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt((0,_.LFG)(mn))},token:gt,providedIn:"root"}),gt})())(),dr=(()=>(()=>{class gt{constructor(Y,V,ne){this._zone=Y,this._platformId=V,this._document=ne,this.source=new ge.X(new pt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const Y=[];return this.registry.forEach((V,ne)=>{V.matches&&Y.push(ne)}),Y}isActive(Y){const V=this.registry.get(Y);return V?V.matches:this.registerQuery(Y).some(ne=>ne.matches)}observe(Y,V=!1){if(Y&&Y.length){const ne=this._observable$.pipe((0,Ge.h)(ue=>!V||Y.indexOf(ue.mediaQuery)>-1)),pe=new Re.y(ue=>{const se=this.registerQuery(Y);if(se.length){const be=se.pop();se.forEach(ot=>{ue.next(ot)}),this.source.next(be)}ue.complete()});return(0,Ae.T)(pe,ne)}return this._observable$}registerQuery(Y){const V=Array.isArray(Y)?Y:[Y],ne=[];return function ui(Xt,gt){const Ke=Xt.filter(Y=>!Lr[Y]);if(Ke.length>0){const Y=Ke.join(", ");try{const V=gt.createElement("style");V.setAttribute("type","text/css"),V.styleSheet||V.appendChild(gt.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${Y} {.fx-query-test{ }}\n`)),gt.head.appendChild(V),Ke.forEach(ne=>Lr[ne]=V)}catch(V){console.error(V)}}}(V,this._document),V.forEach(pe=>{const ue=be=>{this._zone.run(()=>this.source.next(new pt(be.matches,pe)))};let se=this.registry.get(pe);se||(se=this.buildMQL(pe),se.addListener(ue),this.pendingRemoveListenerFns.push(()=>se.removeListener(ue)),this.registry.set(pe,se)),se.matches&&ne.push(new pt(!0,pe))}),ne}ngOnDestroy(){let Y;for(;Y=this.pendingRemoveListenerFns.pop();)Y()}buildMQL(Y){return function Mr(Xt,gt){return gt&&window.matchMedia("all").addListener?window.matchMedia(Xt):{matches:"all"===Xt||""===Xt,media:Xt,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(Y,(0,d.NF)(this._platformId))}}return gt.\u0275fac=function(Y){return new(Y||gt)(_.LFG(_.R0b),_.LFG(_.Lbi),_.LFG(d.K0))},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt((0,_.LFG)(_.R0b),(0,_.LFG)(_.Lbi),(0,_.LFG)(d.K0))},token:gt,providedIn:"root"}),gt})())();const Lr={},mr="print",Hr={alias:mr,mediaQuery:mr,priority:1e3};let hi=(()=>(()=>{class gt{constructor(Y,V,ne){this.breakpoints=Y,this.layoutConfig=V,this._document=ne,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Yt,this.deactivations=[]}withPrintQuery(Y){return[...Y,mr]}isPrintEvent(Y){return Y.mediaQuery.startsWith(mr)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(Y=>this.breakpoints.findByAlias(Y)).filter(Y=>null!==Y)}getEventBreakpoints({mediaQuery:Y}){const V=this.breakpoints.findByQuery(Y);return(V?[...this.printBreakPoints,V]:this.printBreakPoints).sort(Wt)}updateEvent(Y){let V=this.breakpoints.findByQuery(Y.mediaQuery);return this.isPrintEvent(Y)&&(V=this.getEventBreakpoints(Y)[0],Y.mediaQuery=V?V.mediaQuery:""),en(Y,V)}registerBeforeAfterPrintHooks(Y){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const V=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(Y,this.getEventBreakpoints(new pt(!0,mr))),Y.updateStyles())},ne=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(Y),Y.updateStyles())};this._document.defaultView.addEventListener("beforeprint",V),this._document.defaultView.addEventListener("afterprint",ne),this.beforePrintEventListeners.push(V),this.afterPrintEventListeners.push(ne)}interceptEvents(Y){return this.registerBeforeAfterPrintHooks(Y),V=>{this.isPrintEvent(V)?V.matches&&!this.isPrinting?(this.startPrinting(Y,this.getEventBreakpoints(V)),Y.updateStyles()):!V.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(Y),Y.updateStyles()):this.collectActivations(V)}}blockPropagation(){return Y=>!(this.isPrinting||this.isPrintEvent(Y))}startPrinting(Y,V){this.isPrinting=!0,Y.activatedBreakpoints=this.queue.addPrintBreakpoints(V)}stopPrinting(Y){Y.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(Y){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(Y.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const V=this.breakpoints.findByQuery(Y.mediaQuery);V&&(this.deactivations.push(V),this.deactivations.sort(Wt))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(Y=>this._document.defaultView.removeEventListener("beforeprint",Y)),this.afterPrintEventListeners.forEach(Y=>this._document.defaultView.removeEventListener("afterprint",Y))}}return gt.\u0275fac=function(Y){return new(Y||gt)(_.LFG(Kn),_.LFG(jt),_.LFG(d.K0))},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt((0,_.LFG)(Kn),(0,_.LFG)(jt),(0,_.LFG)(d.K0))},token:gt,providedIn:"root"}),gt})())();class Yt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(gt){return gt.push(Hr),gt.sort(Wt),gt.forEach(Ke=>this.addBreakpoint(Ke)),this.printBreakpoints}addBreakpoint(gt){gt&&void 0===this.printBreakpoints.find(Y=>Y.mediaQuery===gt.mediaQuery)&&(this.printBreakpoints=function fe(Xt){return!!Xt&&Xt.mediaQuery.startsWith(mr)}(gt)?[gt,...this.printBreakpoints]:[...this.printBreakpoints,gt])}clear(){this.printBreakpoints=[]}}function Rt(Xt){for(let gt in Xt){let Ke=Xt[gt]||"";switch(gt){case"display":Xt.display="flex"===Ke?["-webkit-flex","flex"]:"inline-flex"===Ke?["-webkit-inline-flex","inline-flex"]:Ke;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":Xt["-webkit-"+gt]=Ke;break;case"flex-direction":Ke=Ke||"row",Xt["-webkit-flex-direction"]=Ke,Xt["flex-direction"]=Ke;break;case"order":Xt.order=Xt["-webkit-"+gt]=isNaN(+Ke)?"0":Ke}}return Xt}let st=(()=>(()=>{class gt{constructor(Y,V,ne,pe){this._serverStylesheet=Y,this._serverModuleLoaded=V,this._platformId=ne,this.layoutConfig=pe}applyStyleToElement(Y,V,ne=null){let pe={};"string"==typeof V&&(pe[V]=ne,V=pe),pe=this.layoutConfig.disableVendorPrefixes?V:Rt(V),this._applyMultiValueStyleToElement(pe,Y)}applyStyleToElements(Y,V=[]){const ne=this.layoutConfig.disableVendorPrefixes?Y:Rt(Y);V.forEach(pe=>{this._applyMultiValueStyleToElement(ne,pe)})}getFlowDirection(Y){const V="flex-direction";let ne=this.lookupStyle(Y,V);return[ne||"row",this.lookupInlineStyle(Y,V)||(0,d.PM)(this._platformId)&&this._serverModuleLoaded?ne:""]}hasWrap(Y){return"wrap"===this.lookupStyle(Y,"flex-wrap")}lookupAttributeValue(Y,V){return Y.getAttribute(V)||""}lookupInlineStyle(Y,V){return(0,d.NF)(this._platformId)?Y.style.getPropertyValue(V):this._getServerStyle(Y,V)}lookupStyle(Y,V,ne=!1){let pe="";return Y&&((pe=this.lookupInlineStyle(Y,V))||((0,d.NF)(this._platformId)?ne||(pe=getComputedStyle(Y).getPropertyValue(V)):this._serverModuleLoaded&&(pe=this._serverStylesheet.getStyleForElement(Y,V)))),pe?pe.trim():""}_applyMultiValueStyleToElement(Y,V){Object.keys(Y).sort().forEach(ne=>{const pe=Y[ne],ue=Array.isArray(pe)?pe:[pe];ue.sort();for(let se of ue)se=se?se+"":"",(0,d.NF)(this._platformId)||!this._serverModuleLoaded?(0,d.NF)(this._platformId)?V.style.setProperty(ne,se):this._setServerStyle(V,ne,se):this._serverStylesheet.addStyleToElement(V,ne,se)})}_setServerStyle(Y,V,ne){V=V.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const pe=this._readStyleAttribute(Y);pe[V]=ne||"",this._writeStyleAttribute(Y,pe)}_getServerStyle(Y,V){return this._readStyleAttribute(Y)[V]||""}_readStyleAttribute(Y){const V={},ne=Y.getAttribute("style");if(ne){const pe=ne.split(/;+/g);for(let ue=0;ue<pe.length;ue++){const se=pe[ue].trim();if(se.length>0){const be=se.indexOf(":");if(-1===be)throw new Error(`Invalid CSS style: ${se}`);V[se.substr(0,be).trim()]=se.substr(be+1).trim()}}}return V}_writeStyleAttribute(Y,V){let ne="";for(const pe in V)V[pe]&&(ne+=pe+":"+V[pe]+";");Y.setAttribute("style",ne)}}return gt.\u0275fac=function(Y){return new(Y||gt)(_.LFG(Et),_.LFG(Ft),_.LFG(_.Lbi),_.LFG(jt))},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt((0,_.LFG)(Et),(0,_.LFG)(Ft),(0,_.LFG)(_.Lbi),(0,_.LFG)(jt))},token:gt,providedIn:"root"}),gt})())();class Ye{constructor(){this.shouldCache=!0}sideEffect(gt,Ke,Y){}}function Ht(Xt,gt="1",Ke="1"){let Y=[gt,Ke,Xt],V=Xt.indexOf("calc");if(V>0){Y[2]=vn(Xt.substring(V).trim());let ne=Xt.substr(0,V).trim().split(" ");2==ne.length&&(Y[0]=ne[0],Y[1]=ne[1])}else if(0==V)Y[2]=vn(Xt.trim());else{let ne=Xt.split(" ");Y=3===ne.length?ne:[gt,Ke,Xt]}return Y}function vn(Xt){return Xt.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Dn=(()=>(()=>{class gt{constructor(Y,V,ne){this.matchMedia=Y,this.breakpoints=V,this.hook=ne,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new H.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(Y){const V=this.findByQuery(Y.mediaQuery);V&&((Y=en(Y,V)).matches&&-1===this.activatedBreakpoints.indexOf(V)?(this.activatedBreakpoints.push(V),this.activatedBreakpoints.sort(Wt),this.updateStyles()):!Y.matches&&-1!==this.activatedBreakpoints.indexOf(V)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(V),1),this.activatedBreakpoints.sort(Wt),this.updateStyles()))}init(Y,V,ne,pe,ue=[]){vr(this.updateMap,Y,V,ne),vr(this.clearMap,Y,V,pe),this.buildElementKeyMap(Y,V),this.watchExtraTriggers(Y,V,ue)}getValue(Y,V,ne){const pe=this.elementMap.get(Y);if(pe){const ue=void 0!==ne?pe.get(ne):this.getActivatedValues(pe,V);if(ue)return ue.get(V)}}hasValue(Y,V){const ne=this.elementMap.get(Y);if(ne){const pe=this.getActivatedValues(ne,V);if(pe)return void 0!==pe.get(V)||!1}return!1}setValue(Y,V,ne,pe){let ue=this.elementMap.get(Y);if(ue){const be=(ue.get(pe)||new Map).set(V,ne);ue.set(pe,be),this.elementMap.set(Y,ue)}else ue=(new Map).set(pe,(new Map).set(V,ne)),this.elementMap.set(Y,ue);const se=this.getValue(Y,V);void 0!==se&&this.updateElement(Y,V,se)}trackValue(Y,V){return this.subject.asObservable().pipe((0,Ge.h)(ne=>ne.element===Y&&ne.key===V))}updateStyles(){this.elementMap.forEach((Y,V)=>{const ne=new Set(this.elementKeyMap.get(V));let pe=this.getActivatedValues(Y);pe&&pe.forEach((ue,se)=>{this.updateElement(V,se,ue),ne.delete(se)}),ne.forEach(ue=>{if(pe=this.getActivatedValues(Y,ue),pe){const se=pe.get(ue);this.updateElement(V,ue,se)}else this.clearElement(V,ue)})})}clearElement(Y,V){const ne=this.clearMap.get(Y);if(ne){const pe=ne.get(V);pe&&(pe(),this.subject.next({element:Y,key:V,value:""}))}}updateElement(Y,V,ne){const pe=this.updateMap.get(Y);if(pe){const ue=pe.get(V);ue&&(ue(ne),this.subject.next({element:Y,key:V,value:ne}))}}releaseElement(Y){const V=this.watcherMap.get(Y);V&&(V.forEach(pe=>pe.unsubscribe()),this.watcherMap.delete(Y));const ne=this.elementMap.get(Y);ne&&(ne.forEach((pe,ue)=>ne.delete(ue)),this.elementMap.delete(Y))}triggerUpdate(Y,V){const ne=this.elementMap.get(Y);if(ne){const pe=this.getActivatedValues(ne,V);pe&&(V?this.updateElement(Y,V,pe.get(V)):pe.forEach((ue,se)=>this.updateElement(Y,se,ue)))}}buildElementKeyMap(Y,V){let ne=this.elementKeyMap.get(Y);ne||(ne=new Set,this.elementKeyMap.set(Y,ne)),ne.add(V)}watchExtraTriggers(Y,V,ne){if(ne&&ne.length){let pe=this.watcherMap.get(Y);if(pe||(pe=new Map,this.watcherMap.set(Y,pe)),!pe.get(V)){const se=(0,Ae.T)(...ne).subscribe(()=>{const be=this.getValue(Y,V);this.updateElement(Y,V,be)});pe.set(V,se)}}}findByQuery(Y){return this.breakpoints.findByQuery(Y)}getActivatedValues(Y,V){for(let pe=0;pe<this.activatedBreakpoints.length;pe++){const se=Y.get(this.activatedBreakpoints[pe].alias);if(se&&(void 0===V||se.has(V)&&null!=se.get(V)))return se}const ne=Y.get("");return void 0===V||ne&&ne.has(V)?ne:void 0}observeActivations(){const V=this.breakpoints.items.map(ne=>ne.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(V)).pipe((0,Oe.b)(this.hook.interceptEvents(this)),(0,Ge.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return gt.\u0275fac=function(Y){return new(Y||gt)(_.LFG(dr),_.LFG(Kn),_.LFG(hi))},gt.\u0275prov=(0,_.Yz7)({factory:function(){return new gt((0,_.LFG)(dr),(0,_.LFG)(Kn),(0,_.LFG)(hi))},token:gt,providedIn:"root"}),gt})())();function vr(Xt,gt,Ke,Y){if(void 0!==Y){let V=Xt.get(gt);V||(V=new Map,Xt.set(gt,V)),V.set(Ke,Y)}}},4784:(Zn,St,M)=>{M.d(St,{Zl:()=>Gt,aT:()=>Vn});var _=M(4650),d=M(6895),H=M(8084),Ae=(M(1281),M(2722),M(1481));class Ve{constructor(Kt,kn,fn=!0){this.key=Kt,this.value=kn,this.key=fn?Kt.replace(/['"]/g,"").trim():Kt.trim(),this.value=fn?kn.replace(/['"]/g,"").trim():kn.trim(),this.value=this.value.replace(/;/,"")}}function at(sn){let Kt=typeof sn;return"object"===Kt?sn.constructor===Array?"array":sn.constructor===Set?"set":"object":Kt}function Pe(sn){const[Kt,...kn]=sn.split(":");return new Ve(Kt,kn.join(":"))}function ae(sn,Kt){return Kt.key&&(sn[Kt.key]=Kt.value),sn}let _t=(()=>(()=>{class Kt extends H.iR{constructor(fn,cn,mn,Wt,An,Kn,dr,Lr,ui){super(fn,null,cn,mn),this.sanitizer=Wt,this.ngStyleInstance=dr,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new d.PC(fn,An,Kn)),this.init();const Mr=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(Mr),this.isServer=Lr&&(0,d.PM)(ui)}updateWithValue(fn){const cn=this.buildStyleMap(fn);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),cn),this.isServer&&this.applyStyleToElement(cn),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(fn){const cn=mn=>this.sanitizer.sanitize(_.q3G.STYLE,mn)||"";if(fn)switch(at(fn)){case"string":return qt(function ze(sn,Kt=";"){return String(sn).trim().split(Kt).map(kn=>kn.trim()).filter(kn=>""!==kn)}(fn),cn);case"array":return qt(fn,cn);default:return function Qe(sn,Kt){let kn=[];return"set"===at(sn)?sn.forEach(fn=>kn.push(fn)):Object.keys(sn).forEach(fn=>{kn.push(`${fn}:${sn[fn]}`)}),function nt(sn,Kt){return sn.map(Pe).filter(fn=>!!fn).map(fn=>(Kt&&(fn.value=Kt(fn.value)),fn)).reduce(ae,{})}(kn,Kt)}(fn,cn)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return Kt.\u0275fac=function(fn){return new(fn||Kt)(_.Y36(_.SBq),_.Y36(H.RK),_.Y36(H.yB),_.Y36(Ae.H7),_.Y36(_.aQg),_.Y36(_.Qsj),_.Y36(d.PC,10),_.Y36(H.wY),_.Y36(_.Lbi))},Kt.\u0275dir=_.lG2({type:Kt,features:[_.qOj]}),Kt})())();const Ne=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let Gt=(()=>(()=>{class Kt extends _t{constructor(){super(...arguments),this.inputs=Ne}}return Kt.\u0275fac=function(){let kn;return function(cn){return(kn||(kn=_.n5z(Kt)))(cn||Kt)}}(),Kt.\u0275dir=_.lG2({type:Kt,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[_.qOj]}),Kt})())();function qt(sn,Kt){return sn.map(Pe).filter(fn=>!!fn).map(fn=>(Kt&&(fn.value=Kt(fn.value)),fn)).reduce(ae,{})}let Vn=(()=>(()=>{class Kt{}return Kt.\u0275fac=function(fn){return new(fn||Kt)},Kt.\u0275mod=_.oAB({type:Kt}),Kt.\u0275inj=_.cJS({imports:[H.IR]}),Kt})())()},1620:(Zn,St,M)=>{M.d(St,{o9:()=>Xr});var _=M(4650),d=M(6895),H=M(8084),ge=M(4784),Re=M(277);M(1281);let sr=(()=>(()=>{class $e{}return $e.\u0275fac=function(nn){return new(nn||$e)},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({imports:[H.IR]}),$e})())(),Xr=(()=>(()=>{class $e{constructor(nn,Gn){(0,d.PM)(Gn)&&!nn&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(nn,Gn=[]){return{ngModule:$e,providers:nn.serverLoaded?[{provide:H.WU,useValue:Object.assign(Object.assign({},H.g5),nn)},{provide:H.Bs,useValue:Gn,multi:!0},{provide:H.wY,useValue:!0}]:[{provide:H.WU,useValue:Object.assign(Object.assign({},H.g5),nn)},{provide:H.Bs,useValue:Gn,multi:!0}]}}}return $e.\u0275fac=function(nn){return new(nn||$e)(_.LFG(H.wY),_.LFG(_.Lbi))},$e.\u0275mod=_.oAB({type:$e}),$e.\u0275inj=_.cJS({imports:[Re.ae,ge.aT,sr,Re.ae,ge.aT,sr]}),$e})())()},277:(Zn,St,M)=>{M.d(St,{Wh:()=>Y,ae:()=>tr,xw:()=>Ft,yH:()=>kn});var _=M(4650),d=M(8084),H=M(445),Re=(M(7579),M(2722));const Ae="inline",Ge=["row","column","row-reverse","column-reverse"];function me(Un){Un=Un?Un.toLowerCase():"";let[de,ke,ve]=Un.split(" ");return Ge.find(tt=>tt===de)||(de=Ge[0]),ke===Ae&&(ke=ve!==Ae?ve:"",ve=Ae),[de,xe(ke),!!ve]}function Ce(Un){let[de]=me(Un);return de.indexOf("row")>-1}function xe(Un){if(Un)switch(Un.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":Un="wrap-reverse";break;case"no":case"none":case"nowrap":Un="nowrap";break;default:Un="wrap"}return Un}let pt=(()=>(()=>{class de extends d.QI{buildStyles(ve){return function Oe(Un){let[de,ke,ve]=me(Un);return function Fe(Un,de=null,ke=!1){return{display:ke?"inline-flex":"flex","box-sizing":"border-box","flex-direction":Un,"flex-wrap":de||null}}(de,ke,ve)}(ve)}}return de.\u0275fac=function(){let ke;return function(tt){return(ke||(ke=_.n5z(de)))(tt||de)}}(),de.\u0275prov=(0,_.Yz7)({factory:function(){return new de},token:de,providedIn:"root"}),de})())();const Et=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let jt=(()=>(()=>{class de extends d.iR{constructor(ve,tt,Tt,Ut){super(ve,Tt,tt,Ut),this.DIRECTIVE_KEY="layout",this.styleCache=At,this.init()}}return de.\u0275fac=function(ve){return new(ve||de)(_.Y36(_.SBq),_.Y36(d.RK),_.Y36(pt),_.Y36(d.yB))},de.\u0275dir=_.lG2({type:de,features:[_.qOj]}),de})())(),Ft=(()=>(()=>{class de extends jt{constructor(){super(...arguments),this.inputs=Et}}return de.\u0275fac=function(){let ke;return function(tt){return(ke||(ke=_.n5z(de)))(tt||de)}}(),de.\u0275dir=_.lG2({type:de,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[_.qOj]}),de})())();const At=new Map;function qt(Un,...de){if(null==Un)throw TypeError("Cannot convert undefined or null to object");for(let ke of de)if(null!=ke)for(let ve in ke)ke.hasOwnProperty(ve)&&(Un[ve]=ke[ve]);return Un}let Pn=(()=>(()=>{class de extends d.QI{constructor(ve){super(),this.layoutConfig=ve}buildStyles(ve,tt){let[Tt,Ut,...Fn]=ve.split(" "),Nn=Fn.join(" ");const bt=tt.direction.indexOf("column")>-1?"column":"row",ut=Ce(bt)?"max-width":"max-height",_e=Ce(bt)?"min-width":"min-height",ce=String(Nn).indexOf("calc")>-1,le=ce||"auto"===Nn,dt=String(Nn).indexOf("%")>-1&&!ce,Vt=String(Nn).indexOf("px")>-1||String(Nn).indexOf("rem")>-1||String(Nn).indexOf("em")>-1||String(Nn).indexOf("vw")>-1||String(Nn).indexOf("vh")>-1;let Zt=ce||Vt;Tt="0"==Tt?0:Tt,Ut="0"==Ut?0:Ut;const sr=!Tt&&!Ut;let nr={};const Xr={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(Nn||""){case"":const Ar=!1!==this.layoutConfig.useColumnBasisZero;Nn="row"===bt?"0%":Ar?"0.000000001px":"auto";break;case"initial":case"nogrow":Tt=0,Nn="auto";break;case"grow":Nn="100%";break;case"noshrink":Ut=0,Nn="auto";break;case"auto":break;case"none":Tt=0,Ut=0,Nn="auto";break;default:!Zt&&!dt&&!isNaN(Nn)&&(Nn+="%"),"0%"===Nn&&(Zt=!0),"0px"===Nn&&(Nn="0%"),nr=qt(Xr,ce?{"flex-grow":Tt,"flex-shrink":Ut,"flex-basis":Zt?Nn:"100%"}:{flex:`${Tt} ${Ut} ${Zt?Nn:"100%"}`})}return nr.flex||nr["flex-grow"]||(nr=qt(Xr,ce?{"flex-grow":Tt,"flex-shrink":Ut,"flex-basis":Nn}:{flex:`${Tt} ${Ut} ${Nn}`})),"0%"!==Nn&&"0px"!==Nn&&"0.000000001px"!==Nn&&"auto"!==Nn&&(nr[_e]=sr||Zt&&Tt?Nn:null,nr[ut]=sr||!le&&Ut?Nn:null),nr[_e]||nr[ut]?tt.hasWrap&&(nr[ce?"flex-basis":"flex"]=nr[ut]?ce?nr[ut]:`${Tt} ${Ut} ${nr[ut]}`:ce?nr[_e]:`${Tt} ${Ut} ${nr[_e]}`):nr=qt(Xr,ce?{"flex-grow":Tt,"flex-shrink":Ut,"flex-basis":Nn}:{flex:`${Tt} ${Ut} ${Nn}`}),qt(nr,{"box-sizing":"border-box"})}}return de.\u0275fac=function(ve){return new(ve||de)(_.LFG(d.WU))},de.\u0275prov=(0,_.Yz7)({factory:function(){return new de((0,_.LFG)(d.WU))},token:de,providedIn:"root"}),de})())();const Vn=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Kt=(()=>(()=>{class de extends d.iR{constructor(ve,tt,Tt,Ut,Fn){super(ve,Ut,tt,Fn),this.layoutConfig=Tt,this.marshal=Fn,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(ve){this.flexShrink=ve||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(ve){this.flexGrow=ve||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Re.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Re.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(ve){const Tt=ve.value.split(" ");this.direction=Tt[0],this.wrap=void 0!==Tt[1]&&"wrap"===Tt[1],this.triggerUpdate()}updateWithValue(ve){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Tt=this.direction,Ut=Tt.startsWith("row"),Fn=this.wrap;Ut&&Fn?this.styleCache=mn:Ut&&!Fn?this.styleCache=fn:!Ut&&Fn?this.styleCache=Wt:!Ut&&!Fn&&(this.styleCache=cn);const Nn=String(ve).replace(";",""),bt=(0,d.Ot)(Nn,this.flexGrow,this.flexShrink);this.addStyles(bt.join(" "),{direction:Tt,hasWrap:Fn})}triggerReflow(){const ve=this.activatedValue;if(void 0!==ve){const tt=(0,d.Ot)(ve+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,tt.join(" "))}}}return de.\u0275fac=function(ve){return new(ve||de)(_.Y36(_.SBq),_.Y36(d.RK),_.Y36(d.WU),_.Y36(Pn),_.Y36(d.yB))},de.\u0275dir=_.lG2({type:de,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[_.qOj]}),de})())(),kn=(()=>(()=>{class de extends Kt{constructor(){super(...arguments),this.inputs=Vn}}return de.\u0275fac=function(){let ke;return function(tt){return(ke||(ke=_.n5z(de)))(tt||de)}}(),de.\u0275dir=_.lG2({type:de,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[_.qOj]}),de})())();const fn=new Map,cn=new Map,mn=new Map,Wt=new Map;let vr=(()=>(()=>{class de extends d.QI{buildStyles(ve,tt){const Tt={},[Ut,Fn]=ve.split(" ");switch(Ut){case"center":Tt["justify-content"]="center";break;case"space-around":Tt["justify-content"]="space-around";break;case"space-between":Tt["justify-content"]="space-between";break;case"space-evenly":Tt["justify-content"]="space-evenly";break;case"end":case"flex-end":Tt["justify-content"]="flex-end";break;default:Tt["justify-content"]="flex-start"}switch(Fn){case"start":case"flex-start":Tt["align-items"]=Tt["align-content"]="flex-start";break;case"center":Tt["align-items"]=Tt["align-content"]="center";break;case"end":case"flex-end":Tt["align-items"]=Tt["align-content"]="flex-end";break;case"space-between":Tt["align-content"]="space-between",Tt["align-items"]="stretch";break;case"space-around":Tt["align-content"]="space-around",Tt["align-items"]="stretch";break;case"baseline":Tt["align-content"]="stretch",Tt["align-items"]="baseline";break;default:Tt["align-items"]=Tt["align-content"]="stretch"}return qt(Tt,{display:tt.inline?"inline-flex":"flex","flex-direction":tt.layout,"box-sizing":"border-box","max-width":"stretch"===Fn?Ce(tt.layout)?null:"100%":null,"max-height":"stretch"===Fn&&Ce(tt.layout)?"100%":null})}}return de.\u0275fac=function(){let ke;return function(tt){return(ke||(ke=_.n5z(de)))(tt||de)}}(),de.\u0275prov=(0,_.Yz7)({factory:function(){return new de},token:de,providedIn:"root"}),de})())();const Xt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Ke=(()=>(()=>{class de extends d.iR{constructor(ve,tt,Tt,Ut){super(ve,Tt,tt,Ut),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Re.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(ve){const tt=this.layout||"row",Tt=this.inline;"row"===tt&&Tt?this.styleCache=se:"row"!==tt||Tt?"row-reverse"===tt&&Tt?this.styleCache=ot:"row-reverse"!==tt||Tt?"column"===tt&&Tt?this.styleCache=be:"column"!==tt||Tt?"column-reverse"===tt&&Tt?this.styleCache=Dt:"column-reverse"===tt&&!Tt&&(this.styleCache=ue):this.styleCache=ne:this.styleCache=pe:this.styleCache=V,this.addStyles(ve,{layout:tt,inline:Tt})}onLayoutChange(ve){const tt=ve.value.split(" ");this.layout=tt[0],this.inline=ve.value.includes("inline"),Ge.find(Tt=>Tt===this.layout)||(this.layout="row"),this.triggerUpdate()}}return de.\u0275fac=function(ve){return new(ve||de)(_.Y36(_.SBq),_.Y36(d.RK),_.Y36(vr),_.Y36(d.yB))},de.\u0275dir=_.lG2({type:de,features:[_.qOj]}),de})())(),Y=(()=>(()=>{class de extends Ke{constructor(){super(...arguments),this.inputs=Xt}}return de.\u0275fac=function(){let ke;return function(tt){return(ke||(ke=_.n5z(de)))(tt||de)}}(),de.\u0275dir=_.lG2({type:de,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[_.qOj]}),de})())();const V=new Map,ne=new Map,pe=new Map,ue=new Map,se=new Map,be=new Map,ot=new Map,Dt=new Map;let tr=(()=>(()=>{class de{}return de.\u0275fac=function(ve){return new(ve||de)},de.\u0275mod=_.oAB({type:de}),de.\u0275inj=_.cJS({imports:[d.IR,H.vT]}),de})())()},6457:(Zn,St,M)=>{M.d(St,{$:()=>Ti,A:()=>xe,B:()=>Et,G:()=>Ar,H:()=>Qr,J:()=>Pt,L:()=>jn,M:()=>Bs,N:()=>_c,P:()=>xn,Q:()=>ta,R:()=>Vo,T:()=>ho,U:()=>bo,V:()=>cs,W:()=>Ni,X:()=>is,Y:()=>En,Z:()=>ds,_:()=>hs,a:()=>Ul,a0:()=>Is,a1:()=>Oa,a2:()=>q,a3:()=>Te,a4:()=>wr,a5:()=>zs,a6:()=>Ai,a7:()=>yl,a8:()=>vc,a9:()=>ks,aA:()=>fs,aB:()=>yi,aC:()=>Dc,aD:()=>ro,aE:()=>nr,aI:()=>sc,aL:()=>Ss,aa:()=>ko,ab:()=>Nl,ac:()=>na,af:()=>nc,ag:()=>ss,ah:()=>rc,ak:()=>Xa,al:()=>ic,an:()=>_r,ao:()=>Ba,ap:()=>ut,aq:()=>Qe,ar:()=>bt,as:()=>Ut,at:()=>gn,au:()=>dc,av:()=>Wc,aw:()=>xt,ax:()=>ze,ay:()=>ae,az:()=>tr,b:()=>Pi,c:()=>dl,d:()=>sf,e:()=>bc,f:()=>Sc,g:()=>lt,h:()=>z,i:()=>br,j:()=>lr,k:()=>lp,l:()=>k,m:()=>cp,o:()=>Oe,r:()=>I,s:()=>nd,u:()=>qe});var _=M(5861),d=M(2090),H=M(9681),ge=M(655),Re=M(1877),Ae=M(4859);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Et=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ct=function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),At=new Re.Yd("@firebase/auth");function en(R,...C){At.logLevel<=Re.in.ERROR&&At.error(`Auth (${H.SDK_VERSION}): ${R}`,...C)}function gn(R,...C){throw at(R,...C)}function xt(R,...C){return at(R,...C)}function Ue(R,C,S){const N=Object.assign(Object.assign({},ct()),{[C]:S});return new d.LL("auth","Firebase",N).create(C,{appName:R.name})}function Ve(R,C,S){if(!(C instanceof S))throw S.name!==C.constructor.name&&gn(R,"argument-error"),Ue(R,"argument-error",`Type of ${C.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(R,...C){if("string"!=typeof R){const S=C[0],N=[...C.slice(1)];return N[0]&&(N[0].appName=R.name),R._errorFactory.create(S,...N)}return jt.create(R,...C)}function ze(R,C,...S){if(!R)throw at(C,...S)}function nt(R){const C="INTERNAL ASSERTION FAILED: "+R;throw en(C),new Error(C)}function Qe(R,C){R||nt(C)}const Pe=new Map;function ae(R){Qe(R instanceof Function,"Expected a class definition");let C=Pe.get(R);return C?(Qe(C instanceof R,"Instance stored in cache mismatched with class"),C):(C=new R,Pe.set(R,C),C)}function Je(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function Gt(){return"http:"===qt()||"https:"===qt()}function qt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}class sn{constructor(C,S){this.shortDelay=C,this.longDelay=S,Qe(S>C,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function Pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kt(R,C){Qe(R.emulator,"Emulator should always be set here");const{url:S}=R.emulator;return C?`${S}${C.startsWith("/")?C.slice(1):C}`:S}class kn{static initialize(C,S,N){this.fetchImpl=C,S&&(this.headersImpl=S),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},cn=new sn(3e4,6e4);function mn(R,C){return R.tenantId&&!C.tenantId?Object.assign(Object.assign({},C),{tenantId:R.tenantId}):C}function Wt(R,C,S,N){return An.apply(this,arguments)}function An(){return(An=(0,_.Z)(function*(R,C,S,N,Ee={}){return Kn(R,Ee,(0,_.Z)(function*(){let je={},an={};N&&("GET"===C?an=N:je={body:JSON.stringify(N)});const rr=(0,d.xO)(Object.assign({key:R.config.apiKey},an)).slice(1),Gr=yield R._getAdditionalHeaders();return Gr["Content-Type"]="application/json",R.languageCode&&(Gr["X-Firebase-Locale"]=R.languageCode),kn.fetch()(Mr(R,R.config.apiHost,S,rr),Object.assign({method:C,headers:Gr,referrerPolicy:"no-referrer"},je))}))})).apply(this,arguments)}function Kn(R,C,S){return dr.apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(R,C,S){R._canInitEmulator=!1;const N=Object.assign(Object.assign({},fn),C);try{const Ee=new di(R),je=yield Promise.race([S(),Ee.promise]);Ee.clearNetworkTimeout();const an=yield je.json();if("needConfirmation"in an)throw jr(R,"account-exists-with-different-credential",an);if(je.ok&&!("errorMessage"in an))return an;{const rr=je.ok?an.errorMessage:an.error.message,[Gr,Nr]=rr.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gr)throw jr(R,"credential-already-in-use",an);if("EMAIL_EXISTS"===Gr)throw jr(R,"email-already-in-use",an);if("USER_DISABLED"===Gr)throw jr(R,"user-disabled",an);const Bi=N[Gr]||Gr.toLowerCase().replace(/[_\s]+/g,"-");if(Nr)throw Ue(R,Bi,Nr);gn(R,Bi)}}catch(Ee){if(Ee instanceof d.ZR)throw Ee;gn(R,"network-request-failed")}})).apply(this,arguments)}function Lr(R,C,S,N){return ui.apply(this,arguments)}function ui(){return(ui=(0,_.Z)(function*(R,C,S,N,Ee={}){const je=yield Wt(R,C,S,N,Ee);return"mfaPendingCredential"in je&&gn(R,"multi-factor-auth-required",{_serverResponse:je}),je})).apply(this,arguments)}function Mr(R,C,S,N){const Ee=`${C}${S}?${N}`;return R.config.emulator?Kt(R.config,Ee):`${R.config.apiScheme}://${Ee}`}class di{constructor(C){this.auth=C,this.timer=null,this.promise=new Promise((S,N)=>{this.timer=setTimeout(()=>N(xt(this.auth,"network-request-failed")),cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jr(R,C,S){const N={appName:R.name};S.email&&(N.email=S.email),S.phoneNumber&&(N.phoneNumber=S.phoneNumber);const Ee=xt(R,C,N);return Ee.customData._tokenResponse=S,Ee}function mr(){return(mr=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:delete",C)})).apply(this,arguments)}function Hr(R,C){return hi.apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function Yt(R,C){return fe.apply(this,arguments)}function fe(){return(fe=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:lookup",C)})).apply(this,arguments)}function Xe(R){if(R)try{const C=new Date(Number(R));if(!isNaN(C.getTime()))return C.toUTCString()}catch{}}function pn(){return(pn=(0,_.Z)(function*(R,C=!1){const S=(0,d.m9)(R),N=yield S.getIdToken(C),Ee=Rt(N);ze(Ee&&Ee.exp&&Ee.auth_time&&Ee.iat,S.auth,"internal-error");const je="object"==typeof Ee.firebase?Ee.firebase:void 0,an=je?.sign_in_provider;return{claims:Ee,token:N,authTime:Xe(Hn(Ee.auth_time)),issuedAtTime:Xe(Hn(Ee.iat)),expirationTime:Xe(Hn(Ee.exp)),signInProvider:an||null,signInSecondFactor:je?.sign_in_second_factor||null}})).apply(this,arguments)}function Hn(R){return 1e3*Number(R)}function Rt(R){var C;const[S,N,Ee]=R.split(".");if(void 0===S||void 0===N||void 0===Ee)return en("JWT malformed, contained fewer than 3 sections"),null;try{const je=(0,d.tV)(N);return je?JSON.parse(je):(en("Failed to decode base64 JWT payload"),null)}catch(je){return en("Caught error parsing JWT payload as JSON",null===(C=je)||void 0===C?void 0:C.toString()),null}}function Ye(R,C){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(R,C,S=!1){if(S)return C;try{return yield C}catch(N){throw N instanceof d.ZR&&vn(N)&&R.auth.currentUser===R&&(yield R.auth.signOut()),N}})).apply(this,arguments)}function vn({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}class Dn{constructor(C){this.user=C,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(C){var S;if(C){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const Ee=(null!==(S=this.user.stsTokenManager.expirationTime)&&void 0!==S?S:0)-Date.now()-3e5;return Math.max(0,Ee)}}schedule(C=!1){var S=this;if(!this.isRunning)return;const N=this.getInterval(C);this.timerId=setTimeout((0,_.Z)(function*(){yield S.iteration()}),N)}iteration(){var C=this;return(0,_.Z)(function*(){var S;try{yield C.user.getIdToken(!0)}catch(N){return void("auth/network-request-failed"===(null===(S=N)||void 0===S?void 0:S.code)&&C.schedule(!0))}C.schedule()})()}}class vr{constructor(C,S){this.createdAt=C,this.lastLoginAt=S,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xe(this.lastLoginAt),this.creationTime=Xe(this.createdAt)}_copy(C){this.createdAt=C.createdAt,this.lastLoginAt=C.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xt(R){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(R){var C;const S=R.auth,N=yield R.getIdToken(),Ee=yield Ye(R,Yt(S,{idToken:N}));ze(Ee?.users.length,S,"internal-error");const je=Ee.users[0];R._notifyReloadListener(je);const an=null!==(C=je.providerUserInfo)&&void 0!==C&&C.length?ne(je.providerUserInfo):[],rr=V(R.providerData,an),Bi=!!R.isAnonymous&&!(R.email&&je.passwordHash||rr?.length),Gs={uid:je.localId,displayName:je.displayName||null,photoURL:je.photoUrl||null,email:je.email||null,emailVerified:je.emailVerified||!1,phoneNumber:je.phoneNumber||null,tenantId:je.tenantId||null,providerData:rr,metadata:new vr(je.createdAt,je.lastLoginAt),isAnonymous:Bi};Object.assign(R,Gs)})).apply(this,arguments)}function Y(){return(Y=(0,_.Z)(function*(R){const C=(0,d.m9)(R);yield Xt(C),yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)})).apply(this,arguments)}function V(R,C){return[...R.filter(N=>!C.some(Ee=>Ee.providerId===N.providerId)),...C]}function ne(R){return R.map(C=>{var{providerId:S}=C,N=(0,ge._T)(C,["providerId"]);return{providerId:S,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function ue(){return(ue=(0,_.Z)(function*(R,C){const S=yield Kn(R,{},(0,_.Z)(function*(){const N=(0,d.xO)({grant_type:"refresh_token",refresh_token:C}).slice(1),{tokenApiHost:Ee,apiKey:je}=R.config,an=Mr(R,Ee,"/v1/token",`key=${je}`),rr=yield R._getAdditionalHeaders();return rr["Content-Type"]="application/x-www-form-urlencoded",kn.fetch()(an,{method:"POST",headers:rr,body:N})}));return{accessToken:S.access_token,expiresIn:S.expires_in,refreshToken:S.refresh_token}})).apply(this,arguments)}class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(C){ze(C.idToken,"internal-error"),ze(typeof C.idToken<"u","internal-error"),ze(typeof C.refreshToken<"u","internal-error");const S="expiresIn"in C&&typeof C.expiresIn<"u"?Number(C.expiresIn):function st(R){const C=Rt(R);return ze(C,"internal-error"),ze(typeof C.exp<"u","internal-error"),ze(typeof C.iat<"u","internal-error"),Number(C.exp)-Number(C.iat)}(C.idToken);this.updateTokensAndExpiration(C.idToken,C.refreshToken,S)}getToken(C,S=!1){var N=this;return(0,_.Z)(function*(){return ze(!N.accessToken||N.refreshToken,C,"user-token-expired"),S||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(C,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(C,S){var N=this;return(0,_.Z)(function*(){const{accessToken:Ee,refreshToken:je,expiresIn:an}=yield function pe(R,C){return ue.apply(this,arguments)}(C,S);N.updateTokensAndExpiration(Ee,je,Number(an))})()}updateTokensAndExpiration(C,S,N){this.refreshToken=S||null,this.accessToken=C||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(C,S){const{refreshToken:N,accessToken:Ee,expirationTime:je}=S,an=new se;return N&&(ze("string"==typeof N,"internal-error",{appName:C}),an.refreshToken=N),Ee&&(ze("string"==typeof Ee,"internal-error",{appName:C}),an.accessToken=Ee),je&&(ze("number"==typeof je,"internal-error",{appName:C}),an.expirationTime=je),an}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(C){this.accessToken=C.accessToken,this.refreshToken=C.refreshToken,this.expirationTime=C.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return nt("not implemented")}}function be(R,C){ze("string"==typeof R||typeof R>"u","internal-error",{appName:C})}class ot{constructor(C){var{uid:S,auth:N,stsTokenManager:Ee}=C,je=(0,ge._T)(C,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=S,this.auth=N,this.stsTokenManager=Ee,this.accessToken=Ee.accessToken,this.displayName=je.displayName||null,this.email=je.email||null,this.emailVerified=je.emailVerified||!1,this.phoneNumber=je.phoneNumber||null,this.photoURL=je.photoURL||null,this.isAnonymous=je.isAnonymous||!1,this.tenantId=je.tenantId||null,this.providerData=je.providerData?[...je.providerData]:[],this.metadata=new vr(je.createdAt||void 0,je.lastLoginAt||void 0)}getIdToken(C){var S=this;return(0,_.Z)(function*(){const N=yield Ye(S,S.stsTokenManager.getToken(S.auth,C));return ze(N,S.auth,"internal-error"),S.accessToken!==N&&(S.accessToken=N,yield S.auth._persistUserIfCurrent(S),S.auth._notifyListenersIfCurrent(S)),N})()}getIdTokenResult(C){return function tn(R){return pn.apply(this,arguments)}(this,C)}reload(){return function Ke(R){return Y.apply(this,arguments)}(this)}_assign(C){this!==C&&(ze(this.uid===C.uid,this.auth,"internal-error"),this.displayName=C.displayName,this.photoURL=C.photoURL,this.email=C.email,this.emailVerified=C.emailVerified,this.phoneNumber=C.phoneNumber,this.isAnonymous=C.isAnonymous,this.tenantId=C.tenantId,this.providerData=C.providerData.map(S=>Object.assign({},S)),this.metadata._copy(C.metadata),this.stsTokenManager._assign(C.stsTokenManager))}_clone(C){return new ot(Object.assign(Object.assign({},this),{auth:C,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(C){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=C,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(C){this.reloadListener?this.reloadListener(C):this.reloadUserInfo=C}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(C,S=!1){var N=this;return(0,_.Z)(function*(){let Ee=!1;C.idToken&&C.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(C),Ee=!0),S&&(yield Xt(N)),yield N.auth._persistUserIfCurrent(N),Ee&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var C=this;return(0,_.Z)(function*(){const S=yield C.getIdToken();return yield Ye(C,function xi(R,C){return mr.apply(this,arguments)}(C.auth,{idToken:S})),C.stsTokenManager.clearRefreshToken(),C.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(C=>Object.assign({},C)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(C,S){var N,Ee,je,an,rr,Gr,Nr,Bi;const Gs=null!==(N=S.displayName)&&void 0!==N?N:void 0,$l=null!==(Ee=S.email)&&void 0!==Ee?Ee:void 0,Mc=null!==(je=S.phoneNumber)&&void 0!==je?je:void 0,Eu=null!==(an=S.photoURL)&&void 0!==an?an:void 0,Mg=null!==(rr=S.tenantId)&&void 0!==rr?rr:void 0,ld=null!==(Gr=S._redirectEventId)&&void 0!==Gr?Gr:void 0,Xc=null!==(Nr=S.createdAt)&&void 0!==Nr?Nr:void 0,Il=null!==(Bi=S.lastLoginAt)&&void 0!==Bi?Bi:void 0,{uid:cf,emailVerified:up,isAnonymous:hc,providerData:bu,stsTokenManager:uf}=S;ze(cf&&uf,C,"internal-error");const Wo=se.fromJSON(this.name,uf);ze("string"==typeof cf,C,"internal-error"),be(Gs,C.name),be($l,C.name),ze("boolean"==typeof up,C,"internal-error"),ze("boolean"==typeof hc,C,"internal-error"),be(Mc,C.name),be(Eu,C.name),be(Mg,C.name),be(ld,C.name),be(Xc,C.name),be(Il,C.name);const as=new ot({uid:cf,auth:C,email:$l,emailVerified:up,displayName:Gs,isAnonymous:hc,photoURL:Eu,phoneNumber:Mc,tenantId:Mg,stsTokenManager:Wo,createdAt:Xc,lastLoginAt:Il});return bu&&Array.isArray(bu)&&(as.providerData=bu.map(Ci=>Object.assign({},Ci))),ld&&(as._redirectEventId=ld),as}static _fromIdTokenResponse(C,S,N=!1){return(0,_.Z)(function*(){const Ee=new se;Ee.updateFromServerResponse(S);const je=new ot({uid:S.localId,auth:C,stsTokenManager:Ee,isAnonymous:N});return yield Xt(je),je})()}}const jn=(()=>{class R{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(S,N){var Ee=this;return(0,_.Z)(function*(){Ee.storage[S]=N})()}_get(S){var N=this;return(0,_.Z)(function*(){const Ee=N.storage[S];return void 0===Ee?null:Ee})()}_remove(S){var N=this;return(0,_.Z)(function*(){delete N.storage[S]})()}_addListener(S,N){}_removeListener(S,N){}}return R.type="NONE",R})();function tr(R,C,S){return`firebase:${R}:${C}:${S}`}class Un{constructor(C,S,N){this.persistence=C,this.auth=S,this.userKey=N;const{config:Ee,name:je}=this.auth;this.fullUserKey=tr(this.userKey,Ee.apiKey,je),this.fullPersistenceKey=tr("persistence",Ee.apiKey,je),this.boundEventHandler=S._onStorageEvent.bind(S),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(C){return this.persistence._set(this.fullUserKey,C.toJSON())}getCurrentUser(){var C=this;return(0,_.Z)(function*(){const S=yield C.persistence._get(C.fullUserKey);return S?ot._fromJSON(C.auth,S):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(C){var S=this;return(0,_.Z)(function*(){if(S.persistence===C)return;const N=yield S.getCurrentUser();return yield S.removeCurrentUser(),S.persistence=C,N?S.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(C,S,N="authUser"){return(0,_.Z)(function*(){if(!S.length)return new Un(ae(jn),C,N);const Ee=(yield Promise.all(S.map(function(){var Nr=(0,_.Z)(function*(Bi){if(yield Bi._isAvailable())return Bi});return function(Bi){return Nr.apply(this,arguments)}}()))).filter(Nr=>Nr);let je=Ee[0]||ae(jn);const an=tr(N,C.config.apiKey,C.name);let rr=null;for(const Nr of S)try{const Bi=yield Nr._get(an);if(Bi){const Gs=ot._fromJSON(C,Bi);Nr!==je&&(rr=Gs),je=Nr;break}}catch{}const Gr=Ee.filter(Nr=>Nr._shouldAllowMigration);return je._shouldAllowMigration&&Gr.length?(je=Gr[0],rr&&(yield je._set(an,rr.toJSON())),yield Promise.all(S.map(function(){var Nr=(0,_.Z)(function*(Bi){if(Bi!==je)try{yield Bi._remove(an)}catch{}});return function(Bi){return Nr.apply(this,arguments)}}())),new Un(je,C,N)):new Un(je,C,N)})()}}function de(R){const C=R.toLowerCase();if(C.includes("opera/")||C.includes("opr/")||C.includes("opios/"))return"Opera";if(Tt(C))return"IEMobile";if(C.includes("msie")||C.includes("trident/"))return"IE";if(C.includes("edge/"))return"Edge";if(ke(C))return"Firefox";if(C.includes("silk/"))return"Silk";if(Fn(C))return"Blackberry";if(Nn(C))return"Webos";if(ve(C))return"Safari";if((C.includes("chrome/")||tt(C))&&!C.includes("edge/"))return"Chrome";if(Ut(C))return"Android";{const N=R.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===N?.length)return N[1]}return"Other"}function ke(R=(0,d.z$)()){return/firefox\//i.test(R)}function ve(R=(0,d.z$)()){const C=R.toLowerCase();return C.includes("safari/")&&!C.includes("chrome/")&&!C.includes("crios/")&&!C.includes("android")}function tt(R=(0,d.z$)()){return/crios\//i.test(R)}function Tt(R=(0,d.z$)()){return/iemobile/i.test(R)}function Ut(R=(0,d.z$)()){return/android/i.test(R)}function Fn(R=(0,d.z$)()){return/blackberry/i.test(R)}function Nn(R=(0,d.z$)()){return/webos/i.test(R)}function bt(R=(0,d.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function ut(R=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function le(R=(0,d.z$)()){return bt(R)||Ut(R)||Nn(R)||Fn(R)||/windows phone/i.test(R)||Tt(R)}function Vt(R,C=[]){let S;switch(R){case"Browser":S=de((0,d.z$)());break;case"Worker":S=`${de((0,d.z$)())}-${R}`;break;default:S=R}const N=C.length?C.join(","):"FirebaseCore-web";return`${S}/JsCore/${H.SDK_VERSION}/${N}`}class Zt{constructor(C){this.auth=C,this.queue=[]}pushCallback(C,S){const N=je=>new Promise((an,rr)=>{try{an(C(je))}catch(Gr){rr(Gr)}});N.onAbort=S,this.queue.push(N);const Ee=this.queue.length-1;return()=>{this.queue[Ee]=()=>Promise.resolve()}}runMiddleware(C){var S=this;return(0,_.Z)(function*(){var N;if(S.auth.currentUser===C)return;const Ee=[];try{for(const je of S.queue)yield je(C),je.onAbort&&Ee.push(je.onAbort)}catch(je){Ee.reverse();for(const an of Ee)try{an()}catch{}throw S.auth._errorFactory.create("login-blocked",{originalMessage:null===(N=je)||void 0===N?void 0:N.message})}})()}}class sr{constructor(C,S,N){this.app=C,this.heartbeatServiceProvider=S,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.beforeStateQueue=new Zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=C.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(C,S){var N=this;return S&&(this._popupRedirectResolver=ae(S)),this._initializationPromise=this.queue((0,_.Z)(function*(){var Ee,je;if(!N._deleted&&(N.persistenceManager=yield Un.create(N,C),!N._deleted)){if(null!==(Ee=N._popupRedirectResolver)&&void 0!==Ee&&Ee._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch{}yield N.initializeCurrentUser(S),N.lastNotifiedUid=(null===(je=N.currentUser)||void 0===je?void 0:je.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var C=this;return(0,_.Z)(function*(){if(C._deleted)return;const S=yield C.assertedPersistence.getCurrentUser();if(C.currentUser||S){if(C.currentUser&&S&&C.currentUser.uid===S.uid)return C._currentUser._assign(S),void(yield C.currentUser.getIdToken());yield C._updateCurrentUser(S,!0)}})()}initializeCurrentUser(C){var S=this;return(0,_.Z)(function*(){var N;const Ee=yield S.assertedPersistence.getCurrentUser();let je=Ee,an=!1;if(C&&S.config.authDomain){yield S.getOrInitRedirectPersistenceManager();const rr=null===(N=S.redirectUser)||void 0===N?void 0:N._redirectEventId,Gr=je?._redirectEventId,Nr=yield S.tryRedirectSignIn(C);(!rr||rr===Gr)&&Nr?.user&&(je=Nr.user,an=!0)}if(!je)return S.directlySetCurrentUser(null);if(!je._redirectEventId){if(an)try{yield S.beforeStateQueue.runMiddleware(je)}catch(rr){je=Ee,S._popupRedirectResolver._overrideRedirectResult(S,()=>Promise.reject(rr))}return je?S.reloadAndSetCurrentUserOrClear(je):S.directlySetCurrentUser(null)}return ze(S._popupRedirectResolver,S,"argument-error"),yield S.getOrInitRedirectPersistenceManager(),S.redirectUser&&S.redirectUser._redirectEventId===je._redirectEventId?S.directlySetCurrentUser(je):S.reloadAndSetCurrentUserOrClear(je)})()}tryRedirectSignIn(C){var S=this;return(0,_.Z)(function*(){let N=null;try{N=yield S._popupRedirectResolver._completeRedirectFn(S,C,!0)}catch{yield S._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(C){var S=this;return(0,_.Z)(function*(){var N;try{yield Xt(C)}catch(Ee){if("auth/network-request-failed"!==(null===(N=Ee)||void 0===N?void 0:N.code))return S.directlySetCurrentUser(null)}return S.directlySetCurrentUser(C)})()}useDeviceLanguage(){this.languageCode=function Vn(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var C=this;return(0,_.Z)(function*(){C._deleted=!0})()}updateCurrentUser(C){var S=this;return(0,_.Z)(function*(){const N=C?(0,d.m9)(C):null;return N&&ze(N.auth.config.apiKey===S.config.apiKey,S,"invalid-user-token"),S._updateCurrentUser(N&&N._clone(S))})()}_updateCurrentUser(C,S=!1){var N=this;return(0,_.Z)(function*(){if(!N._deleted)return C&&ze(N.tenantId===C.tenantId,N,"tenant-id-mismatch"),S||(yield N.beforeStateQueue.runMiddleware(C)),N.queue((0,_.Z)(function*(){yield N.directlySetCurrentUser(C),N.notifyAuthListeners()}))})()}signOut(){var C=this;return(0,_.Z)(function*(){return yield C.beforeStateQueue.runMiddleware(null),(C.redirectPersistenceManager||C._popupRedirectResolver)&&(yield C._setRedirectUser(null)),C._updateCurrentUser(null,!0)})()}setPersistence(C){var S=this;return this.queue((0,_.Z)(function*(){yield S.assertedPersistence.setPersistence(ae(C))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(C){this._errorFactory=new d.LL("auth","Firebase",C())}onAuthStateChanged(C,S,N){return this.registerStateListener(this.authStateSubscription,C,S,N)}beforeAuthStateChanged(C,S){return this.beforeStateQueue.pushCallback(C,S)}onIdTokenChanged(C,S,N){return this.registerStateListener(this.idTokenSubscription,C,S,N)}toJSON(){var C;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(C=this._currentUser)||void 0===C?void 0:C.toJSON()}}_setRedirectUser(C,S){var N=this;return(0,_.Z)(function*(){const Ee=yield N.getOrInitRedirectPersistenceManager(S);return null===C?Ee.removeCurrentUser():Ee.setCurrentUser(C)})()}getOrInitRedirectPersistenceManager(C){var S=this;return(0,_.Z)(function*(){if(!S.redirectPersistenceManager){const N=C&&ae(C)||S._popupRedirectResolver;ze(N,S,"argument-error"),S.redirectPersistenceManager=yield Un.create(S,[ae(N._redirectPersistence)],"redirectUser"),S.redirectUser=yield S.redirectPersistenceManager.getCurrentUser()}return S.redirectPersistenceManager})()}_redirectUserForId(C){var S=this;return(0,_.Z)(function*(){var N,Ee;return S._isInitialized&&(yield S.queue((0,_.Z)(function*(){}))),(null===(N=S._currentUser)||void 0===N?void 0:N._redirectEventId)===C?S._currentUser:(null===(Ee=S.redirectUser)||void 0===Ee?void 0:Ee._redirectEventId)===C?S.redirectUser:null})()}_persistUserIfCurrent(C){var S=this;return(0,_.Z)(function*(){if(C===S.currentUser)return S.queue((0,_.Z)(function*(){return S.directlySetCurrentUser(C)}))})()}_notifyListenersIfCurrent(C){C===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var C,S;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(S=null===(C=this.currentUser)||void 0===C?void 0:C.uid)&&void 0!==S?S:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(C,S,N,Ee){if(this._deleted)return()=>{};const je="function"==typeof S?S:S.next.bind(S),an=this._isInitialized?Promise.resolve():this._initializationPromise;return ze(an,this,"internal-error"),an.then(()=>je(this.currentUser)),"function"==typeof S?C.addObserver(S,N,Ee):C.addObserver(S)}directlySetCurrentUser(C){var S=this;return(0,_.Z)(function*(){S.currentUser&&S.currentUser!==C&&(S._currentUser._stopProactiveRefresh(),C&&S.isProactiveRefreshEnabled&&C._startProactiveRefresh()),S.currentUser=C,C?yield S.assertedPersistence.setCurrentUser(C):yield S.assertedPersistence.removeCurrentUser()})()}queue(C){return this.operations=this.operations.then(C,C),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(C){!C||this.frameworks.includes(C)||(this.frameworks.push(C),this.frameworks.sort(),this.clientVersion=Vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var C=this;return(0,_.Z)(function*(){var S;const N={"X-Client-Version":C.clientVersion};C.app.options.appId&&(N["X-Firebase-gmpid"]=C.app.options.appId);const Ee=yield null===(S=C.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===S?void 0:S.getHeartbeatsHeader();return Ee&&(N["X-Firebase-Client"]=Ee),N})()}}function nr(R){return(0,d.m9)(R)}class Xr{constructor(C){this.auth=C,this.observer=null,this.addObserver=(0,d.ne)(S=>this.observer=S)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ar(R,C,S){const N=nr(R);ze(N._canInitEmulator,N,"emulator-config-failed"),ze(/^https?:\/\//.test(C),N,"invalid-emulator-scheme");const Ee=!!S?.disableWarnings,je=$e(C),{host:an,port:rr}=function Jt(R){const C=$e(R),S=/(\/\/)?([^?#/]+)/.exec(R.substr(C.length));if(!S)return{host:"",port:null};const N=S[2].split("@").pop()||"",Ee=/^(\[[^\]]+\])(:|$)/.exec(N);if(Ee){const je=Ee[1];return{host:je,port:nn(N.substr(je.length+1))}}{const[je,an]=N.split(":");return{host:je,port:nn(an)}}}(C);N.config.emulator={url:`${je}//${an}${null===rr?"":`:${rr}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:an,port:rr,protocol:je.replace(":",""),options:Object.freeze({disableWarnings:Ee})}),Ee||function Gn(){function R(){const C=document.createElement("p"),S=C.style;C.innerText="Running in emulator mode. Do not use with production credentials.",S.position="fixed",S.width="100%",S.backgroundColor="#ffffff",S.border=".1em solid #000000",S.color="#b50000",S.bottom="0px",S.left="0px",S.margin="0px",S.zIndex="10000",S.textAlign="center",C.classList.add("firebase-emulator-warning"),document.body.appendChild(C)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}()}function $e(R){const C=R.indexOf(":");return C<0?"":R.substr(0,C+1)}function nn(R){if(!R)return null;const C=Number(R);return isNaN(C)?null:C}class Qr{constructor(C,S){this.providerId=C,this.signInMethod=S}toJSON(){return nt("not implemented")}_getIdTokenResponse(C){return nt("not implemented")}_linkToIdToken(C,S){return nt("not implemented")}_getReauthenticationResolver(C){return nt("not implemented")}}function Di(R,C){return ni.apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:resetPassword",mn(R,C))})).apply(this,arguments)}function Qo(R,C){return ai.apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function lo(R,C){return co.apply(this,arguments)}function co(){return(co=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:update",mn(R,C))})).apply(this,arguments)}function Ns(){return(Ns=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithPassword",mn(R,C))})).apply(this,arguments)}function ns(R,C){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:sendOobCode",mn(R,C))})).apply(this,arguments)}function ps(R,C){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,_.Z)(function*(R,C){return ns(R,C)})).apply(this,arguments)}function Ds(R,C){return Po.apply(this,arguments)}function Po(){return(Po=(0,_.Z)(function*(R,C){return ns(R,C)})).apply(this,arguments)}function ol(R,C){return aa.apply(this,arguments)}function aa(){return(aa=(0,_.Z)(function*(R,C){return ns(R,C)})).apply(this,arguments)}function uo(R,C){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(R,C){return ns(R,C)})).apply(this,arguments)}function Za(){return(Za=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithEmailLink",mn(R,C))})).apply(this,arguments)}function ba(){return(ba=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithEmailLink",mn(R,C))})).apply(this,arguments)}class pa extends Qr{constructor(C,S,N,Ee=null){super("password",N),this._email=C,this._password=S,this._tenantId=Ee}static _fromEmailAndPassword(C,S){return new pa(C,S,"password")}static _fromEmailAndCode(C,S,N=null){return new pa(C,S,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(C){const S="string"==typeof C?JSON.parse(C):C;if(S?.email&&S?.password){if("password"===S.signInMethod)return this._fromEmailAndPassword(S.email,S.password);if("emailLink"===S.signInMethod)return this._fromEmailAndCode(S.email,S.password,S.tenantId)}return null}_getIdTokenResponse(C){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return function Ks(R,C){return Ns.apply(this,arguments)}(C,{returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function Ra(R,C){return Za.apply(this,arguments)}(C,{email:S._email,oobCode:S._password});default:gn(C,"internal-error")}})()}_linkToIdToken(C,S){var N=this;return(0,_.Z)(function*(){switch(N.signInMethod){case"password":return Qo(C,{idToken:S,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function Xo(R,C){return ba.apply(this,arguments)}(C,{idToken:S,email:N._email,oobCode:N._password});default:gn(C,"internal-error")}})()}_getReauthenticationResolver(C){return this._getIdTokenResponse(C)}}function Jo(R,C){return to.apply(this,arguments)}function to(){return(to=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithIdp",mn(R,C))})).apply(this,arguments)}class Pt extends Qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(C){const S=new Pt(C.providerId,C.signInMethod);return C.idToken||C.accessToken?(C.idToken&&(S.idToken=C.idToken),C.accessToken&&(S.accessToken=C.accessToken),C.nonce&&!C.pendingToken&&(S.nonce=C.nonce),C.pendingToken&&(S.pendingToken=C.pendingToken)):C.oauthToken&&C.oauthTokenSecret?(S.accessToken=C.oauthToken,S.secret=C.oauthTokenSecret):gn("argument-error"),S}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(C){const S="string"==typeof C?JSON.parse(C):C,{providerId:N,signInMethod:Ee}=S,je=(0,ge._T)(S,["providerId","signInMethod"]);if(!N||!Ee)return null;const an=new Pt(N,Ee);return an.idToken=je.idToken||void 0,an.accessToken=je.accessToken||void 0,an.secret=je.secret,an.nonce=je.nonce,an.pendingToken=je.pendingToken||null,an}_getIdTokenResponse(C){return Jo(C,this.buildRequest())}_linkToIdToken(C,S){const N=this.buildRequest();return N.idToken=S,Jo(C,N)}_getReauthenticationResolver(C){const S=this.buildRequest();return S.autoCreate=!1,Jo(C,S)}buildRequest(){const C={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)C.pendingToken=this.pendingToken;else{const S={};this.idToken&&(S.id_token=this.idToken),this.accessToken&&(S.access_token=this.accessToken),this.secret&&(S.oauth_token_secret=this.secret),S.providerId=this.providerId,this.nonce&&!this.pendingToken&&(S.nonce=this.nonce),C.postBody=(0,d.xO)(S)}return C}}function yn(R,C){return zn.apply(this,arguments)}function zn(){return(zn=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:sendVerificationCode",mn(R,C))})).apply(this,arguments)}function Br(){return(Br=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithPhoneNumber",mn(R,C))})).apply(this,arguments)}function Ls(){return(Ls=(0,_.Z)(function*(R,C){const S=yield Lr(R,"POST","/v1/accounts:signInWithPhoneNumber",mn(R,C));if(S.temporaryProof)throw jr(R,"account-exists-with-different-credential",S);return S})).apply(this,arguments)}const Hi={USER_NOT_FOUND:"user-not-found"};function Go(){return(Go=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithPhoneNumber",mn(R,Object.assign(Object.assign({},C),{operation:"REAUTH"})),Hi)})).apply(this,arguments)}class rs extends Qr{constructor(C){super("phone","phone"),this.params=C}static _fromVerification(C,S){return new rs({verificationId:C,verificationCode:S})}static _fromTokenResponse(C,S){return new rs({phoneNumber:C,temporaryProof:S})}_getIdTokenResponse(C){return function fr(R,C){return Br.apply(this,arguments)}(C,this._makeVerificationRequest())}_linkToIdToken(C,S){return function si(R,C){return Ls.apply(this,arguments)}(C,Object.assign({idToken:S},this._makeVerificationRequest()))}_getReauthenticationResolver(C){return function no(R,C){return Go.apply(this,arguments)}(C,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:C,phoneNumber:S,verificationId:N,verificationCode:Ee}=this.params;return C&&S?{temporaryProof:C,phoneNumber:S}:{sessionInfo:N,code:Ee}}toJSON(){const C={providerId:this.providerId};return this.params.phoneNumber&&(C.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(C.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(C.verificationCode=this.params.verificationCode),this.params.verificationId&&(C.verificationId=this.params.verificationId),C}static fromJSON(C){"string"==typeof C&&(C=JSON.parse(C));const{verificationId:S,verificationCode:N,phoneNumber:Ee,temporaryProof:je}=C;return N||S||Ee||je?new rs({verificationId:S,verificationCode:N,phoneNumber:Ee,temporaryProof:je}):null}}class Ca{constructor(C){var S,N,Ee,je,an,rr;const Gr=(0,d.zd)((0,d.pd)(C)),Nr=null!==(S=Gr.apiKey)&&void 0!==S?S:null,Bi=null!==(N=Gr.oobCode)&&void 0!==N?N:null,Gs=function ea(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ee=Gr.mode)&&void 0!==Ee?Ee:null);ze(Nr&&Bi&&Gs,"argument-error"),this.apiKey=Nr,this.operation=Gs,this.code=Bi,this.continueUrl=null!==(je=Gr.continueUrl)&&void 0!==je?je:null,this.languageCode=null!==(an=Gr.languageCode)&&void 0!==an?an:null,this.tenantId=null!==(rr=Gr.tenantId)&&void 0!==rr?rr:null}static parseLink(C){const S=function ca(R){const C=(0,d.zd)((0,d.pd)(R)).link,S=C?(0,d.zd)((0,d.pd)(C)).deep_link_id:null,N=(0,d.zd)((0,d.pd)(R)).deep_link_id;return(N?(0,d.zd)((0,d.pd)(N)).link:null)||N||S||C||R}(C);try{return new Ca(S)}catch{return null}}}let Bs=(()=>{class R{constructor(){this.providerId=R.PROVIDER_ID}static credential(S,N){return pa._fromEmailAndPassword(S,N)}static credentialWithLink(S,N){const Ee=Ca.parseLink(N);return ze(Ee,"argument-error"),pa._fromEmailAndCode(S,Ee.code,Ee.tenantId)}}return R.PROVIDER_ID="password",R.EMAIL_PASSWORD_SIGN_IN_METHOD="password",R.EMAIL_LINK_SIGN_IN_METHOD="emailLink",R})();class wo{constructor(C){this.providerId=C,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(C){this.defaultLanguageCode=C}setCustomParameters(C){return this.customParameters=C,this}getCustomParameters(){return this.customParameters}}class Eo extends wo{constructor(){super(...arguments),this.scopes=[]}addScope(C){return this.scopes.includes(C)||this.scopes.push(C),this}getScopes(){return[...this.scopes]}}class bo extends Eo{static credentialFromJSON(C){const S="string"==typeof C?JSON.parse(C):C;return ze("providerId"in S&&"signInMethod"in S,"argument-error"),Pt._fromParams(S)}credential(C){return this._credential(Object.assign(Object.assign({},C),{nonce:C.rawNonce}))}_credential(C){return ze(C.idToken||C.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},C),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(C){return bo.oauthCredentialFromTaggedObject(C)}static credentialFromError(C){return bo.oauthCredentialFromTaggedObject(C.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:Ee,pendingToken:je,nonce:an,providerId:rr}=C;if(!N&&!Ee&&!S&&!je||!rr)return null;try{return new bo(rr)._credential({idToken:S,accessToken:N,nonce:an,pendingToken:je})}catch{return null}}}let _c=(()=>{class R extends Eo{constructor(){super("facebook.com")}static credential(S){return Pt._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.FACEBOOK_SIGN_IN_METHOD,accessToken:S})}static credentialFromResult(S){return R.credentialFromTaggedObject(S)}static credentialFromError(S){return R.credentialFromTaggedObject(S.customData||{})}static credentialFromTaggedObject({_tokenResponse:S}){if(!S||!("oauthAccessToken"in S)||!S.oauthAccessToken)return null;try{return R.credential(S.oauthAccessToken)}catch{return null}}}return R.FACEBOOK_SIGN_IN_METHOD="facebook.com",R.PROVIDER_ID="facebook.com",R})(),ta=(()=>{class R extends Eo{constructor(){super("google.com"),this.addScope("profile")}static credential(S,N){return Pt._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GOOGLE_SIGN_IN_METHOD,idToken:S,accessToken:N})}static credentialFromResult(S){return R.credentialFromTaggedObject(S)}static credentialFromError(S){return R.credentialFromTaggedObject(S.customData||{})}static credentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthIdToken:N,oauthAccessToken:Ee}=S;if(!N&&!Ee)return null;try{return R.credential(N,Ee)}catch{return null}}}return R.GOOGLE_SIGN_IN_METHOD="google.com",R.PROVIDER_ID="google.com",R})(),ho=(()=>{class R extends Eo{constructor(){super("github.com")}static credential(S){return Pt._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.GITHUB_SIGN_IN_METHOD,accessToken:S})}static credentialFromResult(S){return R.credentialFromTaggedObject(S)}static credentialFromError(S){return R.credentialFromTaggedObject(S.customData||{})}static credentialFromTaggedObject({_tokenResponse:S}){if(!S||!("oauthAccessToken"in S)||!S.oauthAccessToken)return null;try{return R.credential(S.oauthAccessToken)}catch{return null}}}return R.GITHUB_SIGN_IN_METHOD="github.com",R.PROVIDER_ID="github.com",R})();class Ss extends Qr{constructor(C,S){super(C,C),this.pendingToken=S}_getIdTokenResponse(C){return Jo(C,this.buildRequest())}_linkToIdToken(C,S){const N=this.buildRequest();return N.idToken=S,Jo(C,N)}_getReauthenticationResolver(C){const S=this.buildRequest();return S.autoCreate=!1,Jo(C,S)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(C){const S="string"==typeof C?JSON.parse(C):C,{providerId:N,signInMethod:Ee,pendingToken:je}=S;return N&&Ee&&je&&N===Ee?new Ss(N,je):null}static _create(C,S){return new Ss(C,S)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cs extends wo{constructor(C){ze(C.startsWith("saml."),"argument-error"),super(C)}static credentialFromResult(C){return cs.samlCredentialFromTaggedObject(C)}static credentialFromError(C){return cs.samlCredentialFromTaggedObject(C.customData||{})}static credentialFromJSON(C){const S=Ss.fromJSON(C);return ze(S,"argument-error"),S}static samlCredentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{pendingToken:S,providerId:N}=C;if(!S||!N)return null;try{return Ss._create(N,S)}catch{return null}}}let Ni=(()=>{class R extends Eo{constructor(){super("twitter.com")}static credential(S,N){return Pt._fromParams({providerId:R.PROVIDER_ID,signInMethod:R.TWITTER_SIGN_IN_METHOD,oauthToken:S,oauthTokenSecret:N})}static credentialFromResult(S){return R.credentialFromTaggedObject(S)}static credentialFromError(S){return R.credentialFromTaggedObject(S.customData||{})}static credentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{oauthAccessToken:N,oauthTokenSecret:Ee}=S;if(!N||!Ee)return null;try{return R.credential(N,Ee)}catch{return null}}}return R.TWITTER_SIGN_IN_METHOD="twitter.com",R.PROVIDER_ID="twitter.com",R})();function ua(R,C){return ga.apply(this,arguments)}function ga(){return(ga=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signUp",mn(R,C))})).apply(this,arguments)}class Co{constructor(C){this.user=C.user,this.providerId=C.providerId,this._tokenResponse=C._tokenResponse,this.operationType=C.operationType}static _fromIdTokenResponse(C,S,N,Ee=!1){return(0,_.Z)(function*(){const je=yield ot._fromIdTokenResponse(C,N,Ee),an=Qa(N);return new Co({user:je,providerId:an,_tokenResponse:N,operationType:S})})()}static _forOperation(C,S,N){return(0,_.Z)(function*(){yield C._updateTokensIfNecessary(N,!0);const Ee=Qa(N);return new Co({user:C,providerId:Ee,_tokenResponse:N,operationType:S})})()}}function Qa(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}function is(R){return vl.apply(this,arguments)}function vl(){return(vl=(0,_.Z)(function*(R){var C;const S=nr(R);if(yield S._initializationPromise,null!==(C=S.currentUser)&&void 0!==C&&C.isAnonymous)return new Co({user:S.currentUser,providerId:null,operationType:"signIn"});const N=yield ua(S,{returnSecureToken:!0}),Ee=yield Co._fromIdTokenResponse(S,"signIn",N,!0);return yield S._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}class ti extends d.ZR{constructor(C,S,N,Ee){var je;super(S.code,S.message),this.operationType=N,this.user=Ee,Object.setPrototypeOf(this,ti.prototype),this.customData={appName:C.name,tenantId:null!==(je=C.tenantId)&&void 0!==je?je:void 0,_serverResponse:S.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(C,S,N,Ee){return new ti(C,S,N,Ee)}}function da(R,C,S,N){return("reauthenticate"===C?S._getReauthenticationResolver(R):S._getIdTokenResponse(R)).catch(je=>{throw"auth/multi-factor-auth-required"===je.code?ti._fromErrorAndOperation(R,je,C,N):je})}function jo(R){return new Set(R.map(({providerId:C})=>C).filter(C=>!!C))}function Xa(R,C){return ma.apply(this,arguments)}function ma(){return(ma=(0,_.Z)(function*(R,C){const S=(0,d.m9)(R);yield Q(!0,S,C);const{providerUserInfo:N}=yield Hr(S.auth,{idToken:yield S.getIdToken(),deleteProvider:[C]}),Ee=jo(N||[]);return S.providerData=S.providerData.filter(je=>Ee.has(je.providerId)),Ee.has("phone")||(S.phoneNumber=null),yield S.auth._persistUserIfCurrent(S),S})).apply(this,arguments)}function fo(R,C){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,_.Z)(function*(R,C,S=!1){const N=yield Ye(R,C._linkToIdToken(R.auth,yield R.getIdToken()),S);return Co._forOperation(R,"link",N)})).apply(this,arguments)}function Q(R,C,S){return De.apply(this,arguments)}function De(){return(De=(0,_.Z)(function*(R,C,S){yield Xt(C);const Ee=!1===R?"provider-already-linked":"no-such-provider";ze(jo(C.providerData).has(S)===R,C.auth,Ee)})).apply(this,arguments)}function X(R,C){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,_.Z)(function*(R,C,S=!1){var N;const{auth:Ee}=R,je="reauthenticate";try{const an=yield Ye(R,da(Ee,je,C,R),S);ze(an.idToken,Ee,"internal-error");const rr=Rt(an.idToken);ze(rr,Ee,"internal-error");const{sub:Gr}=rr;return ze(R.uid===Gr,Ee,"user-mismatch"),Co._forOperation(R,je,an)}catch(an){throw"auth/user-not-found"===(null===(N=an)||void 0===N?void 0:N.code)&&gn(Ee,"user-mismatch"),an}})).apply(this,arguments)}function Ot(R,C){return wn.apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(R,C,S=!1){const N="signIn",Ee=yield da(R,N,C),je=yield Co._fromIdTokenResponse(R,N,Ee);return S||(yield R._updateCurrentUser(je.user)),je})).apply(this,arguments)}function En(R,C){return kr.apply(this,arguments)}function kr(){return(kr=(0,_.Z)(function*(R,C){return Ot(nr(R),C)})).apply(this,arguments)}function ds(R,C){return ji.apply(this,arguments)}function ji(){return(ji=(0,_.Z)(function*(R,C){const S=(0,d.m9)(R);return yield Q(!1,S,C.providerId),fo(S,C)})).apply(this,arguments)}function hs(R,C){return ki.apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*(R,C){return X((0,d.m9)(R),C)})).apply(this,arguments)}function Ts(R,C){return zi.apply(this,arguments)}function zi(){return(zi=(0,_.Z)(function*(R,C){return Lr(R,"POST","/v1/accounts:signInWithCustomToken",mn(R,C))})).apply(this,arguments)}function Ti(R,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,_.Z)(function*(R,C){const S=nr(R),N=yield Ts(S,{token:C,returnSecureToken:!0}),Ee=yield Co._fromIdTokenResponse(S,"signIn",N);return yield S._updateCurrentUser(Ee.user),Ee})).apply(this,arguments)}class Or{constructor(C,S){this.factorId=C,this.uid=S.mfaEnrollmentId,this.enrollmentTime=new Date(S.enrolledAt).toUTCString(),this.displayName=S.displayName}static _fromServerResponse(C,S){return"phoneInfo"in S?Gi._fromServerResponse(C,S):gn(C,"internal-error")}}class Gi extends Or{constructor(C){super("phone",C),this.phoneNumber=C.phoneInfo}static _fromServerResponse(C,S){return new Gi(S)}}function As(R,C,S){var N;ze((null===(N=S.url)||void 0===N?void 0:N.length)>0,R,"invalid-continue-uri"),ze(typeof S.dynamicLinkDomain>"u"||S.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),C.continueUrl=S.url,C.dynamicLinkDomain=S.dynamicLinkDomain,C.canHandleCodeInApp=S.handleCodeInApp,S.iOS&&(ze(S.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),C.iOSBundleId=S.iOS.bundleId),S.android&&(ze(S.android.packageName.length>0,R,"missing-android-pkg-name"),C.androidInstallApp=S.android.installApp,C.androidMinimumVersionCode=S.android.minimumVersion,C.androidPackageName=S.android.packageName)}function Is(R,C,S){return Io.apply(this,arguments)}function Io(){return(Io=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R),Ee={requestType:"PASSWORD_RESET",email:C};S&&As(N,Ee,S),yield Ds(N,Ee)})).apply(this,arguments)}function Oa(R,C,S){return J.apply(this,arguments)}function J(){return(J=(0,_.Z)(function*(R,C,S){yield Di((0,d.m9)(R),{oobCode:C,newPassword:S})})).apply(this,arguments)}function q(R,C){return j.apply(this,arguments)}function j(){return(j=(0,_.Z)(function*(R,C){yield lo((0,d.m9)(R),{oobCode:C})})).apply(this,arguments)}function Te(R,C){return un.apply(this,arguments)}function un(){return(un=(0,_.Z)(function*(R,C){const S=(0,d.m9)(R),N=yield Di(S,{oobCode:C}),Ee=N.requestType;switch(ze(Ee,S,"internal-error"),Ee){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(N.newEmail,S,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(N.mfaInfo,S,"internal-error");default:ze(N.email,S,"internal-error")}let je=null;return N.mfaInfo&&(je=Or._fromServerResponse(nr(S),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:je},operation:Ee}})).apply(this,arguments)}function wr(R,C){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,_.Z)(function*(R,C){const{data:S}=yield Te((0,d.m9)(R),C);return S.email})).apply(this,arguments)}function zs(R,C,S){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,_.Z)(function*(R,C,S){const N=nr(R),Ee=yield ua(N,{returnSecureToken:!0,email:C,password:S}),je=yield Co._fromIdTokenResponse(N,"signIn",Ee);return yield N._updateCurrentUser(je.user),je})).apply(this,arguments)}function Ai(R,C,S){return En((0,d.m9)(R),Bs.credential(C,S))}function yl(R,C,S){return Da.apply(this,arguments)}function Da(){return(Da=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R),Ee={requestType:"EMAIL_SIGNIN",email:C};ze(S.handleCodeInApp,N,"argument-error"),S&&As(N,Ee,S),yield ol(N,Ee)})).apply(this,arguments)}function vc(R,C){return"EMAIL_SIGNIN"===Ca.parseLink(C)?.operation}function ks(R,C,S){return pu.apply(this,arguments)}function pu(){return(pu=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R),Ee=Bs.credentialWithLink(C,S||Je());return ze(Ee._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),En(N,Ee)})).apply(this,arguments)}function Fa(R,C){return tc.apply(this,arguments)}function tc(){return(tc=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:createAuthUri",mn(R,C))})).apply(this,arguments)}function ko(R,C){return al.apply(this,arguments)}function al(){return(al=(0,_.Z)(function*(R,C){const N={identifier:C,continueUri:Gt()?Je():"http://localhost"},{signinMethods:Ee}=yield Fa((0,d.m9)(R),N);return Ee||[]})).apply(this,arguments)}function Nl(R,C){return bi.apply(this,arguments)}function bi(){return(bi=(0,_.Z)(function*(R,C){const S=(0,d.m9)(R),Ee={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};C&&As(S.auth,Ee,C);const{email:je}=yield ps(S.auth,Ee);je!==R.email&&(yield R.reload())})).apply(this,arguments)}function na(R,C,S){return ll.apply(this,arguments)}function ll(){return(ll=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R),je={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:C};S&&As(N.auth,je,S);const{email:an}=yield uo(N.auth,je);an!==R.email&&(yield R.reload())})).apply(this,arguments)}function yc(R,C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,_.Z)(function*(R,C){return Wt(R,"POST","/v1/accounts:update",C)})).apply(this,arguments)}function nc(R,C){return xl.apply(this,arguments)}function xl(){return(xl=(0,_.Z)(function*(R,{displayName:C,photoURL:S}){if(void 0===C&&void 0===S)return;const N=(0,d.m9)(R),je={idToken:yield N.getIdToken(),displayName:C,photoUrl:S,returnSecureToken:!0},an=yield Ye(N,yc(N.auth,je));N.displayName=an.displayName||null,N.photoURL=an.photoUrl||null;const rr=N.providerData.find(({providerId:Gr})=>"password"===Gr);rr&&(rr.displayName=N.displayName,rr.photoURL=N.photoURL),yield N._updateTokensIfNecessary(an)})).apply(this,arguments)}function ss(R,C){return wl((0,d.m9)(R),C,null)}function rc(R,C){return wl((0,d.m9)(R),null,C)}function wl(R,C,S){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,_.Z)(function*(R,C,S){const{auth:N}=R,je={idToken:yield R.getIdToken(),returnSecureToken:!0};C&&(je.email=C),S&&(je.password=S);const an=yield Ye(R,Qo(N,je));yield R._updateTokensIfNecessary(an,!0)})).apply(this,arguments)}class Qi{constructor(C,S,N={}){this.isNewUser=C,this.providerId=S,this.profile=N}}class gu extends Qi{constructor(C,S,N,Ee){super(C,S,N),this.username=Ee}}class Ms extends Qi{constructor(C,S){super(C,"facebook.com",S)}}class Uc extends gu{constructor(C,S){super(C,"github.com",S,"string"==typeof S?.login?S?.login:null)}}class Hc extends Qi{constructor(C,S){super(C,"google.com",S)}}class Ll extends gu{constructor(C,S,N){super(C,"twitter.com",S,N)}}function ic(R){const{user:C,_tokenResponse:S}=R;return C.isAnonymous&&!S?{providerId:null,isNewUser:!1,profile:null}:function Pa(R){var C,S;if(!R)return null;const{providerId:N}=R,Ee=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},je=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!N&&R?.idToken){const an=null===(S=null===(C=Rt(R.idToken))||void 0===C?void 0:C.firebase)||void 0===S?void 0:S.sign_in_provider;if(an)return new Qi(je,"anonymous"!==an&&"custom"!==an?an:null)}if(!N)return null;switch(N){case"facebook.com":return new Ms(je,Ee);case"github.com":return new Uc(je,Ee);case"google.com":return new Hc(je,Ee);case"twitter.com":return new Ll(je,Ee,R.screenName||null);case"custom":case"anonymous":return new Qi(je,null);default:return new Qi(je,N,Ee)}}(S)}class qs{constructor(C,S){this.type=C,this.credential=S}static _fromIdtoken(C){return new qs("enroll",C)}static _fromMfaPendingCredential(C){return new qs("signin",C)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(C){var S,N;if(C?.multiFactorSession){if(null!==(S=C.multiFactorSession)&&void 0!==S&&S.pendingCredential)return qs._fromMfaPendingCredential(C.multiFactorSession.pendingCredential);if(null!==(N=C.multiFactorSession)&&void 0!==N&&N.idToken)return qs._fromIdtoken(C.multiFactorSession.idToken)}return null}}class _a{constructor(C,S,N){this.session=C,this.hints=S,this.signInResolver=N}static _fromError(C,S){const N=nr(C),Ee=S.customData._serverResponse,je=(Ee.mfaInfo||[]).map(rr=>Or._fromServerResponse(N,rr));ze(Ee.mfaPendingCredential,N,"internal-error");const an=qs._fromMfaPendingCredential(Ee.mfaPendingCredential);return new _a(an,je,function(){var rr=(0,_.Z)(function*(Gr){const Nr=yield Gr._process(N,an);delete Ee.mfaInfo,delete Ee.mfaPendingCredential;const Bi=Object.assign(Object.assign({},Ee),{idToken:Nr.idToken,refreshToken:Nr.refreshToken});switch(S.operationType){case"signIn":const Gs=yield Co._fromIdTokenResponse(N,S.operationType,Bi);return yield N._updateCurrentUser(Gs.user),Gs;case"reauthenticate":return ze(S.user,N,"internal-error"),Co._forOperation(S.user,S.operationType,Bi);default:gn(N,"internal-error")}});return function(Gr){return rr.apply(this,arguments)}}())}resolveSignIn(C){var S=this;return(0,_.Z)(function*(){return S.signInResolver(C)})()}}function _r(R,C){var S;const N=(0,d.m9)(R),Ee=C;return ze(C.customData.operationType,N,"argument-error"),ze(null===(S=Ee.customData._serverResponse)||void 0===S?void 0:S.mfaPendingCredential,N,"argument-error"),_a._fromError(N,Ee)}function Do(R,C){return Wt(R,"POST","/v2/accounts/mfaEnrollment:start",mn(R,C))}class El{constructor(C){this.user=C,this.enrolledFactors=[],C._onReload(S=>{S.mfaInfo&&(this.enrolledFactors=S.mfaInfo.map(N=>Or._fromServerResponse(C.auth,N)))})}static _fromUser(C){return new El(C)}getSession(){var C=this;return(0,_.Z)(function*(){return qs._fromIdtoken(yield C.user.getIdToken())})()}enroll(C,S){var N=this;return(0,_.Z)(function*(){const Ee=C,je=yield N.getSession(),an=yield Ye(N.user,Ee._process(N.user.auth,je,S));return yield N.user._updateTokensIfNecessary(an),N.user.reload()})()}unenroll(C){var S=this;return(0,_.Z)(function*(){var N;const Ee="string"==typeof C?C:C.uid,je=yield S.user.getIdToken(),an=yield Ye(S.user,function Ju(R,C){return Wt(R,"POST","/v2/accounts/mfaEnrollment:withdraw",mn(R,C))}(S.user.auth,{idToken:je,mfaEnrollmentId:Ee}));S.enrolledFactors=S.enrolledFactors.filter(({uid:rr})=>rr!==Ee),yield S.user._updateTokensIfNecessary(an);try{yield S.user.reload()}catch(rr){if("auth/user-token-expired"!==(null===(N=rr)||void 0===N?void 0:N.code))throw rr}})()}}const Rs=new WeakMap;function Ba(R){const C=(0,d.m9)(R);return Rs.has(C)||Rs.set(C,El._fromUser(C)),Rs.get(C)}const Xi="__sak";class Va{constructor(C,S){this.storageRetriever=C,this.type=S}_isAvailable(){try{return this.storage?(this.storage.setItem(Xi,"1"),this.storage.removeItem(Xi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(C,S){return this.storage.setItem(C,JSON.stringify(S)),Promise.resolve()}_get(C){const S=this.storage.getItem(C);return Promise.resolve(S?JSON.parse(S):null)}_remove(C){return this.storage.removeItem(C),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pi=(()=>{class R extends Va{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(S,N)=>this.onStorageEvent(S,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bl(){const R=(0,d.z$)();return ve(R)||bt(R)}()&&function dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=le(),this._shouldAllowMigration=!0}forAllChangedKeys(S){for(const N of Object.keys(this.listeners)){const Ee=this.storage.getItem(N),je=this.localCache[N];Ee!==je&&S(N,je,Ee)}}onStorageEvent(S,N=!1){if(!S.key)return void this.forAllChangedKeys((rr,Gr,Nr)=>{this.notifyListeners(rr,Nr)});const Ee=S.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rr=this.storage.getItem(Ee);if(S.newValue!==rr)null!==S.newValue?this.storage.setItem(Ee,S.newValue):this.storage.removeItem(Ee);else if(this.localCache[Ee]===S.newValue&&!N)return}const je=()=>{const rr=this.storage.getItem(Ee);!N&&this.localCache[Ee]===rr||this.notifyListeners(Ee,rr)},an=this.storage.getItem(Ee);!function ce(){return(0,d.w1)()&&10===document.documentMode}()||an===S.newValue||S.newValue===S.oldValue?je():setTimeout(je,10)}notifyListeners(S,N){this.localCache[S]=N;const Ee=this.listeners[S];if(Ee)for(const je of Array.from(Ee))je(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((S,N,Ee)=>{this.onStorageEvent(new StorageEvent("storage",{key:S,oldValue:N,newValue:Ee}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(S,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[S]||(this.listeners[S]=new Set,this.localCache[S]=this.storage.getItem(S)),this.listeners[S].add(N)}_removeListener(S,N){this.listeners[S]&&(this.listeners[S].delete(N),0===this.listeners[S].size&&delete this.listeners[S]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(S,N){var Ee=()=>super._set,je=this;return(0,_.Z)(function*(){yield Ee().call(je,S,N),je.localCache[S]=JSON.stringify(N)})()}_get(S){var N=()=>super._get,Ee=this;return(0,_.Z)(function*(){const je=yield N().call(Ee,S);return Ee.localCache[S]=JSON.stringify(je),je})()}_remove(S){var N=()=>super._remove,Ee=this;return(0,_.Z)(function*(){yield N().call(Ee,S),delete Ee.localCache[S]})()}}return R.type="LOCAL",R})(),Ul=(()=>{class R extends Va{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(S,N){}_removeListener(S,N){}}return R.type="SESSION",R})();let gi=(()=>{class R{constructor(S){this.eventTarget=S,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(S){const N=this.receivers.find(je=>je.isListeningto(S));if(N)return N;const Ee=new R(S);return this.receivers.push(Ee),Ee}isListeningto(S){return this.eventTarget===S}handleEvent(S){var N=this;return(0,_.Z)(function*(){const Ee=S,{eventId:je,eventType:an,data:rr}=Ee.data,Gr=N.handlersMap[an];if(!Gr?.size)return;Ee.ports[0].postMessage({status:"ack",eventId:je,eventType:an});const Nr=Array.from(Gr).map(function(){var Gs=(0,_.Z)(function*($l){return $l(Ee.origin,rr)});return function($l){return Gs.apply(this,arguments)}}()),Bi=yield function Jr(R){return Promise.all(R.map(function(){var C=(0,_.Z)(function*(S){try{return{fulfilled:!0,value:yield S}}catch(N){return{fulfilled:!1,reason:N}}});return function(S){return C.apply(this,arguments)}}()))}(Nr);Ee.ports[0].postMessage({status:"done",eventId:je,eventType:an,response:Bi})})()}_subscribe(S,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[S]||(this.handlersMap[S]=new Set),this.handlersMap[S].add(N)}_unsubscribe(S,N){this.handlersMap[S]&&N&&this.handlersMap[S].delete(N),(!N||0===this.handlersMap[S].size)&&delete this.handlersMap[S],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return R.receivers=[],R})();function sc(R="",C=10){let S="";for(let N=0;N<C;N++)S+=Math.floor(10*Math.random());return R+S}class Fr{constructor(C){this.target=C,this.handlers=new Set}removeMessageHandler(C){C.messageChannel&&(C.messageChannel.port1.removeEventListener("message",C.onMessage),C.messageChannel.port1.close()),this.handlers.delete(C)}_send(C,S,N=50){var Ee=this;return(0,_.Z)(function*(){const je=typeof MessageChannel<"u"?new MessageChannel:null;if(!je)throw new Error("connection_unavailable");let an,rr;return new Promise((Gr,Nr)=>{const Bi=sc("",20);je.port1.start();const Gs=setTimeout(()=>{Nr(new Error("unsupported_event"))},N);rr={messageChannel:je,onMessage($l){const Mc=$l;if(Mc.data.eventId===Bi)switch(Mc.data.status){case"ack":clearTimeout(Gs),an=setTimeout(()=>{Nr(new Error("timeout"))},3e3);break;case"done":clearTimeout(an),Gr(Mc.data.response);break;default:clearTimeout(Gs),clearTimeout(an),Nr(new Error("invalid_response"))}}},Ee.handlers.add(rr),je.port1.addEventListener("message",rr.onMessage),Ee.target.postMessage({eventType:C,eventId:Bi,data:S},[je.port2])}).finally(()=>{rr&&Ee.removeMessageHandler(rr)})})()}}function on(){return window}function gs(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function Hl(){return(Hl=(0,_.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _u="firebaseLocalStorageDb",Dl="firebaseLocalStorage",oc="fbase_key";class wc{constructor(C){this.request=C}toPromise(){return new Promise((C,S)=>{this.request.addEventListener("success",()=>{C(this.request.result)}),this.request.addEventListener("error",()=>{S(this.request.error)})})}}function Ua(R,C){return R.transaction([Dl],C?"readwrite":"readonly").objectStore(Dl)}function _i(){const R=indexedDB.open(_u,1);return new Promise((C,S)=>{R.addEventListener("error",()=>{S(R.error)}),R.addEventListener("upgradeneeded",()=>{const N=R.result;try{N.createObjectStore(Dl,{keyPath:oc})}catch(Ee){S(Ee)}}),R.addEventListener("success",(0,_.Z)(function*(){const N=R.result;N.objectStoreNames.contains(Dl)?C(N):(N.close(),yield function ys(){const R=indexedDB.deleteDatabase(_u);return new wc(R).toPromise()}(),C(yield _i()))}))})}function Vs(R,C,S){return ra.apply(this,arguments)}function ra(){return(ra=(0,_.Z)(function*(R,C,S){const N=Ua(R,!0).put({[oc]:C,value:S});return new wc(N).toPromise()})).apply(this,arguments)}function ri(){return(ri=(0,_.Z)(function*(R,C){const S=Ua(R,!1).get(C),N=yield new wc(S).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function jl(R,C){const S=Ua(R,!0).delete(C);return new wc(S).toPromise()}const br=(()=>{class R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var S=this;return(0,_.Z)(function*(){return S.db||(S.db=yield _i()),S.db})()}_withRetries(S){var N=this;return(0,_.Z)(function*(){let Ee=0;for(;;)try{const je=yield N._openDb();return yield S(je)}catch(je){if(Ee++>3)throw je;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var S=this;return(0,_.Z)(function*(){return gs()?S.initializeReceiver():S.initializeSender()})()}initializeReceiver(){var S=this;return(0,_.Z)(function*(){S.receiver=gi._getInstance(function Gl(){return gs()?self:null}()),S.receiver._subscribe("keyChanged",function(){var N=(0,_.Z)(function*(Ee,je){return{keyProcessed:(yield S._poll()).includes(je.key)}});return function(Ee,je){return N.apply(this,arguments)}}()),S.receiver._subscribe("ping",function(){var N=(0,_.Z)(function*(Ee,je){return["keyChanged"]});return function(Ee,je){return N.apply(this,arguments)}}())})()}initializeSender(){var S=this;return(0,_.Z)(function*(){var N,Ee;if(S.activeServiceWorker=yield function Cl(){return Hl.apply(this,arguments)}(),!S.activeServiceWorker)return;S.sender=new Fr(S.activeServiceWorker);const je=yield S.sender._send("ping",{},800);!je||(null===(N=je[0])||void 0===N?void 0:N.fulfilled)&&(null===(Ee=je[0])||void 0===Ee?void 0:Ee.value.includes("keyChanged"))&&(S.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(S){var N=this;return(0,_.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function xc(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:S},N.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const S=yield _i();return yield Vs(S,Xi,"1"),yield jl(S,Xi),!0}catch{}return!1})()}_withPendingWrite(S){var N=this;return(0,_.Z)(function*(){N.pendingWrites++;try{yield S()}finally{N.pendingWrites--}})()}_set(S,N){var Ee=this;return(0,_.Z)(function*(){return Ee._withPendingWrite((0,_.Z)(function*(){return yield Ee._withRetries(je=>Vs(je,S,N)),Ee.localCache[S]=N,Ee.notifyServiceWorker(S)}))})()}_get(S){var N=this;return(0,_.Z)(function*(){const Ee=yield N._withRetries(je=>function xs(R,C){return ri.apply(this,arguments)}(je,S));return N.localCache[S]=Ee,Ee})()}_remove(S){var N=this;return(0,_.Z)(function*(){return N._withPendingWrite((0,_.Z)(function*(){return yield N._withRetries(Ee=>jl(Ee,S)),delete N.localCache[S],N.notifyServiceWorker(S)}))})()}_poll(){var S=this;return(0,_.Z)(function*(){const N=yield S._withRetries(an=>{const rr=Ua(an,!1).getAll();return new wc(rr).toPromise()});if(!N)return[];if(0!==S.pendingWrites)return[];const Ee=[],je=new Set;for(const{fbase_key:an,value:rr}of N)je.add(an),JSON.stringify(S.localCache[an])!==JSON.stringify(rr)&&(S.notifyListeners(an,rr),Ee.push(an));for(const an of Object.keys(S.localCache))S.localCache[an]&&!je.has(an)&&(S.notifyListeners(an,null),Ee.push(an));return Ee})()}notifyListeners(S,N){this.localCache[S]=N;const Ee=this.listeners[S];if(Ee)for(const je of Array.from(Ee))je(N)}startPolling(){var S=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return S._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(S,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[S]||(this.listeners[S]=new Set,this._get(S)),this.listeners[S].add(N)}_removeListener(S,N){this.listeners[S]&&(this.listeners[S].delete(N),0===this.listeners[S].size&&delete this.listeners[S]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return R.type="LOCAL",R})();function Zs(R,C){return Wt(R,"POST","/v2/accounts/mfaSignIn:start",mn(R,C))}function Qs(){return(Qs=(0,_.Z)(function*(R){return(yield Wt(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qn(R){return new Promise((C,S)=>{const N=document.createElement("script");N.setAttribute("src",R),N.onload=C,N.onerror=Ee=>{const je=xt("internal-error");je.customData=Ee,S(je)},N.type="text/javascript",N.charset="UTF-8",function po(){var R,C;return null!==(C=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==C?C:document}().appendChild(N)})}function Bo(R){return`__${R}${Math.floor(1e6*Math.random())}`}const vi=1e12;class Ec{constructor(C){this.auth=C,this.counter=vi,this._widgets=new Map}render(C,S){const N=this.counter;return this._widgets.set(N,new go(C,this.auth.name,S||{})),this.counter++,N}reset(C){var S;const N=C||vi;null===(S=this._widgets.get(N))||void 0===S||S.delete(),this._widgets.delete(N)}getResponse(C){var S;return(null===(S=this._widgets.get(C||vi))||void 0===S?void 0:S.getResponse())||""}execute(C){var S=this;return(0,_.Z)(function*(){var N;return null===(N=S._widgets.get(C||vi))||void 0===N||N.execute(),""})()}}class go{constructor(C,S,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ee="string"==typeof C?document.getElementById(C):C;ze(Ee,"argument-error",{appName:S}),this.container=Ee,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ph(R){const C=[],S="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<R;N++)C.push(S.charAt(Math.floor(Math.random()*S.length)));return C.join("")}(50);const{callback:C,"expired-callback":S}=this.params;if(C)try{C(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,S)try{S()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sl=Bo("rcb"),vu=new sn(3e4,6e4);class yu{constructor(){var C;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(C=on().grecaptcha)||void 0===C||!C.render)}load(C,S=""){return ze(function zo(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(S),C,"argument-error"),this.shouldResolveImmediately(S)?Promise.resolve(on().grecaptcha):new Promise((N,Ee)=>{const je=on().setTimeout(()=>{Ee(xt(C,"network-request-failed"))},vu.get());on()[Sl]=()=>{on().clearTimeout(je),delete on()[Sl];const rr=on().grecaptcha;if(!rr)return void Ee(xt(C,"internal-error"));const Gr=rr.render;rr.render=(Nr,Bi)=>{const Gs=Gr(Nr,Bi);return this.counter++,Gs},this.hostLanguage=S,N(rr)},Qn(`https://www.google.com/recaptcha/api.js??${(0,d.xO)({onload:Sl,render:"explicit",hl:S})}`).catch(()=>{clearTimeout(je),Ee(xt(C,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(C){var S;return!(null===(S=on().grecaptcha)||void 0===S||!S.render)&&(C===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sp{load(C){return(0,_.Z)(function*(){return new Ec(C)})()}clearedOneInstance(){}}const Hs="recaptcha",Kr={theme:"light",type:"image"};class Vo{constructor(C,S=Object.assign({},Kr),N){this.parameters=S,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(N),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Ee="string"==typeof C?document.getElementById(C):C;ze(Ee,this.auth,"argument-error"),this.container=Ee,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sp:new yu,this.validateStartingState()}verify(){var C=this;return(0,_.Z)(function*(){C.assertNotDestroyed();const S=yield C.render(),N=C.getAssertedRecaptcha();return N.getResponse(S)||new Promise(je=>{const an=rr=>{!rr||(C.tokenChangeListeners.delete(an),je(rr))};C.tokenChangeListeners.add(an),C.isInvisible&&N.execute(S)})})()}render(){try{this.assertNotDestroyed()}catch(C){return Promise.reject(C)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(C=>{throw this.renderPromise=null,C})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(C=>{this.container.removeChild(C)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(C){return S=>{if(this.tokenChangeListeners.forEach(N=>N(S)),"function"==typeof C)C(S);else if("string"==typeof C){const N=on()[C];"function"==typeof N&&N(S)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var C=this;return(0,_.Z)(function*(){if(yield C.init(),!C.widgetId){let S=C.container;if(!C.isInvisible){const N=document.createElement("div");S.appendChild(N),S=N}C.widgetId=C.getAssertedRecaptcha().render(S,C.parameters)}return C.widgetId})()}init(){var C=this;return(0,_.Z)(function*(){ze(Gt()&&!gs(),C.auth,"internal-error"),yield function wi(){let R=null;return new Promise(C=>{"complete"!==document.readyState?(R=()=>C(),window.addEventListener("load",R)):C()}).catch(C=>{throw R&&window.removeEventListener("load",R),C})}(),C.recaptcha=yield C._recaptchaLoader.load(C.auth,C.auth.languageCode||void 0);const S=yield function Sn(R){return Qs.apply(this,arguments)}(C.auth);ze(S,C.auth,"internal-error"),C.parameters.sitekey=S})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(C,S){this.verificationId=C,this.onConfirmation=S}confirm(C){const S=rs._fromVerification(this.verificationId,C);return this.onConfirmation(S)}}function nd(R,C,S){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,_.Z)(function*(R,C,S){const N=nr(R),Ee=yield Z(N,C,(0,d.m9)(S));return new $i(Ee,je=>En(N,je))})).apply(this,arguments)}function k(R,C,S){return O.apply(this,arguments)}function O(){return(O=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R);yield Q(!1,N,"phone");const Ee=yield Z(N.auth,C,(0,d.m9)(S));return new $i(Ee,je=>ds(N,je))})).apply(this,arguments)}function I(R,C,S){return G.apply(this,arguments)}function G(){return(G=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R),Ee=yield Z(N.auth,C,(0,d.m9)(S));return new $i(Ee,je=>hs(N,je))})).apply(this,arguments)}function Z(R,C,S){return ye.apply(this,arguments)}function ye(){return(ye=(0,_.Z)(function*(R,C,S){var N;const Ee=yield S.verify();try{let je;if(ze("string"==typeof Ee,R,"argument-error"),ze(S.type===Hs,R,"argument-error"),je="string"==typeof C?{phoneNumber:C}:C,"session"in je){const an=je.session;if("phoneNumber"in je)return ze("enroll"===an.type,R,"internal-error"),(yield Do(R,{idToken:an.credential,phoneEnrollmentInfo:{phoneNumber:je.phoneNumber,recaptchaToken:Ee}})).phoneSessionInfo.sessionInfo;{ze("signin"===an.type,R,"internal-error");const rr=(null===(N=je.multiFactorHint)||void 0===N?void 0:N.uid)||je.multiFactorUid;return ze(rr,R,"missing-multi-factor-info"),(yield Zs(R,{mfaPendingCredential:an.credential,mfaEnrollmentId:rr,phoneSignInInfo:{recaptchaToken:Ee}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:an}=yield yn(R,{phoneNumber:je.phoneNumber,recaptchaToken:Ee});return an}}finally{S._reset()}})).apply(this,arguments)}function qe(R,C){return yt.apply(this,arguments)}function yt(){return(yt=(0,_.Z)(function*(R,C){yield fo((0,d.m9)(R),C)})).apply(this,arguments)}let xn=(()=>{class R{constructor(S){this.providerId=R.PROVIDER_ID,this.auth=nr(S)}verifyPhoneNumber(S,N){return Z(this.auth,S,(0,d.m9)(N))}static credential(S,N){return rs._fromVerification(S,N)}static credentialFromResult(S){return R.credentialFromTaggedObject(S)}static credentialFromError(S){return R.credentialFromTaggedObject(S.customData||{})}static credentialFromTaggedObject({_tokenResponse:S}){if(!S)return null;const{phoneNumber:N,temporaryProof:Ee}=S;return N&&Ee?rs._fromTokenResponse(N,Ee):null}}return R.PROVIDER_ID="phone",R.PHONE_SIGN_IN_METHOD="phone",R})();function Er(R,C){return C?ae(C):(ze(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}class fi extends Qr{constructor(C){super("custom","custom"),this.params=C}_getIdTokenResponse(C){return Jo(C,this._buildIdpRequest())}_linkToIdToken(C,S){return Jo(C,this._buildIdpRequest(S))}_getReauthenticationResolver(C){return Jo(C,this._buildIdpRequest())}_buildIdpRequest(C){const S={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return C&&(S.idToken=C),S}}function Pr(R){return Ot(R.auth,new fi(R),R.bypassAuthState)}function Ji(R){const{auth:C,user:S}=R;return ze(S,C,"internal-error"),X(S,new fi(R),R.bypassAuthState)}function Mi(R){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(R){const{auth:C,user:S}=R;return ze(S,C,"internal-error"),fo(S,new fi(R),R.bypassAuthState)})).apply(this,arguments)}class Xs{constructor(C,S,N,Ee,je=!1){this.auth=C,this.resolver=N,this.user=Ee,this.bypassAuthState=je,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(S)?S:[S]}execute(){var C=this;return new Promise(function(){var S=(0,_.Z)(function*(N,Ee){C.pendingPromise={resolve:N,reject:Ee};try{C.eventManager=yield C.resolver._initialize(C.auth),yield C.onExecution(),C.eventManager.registerConsumer(C)}catch(je){C.reject(je)}});return function(N,Ee){return S.apply(this,arguments)}}())}onAuthEvent(C){var S=this;return(0,_.Z)(function*(){const{urlResponse:N,sessionId:Ee,postBody:je,tenantId:an,error:rr,type:Gr}=C;if(rr)return void S.reject(rr);const Nr={auth:S.auth,requestUri:N,sessionId:Ee,tenantId:an||void 0,postBody:je||void 0,user:S.user,bypassAuthState:S.bypassAuthState};try{S.resolve(yield S.getIdpTask(Gr)(Nr))}catch(Bi){S.reject(Bi)}})()}onError(C){this.reject(C)}getIdpTask(C){switch(C){case"signInViaPopup":case"signInViaRedirect":return Pr;case"linkViaPopup":case"linkViaRedirect":return Mi;case"reauthViaPopup":case"reauthViaRedirect":return Ji;default:gn(this.auth,"internal-error")}}resolve(C){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(C),this.unregisterAndCleanUp()}reject(C){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(C),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new sn(2e3,1e4);function dl(R,C,S){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,_.Z)(function*(R,C,S){const N=nr(R);Ve(R,C,wo);const Ee=Er(N,S);return new Cc(N,"signInViaPopup",C,Ee).executeNotNull()})).apply(this,arguments)}function bc(R,C,S){return lc.apply(this,arguments)}function lc(){return(lc=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R);Ve(N.auth,C,wo);const Ee=Er(N.auth,S);return new Cc(N.auth,"reauthViaPopup",C,Ee,N).executeNotNull()})).apply(this,arguments)}function sf(R,C,S){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R);Ve(N.auth,C,wo);const Ee=Er(N.auth,S);return new Cc(N.auth,"linkViaPopup",C,Ee,N).executeNotNull()})).apply(this,arguments)}let Cc=(()=>{class R extends Xs{constructor(S,N,Ee,je,an){super(S,N,je,an),this.provider=Ee,this.authWindow=null,this.pollId=null,R.currentPopupAction&&R.currentPopupAction.cancel(),R.currentPopupAction=this}executeNotNull(){var S=this;return(0,_.Z)(function*(){const N=yield S.execute();return ze(N,S.auth,"internal-error"),N})()}onExecution(){var S=this;return(0,_.Z)(function*(){Qe(1===S.filter.length,"Popup operations only handle one event");const N=sc();S.authWindow=yield S.resolver._openPopup(S.auth,S.provider,S.filter[0],N),S.authWindow.associatedEvent=N,S.resolver._originValidation(S.auth).catch(Ee=>{S.reject(Ee)}),S.resolver._isIframeWebStorageSupported(S.auth,Ee=>{Ee||S.reject(xt(S.auth,"web-storage-unsupported"))}),S.pollUserCancellation()})()}get eventId(){var S;return(null===(S=this.authWindow)||void 0===S?void 0:S.associatedEvent)||null}cancel(){this.reject(xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,R.currentPopupAction=null}pollUserCancellation(){const S=()=>{var N,Ee;this.pollId=null!==(Ee=null===(N=this.authWindow)||void 0===N?void 0:N.window)&&void 0!==Ee&&Ee.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(S,Ui.get())};S()}}return R.currentPopupAction=null,R})();const Ga=new Map;class el extends Xs{constructor(C,S,N=!1){super(C,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],S,void 0,N),this.eventId=null}execute(){var C=()=>super.execute,S=this;return(0,_.Z)(function*(){let N=Ga.get(S.auth._key());if(!N){try{const je=(yield function kd(R,C){return Ta.apply(this,arguments)}(S.resolver,S.auth))?yield C().call(S):null;N=()=>Promise.resolve(je)}catch(Ee){N=()=>Promise.reject(Ee)}Ga.set(S.auth._key(),N)}return S.bypassAuthState||Ga.set(S.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(C){var S=()=>super.onAuthEvent,N=this;return(0,_.Z)(function*(){if("signInViaRedirect"===C.type)return S().call(N,C);if("unknown"!==C.type){if(C.eventId){const Ee=yield N.auth._redirectUserForId(C.eventId);if(Ee)return N.user=Ee,S().call(N,C);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function Ta(){return(Ta=(0,_.Z)(function*(R,C){const S=io(C),N=cc(R);if(!(yield N._isAvailable()))return!1;const Ee="true"===(yield N._get(S));return yield N._remove(S),Ee})).apply(this,arguments)}function mo(R,C){return _o.apply(this,arguments)}function _o(){return(_o=(0,_.Z)(function*(R,C){return cc(R)._set(io(C),"true")})).apply(this,arguments)}function ro(){Ga.clear()}function Dc(R,C){Ga.set(R._key(),C)}function cc(R){return ae(R._redirectPersistence)}function io(R){return tr("pendingRedirect",R.config.apiKey,R.name)}function Sc(R,C,S){return function rd(R,C,S){return Tc.apply(this,arguments)}(R,C,S)}function Tc(){return(Tc=(0,_.Z)(function*(R,C,S){const N=nr(R);Ve(R,C,wo);const Ee=Er(N,S);return yield mo(Ee,N),Ee._openRedirect(N,C,"signInViaRedirect")})).apply(this,arguments)}function z(R,C,S){return function te(R,C,S){return we.apply(this,arguments)}(R,C,S)}function we(){return(we=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R);Ve(N.auth,C,wo);const Ee=Er(N.auth,S);yield mo(Ee,N.auth);const je=yield Li(N);return Ee._openRedirect(N.auth,C,"reauthViaRedirect",je)})).apply(this,arguments)}function lt(R,C,S){return function $t(R,C,S){return Cn.apply(this,arguments)}(R,C,S)}function Cn(){return(Cn=(0,_.Z)(function*(R,C,S){const N=(0,d.m9)(R);Ve(N.auth,C,wo);const Ee=Er(N.auth,S);yield Q(!1,N,C.providerId),yield mo(Ee,N.auth);const je=yield Li(N);return Ee._openRedirect(N.auth,C,"linkViaRedirect",je)})).apply(this,arguments)}function lr(R,C){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_.Z)(function*(R,C){return yield nr(R)._initializationPromise,yi(R,C,!1)})).apply(this,arguments)}function yi(R,C){return li.apply(this,arguments)}function li(){return(li=(0,_.Z)(function*(R,C,S=!1){const N=nr(R),Ee=Er(N,C),an=yield new el(N,Ee,S).execute();return an&&!S&&(delete an.user._redirectEventId,yield N._persistUserIfCurrent(an.user),yield N._setRedirectUser(null,C)),an})).apply(this,arguments)}function Li(R){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,_.Z)(function*(R){const C=sc(`${R.uid}:::`);return R._redirectEventId=C,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),C})).apply(this,arguments)}class fs{constructor(C){this.auth=C,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(C){this.consumers.add(C),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,C)&&(this.sendToConsumer(this.queuedRedirectEvent,C),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(C){this.consumers.delete(C)}onEvent(C){if(this.hasEventBeenHandled(C))return!1;let S=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(C,N)&&(S=!0,this.sendToConsumer(C,N),this.saveEventToCache(C))}),this.hasHandledPotentialRedirect||!function va(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Al(R);default:return!1}}(C)||(this.hasHandledPotentialRedirect=!0,S||(this.queuedRedirectEvent=C,S=!0)),S}sendToConsumer(C,S){var N;if(C.error&&!Al(C)){const Ee=(null===(N=C.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";S.onError(xt(this.auth,Ee))}else S.onAuthEvent(C)}isEventForConsumer(C,S){const N=null===S.eventId||!!C.eventId&&C.eventId===S.eventId;return S.filter.includes(C.type)&&N}hasEventBeenHandled(C){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hl(C))}saveEventToCache(C){this.cachedEventUids.add(hl(C)),this.lastProcessedEventTime=Date.now()}}function hl(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(C=>C).join("-")}function Al({type:R,error:C}){return"unknown"===R&&"auth/no-auth-event"===C?.code}function Wc(R){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,_.Z)(function*(R,C={}){return Wt(R,"GET","/v1/projects",C)})).apply(this,arguments)}const $c=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ic=/^https?/;function zl(){return(zl=(0,_.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:C}=yield Wc(R);for(const S of C)try{if(Kc(S))return}catch{}gn(R,"unauthorized-domain")})).apply(this,arguments)}function Kc(R){const C=Je(),{protocol:S,hostname:N}=new URL(C);if(R.startsWith("chrome-extension://")){const an=new URL(R);return""===an.hostname&&""===N?"chrome-extension:"===S&&R.replace("chrome-extension://","")===C.replace("chrome-extension://",""):"chrome-extension:"===S&&an.hostname===N}if(!Ic.test(S))return!1;if($c.test(R))return N===R;const Ee=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ee+"|"+Ee+")$","i").test(N)}const v0=new sn(3e4,6e4);function xu(){const R=on().___jsl;if(R?.H)for(const C of Object.keys(R.H))if(R.H[C].r=R.H[C].r||[],R.H[C].L=R.H[C].L||[],R.H[C].r=[...R.H[C].L],R.CP)for(let S=0;S<R.CP.length;S++)R.CP[S]=null}let Md=null;function Tg(R){return Md=Md||function gh(R){return new Promise((C,S)=>{var N,Ee,je;function an(){xu(),gapi.load("gapi.iframes",{callback:()=>{C(gapi.iframes.getContext())},ontimeout:()=>{xu(),S(xt(R,"network-request-failed"))},timeout:v0.get()})}if(null!==(Ee=null===(N=on().gapi)||void 0===N?void 0:N.iframes)&&void 0!==Ee&&Ee.Iframe)C(gapi.iframes.getContext());else{if(null===(je=on().gapi)||void 0===je||!je.load){const rr=Bo("iframefcb");return on()[rr]=()=>{gapi.load?an():S(xt(R,"network-request-failed"))},Qn(`https://apis.google.com/js/api.js?onload=${rr}`).catch(Gr=>S(Gr))}an()}}).catch(C=>{throw Md=null,C})}(R),Md}const y0=new sn(5e3,15e3),id={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ws(R){const C=R.config;ze(C.authDomain,R,"auth-domain-config-required");const S=C.emulator?Kt(C,"emulator/auth/iframe"):`https://${R.config.authDomain}/__/auth/iframe`,N={apiKey:C.apiKey,appName:R.name,v:H.SDK_VERSION},Ee=sd.get(R.config.apiHost);Ee&&(N.eid=Ee);const je=R._getFrameworks();return je.length&&(N.fw=je.join(",")),`${S}?${(0,d.xO)(N).slice(1)}`}function Rd(){return Rd=(0,_.Z)(function*(R){const C=yield Tg(R),S=on().gapi;return ze(S,R,"internal-error"),C.open({where:document.body,url:ws(R),messageHandlersFilter:S.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:id,dontclear:!0},N=>new Promise(function(){var Ee=(0,_.Z)(function*(je,an){yield N.restyle({setHideOnLeave:!1});const rr=xt(R,"network-request-failed"),Gr=on().setTimeout(()=>{an(rr)},y0.get());function Nr(){on().clearTimeout(Gr),je(N)}N.ping(Nr).then(Nr,()=>{an(rr)})});return function(je,an){return Ee.apply(this,arguments)}}()))}),Rd.apply(this,arguments)}const uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Aa{constructor(C){this.window=C,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dc(R,C,S,N,Ee,je){ze(R.config.authDomain,R,"auth-domain-config-required"),ze(R.config.apiKey,R,"invalid-api-key");const an={apiKey:R.config.apiKey,appName:R.name,authType:S,redirectUrl:N,v:H.SDK_VERSION,eventId:Ee};if(C instanceof wo){C.setDefaultLanguage(R.languageCode),an.providerId=C.providerId||"",(0,d.xb)(C.getCustomParameters())||(an.customParameters=JSON.stringify(C.getCustomParameters()));for(const[Gr,Nr]of Object.entries(je||{}))an[Gr]=Nr}if(C instanceof Eo){const Gr=C.getScopes().filter(Nr=>""!==Nr);Gr.length>0&&(an.scopes=Gr.join(","))}R.tenantId&&(an.tid=R.tenantId);const rr=an;for(const Gr of Object.keys(rr))void 0===rr[Gr]&&delete rr[Gr];return`${function af({config:R}){return R.emulator?Kt(R,"emulator/auth/handler"):`https://${R.authDomain}/__/auth/handler`}(R)}?${(0,d.xO)(rr).slice(1)}`}const mh="webStorageSupport",lp=class Ig{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ul,this._completeRedirectFn=yi,this._overrideRedirectResult=Dc}_openPopup(C,S,N,Ee){var je=this;return(0,_.Z)(function*(){var an;Qe(null===(an=je.eventManagers[C._key()])||void 0===an?void 0:an.manager,"_initialize() not called before _openPopup()");const rr=dc(C,S,N,Je(),Ee);return function tl(R,C,S,N=500,Ee=600){const je=Math.max((window.screen.availHeight-Ee)/2,0).toString(),an=Math.max((window.screen.availWidth-N)/2,0).toString();let rr="";const Gr=Object.assign(Object.assign({},uc),{width:N.toString(),height:Ee.toString(),top:je,left:an}),Nr=(0,d.z$)().toLowerCase();S&&(rr=tt(Nr)?"_blank":S),ke(Nr)&&(C=C||"http://localhost",Gr.scrollbars="yes");const Bi=Object.entries(Gr).reduce(($l,[Mc,Eu])=>`${$l}${Mc}=${Eu},`,"");if(function _e(R=(0,d.z$)()){var C;return bt(R)&&!(null===(C=window.navigator)||void 0===C||!C.standalone)}(Nr)&&"_self"!==rr)return function Od(R,C){const S=document.createElement("a");S.href=R,S.target=C;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),S.dispatchEvent(N)}(C||"",rr),new Aa(null);const Gs=window.open(C||"",rr,Bi);ze(Gs,R,"popup-blocked");try{Gs.focus()}catch{}return new Aa(Gs)}(C,rr,sc())})()}_openRedirect(C,S,N,Ee){var je=this;return(0,_.Z)(function*(){return yield je._originValidation(C),function ir(R){on().location.href=R}(dc(C,S,N,Je(),Ee)),new Promise(()=>{})})()}_initialize(C){const S=C._key();if(this.eventManagers[S]){const{manager:Ee,promise:je}=this.eventManagers[S];return Ee?Promise.resolve(Ee):(Qe(je,"If manager is not set, promise should be"),je)}const N=this.initAndGetManager(C);return this.eventManagers[S]={promise:N},N.catch(()=>{delete this.eventManagers[S]}),N}initAndGetManager(C){var S=this;return(0,_.Z)(function*(){const N=yield function Wl(R){return Rd.apply(this,arguments)}(C),Ee=new fs(C);return N.register("authEvent",je=>(ze(je?.authEvent,C,"invalid-auth-event"),{status:Ee.onEvent(je.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),S.eventManagers[C._key()]={manager:Ee},S.iframes[C._key()]=N,Ee})()}_isIframeWebStorageSupported(C,S){this.iframes[C._key()].send(mh,{type:mh},Ee=>{var je;const an=null===(je=Ee?.[0])||void 0===je?void 0:je[mh];void 0!==an&&S(!!an),gn(C,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(C){const S=C._key();return this.originValidationPromises[S]||(this.originValidationPromises[S]=function Mo(R){return zl.apply(this,arguments)}(C)),this.originValidationPromises[S]}get _shouldInitProactively(){return le()||ve()||bt()}};class Zc extends class kc{constructor(C){this.factorId=C}_process(C,S,N){switch(S.type){case"enroll":return this._finalizeEnroll(C,S.credential,N);case"signin":return this._finalizeSignIn(C,S.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(C){super("phone"),this.credential=C}static _fromCredential(C){return new Zc(C)}_finalizeEnroll(C,S,N){return function mu(R,C){return Wt(R,"POST","/v2/accounts/mfaEnrollment:finalize",mn(R,C))}(C,{idToken:S,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(C,S){return function Us(R,C){return Wt(R,"POST","/v2/accounts/mfaSignIn:finalize",mn(R,C))}(C,{mfaPendingCredential:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cp=(()=>{class R{constructor(){}static assertion(S){return Zc._fromCredential(S)}}return R.FACTOR_ID="phone",R})();var ad="@firebase/auth";class x0{constructor(C){this.auth=C,this.internalListeners=new Map}getUid(){var C;return this.assertAuthConfigured(),(null===(C=this.auth.currentUser)||void 0===C?void 0:C.uid)||null}getToken(C){var S=this;return(0,_.Z)(function*(){return S.assertAuthConfigured(),yield S.auth._initializationPromise,S.auth.currentUser?{accessToken:yield S.auth.currentUser.getIdToken(C)}:null})()}addAuthTokenListener(C){if(this.assertAuthConfigured(),this.internalListeners.has(C))return;const S=this.auth.onIdTokenChanged(N=>{var Ee;C((null===(Ee=N)||void 0===Ee?void 0:Ee.stsTokenManager.accessToken)||null)});this.internalListeners.set(C,S),this.updateProactiveRefresh()}removeAuthTokenListener(C){this.assertAuthConfigured();const S=this.internalListeners.get(C);!S||(this.internalListeners.delete(C),S(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Fd(R){(0,H._registerComponent)(new Ae.wA("auth",(C,{options:S})=>{const N=C.getProvider("app").getImmediate(),Ee=C.getProvider("heartbeat"),{apiKey:je,authDomain:an}=N.options;return((rr,Gr)=>{ze(je&&!je.includes(":"),"invalid-api-key",{appName:rr.name}),ze(!an?.includes(":"),"argument-error",{appName:rr.name});const Nr={apiKey:je,authDomain:an,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vt(R)},Bi=new sr(rr,Gr,Nr);return function Ne(R,C){const S=C?.persistence||[],N=(Array.isArray(S)?S:[S]).map(ae);C?.errorMap&&R._updateErrorMap(C.errorMap),R._initializeWithPersistence(N,C?.popupRedirectResolver)}(Bi,S),Bi})(N,Ee)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((C,S,N)=>{C.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Ae.wA("auth-internal",C=>{const S=nr(C.getProvider("auth").getImmediate());return new x0(S)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(ad,"0.20.5",function kg(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,H.registerVersion)(ad,"0.20.5","esm2017")}("Browser")},2090:(Zn,St,M)=>{M.d(St,{$s:()=>Xt,BH:()=>pt,DV:()=>Wt,Dv:()=>Xe,G6:()=>ze,GJ:()=>cn,L:()=>Oe,LL:()=>Je,Mn:()=>Ve,Pz:()=>Vn,Sg:()=>Et,UG:()=>Ft,UI:()=>Kn,US:()=>Ae,Wj:()=>pn,Yr:()=>at,ZB:()=>xe,ZR:()=>Ne,b$:()=>gn,cI:()=>Pn,d:()=>xt,dS:()=>Rt,eu:()=>Qe,g5:()=>H,gK:()=>kt,gQ:()=>xi,h$:()=>Ge,hl:()=>nt,hu:()=>d,jU:()=>At,lb:()=>Hn,m9:()=>Y,ne:()=>mr,p$:()=>Ce,pd:()=>jr,r3:()=>mn,ru:()=>en,tV:()=>me,uI:()=>jt,ug:()=>st,vZ:()=>dr,w1:()=>Ue,w9:()=>fn,xO:()=>Mr,xb:()=>An,z$:()=>ct,zI:()=>Pe,zd:()=>di});const d=function(V,ne){if(!V)throw H(ne)},H=function(V){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+V)},ge=function(V){const ne=[];let pe=0;for(let ue=0;ue<V.length;ue++){let se=V.charCodeAt(ue);se<128?ne[pe++]=se:se<2048?(ne[pe++]=se>>6|192,ne[pe++]=63&se|128):55296==(64512&se)&&ue+1<V.length&&56320==(64512&V.charCodeAt(ue+1))?(se=65536+((1023&se)<<10)+(1023&V.charCodeAt(++ue)),ne[pe++]=se>>18|240,ne[pe++]=se>>12&63|128,ne[pe++]=se>>6&63|128,ne[pe++]=63&se|128):(ne[pe++]=se>>12|224,ne[pe++]=se>>6&63|128,ne[pe++]=63&se|128)}return ne},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,ne){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let se=0;se<V.length;se+=3){const be=V[se],ot=se+1<V.length,Dt=ot?V[se+1]:0,jn=se+2<V.length,tr=jn?V[se+2]:0;let ke=(15&Dt)<<2|tr>>6,ve=63&tr;jn||(ve=64,ot||(ke=64)),ue.push(pe[be>>2],pe[(3&be)<<4|Dt>>4],pe[ke],pe[ve])}return ue.join("")},encodeString(V,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(V):this.encodeByteArray(ge(V),ne)},decodeString(V,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(V):function(V){const ne=[];let pe=0,ue=0;for(;pe<V.length;){const se=V[pe++];if(se<128)ne[ue++]=String.fromCharCode(se);else if(se>191&&se<224){const be=V[pe++];ne[ue++]=String.fromCharCode((31&se)<<6|63&be)}else if(se>239&&se<365){const jn=((7&se)<<18|(63&V[pe++])<<12|(63&V[pe++])<<6|63&V[pe++])-65536;ne[ue++]=String.fromCharCode(55296+(jn>>10)),ne[ue++]=String.fromCharCode(56320+(1023&jn))}else{const be=V[pe++],ot=V[pe++];ne[ue++]=String.fromCharCode((15&se)<<12|(63&be)<<6|63&ot)}}return ne.join("")}(this.decodeStringToByteArray(V,ne))},decodeStringToByteArray(V,ne){this.init_();const pe=ne?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let se=0;se<V.length;){const be=pe[V.charAt(se++)],Dt=se<V.length?pe[V.charAt(se)]:0;++se;const tr=se<V.length?pe[V.charAt(se)]:64;++se;const de=se<V.length?pe[V.charAt(se)]:64;if(++se,null==be||null==Dt||null==tr||null==de)throw Error();ue.push(be<<2|Dt>>4),64!==tr&&(ue.push(Dt<<4&240|tr>>2),64!==de&&ue.push(tr<<6&192|de))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},Ge=function(V){const ne=ge(V);return Ae.encodeByteArray(ne,!0)},Oe=function(V){return Ge(V).replace(/\./g,"")},me=function(V){try{return Ae.decodeString(V,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function Ce(V){return xe(void 0,V)}function xe(V,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return ne}for(const pe in ne)!ne.hasOwnProperty(pe)||!Fe(pe)||(V[pe]=xe(V[pe],ne[pe]));return V}function Fe(V){return"__proto__"!==V}class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,pe)=>{this.resolve=ne,this.reject=pe})}wrapCallback(ne){return(pe,ue)=>{pe?this.reject(pe):this.resolve(ue),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(pe):ne(pe,ue))}}}function Et(V,ne){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=ne||"demo-project",se=V.iat||0,be=V.sub||V.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:se,exp:se+3600,auth_time:se,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},V);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(ot)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function Ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function en(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xt(){return ct().indexOf("Electron/")>=0}function Ue(){const V=ct();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ve(){return ct().indexOf("MSAppHost/")>=0}function at(){return!1}function ze(){return!Ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function Qe(){return new Promise((V,ne)=>{try{let pe=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ue);se.onsuccess=()=>{se.result.close(),pe||self.indexedDB.deleteDatabase(ue),V(!0)},se.onupgradeneeded=()=>{pe=!1},se.onerror=()=>{var be;ne((null===(be=se.error)||void 0===be?void 0:be.message)||"")}}catch(pe){ne(pe)}})}function Pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ne extends Error{constructor(ne,pe,ue){super(pe),this.code=ne,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(ne,pe,ue){this.service=ne,this.serviceName=pe,this.errors=ue}create(ne,...pe){const ue=pe[0]||{},se=`${this.service}/${ne}`,be=this.errors[ne],ot=be?function Gt(V,ne){return V.replace(qt,(pe,ue)=>{const se=ne[ue];return null!=se?String(se):`<${ue}?>`})}(be,ue):"Error";return new Ne(se,`${this.serviceName}: ${ot} (${se}).`,ue)}}const qt=/\{\$([^}]+)}/g;function Pn(V){return JSON.parse(V)}function Vn(V){return JSON.stringify(V)}const sn=function(V){let ne={},pe={},ue={},se="";try{const be=V.split(".");ne=Pn(me(be[0])||""),pe=Pn(me(be[1])||""),se=be[2],ue=pe.d||{},delete pe.d}catch{}return{header:ne,claims:pe,data:ue,signature:se}},fn=function(V){const pe=sn(V).claims;return!!pe&&"object"==typeof pe&&pe.hasOwnProperty("iat")},cn=function(V){const ne=sn(V).claims;return"object"==typeof ne&&!0===ne.admin};function mn(V,ne){return Object.prototype.hasOwnProperty.call(V,ne)}function Wt(V,ne){if(Object.prototype.hasOwnProperty.call(V,ne))return V[ne]}function An(V){for(const ne in V)if(Object.prototype.hasOwnProperty.call(V,ne))return!1;return!0}function Kn(V,ne,pe){const ue={};for(const se in V)Object.prototype.hasOwnProperty.call(V,se)&&(ue[se]=ne.call(pe,V[se],se,V));return ue}function dr(V,ne){if(V===ne)return!0;const pe=Object.keys(V),ue=Object.keys(ne);for(const se of pe){if(!ue.includes(se))return!1;const be=V[se],ot=ne[se];if(Lr(be)&&Lr(ot)){if(!dr(be,ot))return!1}else if(be!==ot)return!1}for(const se of ue)if(!pe.includes(se))return!1;return!0}function Lr(V){return null!==V&&"object"==typeof V}function Mr(V){const ne=[];for(const[pe,ue]of Object.entries(V))Array.isArray(ue)?ue.forEach(se=>{ne.push(encodeURIComponent(pe)+"="+encodeURIComponent(se))}):ne.push(encodeURIComponent(pe)+"="+encodeURIComponent(ue));return ne.length?"&"+ne.join("&"):""}function di(V){const ne={};return V.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[se,be]=ue.split("=");ne[decodeURIComponent(se)]=decodeURIComponent(be)}}),ne}function jr(V){const ne=V.indexOf("?");if(!ne)return"";const pe=V.indexOf("#",ne);return V.substring(ne,pe>0?pe:void 0)}class xi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ne=1;ne<this.blockSize;++ne)this.pad_[ne]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ne,pe){pe||(pe=0);const ue=this.W_;if("string"==typeof ne)for(let de=0;de<16;de++)ue[de]=ne.charCodeAt(pe)<<24|ne.charCodeAt(pe+1)<<16|ne.charCodeAt(pe+2)<<8|ne.charCodeAt(pe+3),pe+=4;else for(let de=0;de<16;de++)ue[de]=ne[pe]<<24|ne[pe+1]<<16|ne[pe+2]<<8|ne[pe+3],pe+=4;for(let de=16;de<80;de++){const ke=ue[de-3]^ue[de-8]^ue[de-14]^ue[de-16];ue[de]=4294967295&(ke<<1|ke>>>31)}let tr,Un,se=this.chain_[0],be=this.chain_[1],ot=this.chain_[2],Dt=this.chain_[3],jn=this.chain_[4];for(let de=0;de<80;de++){de<40?de<20?(tr=Dt^be&(ot^Dt),Un=1518500249):(tr=be^ot^Dt,Un=1859775393):de<60?(tr=be&ot|Dt&(be|ot),Un=2400959708):(tr=be^ot^Dt,Un=3395469782);const ke=(se<<5|se>>>27)+tr+jn+Un+ue[de]&4294967295;jn=Dt,Dt=ot,ot=4294967295&(be<<30|be>>>2),be=se,se=ke}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+be&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+jn&4294967295}update(ne,pe){if(null==ne)return;void 0===pe&&(pe=ne.length);const ue=pe-this.blockSize;let se=0;const be=this.buf_;let ot=this.inbuf_;for(;se<pe;){if(0===ot)for(;se<=ue;)this.compress_(ne,se),se+=this.blockSize;if("string"==typeof ne){for(;se<pe;)if(be[ot]=ne.charCodeAt(se),++ot,++se,ot===this.blockSize){this.compress_(be),ot=0;break}}else for(;se<pe;)if(be[ot]=ne[se],++ot,++se,ot===this.blockSize){this.compress_(be),ot=0;break}}this.inbuf_=ot,this.total_+=pe}digest(){const ne=[];let pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&pe,pe/=256;this.compress_(this.buf_);let ue=0;for(let se=0;se<5;se++)for(let be=24;be>=0;be-=8)ne[ue]=this.chain_[se]>>be&255,++ue;return ne}}function mr(V,ne){const pe=new Hr(V,ne);return pe.subscribe.bind(pe)}class Hr{constructor(ne,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{ne(this)}).catch(ue=>{this.error(ue)})}next(ne){this.forEachObserver(pe=>{pe.next(ne)})}error(ne){this.forEachObserver(pe=>{pe.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,pe,ue){let se;if(void 0===ne&&void 0===pe&&void 0===ue)throw new Error("Missing Observer.");se=function Yt(V,ne){if("object"!=typeof V||null===V)return!1;for(const pe of ne)if(pe in V&&"function"==typeof V[pe])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:pe,complete:ue},void 0===se.next&&(se.next=fe),void 0===se.error&&(se.error=fe),void 0===se.complete&&(se.complete=fe);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),be}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,ne)}sendOne(ne,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{pe(this.observers[ne])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fe(){}const Xe=function(V,ne,pe,ue){let se;if(ue<ne?se="at least "+ne:ue>pe&&(se=0===pe?"none":"no more than "+pe),se)throw new Error(V+" failed: Was called with "+ue+(1===ue?" argument.":" arguments.")+" Expects "+se+".")};function kt(V,ne){return`${V} failed: ${ne} argument `}function pn(V,ne,pe,ue){if((!ue||pe)&&"function"!=typeof pe)throw new Error(kt(V,ne)+"must be a valid function.")}function Hn(V,ne,pe,ue){if((!ue||pe)&&("object"!=typeof pe||null===pe))throw new Error(kt(V,ne)+"must be a valid context object.")}const Rt=function(V){const ne=[];let pe=0;for(let ue=0;ue<V.length;ue++){let se=V.charCodeAt(ue);if(se>=55296&&se<=56319){const be=se-55296;ue++,d(ue<V.length,"Surrogate pair missing trail surrogate."),se=65536+(be<<10)+(V.charCodeAt(ue)-56320)}se<128?ne[pe++]=se:se<2048?(ne[pe++]=se>>6|192,ne[pe++]=63&se|128):se<65536?(ne[pe++]=se>>12|224,ne[pe++]=se>>6&63|128,ne[pe++]=63&se|128):(ne[pe++]=se>>18|240,ne[pe++]=se>>12&63|128,ne[pe++]=se>>6&63|128,ne[pe++]=63&se|128)}return ne},st=function(V){let ne=0;for(let pe=0;pe<V.length;pe++){const ue=V.charCodeAt(pe);ue<128?ne++:ue<2048?ne+=2:ue>=55296&&ue<=56319?(ne+=4,pe++):ne+=3}return ne};function Xt(V,ne=1e3,pe=2){const ue=ne*Math.pow(pe,V),se=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+se)}function Y(V){return V&&V._delegate?V._delegate:V}},1737:(Zn,St,M)=>{M.r(St),M.d(St,{LoaderModule:()=>ge});var _=M(6895),d=M(5609),H=M(4650);let ge=(()=>{class Re{}return Re.\u0275fac=function(Ge){return new(Ge||Re)},Re.\u0275mod=H.oAB({type:Re}),Re.\u0275inj=H.cJS({imports:[_.ez,d.q.forRoot({fullScreenBackdrop:!0})]}),Re})()},773:(Zn,St,M)=>{M.d(St,{e:()=>Ce});var _=M(6457),Ae=(M(2090),M(9681),M(1877),M(4859),M(4650)),Ge=M(4206),Oe=M(1205),me=M(284);let Ce=(()=>{class xe{constructor(pt,Et,ct,jt){this.afs=pt,this.afAuth=Et,this.router=ct,this.ngZone=jt,this.afAuth.authState.subscribe(Ft=>{Ft?(this.userData=Ft,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(pt,Et){return this.afAuth.signInWithEmailAndPassword(pt,Et).then(ct=>{this.SetUserData(ct.user),this.afAuth.authState.subscribe(jt=>{jt&&this.router.navigate(["dashboard"])})}).catch(ct=>{window.alert(ct.message)})}SignUp(pt,Et){return this.afAuth.createUserWithEmailAndPassword(pt,Et).then(ct=>{this.SendVerificationMail(),this.SetUserData(ct.user)}).catch(ct=>{window.alert(ct.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(pt=>pt.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-adress"])})}ForgotPassword(pt){return this.afAuth.sendPasswordResetEmail(pt).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(Et=>{window.alert(Et)})}get isLoggedIn(){const pt=JSON.parse(localStorage.getItem("user"));return null!==pt&&!1!==pt.emailVerified}GoogleAuth(){return this.AuthLogin(new _.Q).then(pt=>{this.router.navigate(["dashboard"])})}AuthLogin(pt){return this.afAuth.signInWithPopup(pt).then(Et=>{this.router.navigate(["dashboard"]),this.SetUserData(Et.user)}).catch(Et=>{window.alert(Et)})}SetUserData(pt){return this.afs.doc(`users/${pt.uid}`).set({uid:pt.uid,email:pt.email,displayName:pt.displayName,photoURL:pt.photoURL,emailVerified:pt.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return xe.\u0275fac=function(pt){return new(pt||xe)(Ae.LFG(Ge.ST),Ae.LFG(Oe.zQ),Ae.LFG(me.F0),Ae.LFG(Ae.R0b))},xe.\u0275prov=Ae.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})()},1528:(Zn,St,M)=>{var _=M(1481),d=M(4650),H=M(2687),ge=M(8184),Re=M(3353),Ae=M(4080),Ge=M(6895),Oe=M(9521),me=M(7579),Ce=M(9770),xe=M(9646),Fe=M(445),pt=M(8675);function Et(t,n){}class ct{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Ft=(()=>{class t extends Ae.en{constructor(e,r,s,c,p,g,x,E){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=p,this._ngZone=g,this._overlayRef=x,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>{this._portalOutlet.hasAttached();const F=this._portalOutlet.attachDomPortal(D);return this._contentAttached(),F},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(r)}_focusByCssSelector(e,r){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const s=(0,Re.ht)(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=(0,Re.ht)();return e===r||e.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Re.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(H.qV),d.Y36(Ge.K0,8),d.Y36(ct),d.Y36(H.ic),d.Y36(d.R0b),d.Y36(ge.Iu),d.Y36(H.tE))},t.\u0275cmp=d.Xpm({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,r){if(1&e&&d.Gf(Ae.Pl,7),2&e){let s;d.iGM(s=d.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,r){2&e&&d.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&d.YNc(0,Et,0,0,"ng-template",0)},dependencies:[Ae.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),t})();class At{constructor(n,e){this.overlayRef=n,this.config=e,this.closed=new me.x,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{r.keyCode===Oe.hY&&!this.disableClose&&!(0,Oe.Vb)(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(n,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),r.next(n),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const en=new d.OlP("DialogScrollStrategy"),gn=new d.OlP("DialogData"),xt=new d.OlP("DefaultDialogConfig"),Ve={provide:en,deps:[ge.aV],useFactory:function Ue(t){return()=>t.scrollStrategies.block()}};let at=0,ze=(()=>{class t{constructor(e,r,s,c,p,g){this._overlay=e,this._injector=r,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new me.x,this._afterOpenedAtThisLevel=new me.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Ce.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pt.O)(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,r){(r={...this._defaultOptions||new ct,...r}).id=r.id||"cdk-dialog-"+at++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),p=this._overlay.create(c),g=new At(p,r),x=this._attachContainer(p,g,r);return g.containerInstance=x,this._attachDialogContent(e,g,x,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){nt(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){nt(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),nt(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new ge.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,s){const c=s.injector??s.viewContainerRef?.injector,p=[{provide:ct,useValue:s},{provide:At,useValue:r},{provide:ge.Iu,useValue:e}];let g;s.container?"function"==typeof s.container?g=s.container:(g=s.container.type,p.push(...s.container.providers(s))):g=Ft;const x=new Ae.C5(g,s.viewContainerRef,d.zs3.create({parent:c||this._injector,providers:p}),s.componentFactoryResolver);return e.attach(x).instance}_attachDialogContent(e,r,s,c){const p=this._createInjector(c,r,s);if(e instanceof d.Rgc){let g={$implicit:c.data,dialogRef:r};c.templateContext&&(g={...g,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new Ae.UE(e,null,g,p))}else{const g=s.attachComponentPortal(new Ae.C5(e,c.viewContainerRef,p,c.componentFactoryResolver));r.componentInstance=g.instance}}_createInjector(e,r,s){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,p=[{provide:gn,useValue:e.data},{provide:At,useValue:r}];return e.providers&&("function"==typeof e.providers?p.push(...e.providers(r,e,s)):p.push(...e.providers)),e.direction&&(!c||!c.get(Fe.Is,null,d.XFs.Optional))&&p.push({provide:Fe.Is,useValue:{value:e.direction,change:(0,xe.of)()}}),d.zs3.create({parent:e.injector||c||this._injector,providers:p})}_removeOpenDialog(e,r){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,p)=>{c?p.setAttribute("aria-hidden",c):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let s=r.length-1;s>-1;s--){const c=r[s];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(ge.aV),d.LFG(d.zs3),d.LFG(xt,8),d.LFG(t,12),d.LFG(ge.Xj),d.LFG(en))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();function nt(t,n){let e=t.length;for(;e--;)n(t[e])}let Qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[ze,Ve],imports:[ge.U8,Ae.eL,H.rt,Ae.eL]}),t})();var Pe=M(3238),ae=M(6451),_t=M(9300),Ne=M(5698),Je=M(7340);function Gt(t,n){}const qt={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Pn={dialogContainer:(0,Je.X$)("dialogContainer",[(0,Je.SB)("void, exit",(0,Je.oB)({opacity:0,transform:"scale(0.7)"})),(0,Je.SB)("enter",(0,Je.oB)({transform:"none"})),(0,Je.eR)("* => enter",(0,Je.ru)([(0,Je.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Je.oB)({transform:"none",opacity:1})),(0,Je.IO)("@*",(0,Je.pV)(),{optional:!0})]),qt),(0,Je.eR)("* => void, * => exit",(0,Je.ru)([(0,Je.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Je.oB)({opacity:0})),(0,Je.IO)("@*",(0,Je.pV)(),{optional:!0})]),qt)])};class Vn{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=qt.params.enterAnimationDuration,this.exitAnimationDuration=qt.params.exitAnimationDuration}}let sn=(()=>{class t extends Ft{constructor(e,r,s,c,p,g,x,E){super(e,r,s,c,p,g,x,E),this._animationStateChanged=new d.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(H.qV),d.Y36(Ge.K0,8),d.Y36(Vn),d.Y36(H.ic),d.Y36(d.R0b),d.Y36(ge.Iu),d.Y36(H.tE))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],features:[d.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})(),Kt=(()=>{class t extends sn{constructor(e,r,s,c,p,g,x,E,D){super(e,r,s,c,p,g,x,D),this._changeDetectorRef=E,this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?this._openAnimationDone(r):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:r})}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||qt.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||qt.params.exitAnimationDuration}}}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(H.qV),d.Y36(Ge.K0,8),d.Y36(Vn),d.Y36(H.ic),d.Y36(d.R0b),d.Y36(ge.Iu),d.Y36(d.sBO),d.Y36(H.tE))},t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,r){1&e&&d.WFA("@dialogContainer.start",function(c){return r._onAnimationStart(c)})("@dialogContainer.done",function(c){return r._onAnimationDone(c)}),2&e&&(d.Ikx("id",r._config.id),d.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._getAnimationState()))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&d.YNc(0,Gt,0,0,"ng-template",0)},dependencies:[Ae.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Pn.dialogContainer]}}),t})();class kn{constructor(n,e,r){this._ref=n,this._containerInstance=r,this._afterOpened=new me.x,this._beforeClosed=new me.x,this._state=0,this.disableClose=e.disableClose,this.id=n.id,r._animationStateChanged.pipe((0,_t.h)(s=>"opened"===s.state),(0,Ne.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,_t.h)(s=>"closed"===s.state),(0,Ne.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ae.T)(this.backdropClick(),this.keydownEvents().pipe((0,_t.h)(s=>s.keyCode===Oe.hY&&!this.disableClose&&!(0,Oe.Vb)(s)))).subscribe(s=>{this.disableClose||(s.preventDefault(),fn(this,"keydown"===s.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe((0,_t.h)(e=>"closing"===e.state),(0,Ne.q)(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function fn(t,n,e){return t._closeInteractionType=n,t.close(e)}const cn=new d.OlP("MatDialogData"),mn=new d.OlP("mat-dialog-default-options"),Wt=new d.OlP("mat-dialog-scroll-strategy"),dr={provide:Wt,deps:[ge.aV],useFactory:function Kn(t){return()=>t.scrollStrategies.block()}};let Lr=0,ui=(()=>{class t{constructor(e,r,s,c,p,g,x,E,D,F){this._overlay=e,this._defaultOptions=s,this._parentDialog=c,this._dialogRefConstructor=x,this._dialogContainerType=E,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new me.x,this._afterOpenedAtThisLevel=new me.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,Ce.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,pt.O)(void 0))),this._scrollStrategy=g,this._dialog=r.get(ze)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){let s;(r={...this._defaultOptions||new Vn,...r}).id=r.id||`${this._idPrefix}${Lr++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Vn,useValue:r},{provide:ct,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(p,g,x)=>(s=new this._dialogRefConstructor(p,r,x),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:x},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentInstance=c.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(s);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return t.\u0275fac=function(e){d.$Z()},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),Mr=(()=>{class t extends ui{constructor(e,r,s,c,p,g,x,E){super(e,r,c,g,x,p,kn,Kt,cn,E)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(ge.aV),d.LFG(d.zs3),d.LFG(Ge.Ye,8),d.LFG(mn,8),d.LFG(Wt),d.LFG(t,12),d.LFG(ge.Xj),d.LFG(d.QbO,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),di=0,jr=(()=>{class t{constructor(e,r,s){this.dialogRef=e,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=hi(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){fn(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(kn,8),d.Y36(d.SBq),d.Y36(Mr))},t.\u0275dir=d.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&d.NdJ("click",function(c){return r._onButtonClick(c)}),2&e&&d.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),t})(),xi=(()=>{class t{constructor(e,r,s){this._dialogRef=e,this._elementRef=r,this._dialog=s,this.id="mat-dialog-title-"+di++}ngOnInit(){this._dialogRef||(this._dialogRef=hi(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(kn,8),d.Y36(d.SBq),d.Y36(Mr))},t.\u0275dir=d.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&d.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),Hr=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,r){2&e&&d.ekj("mat-dialog-actions-align-center","center"===r.align)("mat-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),t})();function hi(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?n.find(r=>r.id===e.id):null}let Yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[Mr,dr],imports:[Qe,ge.U8,Ae.eL,Pe.BQ,Pe.BQ]}),t})();var fe=M(4006),Xe=M(4206),kt=M(284);let tn=(()=>{class t{constructor(){this.isLoading=new me.x}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var pn=M(5609);let Hn=(()=>{class t{constructor(e){this.loaderService=e,this.loading=this.loaderService.isLoading}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(tn))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-loader"]],decls:2,vars:3,consts:[[3,"show"]],template:function(e,r){1&e&&(d._UZ(0,"ngx-loading",0),d.ALo(1,"async")),2&e&&d.Q6J("show",d.lcZ(1,1,r.loading))},dependencies:[pn.RJ,Ge.Ov],encapsulation:2}),t})(),Rt=(()=>{class t{constructor(e){this.firestore=e,this.index=0,this.indexs=[]}ngOnInit(){this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0}),this.firestore.collection("lunch").snapshotChanges().subscribe(e=>{this.index<=e.length&&(this.index=e.length,this.amountIndex=e.map(r=>{this.indexs.push(r.payload.doc.id),this.index++;for(let c=0;c<this.indexs.length;c++)this.firestore.doc("lunch/"+this.indexs[c]).update({bagAmount:1})}))})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&d._UZ(0,"app-loader")(1,"router-outlet")},dependencies:[kt.lC,Hn]}),t})();var st=M(5861),Ye=M(1135),Ht_version="0.18.5",vn=1200,Dn=1252,vr=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Xt={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},gt=function(t){-1!=vr.indexOf(t)&&(Dn=Xt[0]=t)},Y=function(t){vn=t,gt(t)};var Dt,be=function(n){return String.fromCharCode(n)},ot=function(n){return String.fromCharCode(n)},de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ke(t){for(var n="",e=0,r=0,s=0,c=0,p=0,g=0,x=0,E=0;E<t.length;)c=(e=t.charCodeAt(E++))>>2,p=(3&e)<<4|(r=t.charCodeAt(E++))>>4,g=(15&r)<<2|(s=t.charCodeAt(E++))>>6,x=63&s,isNaN(r)?g=x=64:isNaN(s)&&(x=64),n+=de.charAt(c)+de.charAt(p)+de.charAt(g)+de.charAt(x);return n}function ve(t){var n="",c=0,p=0,g=0,x=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var E=0;E<t.length;)c=de.indexOf(t.charAt(E++)),p=de.indexOf(t.charAt(E++)),n+=String.fromCharCode(c<<2|p>>4),64!==(g=de.indexOf(t.charAt(E++)))&&(n+=String.fromCharCode((15&p)<<4|g>>2)),64!==(x=de.indexOf(t.charAt(E++)))&&(n+=String.fromCharCode((3&g)<<6|x));return n}var tt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Tt=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(n,e){return e?new Buffer(n,e):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function Ut(t){return tt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Fn(t){return tt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Nn=function(n){return tt?Tt(n,"binary"):n.split("").map(function(e){return 255&e.charCodeAt(0)})};function bt(t){if(typeof ArrayBuffer>"u")return Nn(t);for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0;r!=t.length;++r)e[r]=255&t.charCodeAt(r);return n}function ut(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var n=[],e=0;e<t.length;++e)n[e]=String.fromCharCode(t[e]);return n.join("")}var le=tt?function(t){return Buffer.concat(t.map(function(n){return Buffer.isBuffer(n)?n:Tt(n)}))}:function(t){if(typeof Uint8Array<"u"){var n=0,e=0;for(n=0;n<t.length;++n)e+=t[n].length;var r=new Uint8Array(e),s=0;for(n=0,e=0;n<t.length;e+=s,++n)if(s=t[n].length,t[n]instanceof Uint8Array)r.set(t[n],e);else{if("string"==typeof t[n])throw"wtf";r.set(new Uint8Array(t[n]),e)}return r}return[].concat.apply([],t.map(function(c){return Array.isArray(c)?c:[].slice.call(c)}))},Vt=/\u0000/g,Zt=/[\u0001-\u0006]/g;function sr(t){for(var n="",e=t.length-1;e>=0;)n+=t.charAt(e--);return n}function nr(t,n){var e=""+t;return e.length>=n?e:Gi("0",n-e.length)+e}function Xr(t,n){var e=""+t;return e.length>=n?e:Gi(" ",n-e.length)+e}function Ar(t,n){var e=""+t;return e.length>=n?e:e+Gi(" ",n-e.length)}var nn=Math.pow(2,32);function Gn(t,n){return t>nn||t<-nn?function $e(t,n){var e=""+Math.round(t);return e.length>=n?e:Gi("0",n-e.length)+e}(t,n):function Jt(t,n){var e=""+t;return e.length>=n?e:Gi("0",n-e.length)+e}(Math.round(t),n)}function Qr(t,n){return t.length>=7+(n=n||0)&&103==(32|t.charCodeAt(n))&&101==(32|t.charCodeAt(n+1))&&110==(32|t.charCodeAt(n+2))&&101==(32|t.charCodeAt(n+3))&&114==(32|t.charCodeAt(n+4))&&97==(32|t.charCodeAt(n+5))&&108==(32|t.charCodeAt(n+6))}var Di=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ni=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],ai={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},lo={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},co={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ks(t,n,e){for(var r=t<0?-1:1,s=t*r,c=0,p=1,g=0,x=1,E=0,D=0,F=Math.floor(s);E<n&&(g=(F=Math.floor(s))*p+c,D=F*E+x,!(s-F<5e-8));)s=1/(s-F),c=p,p=g,x=E,E=D;if(D>n&&(E>n?(D=x,g=c):(D=E,g=p)),!e)return[0,r*g,D];var B=Math.floor(r*g/D);return[B,r*g-B*D,D]}function Ns(t,n,e){if(t>2958465||t<0)return null;var r=0|t,s=Math.floor(86400*(t-r)),c=0,p=[],g={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(g.u)<1e-6&&(g.u=0),n&&n.date1904&&(r+=1462),g.u>.9999&&(g.u=0,86400==++s&&(g.T=s=0,++r,++g.D)),60===r)p=e?[1317,10,29]:[1900,2,29],c=3;else if(0===r)p=e?[1317,8,29]:[1900,1,0],c=6;else{r>60&&--r;var x=new Date(1900,0,1);x.setDate(x.getDate()+r-1),p=[x.getFullYear(),x.getMonth()+1,x.getDate()],c=x.getDay(),r<60&&(c=(c+6)%7),e&&(c=function Ra(t,n){n[0]-=581;var e=t.getDay();return t<60&&(e=(e+6)%7),e}(x,p))}return g.y=p[0],g.m=p[1],g.d=p[2],g.S=s%60,s=Math.floor(s/60),g.M=s%60,s=Math.floor(s/60),g.H=s,g.q=c,g}var ns=new Date(1899,11,31,0,0,0),Zi=ns.getTime(),ps=new Date(1900,2,1,0,0,0);function Ki(t,n){var e=t.getTime();return n?e-=1262304e5:t>=ps&&(e+=864e5),(e-(Zi+6e4*(t.getTimezoneOffset()-ns.getTimezoneOffset())))/864e5}function Ds(t){return-1==t.indexOf(".")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function la(t,n){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):function uo(t){var e,n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return e=n>=-4&&n<=-1?t.toPrecision(10+n):Math.abs(n)<=9?function ol(t){var n=t<0?12:11,e=Ds(t.toFixed(12));return e.length<=n||(e=t.toPrecision(10)).length<=n?e:t.toExponential(5)}(t):10===n?t.toFixed(10).substr(0,12):function aa(t){var n=Ds(t.toFixed(11));return n.length>(t<0?12:11)||"0"===n||"-0"===n?t.toPrecision(6):n}(t),Ds(function Po(t){return-1==t.indexOf("E")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return Ss(14,Ki(t,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+t)}function Za(t,n,e,r){var x,s="",c=0,p=0,g=e.y,E=0;switch(t){case 98:g=e.y+543;case 121:switch(n.length){case 1:case 2:x=g%100,E=2;break;default:x=g%1e4,E=4}break;case 109:switch(n.length){case 1:case 2:x=e.m,E=n.length;break;case 3:return ni[e.m-1][1];case 5:return ni[e.m-1][0];default:return ni[e.m-1][2]}break;case 100:switch(n.length){case 1:case 2:x=e.d,E=n.length;break;case 3:return Di[e.q][0];default:return Di[e.q][1]}break;case 104:switch(n.length){case 1:case 2:x=1+(e.H+11)%12,E=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:x=e.H,E=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:x=e.M,E=n.length;break;default:throw"bad minute format: "+n}break;case 115:if("s"!=n&&"ss"!=n&&".0"!=n&&".00"!=n&&".000"!=n)throw"bad second format: "+n;return 0!==e.u||"s"!=n&&"ss"!=n?(p=r>=2?3===r?1e3:100:1===r?10:1,(c=Math.round(p*(e.S+e.u)))>=60*p&&(c=0),"s"===n?0===c?"0":""+c/p:(s=nr(c,2+r),"ss"===n?s.substr(0,2):"."+s.substr(2,n.length-1))):nr(e.S,n.length);case 90:switch(n){case"[h]":case"[hh]":x=24*e.D+e.H;break;case"[m]":case"[mm]":x=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":x=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+n}E=3===n.length?1:2;break;case 101:x=g,E=1}return E>0?nr(x,E):""}function Xo(t){if(t.length<=3)return t;for(var e=t.length%3,r=t.substr(0,e);e!=t.length;e+=3)r+=(r.length>0?",":"")+t.substr(e,3);return r}var ba=/%/g;function to(t,n){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+to(t,-n);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var c=Math.floor(Math.log(n)*Math.LOG10E)%s;if(c<0&&(c+=s),-1===(e=(n/Math.pow(10,c)).toPrecision(r+1+(s+c)%s)).indexOf("e")){var p=Math.floor(Math.log(n)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(p-e.length+c):e+="E+"+(p-c);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,s)+"."+e.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,x,E,D){return x+E+D.substr(0,(s+c)%s)+"."+D.substr(c)+"E"})}else e=n.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var zt=/# (\?+)( ?)\/( ?)(\d+)/,zn=/^#*0*\.([0#]+)/,fr=/\).*[0#]/,Br=/\(###\) ###\\?-####/;function si(t){for(var e,n="",r=0;r!=t.length;++r)switch(e=t.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(e)}return n}function Ls(t,n){var e=Math.pow(10,n);return""+Math.round(t*e)/e}function Hi(t,n){var e=t-Math.floor(t),r=Math.pow(10,n);return n<(""+Math.round(e*r)).length?0:Math.round(e*r)}function rs(t,n,e){if(40===t.charCodeAt(0)&&!n.match(fr)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?rs("n",r,e):"("+rs("n",r,-e)+")"}if(44===n.charCodeAt(n.length-1))return function Jo(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return Bs(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(t,n,e);if(-1!==n.indexOf("%"))return function pa(t,n,e){var r=n.replace(ba,""),s=n.length-r.length;return Bs(t,r,e*Math.pow(10,2*s))+Gi("%",s)}(t,n,e);if(-1!==n.indexOf("E"))return to(n,e);if(36===n.charCodeAt(0))return"$"+rs(t,n.substr(" "==n.charAt(1)?2:1),e);var s,c,p,g,x=Math.abs(e),E=e<0?"-":"";if(n.match(/^00+$/))return E+Gn(x,n.length);if(n.match(/^[#?]+$/))return"0"===(s=Gn(e,0))&&(s=""),s.length>n.length?s:si(n.substr(0,n.length-s.length))+s;if(c=n.match(zt))return function Pt(t,n,e){var r=parseInt(t[4],10),s=Math.round(n*r),c=Math.floor(s/r),p=s-c*r,g=r;return e+(0===c?"":""+c)+" "+(0===p?Gi(" ",t[1].length+1+t[4].length):Xr(p,t[1].length)+t[2]+"/"+t[3]+nr(g,t[4].length))}(c,x,E);if(n.match(/^#+0+$/))return E+Gn(x,n.length-n.indexOf("0"));if(c=n.match(zn))return s=Ls(e,c[1].length).replace(/^([^\.]+)$/,"$1."+si(c[1])).replace(/\.$/,"."+si(c[1])).replace(/\.(\d*)$/,function(ee,W){return"."+W+Gi("0",si(c[1]).length-W.length)}),-1!==n.indexOf("0.")?s:s.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),c=n.match(/^(0*)\.(#*)$/))return E+Ls(x,c[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,c[1].length?"0.":".");if(c=n.match(/^#{1,3},##0(\.?)$/))return E+Xo(Gn(x,0));if(c=n.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+rs(t,n,-e):Xo(""+(Math.floor(e)+function no(t,n){return n<(""+Math.round((t-Math.floor(t))*Math.pow(10,n))).length?1:0}(e,c[1].length)))+"."+nr(Hi(e,c[1].length),c[1].length);if(c=n.match(/^#,#*,#0/))return rs(t,n.replace(/^#,#*,/,""),e);if(c=n.match(/^([0#]+)(\\?-([0#]+))+$/))return s=sr(rs(t,n.replace(/[\\-]/g,""),e)),p=0,sr(sr(n.replace(/\\/g,"")).replace(/[0#]/g,function(ee){return p<s.length?s.charAt(p++):"0"===ee?"0":""}));if(n.match(Br))return"("+(s=rs(t,"##########",e)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var D="";if(c=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(c[4].length,7),g=Ks(x,Math.pow(10,p)-1,!1),s=""+E," "==(D=Bs("n",c[1],g[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),s+=D+c[2]+"/"+c[3],(D=Ar(g[2],p)).length<c[4].length&&(D=si(c[4].substr(c[4].length-D.length))+D),s+=D;if(c=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(Math.max(c[1].length,c[4].length),7),E+((g=Ks(x,Math.pow(10,p)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Xr(g[1],p)+c[2]+"/"+c[3]+Ar(g[2],p):Gi(" ",2*p+1+c[2].length+c[3].length));if(c=n.match(/^[#0?]+$/))return s=Gn(e,0),n.length<=s.length?s:si(n.substr(0,n.length-s.length))+s;if(c=n.match(/^([#0?]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(c[2].length,10)).replace(/([^0])0+$/,"$1"),p=s.indexOf(".");var F=n.indexOf(".")-p,B=n.length-s.length-F;return si(n.substr(0,F)+s+n.substr(n.length-B))}if(c=n.match(/^00,000\.([#0]*0)$/))return p=Hi(e,c[1].length),e<0?"-"+rs(t,n,-e):Xo(function Go(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ee){return"00,"+(ee.length<3?nr(0,3-ee.length):"")+ee})+"."+nr(p,c[1].length);switch(n){case"###,##0.00":return rs(t,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var K=Xo(Gn(x,0));return"0"!==K?E+K:"";case"###,###.00":return rs(t,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return rs(t,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+n+"|")}function Ca(t,n){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+Ca(t,-n);var s=t.indexOf(".");-1===s&&(s=t.indexOf("E"));var c=Math.floor(Math.log(n)*Math.LOG10E)%s;if(c<0&&(c+=s),!(e=(n/Math.pow(10,c)).toPrecision(r+1+(s+c)%s)).match(/[Ee]/)){var p=Math.floor(Math.log(n)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(p-e.length+c):e+="E+"+(p-c),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,x,E,D){return x+E+D.substr(0,(s+c)%s)+"."+D.substr(c)+"E"})}else e=n.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function js(t,n,e){if(40===t.charCodeAt(0)&&!n.match(fr)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?js("n",r,e):"("+js("n",r,-e)+")"}if(44===n.charCodeAt(n.length-1))return function ea(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return Bs(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(t,n,e);if(-1!==n.indexOf("%"))return function ca(t,n,e){var r=n.replace(ba,""),s=n.length-r.length;return Bs(t,r,e*Math.pow(10,2*s))+Gi("%",s)}(t,n,e);if(-1!==n.indexOf("E"))return Ca(n,e);if(36===n.charCodeAt(0))return"$"+js(t,n.substr(" "==n.charAt(1)?2:1),e);var s,c,p,g,x=Math.abs(e),E=e<0?"-":"";if(n.match(/^00+$/))return E+nr(x,n.length);if(n.match(/^[#?]+$/))return s=""+e,0===e&&(s=""),s.length>n.length?s:si(n.substr(0,n.length-s.length))+s;if(c=n.match(zt))return function yn(t,n,e){return e+(0===n?"":""+n)+Gi(" ",t[1].length+2+t[4].length)}(c,x,E);if(n.match(/^#+0+$/))return E+nr(x,n.length-n.indexOf("0"));if(c=n.match(zn))return s=(s=(""+e).replace(/^([^\.]+)$/,"$1."+si(c[1])).replace(/\.$/,"."+si(c[1]))).replace(/\.(\d*)$/,function(ee,W){return"."+W+Gi("0",si(c[1]).length-W.length)}),-1!==n.indexOf("0.")?s:s.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),c=n.match(/^(0*)\.(#*)$/))return E+(""+x).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,c[1].length?"0.":".");if(c=n.match(/^#{1,3},##0(\.?)$/))return E+Xo(""+x);if(c=n.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+js(t,n,-e):Xo(""+e)+"."+Gi("0",c[1].length);if(c=n.match(/^#,#*,#0/))return js(t,n.replace(/^#,#*,/,""),e);if(c=n.match(/^([0#]+)(\\?-([0#]+))+$/))return s=sr(js(t,n.replace(/[\\-]/g,""),e)),p=0,sr(sr(n.replace(/\\/g,"")).replace(/[0#]/g,function(ee){return p<s.length?s.charAt(p++):"0"===ee?"0":""}));if(n.match(Br))return"("+(s=js(t,"##########",e)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var D="";if(c=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(c[4].length,7),g=Ks(x,Math.pow(10,p)-1,!1),s=""+E," "==(D=Bs("n",c[1],g[1])).charAt(D.length-1)&&(D=D.substr(0,D.length-1)+"0"),s+=D+c[2]+"/"+c[3],(D=Ar(g[2],p)).length<c[4].length&&(D=si(c[4].substr(c[4].length-D.length))+D),s+=D;if(c=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return p=Math.min(Math.max(c[1].length,c[4].length),7),E+((g=Ks(x,Math.pow(10,p)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Xr(g[1],p)+c[2]+"/"+c[3]+Ar(g[2],p):Gi(" ",2*p+1+c[2].length+c[3].length));if(c=n.match(/^[#0?]+$/))return n.length<=(s=""+e).length?s:si(n.substr(0,n.length-s.length))+s;if(c=n.match(/^([#0]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(c[2].length,10)).replace(/([^0])0+$/,"$1"),p=s.indexOf(".");var F=n.indexOf(".")-p,B=n.length-s.length-F;return si(n.substr(0,F)+s+n.substr(n.length-B))}if(c=n.match(/^00,000\.([#0]*0)$/))return e<0?"-"+js(t,n,-e):Xo(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ee){return"00,"+(ee.length<3?nr(0,3-ee.length):"")+ee})+"."+nr(0,c[1].length);switch(n){case"###,###":case"##,###":case"#,###":var K=Xo(""+x);return"0"!==K?E+K:"";default:if(n.match(/\.[0#?]*$/))return js(t,n.slice(0,n.lastIndexOf(".")),e)+si(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function Bs(t,n,e){return(0|e)===e?js(t,n,e):rs(t,n,e)}var Eo=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bo(t){for(var n=0,e="",r="";n<t.length;)switch(e=t.charAt(n)){case"G":Qr(t,n)&&(n+=6),n++;break;case'"':for(;34!==t.charCodeAt(++n)&&n<t.length;);++n;break;case"\\":case"_":n+=2;break;case"@":++n;break;case"B":case"b":if("1"===t.charAt(n+1)||"2"===t.charAt(n+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===t.substr(n,3).toUpperCase()||"AM/PM"===t.substr(n,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===t.substr(n,5).toUpperCase())return!0;++n;break;case"[":for(r=e;"]"!==t.charAt(n++)&&n<t.length;)r+=t.charAt(n);if(r.match(Eo))return!0;break;case".":case"0":case"#":for(;n<t.length&&("0#?.,E+-%".indexOf(e=t.charAt(++n))>-1||"\\"==e&&"-"==t.charAt(n+1)&&"0#".indexOf(t.charAt(n+2))>-1););break;case"?":for(;t.charAt(++n)===e;);break;case"*":++n,(" "==t.charAt(n)||"*"==t.charAt(n))&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<t.length&&"0123456789".indexOf(t.charAt(++n))>-1;);break;default:++n}return!1}var ta=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ho(t,n){if(null==n)return!1;var e=parseFloat(n[2]);switch(n[1]){case"=":if(t==e)return!0;break;case">":if(t>e)return!0;break;case"<":if(t<e)return!0;break;case"<>":if(t!=e)return!0;break;case">=":if(t>=e)return!0;break;case"<=":if(t<=e)return!0}return!1}function Ss(t,n,e){null==e&&(e={});var r="";switch(typeof t){case"string":r="m/d/yy"==t&&e.dateNF?e.dateNF:t;break;case"number":null==(r=14==t&&e.dateNF?e.dateNF:(null!=e.table?e.table:ai)[t])&&(r=e.table&&e.table[lo[t]]||ai[lo[t]]),null==r&&(r=co[t]||"General")}if(Qr(r,0))return la(n,e);n instanceof Date&&(n=Ki(n,e.date1904));var s=function _l(t,n){var e=function wo(t){for(var n=[],e=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:n[n.length]=t.substr(s,r-s),s=r+1}if(n[n.length]=t.substr(s),!0===e)throw new Error("Format |"+t+"| unterminated string ");return n}(t),r=e.length,s=e[r-1].indexOf("@");if(r<4&&s>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof n)return[4,4===e.length||s>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=s>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=s>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=s>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var c=n>0?e[0]:n<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,c];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var p=e[0].match(ta),g=e[1].match(ta);return ho(n,p)?[r,e[0]]:ho(n,g)?[r,e[1]]:[r,e[null!=p&&null!=g?2:1]]}return[r,c]}(r,n);if(Qr(s[1]))return la(n,e);if(!0===n)n="TRUE";else if(!1===n)n="FALSE";else if(""===n||null==n)return"";return function _c(t,n,e,r){for(var E,D,F,s=[],c="",p=0,g="",x="t",B="H";p<t.length;)switch(g=t.charAt(p)){case"G":if(!Qr(t,p))throw new Error("unrecognized character "+g+" in "+t);s[s.length]={t:"G",v:"General"},p+=7;break;case'"':for(c="";34!==(F=t.charCodeAt(++p))&&p<t.length;)c+=String.fromCharCode(F);s[s.length]={t:"t",v:c},++p;break;case"\\":var K=t.charAt(++p);s[s.length]={t:"("===K||")"===K?K:"t",v:K},++p;break;case"_":s[s.length]={t:"t",v:" "},p+=2;break;case"@":s[s.length]={t:"T",v:n},++p;break;case"B":case"b":if("1"===t.charAt(p+1)||"2"===t.charAt(p+1)){if(null==E&&null==(E=Ns(n,e,"2"===t.charAt(p+1))))return"";s[s.length]={t:"X",v:t.substr(p,2)},x=g,p+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":g=g.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||null==E&&null==(E=Ns(n,e)))return"";for(c=g;++p<t.length&&t.charAt(p).toLowerCase()===g;)c+=g;"m"===g&&"h"===x.toLowerCase()&&(g="M"),"h"===g&&(g=B),s[s.length]={t:g,v:c},x=g;break;case"A":case"a":case"\u4e0a":var W={t:g,v:g};if(null==E&&(E=Ns(n,e)),"A/P"===t.substr(p,3).toUpperCase()?(null!=E&&(W.v=E.H>=12?"P":"A"),W.t="T",B="h",p+=3):"AM/PM"===t.substr(p,5).toUpperCase()?(null!=E&&(W.v=E.H>=12?"PM":"AM"),W.t="T",p+=5,B="h"):"\u4e0a\u5348/\u4e0b\u5348"===t.substr(p,5).toUpperCase()?(null!=E&&(W.v=E.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),W.t="T",p+=5,B="h"):(W.t="t",++p),null==E&&"T"===W.t)return"";s[s.length]=W,x=g;break;case"[":for(c=g;"]"!==t.charAt(p++)&&p<t.length;)c+=t.charAt(p);if("]"!==c.slice(-1))throw'unterminated "[" block: |'+c+"|";if(c.match(Eo)){if(null==E&&null==(E=Ns(n,e)))return"";s[s.length]={t:"Z",v:c.toLowerCase()},x=c.charAt(1)}else c.indexOf("$")>-1&&(c=(c.match(/\$([^-\[\]]*)/)||[])[1]||"$",bo(t)||(s[s.length]={t:"t",v:c}));break;case".":if(null!=E){for(c=g;++p<t.length&&"0"===(g=t.charAt(p));)c+=g;s[s.length]={t:"s",v:c};break}case"0":case"#":for(c=g;++p<t.length&&"0#?.,E+-%".indexOf(g=t.charAt(p))>-1;)c+=g;s[s.length]={t:"n",v:c};break;case"?":for(c=g;t.charAt(++p)===g;)c+=g;s[s.length]={t:g,v:c},x=g;break;case"*":++p,(" "==t.charAt(p)||"*"==t.charAt(p))&&++p;break;case"(":case")":s[s.length]={t:1===r?"t":g,v:g},++p;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(c=g;p<t.length&&"0123456789".indexOf(t.charAt(++p))>-1;)c+=t.charAt(p);s[s.length]={t:"D",v:c};break;case" ":s[s.length]={t:g,v:g},++p;break;case"$":s[s.length]={t:"t",v:"$"},++p;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(g))throw new Error("unrecognized character "+g+" in "+t);s[s.length]={t:"t",v:g},++p}var We,oe=0,He=0;for(p=s.length-1,x="t";p>=0;--p)switch(s[p].t){case"h":case"H":s[p].t=B,x="h",oe<1&&(oe=1);break;case"s":(We=s[p].v.match(/\.0+$/))&&(He=Math.max(He,We[0].length-1)),oe<3&&(oe=3);case"d":case"y":case"M":case"e":x=s[p].t;break;case"m":"s"===x&&(s[p].t="M",oe<2&&(oe=2));break;case"X":break;case"Z":oe<1&&s[p].v.match(/[Hh]/)&&(oe=1),oe<2&&s[p].v.match(/[Mm]/)&&(oe=2),oe<3&&s[p].v.match(/[Ss]/)&&(oe=3)}switch(oe){case 0:break;case 1:E.u>=.5&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M),E.M>=60&&(E.M=0,++E.H);break;case 2:E.u>=.5&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M)}var Bt,Le="";for(p=0;p<s.length;++p)switch(s[p].t){case"t":case"T":case" ":case"D":break;case"X":s[p].v="",s[p].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[p].v=Za(s[p].t.charCodeAt(0),s[p].v,E,He),s[p].t="t";break;case"n":case"?":for(Bt=p+1;null!=s[Bt]&&("?"===(g=s[Bt].t)||"D"===g||(" "===g||"t"===g)&&null!=s[Bt+1]&&("?"===s[Bt+1].t||"t"===s[Bt+1].t&&"/"===s[Bt+1].v)||"("===s[p].t&&(" "===g||"n"===g||")"===g)||"t"===g&&("/"===s[Bt].v||" "===s[Bt].v&&null!=s[Bt+1]&&"?"==s[Bt+1].t));)s[p].v+=s[Bt].v,s[Bt]={v:"",t:";"},++Bt;Le+=s[p].v,p=Bt-1;break;case"G":s[p].t="t",s[p].v=la(n,e)}var In,vt,dn="";if(Le.length>0){40==Le.charCodeAt(0)?(In=n<0&&45===Le.charCodeAt(0)?-n:n,vt=Bs("n",Le,In)):(vt=Bs("n",Le,In=n<0&&r>1?-n:n),In<0&&s[0]&&"t"==s[0].t&&(vt=vt.substr(1),s[0].v="-"+s[0].v)),Bt=vt.length-1;var ln=s.length;for(p=0;p<s.length;++p)if(null!=s[p]&&"t"!=s[p].t&&s[p].v.indexOf(".")>-1){ln=p;break}var Qt=s.length;if(ln===s.length&&-1===vt.indexOf("E")){for(p=s.length-1;p>=0;--p)null==s[p]||-1==="n?".indexOf(s[p].t)||(Bt>=s[p].v.length-1?s[p].v=vt.substr(1+(Bt-=s[p].v.length),s[p].v.length):Bt<0?s[p].v="":(s[p].v=vt.substr(0,Bt+1),Bt=-1),s[p].t="t",Qt=p);Bt>=0&&Qt<s.length&&(s[Qt].v=vt.substr(0,Bt+1)+s[Qt].v)}else if(ln!==s.length&&-1===vt.indexOf("E")){for(Bt=vt.indexOf(".")-1,p=ln;p>=0;--p)if(null!=s[p]&&-1!=="n?".indexOf(s[p].t)){for(D=s[p].v.indexOf(".")>-1&&p===ln?s[p].v.indexOf(".")-1:s[p].v.length-1,dn=s[p].v.substr(D+1);D>=0;--D)Bt>=0&&("0"===s[p].v.charAt(D)||"#"===s[p].v.charAt(D))&&(dn=vt.charAt(Bt--)+dn);s[p].v=dn,s[p].t="t",Qt=p}for(Bt>=0&&Qt<s.length&&(s[Qt].v=vt.substr(0,Bt+1)+s[Qt].v),Bt=vt.indexOf(".")+1,p=ln;p<s.length;++p)if(null!=s[p]&&(-1!=="n?(".indexOf(s[p].t)||p===ln)){for(D=s[p].v.indexOf(".")>-1&&p===ln?s[p].v.indexOf(".")+1:0,dn=s[p].v.substr(0,D);D<s[p].v.length;++D)Bt<vt.length&&(dn+=vt.charAt(Bt++));s[p].v=dn,s[p].t="t",Qt=p}}}for(p=0;p<s.length;++p)null!=s[p]&&"n?".indexOf(s[p].t)>-1&&(s[p].v=Bs(s[p].t,s[p].v,In=r>1&&n<0&&p>0&&"-"===s[p-1].v?-n:n),s[p].t="t");var Bn="";for(p=0;p!==s.length;++p)null!=s[p]&&(Bn+=s[p].v);return Bn}(s[1],n,e,s[0])}function No(t,n){if("number"!=typeof n){n=+n||-1;for(var e=0;e<392;++e)if(null!=ai[e]){if(ai[e]==t){n=e;break}}else n<0&&(n=e);n<0&&(n=391)}return ai[n]=t,n}function cs(t){for(var n=0;392!=n;++n)void 0!==t[n]&&No(t[n],n)}function Ni(){ai=function Qo(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',t}()}var Co=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,vl=function(){var t={version:"1.2.0"},e=function n(){for(var vt=0,ln=new Array(256),Qt=0;256!=Qt;++Qt)ln[Qt]=vt=1&(vt=1&(vt=1&(vt=1&(vt=1&(vt=1&(vt=1&(vt=1&(vt=Qt)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1)?-306674912^vt>>>1:vt>>>1;return typeof Int32Array<"u"?new Int32Array(ln):ln}(),s=function r(vt){var ln=0,Qt=0,Bn=0,$n=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Bn=0;256!=Bn;++Bn)$n[Bn]=vt[Bn];for(Bn=0;256!=Bn;++Bn)for(Qt=vt[Bn],ln=256+Bn;ln<4096;ln+=256)Qt=$n[ln]=Qt>>>8^vt[255&Qt];var hn=[];for(Bn=1;16!=Bn;++Bn)hn[Bn-1]=typeof Int32Array<"u"?$n.subarray(256*Bn,256*Bn+256):$n.slice(256*Bn,256*Bn+256);return hn}(e),c=s[0],p=s[1],g=s[2],x=s[3],E=s[4],D=s[5],F=s[6],B=s[7],K=s[8],ee=s[9],W=s[10],oe=s[11],He=s[12],We=s[13],Le=s[14];return t.table=e,t.bstr=function Bt(vt,ln){for(var Qt=-1^ln,Bn=0,$n=vt.length;Bn<$n;)Qt=Qt>>>8^e[255&(Qt^vt.charCodeAt(Bn++))];return~Qt},t.buf=function dn(vt,ln){for(var Qt=-1^ln,Bn=vt.length-15,$n=0;$n<Bn;)Qt=Le[vt[$n++]^255&Qt]^We[vt[$n++]^Qt>>8&255]^He[vt[$n++]^Qt>>16&255]^oe[vt[$n++]^Qt>>>24]^W[vt[$n++]]^ee[vt[$n++]]^K[vt[$n++]]^B[vt[$n++]]^F[vt[$n++]]^D[vt[$n++]]^E[vt[$n++]]^x[vt[$n++]]^g[vt[$n++]]^p[vt[$n++]]^c[vt[$n++]]^e[vt[$n++]];for(Bn+=15;$n<Bn;)Qt=Qt>>>8^e[255&(Qt^vt[$n++])];return~Qt},t.str=function In(vt,ln){for(var Qt=-1^ln,Bn=0,$n=vt.length,hn=0,Ir=0;Bn<$n;)(hn=vt.charCodeAt(Bn++))<128?Qt=Qt>>>8^e[255&(Qt^hn)]:hn<2048?Qt=(Qt=Qt>>>8^e[255&(Qt^(192|hn>>6&31))])>>>8^e[255&(Qt^(128|63&hn))]:hn>=55296&&hn<57344?(hn=64+(1023&hn),Ir=1023&vt.charCodeAt(Bn++),Qt=(Qt=(Qt=(Qt=Qt>>>8^e[255&(Qt^(240|hn>>8&7))])>>>8^e[255&(Qt^(128|hn>>2&63))])>>>8^e[255&(Qt^(128|Ir>>6&15|(3&hn)<<4))])>>>8^e[255&(Qt^(128|63&Ir))]):Qt=(Qt=(Qt=Qt>>>8^e[255&(Qt^(224|hn>>12&15))])>>>8^e[255&(Qt^(128|hn>>6&63))])>>>8^e[255&(Qt^(128|63&hn))];return~Qt},t}(),ti=function(){var x,n={};function r(Me){if("/"==Me.charAt(Me.length-1))return-1===Me.slice(0,-1).indexOf("/")?Me:r(Me.slice(0,-1));var ht=Me.lastIndexOf("/");return-1===ht?Me:Me.slice(0,ht+1)}function s(Me){if("/"==Me.charAt(Me.length-1))return s(Me.slice(0,-1));var ht=Me.lastIndexOf("/");return-1===ht?Me:Me.slice(ht+1)}function c(Me,ht){"string"==typeof ht&&(ht=new Date(ht));var Ze=ht.getHours();Ze=(Ze=Ze<<6|ht.getMinutes())<<5|ht.getSeconds()>>>1,Me.write_shift(2,Ze);var rt=ht.getFullYear()-1980;rt=(rt=rt<<4|ht.getMonth()+1)<<5|ht.getDate(),Me.write_shift(2,rt)}function g(Me){Zs(Me,0);for(var ht={},Ze=0;Me.l<=Me.length-4;){var rt=Me.read_shift(2),ft=Me.read_shift(2),mt=Me.l+ft,Mn={};21589===rt&&(1&(Ze=Me.read_shift(1))&&(Mn.mtime=Me.read_shift(4)),ft>5&&(2&Ze&&(Mn.atime=Me.read_shift(4)),4&Ze&&(Mn.ctime=Me.read_shift(4))),Mn.mtime&&(Mn.mt=new Date(1e3*Mn.mtime))),Me.l=mt,ht[rt]=Mn}return ht}function E(){return x||(x={})}function D(Me,ht){if(80==Me[0]&&75==Me[1])return sP(Me,ht);if(109==(32|Me[0])&&105==(32|Me[1]))return function kU(Me,ht){if("mime-version:"!=gr(Me.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var Ze=ht&&ht.root||"",rt=(tt&&Buffer.isBuffer(Me)?Me.toString("binary"):gr(Me)).split("\r\n"),ft=0,mt="";for(ft=0;ft<rt.length;++ft)if(/^Content-Location:/i.test(mt=rt[ft])&&(mt=mt.slice(mt.indexOf("file")),Ze||(Ze=mt.slice(0,mt.lastIndexOf("/")+1)),mt.slice(0,Ze.length)!=Ze))for(;Ze.length>0&&(Ze=(Ze=Ze.slice(0,Ze.length-1)).slice(0,Ze.lastIndexOf("/")+1),mt.slice(0,Ze.length)!=Ze););var Mn=(rt[1]||"").match(/boundary="(.*?)"/);if(!Mn)throw new Error("MAD cannot find boundary");var qn="--"+(Mn[1]||""),Ln={FileIndex:[],FullPaths:[]};vt(Ln);var Tr,Wr=0;for(ft=0;ft<rt.length;++ft){var mi=rt[ft];mi!==qn&&mi!==qn+"--"||(Wr++&&IU(Ln,rt.slice(Tr,ft),Ze),Tr=ft)}return Ln}(Me,ht);if(Me.length<512)throw new Error("CFB file size "+Me.length+" < 512");var Ze,ft,mt,Mn,qn,On,rt=512,Rn=[],Ln=Me.slice(0,512);Zs(Ln,0);var Tr=function F(Me){if(80==Me[Me.l]&&75==Me[Me.l+1])return[0,0];Me.chk(oi,"Header Signature: "),Me.l+=16;var ht=Me.read_shift(2,"u");return[Me.read_shift(2,"u"),ht]}(Ln);switch(Ze=Tr[0]){case 3:rt=512;break;case 4:rt=4096;break;case 0:if(0==Tr[1])return sP(Me,ht);default:throw new Error("Major Version: Expected 3 or 4 saw "+Ze)}512!==rt&&Zs(Ln=Me.slice(0,rt),28);var Wr=Me.slice(0,rt);!function B(Me,ht){var Ze;switch(Me.l+=2,Ze=Me.read_shift(2)){case 9:if(3!=ht)throw new Error("Sector Shift: Expected 9 saw "+Ze);break;case 12:if(4!=ht)throw new Error("Sector Shift: Expected 12 saw "+Ze);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Ze)}Me.chk("0600","Mini Sector Shift: "),Me.chk("000000000000","Reserved: ")}(Ln,Ze);var mi=Ln.read_shift(4,"i");if(3===Ze&&0!==mi)throw new Error("# Directory Sectors: Expected 0 saw "+mi);Ln.l+=4,Mn=Ln.read_shift(4,"i"),Ln.l+=4,Ln.chk("00100000","Mini Stream Cutoff Size: "),qn=Ln.read_shift(4,"i"),ft=Ln.read_shift(4,"i"),On=Ln.read_shift(4,"i"),mt=Ln.read_shift(4,"i");for(var $r=-1,Zr=0;Zr<109&&!(($r=Ln.read_shift(4,"i"))<0);++Zr)Rn[Zr]=$r;var ts=function K(Me,ht){for(var Ze=Math.ceil(Me.length/ht)-1,rt=[],ft=1;ft<Ze;++ft)rt[ft-1]=Me.slice(ft*ht,(ft+1)*ht);return rt[Ze-1]=Me.slice(Ze*ht),rt}(Me,rt);oe(On,mt,ts,rt,Rn);var fa=function We(Me,ht,Ze,rt){var ft=Me.length,mt=[],Mn=[],qn=[],On=[],Rn=rt-1,Ln=0,Tr=0,Wr=0,mi=0;for(Ln=0;Ln<ft;++Ln)if(qn=[],(Wr=Ln+ht)>=ft&&(Wr-=ft),!Mn[Wr]){On=[];var $r=[];for(Tr=Wr;Tr>=0;){$r[Tr]=!0,Mn[Tr]=!0,qn[qn.length]=Tr,On.push(Me[Tr]);var Zr=Ze[Math.floor(4*Tr/rt)];if(rt<4+(mi=4*Tr&Rn))throw new Error("FAT boundary crossed: "+Tr+" 4 "+rt);if(!Me[Zr]||$r[Tr=ra(Me[Zr],mi)])break}mt[Wr]={nodes:qn,data:Vl([On])}}return mt}(ts,Mn,Rn,rt);fa[Mn].name="!Directory",ft>0&&qn!==Ir&&(fa[qn].name="!MiniFAT"),fa[Rn[0]].name="!FAT",fa.fat_addrs=Rn,fa.ssz=rt;var ml=[],Id=[],p1=[];(function Le(Me,ht,Ze,rt,ft,mt,Mn,qn){for(var mi,On=0,Rn=rt.length?2:0,Ln=ht[Me].data,Tr=0,Wr=0;Tr<Ln.length;Tr+=128){var $r=Ln.slice(Tr,Tr+128);Zs($r,64),Wr=$r.read_shift(2),mi=Pi($r,0,Wr-Rn),rt.push(mi);var Zr={name:mi,type:$r.read_shift(1),color:$r.read_shift(1),L:$r.read_shift(4,"i"),R:$r.read_shift(4,"i"),C:$r.read_shift(4,"i"),clsid:$r.read_shift(16),state:$r.read_shift(4,"i"),start:0,size:0};0!==$r.read_shift(2)+$r.read_shift(2)+$r.read_shift(2)+$r.read_shift(2)&&(Zr.ct=Bt($r,$r.l-8)),0!==$r.read_shift(2)+$r.read_shift(2)+$r.read_shift(2)+$r.read_shift(2)&&(Zr.mt=Bt($r,$r.l-8)),Zr.start=$r.read_shift(4,"i"),Zr.size=$r.read_shift(4,"i"),Zr.size<0&&Zr.start<0&&(Zr.size=Zr.type=0,Zr.start=Ir,Zr.name=""),5===Zr.type?(On=Zr.start,ft>0&&On!==Ir&&(ht[On].name="!StreamData")):Zr.size>=4096?(Zr.storage="fat",void 0===ht[Zr.start]&&(ht[Zr.start]=He(Ze,Zr.start,ht.fat_addrs,ht.ssz)),ht[Zr.start].name=Zr.name,Zr.content=ht[Zr.start].data.slice(0,Zr.size)):(Zr.storage="minifat",Zr.size<0?Zr.size=0:On!==Ir&&Zr.start!==Ir&&ht[On]&&(Zr.content=W(Zr,ht[On].data,(ht[qn]||{}).data))),Zr.content&&Zs(Zr.content,0),mt[mi]=Zr,Mn.push(Zr)}})(Mn,fa,ts,ml,ft,{},Id,qn),function ee(Me,ht,Ze){for(var rt=0,ft=0,mt=0,Mn=0,qn=0,On=Ze.length,Rn=[],Ln=[];rt<On;++rt)Rn[rt]=Ln[rt]=rt,ht[rt]=Ze[rt];for(;qn<Ln.length;++qn)ft=Me[rt=Ln[qn]].L,mt=Me[rt].R,Mn=Me[rt].C,Rn[rt]===rt&&(-1!==ft&&Rn[ft]!==ft&&(Rn[rt]=Rn[ft]),-1!==mt&&Rn[mt]!==mt&&(Rn[rt]=Rn[mt])),-1!==Mn&&(Rn[Mn]=rt),-1!==ft&&rt!=Rn[rt]&&(Rn[ft]=Rn[rt],Ln.lastIndexOf(ft)<qn&&Ln.push(ft)),-1!==mt&&rt!=Rn[rt]&&(Rn[mt]=Rn[rt],Ln.lastIndexOf(mt)<qn&&Ln.push(mt));for(rt=1;rt<On;++rt)Rn[rt]===rt&&(-1!==mt&&Rn[mt]!==mt?Rn[rt]=Rn[mt]:-1!==ft&&Rn[ft]!==ft&&(Rn[rt]=Rn[ft]));for(rt=1;rt<On;++rt)if(0!==Me[rt].type){if((qn=rt)!=Rn[qn])do{ht[rt]=ht[qn=Rn[qn]]+"/"+ht[rt]}while(0!==qn&&-1!==Rn[qn]&&qn!=Rn[qn]);Rn[rt]=-1}for(ht[0]+="/",rt=1;rt<On;++rt)2!==Me[rt].type&&(ht[rt]+="/")}(Id,p1,ml),ml.shift();var g1={FileIndex:Id,FullPaths:p1};return ht&&ht.raw&&(g1.raw={header:Wr,sectors:ts}),g1}function W(Me,ht,Ze){for(var ft=Me.size,mt=[],Mn=Me.start;Ze&&ft>0&&Mn>=0;)mt.push(ht.slice(Mn*hn,Mn*hn+hn)),ft-=hn,Mn=ra(Ze,4*Mn);return 0===mt.length?Sn(0):le(mt).slice(0,Me.size)}function oe(Me,ht,Ze,rt,ft){var mt=Ir;if(Me===Ir){if(0!==ht)throw new Error("DIFAT chain shorter than expected")}else if(-1!==Me){var Mn=Ze[Me],qn=(rt>>>2)-1;if(!Mn)return;for(var On=0;On<qn&&(mt=ra(Mn,4*On))!==Ir;++On)ft.push(mt);oe(ra(Mn,rt-4),ht-1,Ze,rt,ft)}}function He(Me,ht,Ze,rt,ft){var mt=[],Mn=[];ft||(ft=[]);var qn=rt-1,On=0,Rn=0;for(On=ht;On>=0;){ft[On]=!0,mt[mt.length]=On,Mn.push(Me[On]);var Ln=Ze[Math.floor(4*On/rt)];if(rt<4+(Rn=4*On&qn))throw new Error("FAT boundary crossed: "+On+" 4 "+rt);if(!Me[Ln])break;On=ra(Me[Ln],Rn)}return{nodes:mt,data:Vl([Mn])}}function Bt(Me,ht){return new Date(1e3*(Vs(Me,ht+4)/1e7*Math.pow(2,32)+Vs(Me,ht)/1e7-11644473600))}function vt(Me,ht){var Ze=ht||{},rt=Ze.root||"Root Entry";if(Me.FullPaths||(Me.FullPaths=[]),Me.FileIndex||(Me.FileIndex=[]),Me.FullPaths.length!==Me.FileIndex.length)throw new Error("inconsistent CFB structure");0===Me.FullPaths.length&&(Me.FullPaths[0]=rt+"/",Me.FileIndex[0]={name:rt,type:5}),Ze.CLSID&&(Me.FileIndex[0].clsid=Ze.CLSID),function ln(Me){var ht="\x01Sh33tJ5";if(!ti.find(Me,"/"+ht)){var Ze=Sn(4);Ze[0]=55,Ze[1]=Ze[3]=50,Ze[2]=54,Me.FileIndex.push({name:ht,type:2,content:Ze,size:4,L:69,R:69,C:69}),Me.FullPaths.push(Me.FullPaths[0]+ht),Qt(Me)}}(Me)}function Qt(Me,ht){vt(Me);for(var Ze=!1,rt=!1,ft=Me.FullPaths.length-1;ft>=0;--ft){var mt=Me.FileIndex[ft];switch(mt.type){case 0:rt?Ze=!0:(Me.FileIndex.pop(),Me.FullPaths.pop());break;case 1:case 2:case 5:rt=!0,isNaN(mt.R*mt.L*mt.C)&&(Ze=!0),mt.R>-1&&mt.L>-1&&mt.R==mt.L&&(Ze=!0);break;default:Ze=!0}}if(Ze||ht){var Mn=new Date(1987,1,19),qn=0,On=Object.create?Object.create(null):{},Rn=[];for(ft=0;ft<Me.FullPaths.length;++ft)On[Me.FullPaths[ft]]=!0,0!==Me.FileIndex[ft].type&&Rn.push([Me.FullPaths[ft],Me.FileIndex[ft]]);for(ft=0;ft<Rn.length;++ft){var Ln=r(Rn[ft][0]);(rt=On[Ln])||(Rn.push([Ln,{name:s(Ln).replace("/",""),type:1,clsid:cr,ct:Mn,mt:Mn,content:null}]),On[Ln]=!0)}for(Rn.sort(function(mi,$r){return function e(Me,ht){for(var Ze=Me.split("/"),rt=ht.split("/"),ft=0,mt=0,Mn=Math.min(Ze.length,rt.length);ft<Mn;++ft){if(mt=Ze[ft].length-rt[ft].length)return mt;if(Ze[ft]!=rt[ft])return Ze[ft]<rt[ft]?-1:1}return Ze.length-rt.length}(mi[0],$r[0])}),Me.FullPaths=[],Me.FileIndex=[],ft=0;ft<Rn.length;++ft)Me.FullPaths[ft]=Rn[ft][0],Me.FileIndex[ft]=Rn[ft][1];for(ft=0;ft<Rn.length;++ft){var Tr=Me.FileIndex[ft],Wr=Me.FullPaths[ft];if(Tr.name=s(Wr).replace("/",""),Tr.L=Tr.R=Tr.C=-(Tr.color=1),Tr.size=Tr.content?Tr.content.length:0,Tr.start=0,Tr.clsid=Tr.clsid||cr,0===ft)Tr.C=Rn.length>1?1:-1,Tr.size=0,Tr.type=5;else if("/"==Wr.slice(-1)){for(qn=ft+1;qn<Rn.length&&r(Me.FullPaths[qn])!=Wr;++qn);for(Tr.C=qn>=Rn.length?-1:qn,qn=ft+1;qn<Rn.length&&r(Me.FullPaths[qn])!=r(Wr);++qn);Tr.R=qn>=Rn.length?-1:qn,Tr.type=1}else r(Me.FullPaths[ft+1]||"")==r(Wr)&&(Tr.R=ft+1),Tr.type=2}}}function Bn(Me,ht){var Ze=ht||{};if("mad"==Ze.fileType)return function MU(Me,ht){for(var Ze=ht||{},rt=Ze.boundary||"SheetJS",ft=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(rt="------="+rt).slice(2)+'"',"","",""],mt=Me.FullPaths[0],Mn=mt,qn=Me.FileIndex[0],On=1;On<Me.FullPaths.length;++On)if(Mn=Me.FullPaths[On].slice(mt.length),(qn=Me.FileIndex[On]).size&&qn.content&&"\x01Sh33tJ5"!=Mn){Mn=Mn.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ts){return"_x"+ts.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ts){return"_u"+ts.charCodeAt(0).toString(16)+"_"});for(var Rn=qn.content,Ln=tt&&Buffer.isBuffer(Rn)?Rn.toString("binary"):gr(Rn),Tr=0,Wr=Math.min(1024,Ln.length),mi=0,$r=0;$r<=Wr;++$r)(mi=Ln.charCodeAt($r))>=32&&mi<128&&++Tr;var Zr=Tr>=4*Wr/5;ft.push(rt),ft.push("Content-Location: "+(Ze.root||"file:///C:/SheetJS/")+Mn),ft.push("Content-Transfer-Encoding: "+(Zr?"quoted-printable":"base64")),ft.push("Content-Type: "+DU(qn,Mn)),ft.push(""),ft.push(Zr?TU(Ln):SU(Ln))}return ft.push(rt+"--\r\n"),ft.join("\r\n")}(Me,Ze);if("zip"===(Qt(Me),Ze.fileType))return function CU(Me,ht){var Ze=ht||{},rt=[],ft=[],mt=Sn(1),Mn=Ze.compression?8:0,Rn=0,Ln=0,Tr=0,Wr=0,mi=Me.FullPaths[0],$r=mi,Zr=Me.FileIndex[0],ts=[],fa=0;for(Rn=1;Rn<Me.FullPaths.length;++Rn)if($r=Me.FullPaths[Rn].slice(mi.length),(Zr=Me.FileIndex[Rn]).size&&Zr.content&&"\x01Sh33tJ5"!=$r){var Qu=Tr,ml=Sn($r.length);for(Ln=0;Ln<$r.length;++Ln)ml.write_shift(1,127&$r.charCodeAt(Ln));ml=ml.slice(0,ml.l),ts[Wr]=vl.buf(Zr.content,0);var Id=Zr.content;8==Mn&&(Id=Mt(Id)),(mt=Sn(30)).write_shift(4,67324752),mt.write_shift(2,20),mt.write_shift(2,0),mt.write_shift(2,Mn),Zr.mt?c(mt,Zr.mt):mt.write_shift(4,0),mt.write_shift(-4,ts[Wr]),mt.write_shift(4,Id.length),mt.write_shift(4,Zr.content.length),mt.write_shift(2,ml.length),mt.write_shift(2,0),Tr+=mt.length,rt.push(mt),Tr+=ml.length,rt.push(ml),Tr+=Id.length,rt.push(Id),(mt=Sn(46)).write_shift(4,33639248),mt.write_shift(2,0),mt.write_shift(2,20),mt.write_shift(2,0),mt.write_shift(2,Mn),mt.write_shift(4,0),mt.write_shift(-4,ts[Wr]),mt.write_shift(4,Id.length),mt.write_shift(4,Zr.content.length),mt.write_shift(2,ml.length),mt.write_shift(2,0),mt.write_shift(2,0),mt.write_shift(2,0),mt.write_shift(2,0),mt.write_shift(4,0),mt.write_shift(4,Qu),fa+=mt.l,ft.push(mt),fa+=ml.length,ft.push(ml),++Wr}return(mt=Sn(22)).write_shift(4,101010256),mt.write_shift(2,0),mt.write_shift(2,0),mt.write_shift(2,Wr),mt.write_shift(2,Wr),mt.write_shift(4,fa),mt.write_shift(4,Tr),mt.write_shift(2,0),le([le(rt),le(ft),mt])}(Me,Ze);var rt=function(mi){for(var $r=0,Zr=0,ts=0;ts<mi.FileIndex.length;++ts){var fa=mi.FileIndex[ts];if(fa.content){var Qu=fa.content.length;Qu>0&&(Qu<4096?$r+=Qu+63>>6:Zr+=Qu+511>>9)}}for(var ml=mi.FullPaths.length+3>>2,p1=$r+127>>7,g1=($r+7>>3)+Zr+ml+p1,$v=g1+127>>7,wk=$v<=109?0:Math.ceil(($v-109)/127);g1+$v+wk+127>>7>$v;)wk=++$v<=109?0:Math.ceil(($v-109)/127);var Sg=[1,wk,$v,p1,ml,Zr,$r,0];return mi.FileIndex[0].size=$r<<6,Sg[7]=(mi.FileIndex[0].start=Sg[0]+Sg[1]+Sg[2]+Sg[3]+Sg[4]+Sg[5])+(Sg[6]+7>>3),Sg}(Me),ft=Sn(rt[7]<<9),mt=0,Mn=0;for(mt=0;mt<8;++mt)ft.write_shift(1,zr[mt]);for(mt=0;mt<8;++mt)ft.write_shift(2,0);for(ft.write_shift(2,62),ft.write_shift(2,3),ft.write_shift(2,65534),ft.write_shift(2,9),ft.write_shift(2,6),mt=0;mt<3;++mt)ft.write_shift(2,0);for(ft.write_shift(4,0),ft.write_shift(4,rt[2]),ft.write_shift(4,rt[0]+rt[1]+rt[2]+rt[3]-1),ft.write_shift(4,0),ft.write_shift(4,4096),ft.write_shift(4,rt[3]?rt[0]+rt[1]+rt[2]-1:Ir),ft.write_shift(4,rt[3]),ft.write_shift(-4,rt[1]?rt[0]-1:Ir),ft.write_shift(4,rt[1]),mt=0;mt<109;++mt)ft.write_shift(-4,mt<rt[2]?rt[1]+mt:-1);if(rt[1])for(Mn=0;Mn<rt[1];++Mn){for(;mt<236+127*Mn;++mt)ft.write_shift(-4,mt<rt[2]?rt[1]+mt:-1);ft.write_shift(-4,Mn===rt[1]-1?Ir:Mn+1)}var qn=function(mi){for(Mn+=mi;mt<Mn-1;++mt)ft.write_shift(-4,mt+1);mi&&(++mt,ft.write_shift(-4,Ir))};for(Mn=mt=0,Mn+=rt[1];mt<Mn;++mt)ft.write_shift(-4,ar.DIFSECT);for(Mn+=rt[2];mt<Mn;++mt)ft.write_shift(-4,ar.FATSECT);qn(rt[3]),qn(rt[4]);for(var On=0,Rn=0,Ln=Me.FileIndex[0];On<Me.FileIndex.length;++On)(Ln=Me.FileIndex[On]).content&&!((Rn=Ln.content.length)<4096)&&(Ln.start=Mn,qn(Rn+511>>9));for(qn(rt[6]+7>>3);511&ft.l;)ft.write_shift(-4,ar.ENDOFCHAIN);for(Mn=mt=0,On=0;On<Me.FileIndex.length;++On)(Ln=Me.FileIndex[On]).content&&(Rn=Ln.content.length)&&!(Rn>=4096)&&(Ln.start=Mn,qn(Rn+63>>6));for(;511&ft.l;)ft.write_shift(-4,ar.ENDOFCHAIN);for(mt=0;mt<rt[4]<<2;++mt){var Tr=Me.FullPaths[mt];if(Tr&&0!==Tr.length){Ln=Me.FileIndex[mt],0===mt&&(Ln.start=Ln.size?Ln.start-1:Ir);var Wr=0===mt&&Ze.root||Ln.name;if(Rn=2*(Wr.length+1),ft.write_shift(64,Wr,"utf16le"),ft.write_shift(2,Rn),ft.write_shift(1,Ln.type),ft.write_shift(1,Ln.color),ft.write_shift(-4,Ln.L),ft.write_shift(-4,Ln.R),ft.write_shift(-4,Ln.C),Ln.clsid)ft.write_shift(16,Ln.clsid,"hex");else for(On=0;On<4;++On)ft.write_shift(4,0);ft.write_shift(4,Ln.state||0),ft.write_shift(4,0),ft.write_shift(4,0),ft.write_shift(4,0),ft.write_shift(4,0),ft.write_shift(4,Ln.start),ft.write_shift(4,Ln.size),ft.write_shift(4,0)}else{for(On=0;On<17;++On)ft.write_shift(4,0);for(On=0;On<3;++On)ft.write_shift(4,-1);for(On=0;On<12;++On)ft.write_shift(4,0)}}for(mt=1;mt<Me.FileIndex.length;++mt)if((Ln=Me.FileIndex[mt]).size>=4096)if(ft.l=Ln.start+1<<9,tt&&Buffer.isBuffer(Ln.content))Ln.content.copy(ft,ft.l,0,Ln.size),ft.l+=Ln.size+511&-512;else{for(On=0;On<Ln.size;++On)ft.write_shift(1,Ln.content[On]);for(;511&On;++On)ft.write_shift(1,0)}for(mt=1;mt<Me.FileIndex.length;++mt)if((Ln=Me.FileIndex[mt]).size>0&&Ln.size<4096)if(tt&&Buffer.isBuffer(Ln.content))Ln.content.copy(ft,ft.l,0,Ln.size),ft.l+=Ln.size+63&-64;else{for(On=0;On<Ln.size;++On)ft.write_shift(1,Ln.content[On]);for(;63&On;++On)ft.write_shift(1,0)}if(tt)ft.l=ft.length;else for(;ft.l<ft.length;)ft.write_shift(1,0);return ft}n.version="1.2.1";var or,hn=64,Ir=-2,oi="d0cf11e0a1b11ae1",zr=[208,207,17,224,161,177,26,225],cr="00000000000000000000000000000000",ar={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ir,FREESECT:-1,HEADER_SIGNATURE:oi,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:cr,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function gr(Me){for(var ht=new Array(Me.length),Ze=0;Ze<Me.length;++Ze)ht[Ze]=String.fromCharCode(Me[Ze]);return ht.join("")}function Mt(Me){return or?or.deflateRawSync(Me):Cs(Me)}for(var Me,ht,Nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Jn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Dr=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],xr=typeof Uint8Array<"u",ur=xr?new Uint8Array(256):[],es=0;es<256;++es)ur[es]=(void 0,255&((ht=139536&((Me=es)<<1|Me<<11)|558144&(Me<<5|Me<<15))>>16|ht>>8|ht));function It(Me,ht){var Ze=ur[255&Me];return ht<=8?Ze>>>8-ht:(Ze=Ze<<8|ur[Me>>8&255],ht<=16?Ze>>>16-ht:(Ze=Ze<<8|ur[Me>>16&255])>>>24-ht)}function Oo(Me,ht){var Ze=7&ht,rt=ht>>>3;return(Me[rt]|(Ze<=6?0:Me[rt+1]<<8))>>>Ze&3}function Fs(Me,ht){var Ze=7&ht,rt=ht>>>3;return(Me[rt]|(Ze<=5?0:Me[rt+1]<<8))>>>Ze&7}function Ps(Me,ht){var Ze=7&ht,rt=ht>>>3;return(Me[rt]|(Ze<=3?0:Me[rt+1]<<8))>>>Ze&31}function ei(Me,ht){var Ze=7&ht,rt=ht>>>3;return(Me[rt]|(Ze<=1?0:Me[rt+1]<<8))>>>Ze&127}function il(Me,ht,Ze){var rt=7&ht,ft=ht>>>3,Mn=Me[ft]>>>rt;return Ze<8-rt||(Mn|=Me[ft+1]<<8-rt,Ze<16-rt)||(Mn|=Me[ft+2]<<16-rt,Ze<24-rt)||(Mn|=Me[ft+3]<<24-rt),Mn&(1<<Ze)-1}function hh(Me,ht,Ze){var rt=7&ht,ft=ht>>>3;return rt<=5?Me[ft]|=(7&Ze)<<rt:(Me[ft]|=Ze<<rt&255,Me[ft+1]=(7&Ze)>>8-rt),ht+3}function rp(Me,ht,Ze){return Me[ht>>>3]|=Ze=(1&Ze)<<(7&ht),ht+1}function Cg(Me,ht,Ze){var ft=ht>>>3;return Me[ft]|=255&(Ze<<=7&ht),Me[ft+1]=Ze>>>=8,ht+8}function h1(Me,ht,Ze){var ft=ht>>>3;return Me[ft]|=255&(Ze<<=7&ht),Me[ft+1]=255&(Ze>>>=8),Me[ft+2]=Ze>>>8,ht+16}function m0(Me,ht){var Ze=Me.length,rt=2*Ze>ht?2*Ze:ht+5,ft=0;if(Ze>=ht)return Me;if(tt){var mt=Fn(rt);if(Me.copy)Me.copy(mt);else for(;ft<Me.length;++ft)mt[ft]=Me[ft];return mt}if(xr){var Mn=new Uint8Array(rt);if(Mn.set)Mn.set(Me);else for(;ft<Ze;++ft)Mn[ft]=Me[ft];return Mn}return Me.length=rt,Me}function Ad(Me){for(var ht=new Array(Me),Ze=0;Ze<Me;++Ze)ht[Ze]=0;return ht}function Dg(Me,ht,Ze){var rt=1,ft=0,mt=0,Mn=0,qn=0,On=Me.length,Rn=xr?new Uint16Array(32):Ad(32);for(mt=0;mt<32;++mt)Rn[mt]=0;for(mt=On;mt<Ze;++mt)Me[mt]=0;On=Me.length;var Ln=xr?new Uint16Array(On):Ad(On);for(mt=0;mt<On;++mt)Rn[ft=Me[mt]]++,rt<ft&&(rt=ft),Ln[mt]=0;for(Rn[0]=0,mt=1;mt<=rt;++mt)Rn[mt+16]=qn=qn+Rn[mt-1]<<1;for(mt=0;mt<On;++mt)0!=(qn=Me[mt])&&(Ln[mt]=Rn[qn+16]++);var Tr=0;for(mt=0;mt<On;++mt)if(0!=(Tr=Me[mt]))for(qn=It(Ln[mt],rt)>>rt-Tr,Mn=(1<<rt+4-Tr)-1;Mn>=0;--Mn)ht[qn|Mn<<Tr]=15&Tr|mt<<4;return rt}var _0=xr?new Uint16Array(512):Ad(512),f1=xr?new Uint16Array(32):Ad(32);if(!xr){for(var fu=0;fu<512;++fu)_0[fu]=0;for(fu=0;fu<32;++fu)f1[fu]=0}!function(){for(var Me=[],ht=0;ht<32;ht++)Me.push(5);Dg(Me,f1,32);var Ze=[];for(ht=0;ht<=143;ht++)Ze.push(8);for(;ht<=255;ht++)Ze.push(9);for(;ht<=279;ht++)Ze.push(7);for(;ht<=287;ht++)Ze.push(8);Dg(Ze,_0,288)}();var ip=function(){for(var ht=xr?new Uint8Array(32768):[],Ze=0,rt=0;Ze<Dr.length-1;++Ze)for(;rt<Dr[Ze+1];++rt)ht[rt]=Ze;for(;rt<32768;++rt)ht[rt]=29;var ft=xr?new Uint8Array(259):[];for(Ze=0,rt=0;Ze<Jn.length-1;++Ze)for(;rt<Jn[Ze+1];++rt)ft[rt]=Ze;return function(On,Rn){return On.length<8?function mt(qn,On){for(var Rn=0;Rn<qn.length;){var Ln=Math.min(65535,qn.length-Rn);for(On.write_shift(1,+(Rn+Ln==qn.length)),On.write_shift(2,Ln),On.write_shift(2,65535&~Ln);Ln-- >0;)On[On.l++]=qn[Rn++]}return On.l}(On,Rn):function Mn(qn,On){for(var Rn=0,Ln=0,Tr=xr?new Uint16Array(32768):[];Ln<qn.length;){var Wr=Math.min(65535,qn.length-Ln);if(Wr<10){for(7&(Rn=hh(On,Rn,+(Ln+Wr==qn.length)))&&(Rn+=8-(7&Rn)),On.l=Rn/8|0,On.write_shift(2,Wr),On.write_shift(2,65535&~Wr);Wr-- >0;)On[On.l++]=qn[Ln++];Rn=8*On.l}else{Rn=hh(On,Rn,+(Ln+Wr==qn.length)+2);for(var mi=0;Wr-- >0;){var $r=qn[Ln],Zr=-1,ts=0;if((Zr=Tr[mi=32767&(mi<<5^$r)])&&((Zr|=-32768&Ln)>Ln&&(Zr-=32768),Zr<Ln))for(;qn[Zr+ts]==qn[Ln+ts]&&ts<250;)++ts;if(ts>2){($r=ft[ts])<=22?Rn=Cg(On,Rn,ur[$r+1]>>1)-1:(Cg(On,Rn,3),Cg(On,Rn+=5,ur[$r-23]>>5),Rn+=3);var fa=$r<8?0:$r-4>>2;fa>0&&(h1(On,Rn,ts-Jn[$r]),Rn+=fa),Rn=Cg(On,Rn,ur[$r=ht[Ln-Zr]]>>3),Rn-=3;var Qu=$r<4?0:$r-2>>1;Qu>0&&(h1(On,Rn,Ln-Zr-Dr[$r]),Rn+=Qu);for(var ml=0;ml<ts;++ml)Tr[mi]=32767&Ln,mi=32767&(mi<<5^qn[Ln]),++Ln;Wr-=ts-1}else $r<=143?$r+=48:Rn=rp(On,Rn,1),Rn=Cg(On,Rn,ur[$r]),Tr[mi]=32767&Ln,++Ln}Rn=Cg(On,Rn,0)-1}}return On.l=(Rn+7)/8|0,On.l}(On,Rn)}}();function Cs(Me){var ht=Sn(50+Math.floor(1.1*Me.length)),Ze=ip(Me,ht);return ht.slice(0,Ze)}var sl=xr?new Uint16Array(32768):Ad(32768),fh=xr?new Uint16Array(32768):Ad(32768),Pl=xr?new Uint16Array(128):Ad(128),Wv=1,nP=1;function wU(Me,ht){var Ze=Ps(Me,ht)+257,rt=Ps(Me,ht+=5)+1,ft=function Fo(Me,ht){var Ze=7&ht,rt=ht>>>3;return(Me[rt]|(Ze<=4?0:Me[rt+1]<<8))>>>Ze&15}(Me,ht+=5)+4;ht+=4;for(var mt=0,Mn=xr?new Uint8Array(19):Ad(19),qn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],On=1,Rn=xr?new Uint8Array(8):Ad(8),Ln=xr?new Uint8Array(8):Ad(8),Tr=Mn.length,Wr=0;Wr<ft;++Wr)Mn[Nt[Wr]]=mt=Fs(Me,ht),On<mt&&(On=mt),Rn[mt]++,ht+=3;var mi=0;for(Rn[0]=0,Wr=1;Wr<=On;++Wr)Ln[Wr]=mi=mi+Rn[Wr-1]<<1;for(Wr=0;Wr<Tr;++Wr)0!=(mi=Mn[Wr])&&(qn[Wr]=Ln[mi]++);var $r=0;for(Wr=0;Wr<Tr;++Wr)if(0!=($r=Mn[Wr])){mi=ur[qn[Wr]]>>8-$r;for(var Zr=(1<<7-$r)-1;Zr>=0;--Zr)Pl[mi|Zr<<$r]=7&$r|Wr<<3}var ts=[];for(On=1;ts.length<Ze+rt;)switch(mi=Pl[ei(Me,ht)],ht+=7&mi,mi>>>=3){case 16:for(mt=3+Oo(Me,ht),ht+=2,mi=ts[ts.length-1];mt-- >0;)ts.push(mi);break;case 17:for(mt=3+Fs(Me,ht),ht+=3;mt-- >0;)ts.push(0);break;case 18:for(mt=11+ei(Me,ht),ht+=7;mt-- >0;)ts.push(0);break;default:ts.push(mi),On<mi&&(On=mi)}var fa=ts.slice(0,Ze),Qu=ts.slice(Ze);for(Wr=Ze;Wr<286;++Wr)fa[Wr]=0;for(Wr=rt;Wr<30;++Wr)Qu[Wr]=0;return Wv=Dg(fa,sl,286),nP=Dg(Qu,fh,30),ht}function rP(Me,ht){var rt=function EU(Me,ht){if(3==Me[0]&&!(3&Me[1]))return[Ut(ht),2];for(var Ze=0,rt=0,ft=Fn(ht||1<<18),mt=0,Mn=ft.length>>>0,qn=0,On=0;0==(1&rt);)if(rt=Fs(Me,Ze),Ze+=3,rt>>>1!=0)for(rt>>1==1?(qn=9,On=5):(Ze=wU(Me,Ze),qn=Wv,On=nP);;){!ht&&Mn<mt+32767&&(Mn=(ft=m0(ft,mt+32767)).length);var Ln=il(Me,Ze,qn),Tr=rt>>>1==1?_0[Ln]:sl[Ln];if(Ze+=15&Tr,0==((Tr>>>=4)>>>8&255))ft[mt++]=Tr;else{if(256==Tr)break;var Wr=(Tr-=257)<8?0:Tr-4>>2;Wr>5&&(Wr=0);var mi=mt+Jn[Tr];Wr>0&&(mi+=il(Me,Ze,Wr),Ze+=Wr),Ln=il(Me,Ze,On),Ze+=15&(Tr=rt>>>1==1?f1[Ln]:fh[Ln]);var $r=(Tr>>>=4)<4?0:Tr-2>>1,Zr=Dr[Tr];for($r>0&&(Zr+=il(Me,Ze,$r),Ze+=$r),!ht&&Mn<mi&&(Mn=(ft=m0(ft,mi+100)).length);mt<mi;)ft[mt]=ft[mt-Zr],++mt}}else{7&Ze&&(Ze+=8-(7&Ze));var Rn=Me[Ze>>>3]|Me[1+(Ze>>>3)]<<8;if(Ze+=32,Rn>0)for(!ht&&Mn<mt+Rn&&(Mn=(ft=m0(ft,mt+Rn)).length);Rn-- >0;)ft[mt++]=Me[Ze>>>3],Ze+=8}return ht?[ft,Ze+7>>>3]:[ft.slice(0,mt),Ze+7>>>3]}(Me.slice(Me.l||0),ht);return Me.l+=rt[1],rt[0]}function iP(Me,ht){if(!Me)throw new Error(ht);typeof console<"u"&&console.error(ht)}function sP(Me,ht){var Ze=Me;Zs(Ze,0);var mt={FileIndex:[],FullPaths:[]};vt(mt,{root:ht.root});for(var Mn=Ze.length-4;(80!=Ze[Mn]||75!=Ze[Mn+1]||5!=Ze[Mn+2]||6!=Ze[Mn+3])&&Mn>=0;)--Mn;Ze.l=Mn+4,Ze.l+=4;var qn=Ze.read_shift(2);Ze.l+=6;var On=Ze.read_shift(4);for(Ze.l=On,Mn=0;Mn<qn;++Mn){Ze.l+=20;var Rn=Ze.read_shift(4),Ln=Ze.read_shift(4),Tr=Ze.read_shift(2),Wr=Ze.read_shift(2),mi=Ze.read_shift(2);Ze.l+=8;var $r=Ze.read_shift(4),Zr=g(Ze.slice(Ze.l+Tr,Ze.l+Tr+Wr));Ze.l+=Tr+Wr+mi;var ts=Ze.l;Ze.l=$r+4,bU(Ze,Rn,Ln,mt,Zr),Ze.l=ts}return mt}function bU(Me,ht,Ze,rt,ft){Me.l+=2;var mt=Me.read_shift(2),Mn=Me.read_shift(2),qn=function p(Me){var ht=65535&Me.read_shift(2),Ze=65535&Me.read_shift(2),rt=new Date,ft=31&Ze,mt=15&(Ze>>>=5);Ze>>>=4,rt.setMilliseconds(0),rt.setFullYear(Ze+1980),rt.setMonth(mt-1),rt.setDate(ft);var Mn=31&ht,qn=63&(ht>>>=5);return rt.setHours(ht>>>=6),rt.setMinutes(qn),rt.setSeconds(Mn<<1),rt}(Me);if(8257&mt)throw new Error("Unsupported ZIP encryption");Me.read_shift(4);for(var Rn=Me.read_shift(4),Ln=Me.read_shift(4),Tr=Me.read_shift(2),Wr=Me.read_shift(2),mi="",$r=0;$r<Tr;++$r)mi+=String.fromCharCode(Me[Me.l++]);if(Wr){var Zr=g(Me.slice(Me.l,Me.l+Wr));(Zr[21589]||{}).mt&&(qn=Zr[21589].mt),((ft||{})[21589]||{}).mt&&(qn=ft[21589].mt)}Me.l+=Wr;var ts=Me.slice(Me.l,Me.l+Rn);switch(Mn){case 8:ts=function Tn(Me,ht){if(!or)return rP(Me,ht);var rt=new(0,or.InflateRaw),ft=rt._processChunk(Me.slice(Me.l),rt._finishFlushFlag);return Me.l+=rt.bytesRead,ft}(Me,Ln);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Mn)}var fa=!1;8&mt&&(134695760==Me.read_shift(4)&&(Me.read_shift(4),fa=!0),Rn=Me.read_shift(4),Ln=Me.read_shift(4)),Rn!=ht&&iP(fa,"Bad compressed size: "+ht+" != "+Rn),Ln!=Ze&&iP(fa,"Bad uncompressed size: "+Ze+" != "+Ln),xk(rt,mi,ts,{unsafe:!0,mt:qn})}var MS={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function DU(Me,ht){if(Me.ctype)return Me.ctype;var Ze=Me.name||"",rt=Ze.match(/\.([^\.]+)$/);return rt&&MS[rt[1]]||ht&&(rt=(Ze=ht).match(/[\.\\]([^\.\\])+$/))&&MS[rt[1]]?MS[rt[1]]:"application/octet-stream"}function SU(Me){for(var ht=ke(Me),Ze=[],rt=0;rt<ht.length;rt+=76)Ze.push(ht.slice(rt,rt+76));return Ze.join("\r\n")+"\r\n"}function TU(Me){var ht=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Rn){var Ln=Rn.charCodeAt(0).toString(16).toUpperCase();return"="+(1==Ln.length?"0"+Ln:Ln)});"\n"==(ht=ht.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(ht="=0D"+ht.slice(1));for(var Ze=[],rt=(ht=ht.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),ft=0;ft<rt.length;++ft){var mt=rt[ft];if(0!=mt.length)for(var Mn=0;Mn<mt.length;){var qn=76,On=mt.slice(Mn,Mn+qn);"="==On.charAt(qn-1)?qn--:"="==On.charAt(qn-2)?qn-=2:"="==On.charAt(qn-3)&&(qn-=3),On=mt.slice(Mn,Mn+qn),(Mn+=qn)<mt.length&&(On+="="),Ze.push(On)}else Ze.push("")}return Ze.join("\r\n")}function IU(Me,ht,Ze){for(var Mn,rt="",ft="",mt="",qn=0;qn<10;++qn){var On=ht[qn];if(!On||On.match(/^\s*$/))break;var Rn=On.match(/^(.*?):\s*([^\s].*)$/);if(Rn)switch(Rn[1].toLowerCase()){case"content-location":rt=Rn[2].trim();break;case"content-type":mt=Rn[2].trim();break;case"content-transfer-encoding":ft=Rn[2].trim()}}switch(++qn,ft.toLowerCase()){case"base64":Mn=Nn(ve(ht.slice(qn).join("")));break;case"quoted-printable":Mn=function AU(Me){for(var ht=[],Ze=0;Ze<Me.length;++Ze){for(var rt=Me[Ze];Ze<=Me.length&&"="==rt.charAt(rt.length-1);)rt=rt.slice(0,rt.length-1)+Me[++Ze];ht.push(rt)}for(var ft=0;ft<ht.length;++ft)ht[ft]=ht[ft].replace(/[=][0-9A-Fa-f]{2}/g,function(mt){return String.fromCharCode(parseInt(mt.slice(1),16))});return Nn(ht.join("\r\n"))}(ht.slice(qn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ft)}var Ln=xk(Me,rt.slice(Ze.length),Mn,{unsafe:!0});mt&&(Ln.ctype=mt)}function xk(Me,ht,Ze,rt){var ft=rt&&rt.unsafe;ft||vt(Me);var mt=!ft&&ti.find(Me,ht);if(!mt){var Mn=Me.FullPaths[0];ht.slice(0,Mn.length)==Mn?Mn=ht:("/"!=Mn.slice(-1)&&(Mn+="/"),Mn=(Mn+ht).replace("//","/")),mt={name:s(ht),type:2},Me.FileIndex.push(mt),Me.FullPaths.push(Mn),ft||ti.utils.cfb_gc(Me)}return mt.content=Ze,mt.size=Ze?Ze.length:0,rt&&(rt.CLSID&&(mt.clsid=rt.CLSID),rt.mt&&(mt.mt=rt.mt),rt.ct&&(mt.ct=rt.ct)),mt}return n.find=function $n(Me,ht){var Ze=Me.FullPaths.map(function(On){return On.toUpperCase()}),rt=Ze.map(function(On){var Rn=On.split("/");return Rn[Rn.length-("/"==On.slice(-1)?2:1)]}),ft=!1;47===ht.charCodeAt(0)?(ft=!0,ht=Ze[0].slice(0,-1)+ht):ft=-1!==ht.indexOf("/");var mt=ht.toUpperCase(),Mn=!0===ft?Ze.indexOf(mt):rt.indexOf(mt);if(-1!==Mn)return Me.FileIndex[Mn];var qn=!mt.match(Zt);for(mt=mt.replace(Vt,""),qn&&(mt=mt.replace(Zt,"!")),Mn=0;Mn<Ze.length;++Mn)if((qn?Ze[Mn].replace(Zt,"!"):Ze[Mn]).replace(Vt,"")==mt||(qn?rt[Mn].replace(Zt,"!"):rt[Mn]).replace(Vt,"")==mt)return Me.FileIndex[Mn];return null},n.read=function In(Me,ht){var Ze=ht&&ht.type;switch(Ze||tt&&Buffer.isBuffer(Me)&&(Ze="buffer"),Ze||"base64"){case"file":return function dn(Me,ht){return E(),D(x.readFileSync(Me),ht)}(Me,ht);case"base64":return D(Nn(ve(Me)),ht);case"binary":return D(Nn(Me),ht)}return D(Me,ht)},n.parse=D,n.write=function ci(Me,ht){var Ze=Bn(Me,ht);switch(ht&&ht.type||"buffer"){case"file":return E(),x.writeFileSync(ht.filename,Ze),Ze;case"binary":return"string"==typeof Ze?Ze:gr(Ze);case"base64":return ke("string"==typeof Ze?Ze:gr(Ze));case"buffer":if(tt)return Buffer.isBuffer(Ze)?Ze:Tt(Ze);case"array":return"string"==typeof Ze?Nn(Ze):Ze}return Ze},n.writeFile=function Ur(Me,ht,Ze){E();var rt=Bn(Me,Ze);x.writeFileSync(ht,rt)},n.utils={cfb_new:function RU(Me){var ht={};return vt(ht,Me),ht},cfb_add:xk,cfb_del:function OU(Me,ht){vt(Me);var Ze=ti.find(Me,ht);if(Ze)for(var rt=0;rt<Me.FileIndex.length;++rt)if(Me.FileIndex[rt]==Ze)return Me.FileIndex.splice(rt,1),Me.FullPaths.splice(rt,1),!0;return!1},cfb_mov:function FU(Me,ht,Ze){vt(Me);var rt=ti.find(Me,ht);if(rt)for(var ft=0;ft<Me.FileIndex.length;++ft)if(Me.FileIndex[ft]==rt)return Me.FileIndex[ft].name=s(Ze),Me.FullPaths[ft]=Ze,!0;return!1},cfb_gc:function PU(Me){Qt(Me,!0)},ReadShift:ri,CheckField:br,prep_blob:Zs,bconcat:le,use_zlib:function wt(Me){try{var Ze=new(0,Me.InflateRaw);if(Ze._processChunk(new Uint8Array([3,0]),Ze._finishFlushFlag),!Ze.bytesRead)throw new Error("zlib does not expose bytesRead");or=Me}catch(rt){console.error("cannot use native zlib: "+(rt.message||rt))}},_deflateRaw:Cs,_inflateRaw:rP,consts:ar},n}();function Xa(t){return"string"==typeof t?bt(t):Array.isArray(t)?function _e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}(t):t}function ma(t,n,e){if(typeof Deno<"u"){if(e&&"string"==typeof n)switch(e){case"utf8":n=new TextEncoder(e).encode(n);break;case"binary":n=bt(n);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(t,n)}var r="utf8"==e?Na(n):n;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var s=new Blob([Xa(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var c=URL.createObjectURL(s);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(c)},6e4),chrome.downloads.download({url:c,filename:t,saveAs:!0});var p=document.createElement("a");if(null!=p.download)return p.download=t,p.href=c,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(c)},6e4),c}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var g=File(t);return g.open("w"),g.encoding="binary",Array.isArray(n)&&(n=ut(n)),g.write(n),g.close(),n}catch(x){if(!x.message||!x.message.match(/onstruct/))throw x}throw new Error("cannot save file "+t)}function Ei(t){for(var n=Object.keys(t),e=[],r=0;r<n.length;++r)Object.prototype.hasOwnProperty.call(t,n[r])&&e.push(n[r]);return e}function Q(t,n){for(var e=[],r=Ei(t),s=0;s!==r.length;++s)null==e[t[r[s]][n]]&&(e[t[r[s]][n]]=r[s]);return e}function De(t){for(var n=[],e=Ei(t),r=0;r!==e.length;++r)n[t[e[r]]]=e[r];return n}function X(t){for(var n=[],e=Ei(t),r=0;r!==e.length;++r)n[t[e[r]]]=parseInt(e[r],10);return n}var Ot=new Date(1899,11,30,0,0,0);function wn(t,n){var e=t.getTime();return n&&(e-=1263168e5),(e-(Ot.getTime()+6e4*(t.getTimezoneOffset()-Ot.getTimezoneOffset())))/864e5}var En=new Date,kr=Ot.getTime()+6e4*(En.getTimezoneOffset()-Ot.getTimezoneOffset()),ds=En.getTimezoneOffset();function ji(t){var n=new Date;return n.setTime(24*t*60*60*1e3+kr),n.getTimezoneOffset()!==ds&&n.setTime(n.getTime()+6e4*(n.getTimezoneOffset()-ds)),n}var ki=new Date("2017-02-19T19:06:09.000Z"),Ts=isNaN(ki.getFullYear())?new Date("2/19/17"):ki,zi=2017==Ts.getFullYear();function Ti(t,n){var e=new Date(t);if(zi)return n>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):n<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(t instanceof Date)return t;if(1917==Ts.getFullYear()&&!isNaN(e.getFullYear())){var r=e.getFullYear();return t.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],c=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(c=new Date(c.getTime()-60*c.getTimezoneOffset()*1e3)),c}function Wn(t,n){if(tt&&Buffer.isBuffer(t)){if(n){if(255==t[0]&&254==t[1])return Na(t.slice(2).toString("utf16le"));if(254==t[1]&&255==t[2])return Na(function ue(t){for(var n=[],e=0;e<t.length>>1;++e)n[e]=String.fromCharCode(t.charCodeAt(2*e+1)+(t.charCodeAt(2*e)<<8));return n.join("")}(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(n){if(255==t[0]&&254==t[1])return Na(new TextDecoder("utf-16le").decode(t.slice(2)));if(254==t[0]&&255==t[1])return Na(new TextDecoder("utf-16be").decode(t.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(c){return e[c]||c})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function Or(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"!=typeof t||null==t)return t;if(t instanceof Date)return new Date(t.getTime());var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=Or(t[e]));return n}function Gi(t,n){for(var e="";e.length<n;)e+=t;return e}function As(t){var n=Number(t);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(t))return n;var e=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(n=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(s,c){return e=-e,c}),isNaN(n=Number(r)))?n:n/e}var Is=["january","february","march","april","may","june","july","august","september","october","november","december"];function Io(t){var n=new Date(t),e=new Date(NaN),r=n.getYear(),s=n.getMonth(),c=n.getDate();if(isNaN(c))return e;var p=t.toLowerCase();if(p.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((p=p.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Is.indexOf(p))return e}else if(p.match(/[a-z]/))return e;return r<0||r>8099?e:(s>0||c>1)&&101!=r?n:t.match(/[^-0-9:,\/\\]/)?e:n}function Ai(t,n,e){if(t.FullPaths){var r;if("string"==typeof e)return r=tt?Tt(e):function dt(t){for(var n=[],e=0,r=t.length+250,s=Ut(t.length+255),c=0;c<t.length;++c){var p=t.charCodeAt(c);if(p<128)s[e++]=p;else if(p<2048)s[e++]=192|p>>6&31,s[e++]=128|63&p;else if(p>=55296&&p<57344){p=64+(1023&p);var g=1023&t.charCodeAt(++c);s[e++]=240|p>>8&7,s[e++]=128|p>>2&63,s[e++]=128|g>>6&15|(3&p)<<4,s[e++]=128|63&g}else s[e++]=224|p>>12&15,s[e++]=128|p>>6&63,s[e++]=128|63&p;e>r&&(n.push(s.slice(0,e)),e=0,s=Ut(65535),r=65530)}return n.push(s.slice(0,e)),le(n)}(e),ti.utils.cfb_add(t,n,r);ti.utils.cfb_add(t,n,e)}else t.file(n,e)}function yl(){return ti.utils.cfb_new()}var ks='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',yc=De({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),nc=/[&<>'"]/g,xl=/[\u0000-\u0008\u000b-\u001f]/g;function ss(t){return(t+"").replace(nc,function(e){return yc[e]}).replace(xl,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function rc(t){return ss(t).replace(/ /g,"_x0020_")}var wl=/[\u0000-\u001f]/g;function Ys(t){return(t+"").replace(nc,function(e){return yc[e]}).replace(/\n/g,"<br/>").replace(wl,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function Uc(t){for(var n="",e=0,r=0,s=0,c=0,p=0,g=0;e<t.length;)(r=t.charCodeAt(e++))<128?n+=String.fromCharCode(r):(s=t.charCodeAt(e++),r>191&&r<224?(p=(31&r)<<6,p|=63&s,n+=String.fromCharCode(p)):(c=t.charCodeAt(e++),r<240?n+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&c):(g=((7&r)<<18|(63&s)<<12|(63&c)<<6|63&(p=t.charCodeAt(e++)))-65536,n+=String.fromCharCode(55296+(g>>>10&1023)),n+=String.fromCharCode(56320+(1023&g)))));return n}function Hc(t){var e,r,g,n=Ut(2*t.length),s=1,c=0,p=0;for(r=0;r<t.length;r+=s)s=1,(g=t.charCodeAt(r))<128?e=g:g<224?(e=64*(31&g)+(63&t.charCodeAt(r+1)),s=2):g<240?(e=4096*(15&g)+64*(63&t.charCodeAt(r+1))+(63&t.charCodeAt(r+2)),s=3):(s=4,e=262144*(7&g)+4096*(63&t.charCodeAt(r+1))+64*(63&t.charCodeAt(r+2))+(63&t.charCodeAt(r+3)),p=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==p&&(n[c++]=255&p,n[c++]=p>>>8,p=0),n[c++]=e%256,n[c++]=e>>>8;return n.slice(0,c).toString("ucs2")}function Ll(t){return Tt(t,"binary").toString("utf8")}var ic="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",us=tt&&(Ll(ic)==Uc(ic)&&Ll||Hc(ic)==Uc(ic)&&Hc)||Uc,Na=tt?function(t){return Tt(t,"utf8").toString("binary")}:function(t){for(var n=[],e=0,r=0,s=0;e<t.length;)switch(r=t.charCodeAt(e++),!0){case r<128:n.push(String.fromCharCode(r));break;case r<2048:n.push(String.fromCharCode(192+(r>>6))),n.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,s=t.charCodeAt(e++)-56320+(r<<10),n.push(String.fromCharCode(240+(s>>18&7))),n.push(String.fromCharCode(144+(s>>12&63))),n.push(String.fromCharCode(128+(s>>6&63))),n.push(String.fromCharCode(128+(63&s)));break;default:n.push(String.fromCharCode(224+(r>>12))),n.push(String.fromCharCode(128+(r>>6&63))),n.push(String.fromCharCode(128+(63&r)))}return n.join("")},Bl=function(){var t=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}}(),Gc=/(^\s|\s$|\n)/;function qs(t,n){return"<"+t+(n.match(Gc)?' xml:space="preserve"':"")+">"+n+"</"+t+">"}function _a(t){return Ei(t).map(function(n){return" "+n+'="'+t[n]+'"'}).join("")}function _r(t,n,e){return"<"+t+(null!=e?_a(e):"")+(null!=n?(n.match(Gc)?' xml:space="preserve"':"")+">"+n+"</"+t:"/")+">"}function Do(t,n){try{return t.toISOString().replace(/\.\d*/,"")}catch(e){if(n)throw e}return""}var Rs_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Rs_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Rs_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Rs_xsi="http://www.w3.org/2001/XMLSchema-instance",Ba=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Xi_o="urn:schemas-microsoft-com:office:office",Xi_x="urn:schemas-microsoft-com:office:excel",Xi_ss="urn:schemas-microsoft-com:office:spreadsheet",jc=function(t){for(var n=[],r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,c=t[0][r].length;s<c;s+=10240)n.push.apply(n,t[0][r].slice(s,s+10240));return n},Vl=tt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(n){return Buffer.isBuffer(n)?n:Tt(n)})):jc(t)}:jc,hr=function(t,n,e){for(var r=[],s=n;s<e;s+=2)r.push(String.fromCharCode(ys(t,s)));return r.join("").replace(Vt,"")},Pi=tt?function(t,n,e){return Buffer.isBuffer(t)?t.toString("utf16le",n,e).replace(Vt,""):hr(t,n,e)}:hr,ul=function(t,n,e){for(var r=[],s=n;s<n+e;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},Ul=tt?function(t,n,e){return Buffer.isBuffer(t)?t.toString("hex",n,n+e):ul(t,n,e)}:ul,Jr=function(t,n,e){for(var r=[],s=n;s<e;s++)r.push(String.fromCharCode(Ua(t,s)));return r.join("")},gi=tt?function(n,e,r){return Buffer.isBuffer(n)?n.toString("utf8",e,r):Jr(n,e,r)}:Jr,sc=function(t,n){var e=Vs(t,n);return e>0?gi(t,n+4,n+4+e-1):""},Fr=sc,on=function(t,n){var e=Vs(t,n);return e>0?gi(t,n+4,n+4+e-1):""},ir=on,gs=function(t,n){var e=2*Vs(t,n);return e>0?gi(t,n+4,n+4+e-1):""},Cl=gs,Hl=function(n,e){var r=Vs(n,e);return r>0?Pi(n,e+4,e+4+r):""},xc=Hl,Gl=function(t,n){var e=Vs(t,n);return e>0?gi(t,n+4,n+4+e):""},_u=Gl,zc=function(t,n){return function Va(t,n){for(var e=1-2*(t[n+7]>>>7),r=((127&t[n+7])<<4)+(t[n+6]>>>4&15),s=15&t[n+6],c=5;c>=0;--c)s=256*s+t[n+c];return 2047==r?0==s?e*(1/0):NaN:(0==r?r=-1022:(r-=1023,s+=Math.pow(2,52)),e*Math.pow(2,r-52)*s)}(t,n)},Dl=zc,oc=function(n){return Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array};tt&&(Fr=function(n,e){if(!Buffer.isBuffer(n))return sc(n,e);var r=n.readUInt32LE(e);return r>0?n.toString("utf8",e+4,e+4+r-1):""},ir=function(n,e){if(!Buffer.isBuffer(n))return on(n,e);var r=n.readUInt32LE(e);return r>0?n.toString("utf8",e+4,e+4+r-1):""},Cl=function(n,e){if(!Buffer.isBuffer(n))return gs(n,e);var r=2*n.readUInt32LE(e);return n.toString("utf16le",e+4,e+4+r-1)},xc=function(n,e){if(!Buffer.isBuffer(n))return Hl(n,e);var r=n.readUInt32LE(e);return n.toString("utf16le",e+4,e+4+r)},_u=function(n,e){if(!Buffer.isBuffer(n))return Gl(n,e);var r=n.readUInt32LE(e);return n.toString("utf8",e+4,e+4+r)},Dl=function(n,e){return Buffer.isBuffer(n)?n.readDoubleLE(e):zc(n,e)},oc=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||typeof Uint8Array<"u"&&n instanceof Uint8Array});var Ua=function(t,n){return t[n]},ys=function(t,n){return 256*t[n+1]+t[n]},_i=function(t,n){var e=256*t[n+1]+t[n];return e<32768?e:-1*(65535-e+1)},Vs=function(t,n){return t[n+3]*(1<<24)+(t[n+2]<<16)+(t[n+1]<<8)+t[n]},ra=function(t,n){return t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]},xs=function(t,n){return t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]};function ri(t,n){var r,s,p,g,x,E,e="",c=[];switch(n){case"dbcs":if(E=this.l,tt&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*t).toString("utf16le");else for(x=0;x<t;++x)e+=String.fromCharCode(ys(this,E)),E+=2;t*=2;break;case"utf8":e=gi(this,this.l,this.l+t);break;case"utf16le":e=Pi(this,this.l,this.l+(t*=2));break;case"wstr":return ri.call(this,t,"dbcs");case"lpstr-ansi":e=Fr(this,this.l),t=4+Vs(this,this.l);break;case"lpstr-cp":e=ir(this,this.l),t=4+Vs(this,this.l);break;case"lpwstr":e=Cl(this,this.l),t=4+2*Vs(this,this.l);break;case"lpp4":t=4+Vs(this,this.l),e=xc(this,this.l),2&t&&(t+=2);break;case"8lpp4":t=4+Vs(this,this.l),e=_u(this,this.l),3&t&&(t+=4-(3&t));break;case"cstr":for(t=0,e="";0!==(p=Ua(this,this.l+t++));)c.push(be(p));e=c.join("");break;case"_wstr":for(t=0,e="";0!==(p=ys(this,this.l+t));)c.push(be(p)),t+=2;t+=2,e=c.join("");break;case"dbcs-cont":for(e="",E=this.l,x=0;x<t;++x){if(this.lens&&-1!==this.lens.indexOf(E))return p=Ua(this,E),this.l=E+1,g=ri.call(this,t-x,p?"dbcs-cont":"sbcs-cont"),c.join("")+g;c.push(be(ys(this,E))),E+=2}e=c.join(""),t*=2;break;case"cpstr":0;case"sbcs-cont":for(e="",E=this.l,x=0;x!=t;++x){if(this.lens&&-1!==this.lens.indexOf(E))return p=Ua(this,E),this.l=E+1,g=ri.call(this,t-x,p?"dbcs-cont":"sbcs-cont"),c.join("")+g;c.push(be(Ua(this,E))),E+=1}e=c.join("");break;default:switch(t){case 1:return r=Ua(this,this.l),this.l++,r;case 2:return r=("i"===n?_i:ys)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===n||0==(128&this[this.l+3])?(r=(t>0?ra:xs)(this,this.l),this.l+=4,r):(s=Vs(this,this.l),this.l+=4,s);case 8:case-8:if("f"===n)return s=8==t?Dl(this,this.l):Dl([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:e=Ul(this,this.l,t)}}return this.l+=t,e}var ed=function(t,n,e){t[e]=255&n,t[e+1]=n>>>8&255};function So(t,n,e){var r=0,s=0;if("dbcs"===e){for(s=0;s!=n.length;++s)ed(this,n.charCodeAt(s),this.l+2*s);r=2*n.length}else if("sbcs"===e){for(n=n.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=n.length;++s)this[this.l+s]=255&n.charCodeAt(s);r=n.length}else{if("hex"===e){for(;s<t;++s)this[this.l++]=parseInt(n.slice(2*s,2*s+2),16)||0;return this}if("utf16le"===e){var p=Math.min(this.l+t,this.length);for(s=0;s<Math.min(n.length,t);++s){var g=n.charCodeAt(s);this[this.l++]=255&g,this[this.l++]=g>>8}for(;this.l<p;)this[this.l++]=0;return this}switch(t){case 1:r=1,this[this.l]=255&n;break;case 2:r=2,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8);break;case 3:r=3,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8),this[this.l+2]=255&(n>>>=8);break;case 4:r=4,function(t,n,e){t[e]=255&n,t[e+1]=n>>>8&255,t[e+2]=n>>>16&255,t[e+3]=n>>>24&255}(this,n,this.l);break;case 8:if(r=8,"f"===e){!function bl(t,n,e){var r=(n<0||1/n==-1/0?1:0)<<7,s=0,c=0,p=r?-n:n;isFinite(p)?0==p?s=c=0:(s=Math.floor(Math.log(p)/Math.LN2),c=p*Math.pow(2,52-s),s<=-1023&&(!isFinite(c)||c<Math.pow(2,52))?s=-1022:(c-=Math.pow(2,52),s+=1023)):(s=2047,c=isNaN(n)?26985:0);for(var g=0;g<=5;++g,c/=256)t[e+g]=255&c;t[e+6]=(15&s)<<4|15&c,t[e+7]=s>>4|r}(this,n,this.l);break}case 16:break;case-4:r=4,function(t,n,e){t[e]=255&n,t[e+1]=n>>8&255,t[e+2]=n>>16&255,t[e+3]=n>>24&255}(this,n,this.l)}}return this.l+=r,this}function br(t,n){var e=Ul(this,this.l,t.length>>1);if(e!==t)throw new Error(n+"Expected "+t+" saw "+e);this.l+=t.length>>1}function Zs(t,n){t.l=n,t.read_shift=ri,t.chk=br,t.write_shift=So}function Us(t,n){t.l+=n}function Sn(t){var n=Ut(t);return Zs(n,0),n}function po(){var t=[],n=tt?256:2048,e=function(E){var D=Sn(E);return Zs(D,0),D},r=e(n),s=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&t.push(r),r=null)},c=function(E){return r&&E<r.length-r.l?r:(s(),r=e(Math.max(E+1,n)))};return{next:c,push:function(E){s(),null==(r=E).l&&(r.l=r.length),c(n)},end:function(){return s(),le(t)},_bufs:t}}function Qn(t,n,e,r){var c,s=+n;if(!isNaN(s)){r||(r=cv[s].p||(e||[]).length||0),c=1+(s>=128?1:0)+1,r>=128&&++c,r>=16384&&++c,r>=2097152&&++c;var p=t.next(c);s<=127?p.write_shift(1,s):(p.write_shift(1,128+(127&s)),p.write_shift(1,s>>7));for(var g=0;4!=g;++g){if(!(r>=128)){p.write_shift(1,r);break}p.write_shift(1,128+(127&r)),r>>=7}r>0&&oc(e)&&t.push(e)}}function Bo(t,n,e){var r=Or(t);if(n.s?(r.cRel&&(r.c+=n.s.c),r.rRel&&(r.r+=n.s.r)):(r.cRel&&(r.c+=n.c),r.rRel&&(r.r+=n.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function td(t,n,e){var r=Or(t);return r.s=Bo(r.s,n.s,e),r.e=Bo(r.e,n.s,e),r}function ac(t,n){if(t.cRel&&t.c<0)for(t=Or(t);t.c<0;)t.c+=n>8?16384:256;if(t.rRel&&t.r<0)for(t=Or(t);t.r<0;)t.r+=n>8?1048576:n>5?65536:16384;var e=Kr(t);return!t.cRel&&null!=t.cRel&&(e=function yu(t){return t.replace(/^([A-Z])/,"$$$1")}(e)),!t.rRel&&null!=t.rRel&&(e=function ph(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function vi(t,n){return 0!=t.s.r||t.s.rRel||t.e.r!=(n.biff>=12?1048575:n.biff>=8?65536:16384)||t.e.rRel?0!=t.s.c||t.s.cRel||t.e.c!=(n.biff>=12?16383:255)||t.e.cRel?ac(t.s,n.biff)+":"+ac(t.e,n.biff):(t.s.rRel?"":"$")+go(t.s.r)+":"+(t.e.rRel?"":"$")+go(t.e.r):(t.s.cRel?"":"$")+rn(t.s.c)+":"+(t.e.cRel?"":"$")+rn(t.e.c)}function Ec(t){return parseInt(function Sl(t){return t.replace(/\$(\d+)$/,"$1")}(t),10)-1}function go(t){return""+(t+1)}function vu(t){for(var n=function zo(t){return t.replace(/^\$([A-Z])/,"$1")}(t),e=0,r=0;r!==n.length;++r)e=26*e+n.charCodeAt(r)-64;return e-1}function rn(t){if(t<0)throw new Error("invalid column "+t);var n="";for(++t;t;t=Math.floor((t-1)/26))n=String.fromCharCode((t-1)%26+65)+n;return n}function Hs(t){for(var n=0,e=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?n=10*n+(s-48):s>=65&&s<=90&&(e=26*e+(s-64))}return{c:e-1,r:n-1}}function Kr(t){for(var n=t.c+1,e="";n;n=(n-1)/26|0)e=String.fromCharCode((n-1)%26+65)+e;return e+(t.r+1)}function Vo(t){var n=t.indexOf(":");return-1==n?{s:Hs(t),e:Hs(t)}:{s:Hs(t.slice(0,n)),e:Hs(t.slice(n+1))}}function wi(t,n){return typeof n>"u"||"number"==typeof n?wi(t.s,t.e):("string"!=typeof t&&(t=Kr(t)),"string"!=typeof n&&(n=Kr(n)),t==n?t:t+":"+n)}function $i(t){var n={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,s=0,c=t.length;for(e=0;r<c&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)e=26*e+s;for(n.s.c=--e,e=0;r<c&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)e=10*e+s;if(n.s.r=--e,r===c||10!=s)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++r,e=0;r!=c&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)e=26*e+s;for(n.e.c=--e,e=0;r!=c&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)e=10*e+s;return n.e.r=--e,n}function Ws(t,n,e){return null==t||null==t.t||"z"==t.t?"":void 0!==t.w?t.w:("d"==t.t&&!t.z&&e&&e.dateNF&&(t.z=e.dateNF),"e"==t.t?Kc[t.v]||t.v:function nd(t,n){var e="d"==t.t&&n instanceof Date;if(null!=t.z)try{return t.w=Ss(t.z,e?wn(n):n)}catch{}try{return t.w=Ss((t.XF||{}).numFmtId||(e?14:0),e?wn(n):n)}catch{return""+n}}(t,n??t.v))}function k(t,n){var e=n&&n.sheet?n.sheet:"Sheet1",r={};return r[e]=t,{SheetNames:[e],Sheets:r}}function O(t,n,e){var r=e||{},s=t?Array.isArray(t):r.dense,c=t||(s?[]:{}),p=0,g=0;if(c&&null!=r.origin){if("number"==typeof r.origin)p=r.origin;else{var x="string"==typeof r.origin?Hs(r.origin):r.origin;p=x.r,g=x.c}c["!ref"]||(c["!ref"]="A1:A1")}var E={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(c["!ref"]){var D=$i(c["!ref"]);E.s.c=D.s.c,E.s.r=D.s.r,E.e.c=Math.max(E.e.c,D.e.c),E.e.r=Math.max(E.e.r,D.e.r),-1==p&&(E.e.r=p=D.e.r+1)}for(var F=0;F!=n.length;++F)if(n[F]){if(!Array.isArray(n[F]))throw new Error("aoa_to_sheet expects an array of arrays");for(var B=0;B!=n[F].length;++B)if(!(typeof n[F][B]>"u")){var K={v:n[F][B]},ee=p+F,W=g+B;if(E.s.r>ee&&(E.s.r=ee),E.s.c>W&&(E.s.c=W),E.e.r<ee&&(E.e.r=ee),E.e.c<W&&(E.e.c=W),!n[F][B]||"object"!=typeof n[F][B]||Array.isArray(n[F][B])||n[F][B]instanceof Date)if(Array.isArray(K.v)&&(K.f=n[F][B][1],K.v=K.v[0]),null===K.v)if(K.f)K.t="n";else if(r.nullError)K.t="e",K.v=0;else{if(!r.sheetStubs)continue;K.t="z"}else"number"==typeof K.v?K.t="n":"boolean"==typeof K.v?K.t="b":K.v instanceof Date?(K.z=r.dateNF||ai[14],r.cellDates?(K.t="d",K.w=Ss(K.z,wn(K.v))):(K.t="n",K.v=wn(K.v),K.w=Ss(K.z,K.v))):K.t="s";else K=n[F][B];if(s)c[ee]||(c[ee]=[]),c[ee][W]&&c[ee][W].z&&(K.z=c[ee][W].z),c[ee][W]=K;else{var oe=Kr({c:W,r:ee});c[oe]&&c[oe].z&&(K.z=c[oe].z),c[oe]=K}}}return E.s.c<1e7&&(c["!ref"]=wi(E)),c}function I(t,n){return O(null,t,n)}function Z(t,n){return n||(n=Sn(4)),n.write_shift(4,t),n}function ye(t){var n=t.read_shift(4);return 0===n?"":t.read_shift(n,"dbcs")}function qe(t,n){var e=!1;return null==n&&(e=!0,n=Sn(4+2*t.length)),n.write_shift(4,t.length),t.length>0&&n.write_shift(0,t,"dbcs"),e?n.slice(0,n.l):n}function yt(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Er(t,n){var e=t.l,r=t.read_shift(1),s=ye(t),c=[],p={t:s,h:s};if(0!=(1&r)){for(var g=t.read_shift(4),x=0;x!=g;++x)c.push(yt(t));p.r=c}else p.r=[{ich:0,ifnt:0}];return t.l=e+n,p}var Pr=Er;function Mi(t){var n=t.read_shift(4),e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:n,iStyleRef:e}}function To(t,n){return null==n&&(n=Sn(8)),n.write_shift(-4,t.c),n.write_shift(3,t.iStyleRef||t.s),n.write_shift(1,0),n}function Xs(t){var n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:n}}function Ui(t,n){return null==n&&(n=Sn(4)),n.write_shift(3,t.iStyleRef||t.s),n.write_shift(1,0),n}var dl=ye,Ha=qe;function bc(t){var n=t.read_shift(4);return 0===n||4294967295===n?"":t.read_shift(n,"dbcs")}function lc(t,n){var e=!1;return null==n&&(e=!0,n=Sn(127)),n.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&n.write_shift(0,t,"dbcs"),e?n.slice(0,n.l):n}var sf=ye,Sa=bc,Cc=lc;function Tl(t){var n=t.slice(t.l,t.l+4),e=1&n[0],r=2&n[0];t.l+=4;var s=0===r?Dl([0,0,0,0,252&n[0],n[1],n[2],n[3]],0):ra(n,0)>>2;return e?s/100:s}function Ga(t,n){null==n&&(n=Sn(4));var e=0,r=0,s=100*t;if(t==(0|t)&&t>=-(1<<29)&&t<1<<29?r=1:s==(0|s)&&s>=-(1<<29)&&s<1<<29&&(r=1,e=1),!r)throw new Error("unsupported RkNumber "+t);n.write_shift(-4,((e?s:t)<<2)+(e+2))}function el(t){var n={s:{},e:{}};return n.s.r=t.read_shift(4),n.e.r=t.read_shift(4),n.s.c=t.read_shift(4),n.e.c=t.read_shift(4),n}var Ta=el,mo=function kd(t,n){return n||(n=Sn(16)),n.write_shift(4,t.s.r),n.write_shift(4,t.e.r),n.write_shift(4,t.s.c),n.write_shift(4,t.e.c),n};function _o(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ro(t,n){return(n||Sn(8)).write_shift(8,t,"f")}function cc(t,n){if(n||(n=Sn(8)),!t||t.auto)return n.write_shift(4,0),n.write_shift(4,0),n;null!=t.index?(n.write_shift(1,2),n.write_shift(1,t.index)):null!=t.theme?(n.write_shift(1,6),n.write_shift(1,t.theme)):(n.write_shift(1,5),n.write_shift(1,0));var e=t.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),n.write_shift(2,e),t.rgb&&null==t.theme){var r=t.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),n.write_shift(1,parseInt(r.slice(0,2),16)),n.write_shift(1,parseInt(r.slice(2,4),16)),n.write_shift(1,parseInt(r.slice(4,6),16)),n.write_shift(1,255)}else n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n}var va={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Wc={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Ic(t){return t.map(function(n){return[n>>16&255,n>>8&255,255&n]})}var zl=Or(Ic([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Kc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},xu={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},gh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function y0(t,n){var s,e=function Ie(t){for(var n=[],e=Ei(t),r=0;r!==e.length;++r)null==n[t[e[r]]]&&(n[t[e[r]]]=[]),n[t[e[r]]].push(e[r]);return n}(xu),r=[];r[r.length]=ks,r[r.length]=_r("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":Rs_xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(x){return _r("Default",null,{Extension:x[0],ContentType:x[1]})}));var c=function(x){t[x]&&t[x].length>0&&(r[r.length]=_r("Override",null,{PartName:("/"==(s=t[x][0])[0]?"":"/")+s,ContentType:gh[x][n.bookType]||gh[x].xlsx}))},p=function(x){(t[x]||[]).forEach(function(E){r[r.length]=_r("Override",null,{PartName:("/"==E[0]?"":"/")+E,ContentType:gh[x][n.bookType]||gh[x].xlsx})})},g=function(x){(t[x]||[]).forEach(function(E){r[r.length]=_r("Override",null,{PartName:("/"==E[0]?"":"/")+E,ContentType:e[x][0]})})};return c("workbooks"),p("sheets"),p("charts"),g("themes"),["strs","styles"].forEach(c),["coreprops","extprops","custprops"].forEach(g),g("vba"),g("comments"),g("threadedcomments"),g("drawings"),p("metadata"),g("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ii={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Yc(t){var n=t.lastIndexOf("/");return t.slice(0,n+1)+"_rels/"+t.slice(n+1)+".rels"}function sd(t){var n=[ks,_r("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return Ei(t["!id"]).forEach(function(e){n[n.length]=_r("Relationship",null,t["!id"][e])}),n.length>2&&(n[n.length]="</Relationships>",n[1]=n[1].replace("/>",">")),n.join("")}function ws(t,n,e,r,s,c){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),n<0)for(n=t["!idx"];t["!id"]["rId"+n];++n);if(t["!idx"]=n+1,s.Id="rId"+n,s.Type=r,s.Target=e,c?s.TargetMode=c:[Ii.HLINK,Ii.XPATH,Ii.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+n);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,n}function op(t,n,e){return['  <rdf:Description rdf:about="'+t+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+n+'"/>\n',"  </rdf:Description>\n"].join("")}function ap(t,n){return['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")}function od(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ht_version+"</meta:generator></office:meta></office:document-meta>"}var Aa=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function wu(t,n,e,r,s){null!=s[t]||null==n||""===n||(s[t]=n,n=ss(n),r[r.length]=e?_r(t,n,e):qs(t,n))}function qc(t,n){var e=n||{},r=[ks,_r("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":Rs_xsi})],s={};if(!t&&!e.Props)return r.join("");t&&(null!=t.CreatedDate&&wu("dcterms:created","string"==typeof t.CreatedDate?t.CreatedDate:Do(t.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),null!=t.ModifiedDate&&wu("dcterms:modified","string"==typeof t.ModifiedDate?t.ModifiedDate:Do(t.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var c=0;c!=Aa.length;++c){var p=Aa[c],g=e.Props&&null!=e.Props[p[1]]?e.Props[p[1]]:t?t[p[1]]:null;!0===g?g="1":!1===g?g="0":"number"==typeof g&&(g=String(g)),null!=g&&wu(p[0],g,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var dc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],af=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lp(t){var n=[],e=_r;return t||(t={}),t.Application="SheetJS",n[n.length]=ks,n[n.length]=_r("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":Rs_vt}),dc.forEach(function(r){if(void 0!==t[r[1]]){var s;switch(r[2]){case"string":s=ss(String(t[r[1]]));break;case"bool":s=t[r[1]]?"true":"false"}void 0!==s&&(n[n.length]=e(r[0],s))}}),n[n.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=e("TitlesOfParts",e("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+ss(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}function cp(t){var n=[ks,_r("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":Rs_vt})];if(!t)return n.join("");var e=1;return Ei(t).forEach(function(s){++e,n[n.length]=_r("property",function mu(t,n){switch(typeof t){case"string":var e=_r("vt:lpwstr",ss(t));return n&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return _r((0|t)==t?"vt:i4":"vt:r8",ss(String(t)));case"boolean":return _r("vt:bool",t?"true":"false")}if(t instanceof Date)return _r("vt:filetime",Do(t));throw new Error("Unable to serialize "+t)}(t[s],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:ss(s)})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var ad={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Eu(t,n){var e=Sn(4),r=Sn(4);switch(e.write_shift(4,80==t?31:t),t){case 3:r.write_shift(-4,n);break;case 5:(r=Sn(8)).write_shift(8,n,"f");break;case 11:r.write_shift(4,n?1:0);break;case 64:r=function R(t){var e=("string"==typeof t?new Date(Date.parse(t)):t).getTime()/1e3+11644473600,r=e%Math.pow(2,32),s=(e-r)/Math.pow(2,32);s*=1e7;var c=(r*=1e7)/Math.pow(2,32)|0;c>0&&(r%=Math.pow(2,32),s+=c);var p=Sn(8);return p.write_shift(4,r),p.write_shift(4,s),p}(n);break;case 31:case 80:for((r=Sn(4+2*(n.length+1)+(n.length%2?0:2))).write_shift(4,n.length+1),r.write_shift(0,n,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}return le([e,r])}var ld=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Xc(t){switch(typeof t){case"boolean":return 11;case"number":return(0|t)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64}return-1}function Il(t,n,e){var r=Sn(8),s=[],c=[],p=8,g=0,x=Sn(8),E=Sn(8);if(x.write_shift(4,2),x.write_shift(4,1200),E.write_shift(4,1),c.push(x),s.push(E),p+=8+x.length,!n){(E=Sn(8)).write_shift(4,0),s.unshift(E);var D=[Sn(4)];for(D[0].write_shift(4,t.length),g=0;g<t.length;++g){var F=t[g][0];for((x=Sn(8+2*(F.length+1)+(F.length%2?0:2))).write_shift(4,g+2),x.write_shift(4,F.length+1),x.write_shift(0,F,"dbcs");x.l!=x.length;)x.write_shift(1,0);D.push(x)}x=le(D),c.unshift(x),p+=8+x.length}for(g=0;g<t.length;++g)if((!n||n[t[g][0]])&&!(ld.indexOf(t[g][0])>-1||af.indexOf(t[g][0])>-1)&&null!=t[g][1]){var B=t[g][1],K=0;if(n){var ee=e[K=+n[t[g][0]]];if("version"==ee.p&&"string"==typeof B){var W=B.split(".");B=(+W[0]<<16)+(+W[1]||0)}x=Eu(ee.t,B)}else{var oe=Xc(B);-1==oe&&(oe=31,B=String(B)),x=Eu(oe,B)}c.push(x),(E=Sn(8)).write_shift(4,n?K:2+g),s.push(E),p+=8+x.length}var He=8*(c.length+1);for(g=0;g<c.length;++g)s[g].write_shift(4,He),He+=c[g].length;return r.write_shift(4,p),r.write_shift(4,c.length),le([r].concat(s).concat(c))}function up(t,n,e,r,s,c){var p=Sn(s?68:48),g=[p];p.write_shift(2,65534),p.write_shift(2,0),p.write_shift(4,842412599),p.write_shift(16,ti.utils.consts.HEADER_CLSID,"hex"),p.write_shift(4,s?2:1),p.write_shift(16,n,"hex"),p.write_shift(4,s?68:48);var x=Il(t,e,r);if(g.push(x),s){var E=Il(s,null,null);p.write_shift(16,c,"hex"),p.write_shift(4,68+x.length),g.push(E)}return le(g)}function as(t,n){return n||(n=Sn(2)),n.write_shift(2,+!!t),n}function Ci(t){return t.read_shift(2,"u")}function fl(t,n){return n||(n=Sn(2)),n.write_shift(2,t),n}function Kv(t,n,e){return e||(e=Sn(2)),e.write_shift(1,"e"==n?+t:+!!t),e.write_shift(1,"e"==n?1:0),e}function ls(t,n,e){var r=t.read_shift(e&&e.biff>=12?2:1),s="sbcs-cont",c=vn;e&&e.biff>=8&&(vn=1200),e&&8!=e.biff?12==e.biff&&(s="wstr"):t.read_shift(1)&&(s="dbcs-cont"),e.biff>=2&&e.biff<=5&&(s="cpstr");var g=r?t.read_shift(r,s):"";return vn=c,g}function dp(t){var n=t.t||"",r=Sn(3);r.write_shift(2,n.length),r.write_shift(1,1);var s=Sn(2*n.length);return s.write_shift(2*n.length,n,"utf16le"),le([r,s])}function df(t,n,e){return e||(e=Sn(3+2*t.length)),e.write_shift(2,t.length),e.write_shift(1,1),e.write_shift(31,t,"utf16le"),e}function Su(t,n){n||(n=Sn(6+2*t.length)),n.write_shift(4,1+t.length);for(var e=0;e<t.length;++e)n.write_shift(2,t.charCodeAt(e));return n.write_shift(2,0),n}function hp(t){var n=Sn(512),e=0,r=t.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var s=r.indexOf("#"),c=s>-1?31:23;switch(r.charAt(0)){case"#":c=28;break;case".":c&=-3}n.write_shift(4,2),n.write_shift(4,c);var p=[8,6815827,6619237,4849780,83];for(e=0;e<p.length;++e)n.write_shift(4,p[e]);if(28==c)Su(r=r.slice(1),n);else if(2&c){for(p="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<p.length;++e)n.write_shift(1,parseInt(p[e],16));var g=s>-1?r.slice(0,s):r;for(n.write_shift(4,2*(g.length+1)),e=0;e<g.length;++e)n.write_shift(2,g.charCodeAt(e));n.write_shift(2,0),8&c&&Su(s>-1?r.slice(s+1):"",n)}else{for(p="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<p.length;++e)n.write_shift(1,parseInt(p[e],16));for(var x=0;"../"==r.slice(3*x,3*x+3)||"..\\"==r.slice(3*x,3*x+3);)++x;for(n.write_shift(2,x),n.write_shift(4,r.length-3*x+1),e=0;e<r.length-3*x;++e)n.write_shift(1,255&r.charCodeAt(e+3*x));for(n.write_shift(1,0),n.write_shift(2,65535),n.write_shift(2,57005),e=0;e<6;++e)n.write_shift(4,0)}return n.slice(0,n.l)}function Nd(t,n,e,r){return r||(r=Sn(6)),r.write_shift(2,t),r.write_shift(2,n),r.write_shift(2,e||0),r}function _1(t,n,e){var r=e.biff>8?4:2;return[t.read_shift(r),t.read_shift(r,"i"),t.read_shift(r,"i")]}function cd(t){var n=t.read_shift(2),e=t.read_shift(2);return{s:{c:t.read_shift(2),r:n},e:{c:t.read_shift(2),r:e}}}function Ng(t,n){return n||(n=Sn(8)),n.write_shift(2,t.s.r),n.write_shift(2,t.e.r),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c),n}function gf(t,n,e){var r=1536,s=16;switch(e.bookType){case"biff8":case"xla":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;default:throw new Error("unsupported BIFF version")}var c=Sn(s);return c.write_shift(2,r),c.write_shift(2,n),s>4&&c.write_shift(2,29282),s>6&&c.write_shift(2,1997),s>8&&(c.write_shift(2,49161),c.write_shift(2,1),c.write_shift(2,1798),c.write_shift(2,0)),c}function b0(t,n){var e=!n||n.biff>=8?2:1,r=Sn(8+e*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),n.biff>=8&&r.write_shift(1,1),r.write_shift(e*t.name.length,t.name,n.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function _p(t,n,e,r){var s=e&&5==e.biff;r||(r=Sn(s?3+n.length:5+2*n.length)),r.write_shift(2,t),r.write_shift(s?1:2,n.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*n.length,n,s?"sbcs":"utf16le");var c=r.length>r.l?r.slice(0,r.l):r;return null==c.l&&(c.l=c.length),c}function Nw(t,n,e,r){var s=e&&5==e.biff;r||(r=Sn(s?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,n<<4));var c=0;return t.numFmtId>0&&s&&(c|=1024),r.write_shift(4,c),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function O0(t){var n=Sn(24),e=Hs(t[0]);n.write_shift(2,e.r),n.write_shift(2,e.r),n.write_shift(2,e.c),n.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)n.write_shift(1,parseInt(r[s],16));return le([n,hp(t[1])])}function P0(t){var n=t[1].Tooltip,e=Sn(10+2*(n.length+1));e.write_shift(2,2048);var r=Hs(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var s=0;s<n.length;++s)e.write_shift(2,n.charCodeAt(s));return e.write_shift(2,0),e}var Ch=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=De({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(g,x){var E=x||{};E.dateNF||(E.dateNF="yyyymmdd");var D=I(function e(g,x){var E=[],D=Ut(1);switch(x.type){case"base64":D=Nn(ve(g));break;case"binary":D=Nn(g);break;case"buffer":case"array":D=g}Zs(D,0);var F=D.read_shift(1),B=!!(136&F),K=!1,ee=!1;switch(F){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:K=!0,B=!0;break;case 140:ee=!0;break;default:throw new Error("DBF Unsupported Version: "+F.toString(16))}var W=0,oe=521;2==F&&(W=D.read_shift(2)),D.l+=3,2!=F&&(W=D.read_shift(4)),W>1048576&&(W=1e6),2!=F&&(oe=D.read_shift(2));var He=D.read_shift(2),We=x.codepage||1252;2!=F&&(D.l+=16,D.read_shift(1),0!==D[D.l]&&(We=t[D[D.l]]),D.l+=1,D.l+=2),ee&&(D.l+=36);for(var Le=[],Bt={},dn=Math.min(D.length,2==F?521:oe-10-(K?264:0)),In=ee?32:11;D.l<dn&&13!=D[D.l];)switch(Bt={},Bt.name=Dt.utils.decode(We,D.slice(D.l,D.l+In)).replace(/[\u0000\r\n].*$/g,""),D.l+=In,Bt.type=String.fromCharCode(D.read_shift(1)),2!=F&&!ee&&(Bt.offset=D.read_shift(4)),Bt.len=D.read_shift(1),2==F&&(Bt.offset=D.read_shift(2)),Bt.dec=D.read_shift(1),Bt.name.length&&Le.push(Bt),2!=F&&(D.l+=ee?13:14),Bt.type){case"B":(!K||8!=Bt.len)&&x.WTF&&console.log("Skipping "+Bt.name+":"+Bt.type);break;case"G":case"P":x.WTF&&console.log("Skipping "+Bt.name+":"+Bt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Bt.type)}if(13!==D[D.l]&&(D.l=oe-1),13!==D.read_shift(1))throw new Error("DBF Terminator not found "+D.l+" "+D[D.l]);D.l=oe;var vt=0,ln=0;for(E[0]=[],ln=0;ln!=Le.length;++ln)E[0][ln]=Le[ln].name;for(;W-- >0;)if(42!==D[D.l])for(++D.l,E[++vt]=[],ln=0,ln=0;ln!=Le.length;++ln){var Qt=D.slice(D.l,D.l+Le[ln].len);D.l+=Le[ln].len,Zs(Qt,0);var Bn=Dt.utils.decode(We,Qt);switch(Le[ln].type){case"C":Bn.trim().length&&(E[vt][ln]=Bn.replace(/\s+$/,""));break;case"D":E[vt][ln]=8===Bn.length?new Date(+Bn.slice(0,4),+Bn.slice(4,6)-1,+Bn.slice(6,8)):Bn;break;case"F":E[vt][ln]=parseFloat(Bn.trim());break;case"+":case"I":E[vt][ln]=ee?2147483648^Qt.read_shift(-4,"i"):Qt.read_shift(4,"i");break;case"L":switch(Bn.trim().toUpperCase()){case"Y":case"T":E[vt][ln]=!0;break;case"N":case"F":E[vt][ln]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Bn+"|")}break;case"M":if(!B)throw new Error("DBF Unexpected MEMO for type "+F.toString(16));E[vt][ln]="##MEMO##"+(ee?parseInt(Bn.trim(),10):Qt.read_shift(4));break;case"N":(Bn=Bn.replace(/\u0000/g,"").trim())&&"."!=Bn&&(E[vt][ln]=+Bn||0);break;case"@":E[vt][ln]=new Date(Qt.read_shift(-8,"f")-621356832e5);break;case"T":E[vt][ln]=new Date(864e5*(Qt.read_shift(4)-2440588)+Qt.read_shift(4));break;case"Y":E[vt][ln]=Qt.read_shift(4,"i")/1e4+Qt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":E[vt][ln]=-Qt.read_shift(-8,"f");break;case"B":if(K&&8==Le[ln].len){E[vt][ln]=Qt.read_shift(8,"f");break}case"G":case"P":Qt.l+=Le[ln].len;break;case"0":if("_NullFlags"===Le[ln].name)break;default:throw new Error("DBF Unsupported data type "+Le[ln].type)}}else D.l+=He;if(2!=F&&D.l<D.length&&26!=D[D.l++])throw new Error("DBF EOF Marker missing "+(D.l-1)+" of "+D.length+" "+D[D.l-1].toString(16));return x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),x.DBF=Le,E}(g,E),E);return D["!cols"]=E.DBF.map(function(F){return{wch:F.len,DBF:F}}),delete E.DBF,D}var c={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function s(g,x){try{return k(r(g,x),x)}catch(E){if(x&&x.WTF)throw E}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function p(g,x){var E=x||{};if(+E.codepage>=0&&Y(+E.codepage),"string"==E.type)throw new Error("Cannot write DBF to JS string");var D=po(),F=pv(g,{header:1,raw:!0,cellDates:!0}),B=F[0],K=F.slice(1),ee=g["!cols"]||[],W=0,oe=0,He=0,We=1;for(W=0;W<B.length;++W)if(((ee[W]||{}).DBF||{}).name)B[W]=ee[W].DBF.name,++He;else if(null!=B[W]){if(++He,"number"==typeof B[W]&&(B[W]=B[W].toString(10)),"string"!=typeof B[W])throw new Error("DBF Invalid column name "+B[W]+" |"+typeof B[W]+"|");if(B.indexOf(B[W])!==W)for(oe=0;oe<1024;++oe)if(-1==B.indexOf(B[W]+"_"+oe)){B[W]+="_"+oe;break}}var Le=$i(g["!ref"]),Bt=[],dn=[],In=[];for(W=0;W<=Le.e.c-Le.s.c;++W){var vt="",ln="",Qt=0,Bn=[];for(oe=0;oe<K.length;++oe)null!=K[oe][W]&&Bn.push(K[oe][W]);if(0!=Bn.length&&null!=B[W]){for(oe=0;oe<Bn.length;++oe){switch(typeof Bn[oe]){case"number":ln="B";break;case"string":default:ln="C";break;case"boolean":ln="L";break;case"object":ln=Bn[oe]instanceof Date?"D":"C"}Qt=Math.max(Qt,String(Bn[oe]).length),vt=vt&&vt!=ln?"C":ln}Qt>250&&(Qt=250),"C"==(ln=((ee[W]||{}).DBF||{}).type)&&ee[W].DBF.len>Qt&&(Qt=ee[W].DBF.len),"B"==vt&&"N"==ln&&(vt="N",In[W]=ee[W].DBF.dec,Qt=ee[W].DBF.len),dn[W]="C"==vt||"N"==ln?Qt:c[vt]||0,We+=dn[W],Bt[W]=vt}else Bt[W]="?"}var $n=D.next(32);for($n.write_shift(4,318902576),$n.write_shift(4,K.length),$n.write_shift(2,296+32*He),$n.write_shift(2,We),W=0;W<4;++W)$n.write_shift(4,0);for($n.write_shift(4,0|(+n[Dn]||3)<<8),W=0,oe=0;W<B.length;++W)if(null!=B[W]){var hn=D.next(32),Ir=(B[W].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);hn.write_shift(1,Ir,"sbcs"),hn.write_shift(1,"?"==Bt[W]?"C":Bt[W],"sbcs"),hn.write_shift(4,oe),hn.write_shift(1,dn[W]||c[Bt[W]]||0),hn.write_shift(1,In[W]||0),hn.write_shift(1,2),hn.write_shift(4,0),hn.write_shift(1,0),hn.write_shift(4,0),hn.write_shift(4,0),oe+=dn[W]||c[Bt[W]]||0}var oi=D.next(264);for(oi.write_shift(4,13),W=0;W<65;++W)oi.write_shift(4,0);for(W=0;W<K.length;++W){var zr=D.next(We);for(zr.write_shift(1,0),oe=0;oe<B.length;++oe)if(null!=B[oe])switch(Bt[oe]){case"L":zr.write_shift(1,null==K[W][oe]?63:K[W][oe]?84:70);break;case"B":zr.write_shift(8,K[W][oe]||0,"f");break;case"N":var cr="0";for("number"==typeof K[W][oe]&&(cr=K[W][oe].toFixed(In[oe]||0)),He=0;He<dn[oe]-cr.length;++He)zr.write_shift(1,32);zr.write_shift(1,cr,"sbcs");break;case"D":K[W][oe]?(zr.write_shift(4,("0000"+K[W][oe].getFullYear()).slice(-4),"sbcs"),zr.write_shift(2,("00"+(K[W][oe].getMonth()+1)).slice(-2),"sbcs"),zr.write_shift(2,("00"+K[W][oe].getDate()).slice(-2),"sbcs")):zr.write_shift(8,"00000000","sbcs");break;case"C":var ar=String(null!=K[W][oe]?K[W][oe]:"").slice(0,dn[oe]);for(zr.write_shift(1,ar,"sbcs"),He=0;He<dn[oe]-ar.length;++He)zr.write_shift(1,32)}}return D.next(1).write_shift(1,26),D.end()}}}(),zg=function(){var t={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1bN("+Ei(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(B,K){var ee=t[K];return"number"==typeof ee?ot(ee):ee},r=function(B,K,ee){var W=K.charCodeAt(0)-32<<4|ee.charCodeAt(0)-48;return 59==W?B:ot(W)};function c(B,K){var $n,ee=B.split(/[\n\r]+/),W=-1,oe=-1,He=0,We=0,Le=[],Bt=[],dn=null,In={},vt=[],ln=[],Qt=[],Bn=0;for(+K.codepage>=0&&Y(+K.codepage);He!==ee.length;++He){Bn=0;var zr,hn=ee[He].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(n,e),Ir=hn.replace(/;;/g,"\0").split(";").map(function(Nt){return Nt.replace(/\u0000/g,";")});if(hn.length>0)switch(Ir[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==Ir[1].charAt(0)&&Bt.push(hn.slice(3).replace(/;;/g,";"));break;case"C":var cr=!1,ar=!1,Ur=!1,gr=!1,ci=-1,or=-1;for(We=1;We<Ir.length;++We)switch(Ir[We].charAt(0)){case"A":case"G":break;case"X":oe=parseInt(Ir[We].slice(1))-1,ar=!0;break;case"Y":for(W=parseInt(Ir[We].slice(1))-1,ar||(oe=0),$n=Le.length;$n<=W;++$n)Le[$n]=[];break;case"K":'"'===(zr=Ir[We].slice(1)).charAt(0)?zr=zr.slice(1,zr.length-1):"TRUE"===zr?zr=!0:"FALSE"===zr?zr=!1:isNaN(As(zr))?isNaN(Io(zr).getDate())||(zr=Ti(zr)):(zr=As(zr),null!==dn&&bo(dn)&&(zr=ji(zr))),cr=!0;break;case"E":gr=!0;var wt=Lp(Ir[We].slice(1),{r:W,c:oe});Le[W][oe]=[Le[W][oe],wt];break;case"S":Ur=!0,Le[W][oe]=[Le[W][oe],"S5S"];break;case"R":ci=parseInt(Ir[We].slice(1))-1;break;case"C":or=parseInt(Ir[We].slice(1))-1;break;default:if(K&&K.WTF)throw new Error("SYLK bad record "+hn)}if(cr&&(Le[W][oe]&&2==Le[W][oe].length?Le[W][oe][0]=zr:Le[W][oe]=zr,dn=null),Ur){if(gr)throw new Error("SYLK shared formula cannot have own formula");var Tn=ci>-1&&Le[ci][or];if(!Tn||!Tn[1])throw new Error("SYLK shared formula cannot find base");Le[W][oe][1]=nu(Tn[1],{r:W-ci,c:oe-or})}break;case"F":var Mt=0;for(We=1;We<Ir.length;++We)switch(Ir[We].charAt(0)){case"X":oe=parseInt(Ir[We].slice(1))-1,++Mt;break;case"Y":for(W=parseInt(Ir[We].slice(1))-1,$n=Le.length;$n<=W;++$n)Le[$n]=[];break;case"M":Bn=parseInt(Ir[We].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":dn=Bt[parseInt(Ir[We].slice(1))];break;case"W":for(Qt=Ir[We].slice(1).split(" "),$n=parseInt(Qt[0],10);$n<=parseInt(Qt[1],10);++$n)Bn=parseInt(Qt[2],10),ln[$n-1]=0===Bn?{hidden:!0}:{wch:Bn},kh(ln[$n-1]);break;case"C":ln[oe=parseInt(Ir[We].slice(1))-1]||(ln[oe]={});break;case"R":vt[W=parseInt(Ir[We].slice(1))-1]||(vt[W]={}),Bn>0?(vt[W].hpt=Bn,vt[W].hpx=Oh(Bn)):0===Bn&&(vt[W].hidden=!0);break;default:if(K&&K.WTF)throw new Error("SYLK bad record "+hn)}Mt<1&&(dn=null);break;default:if(K&&K.WTF)throw new Error("SYLK bad record "+hn)}}return vt.length>0&&(In["!rows"]=vt),ln.length>0&&(In["!cols"]=ln),K&&K.sheetRows&&(Le=Le.slice(0,K.sheetRows)),[Le,In]}function p(B,K){var ee=function s(B,K){switch(K.type){case"base64":return c(ve(B),K);case"binary":return c(B,K);case"buffer":return c(tt&&Buffer.isBuffer(B)?B.toString("binary"):ut(B),K);case"array":return c(Wn(B),K)}throw new Error("Unrecognized type "+K.type)}(B,K),oe=ee[1],He=I(ee[0],K);return Ei(oe).forEach(function(We){He[We]=oe[We]}),He}function x(B,K,ee,W){var oe="C;Y"+(ee+1)+";X"+(W+1)+";K";switch(B.t){case"n":oe+=B.v||0,B.f&&!B.F&&(oe+=";E"+pm(B.f,{r:ee,c:W}));break;case"b":oe+=B.v?"TRUE":"FALSE";break;case"e":oe+=B.w||B.v;break;case"d":oe+='"'+(B.w||B.v)+'"';break;case"s":oe+='"'+B.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return oe}return t["|"]=254,{to_workbook:function g(B,K){return k(p(B,K),K)},to_sheet:p,from_sheet:function F(B,K){var He,ee=["ID;PWXL;N;E"],W=[],oe=$i(B["!ref"]),We=Array.isArray(B),Le="\r\n";ee.push("P;PGeneral"),ee.push("F;P0;DG0G8;M255"),B["!cols"]&&function E(B,K){K.forEach(function(ee,W){var oe="F;W"+(W+1)+" "+(W+1)+" ";ee.hidden?oe+="0":("number"==typeof ee.width&&!ee.wpx&&(ee.wpx=Ih(ee.width)),"number"==typeof ee.wpx&&!ee.wch&&(ee.wch=kp(ee.wpx)),"number"==typeof ee.wch&&(oe+=Math.round(ee.wch)))," "!=oe.charAt(oe.length-1)&&B.push(oe)})}(ee,B["!cols"]),B["!rows"]&&function D(B,K){K.forEach(function(ee,W){var oe="F;";ee.hidden?oe+="M0;":ee.hpt?oe+="M"+20*ee.hpt+";":ee.hpx&&(oe+="M"+20*Gd(ee.hpx)+";"),oe.length>2&&B.push(oe+"R"+(W+1))})}(ee,B["!rows"]),ee.push("B;Y"+(oe.e.r-oe.s.r+1)+";X"+(oe.e.c-oe.s.c+1)+";D"+[oe.s.c,oe.s.r,oe.e.c,oe.e.r].join(" "));for(var Bt=oe.s.r;Bt<=oe.e.r;++Bt)for(var dn=oe.s.c;dn<=oe.e.c;++dn){var In=Kr({r:Bt,c:dn});(He=We?(B[Bt]||[])[dn]:B[In])&&(null!=He.v||He.f&&!He.F)&&W.push(x(He,0,Bt,dn))}return ee.join(Le)+Le+W.join(Le)+Le+"E"+Le}}}(),wp=function(){function n(c,p){for(var g=c.split("\n"),x=-1,E=-1,D=0,F=[];D!==g.length;++D)if("BOT"!==g[D].trim()){if(!(x<0)){for(var B=g[D].trim().split(","),K=B[0],ee=B[1],W=g[++D]||"";1&(W.match(/["]/g)||[]).length&&D<g.length-1;)W+="\n"+g[++D];switch(W=W.trim(),+K){case-1:if("BOT"===W){F[++x]=[],E=0;continue}if("EOD"!==W)throw new Error("Unrecognized DIF special command "+W);break;case 0:F[x][E]="TRUE"===W||"FALSE"!==W&&(isNaN(As(ee))?isNaN(Io(ee).getDate())?ee:Ti(ee):As(ee)),++E;break;case 1:(W=(W=W.slice(1,W.length-1)).replace(/""/g,'"'))&&W.match(/^=".*"$/)&&(W=W.slice(2,-1)),F[x][E++]=""!==W?W:null}if("EOD"===W)break}}else F[++x]=[],E=0;return p&&p.sheetRows&&(F=F.slice(0,p.sheetRows)),F}function e(c,p){return I(function t(c,p){switch(p.type){case"base64":return n(ve(c),p);case"binary":return n(c,p);case"buffer":return n(tt&&Buffer.isBuffer(c)?c.toString("binary"):ut(c),p);case"array":return n(Wn(c),p)}throw new Error("Unrecognized type "+p.type)}(c,p),p)}return{to_workbook:function r(c,p){return k(e(c,p),p)},to_sheet:e,from_sheet:function(){var c=function(x,E,D,F,B){x.push(E),x.push(D+","+F),x.push('"'+B.replace(/"/g,'""')+'"')},p=function(x,E,D,F){x.push(E+","+D),x.push(1==E?'"'+F.replace(/"/g,'""')+'"':F)};return function(x){var F,E=[],D=$i(x["!ref"]),B=Array.isArray(x);c(E,"TABLE",0,1,"sheetjs"),c(E,"VECTORS",0,D.e.r-D.s.r+1,""),c(E,"TUPLES",0,D.e.c-D.s.c+1,""),c(E,"DATA",0,0,"");for(var K=D.s.r;K<=D.e.r;++K){p(E,-1,0,"BOT");for(var ee=D.s.c;ee<=D.e.c;++ee){var W=Kr({r:K,c:ee});if(F=B?(x[K]||[])[ee]:x[W])switch(F.t){case"n":var oe=F.w;!oe&&null!=F.v&&(oe=F.v),null==oe?p(E,1,0,F.f&&!F.F?"="+F.f:""):p(E,0,oe,"V");break;case"b":p(E,0,F.v?1:0,F.v?"TRUE":"FALSE");break;case"s":p(E,1,0,isNaN(F.v)?F.v:'="'+F.v+'"');break;case"d":F.w||(F.w=Ss(F.z||ai[14],wn(Ti(F.v)))),p(E,0,F.w,"V");break;default:p(E,1,0,"")}else p(E,1,0,"")}}return p(E,-1,0,"EOD"),E.join("\r\n")}}()}}(),Wg=function(){function t(F){return F.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function n(F){return F.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(F,B){return I(function e(F,B){for(var K=F.split("\n"),ee=-1,W=-1,oe=0,He=[];oe!==K.length;++oe){var We=K[oe].trim().split(":");if("cell"===We[0]){var Le=Hs(We[1]);if(He.length<=Le.r)for(ee=He.length;ee<=Le.r;++ee)He[ee]||(He[ee]=[]);switch(ee=Le.r,W=Le.c,We[2]){case"t":He[ee][W]=t(We[3]);break;case"v":He[ee][W]=+We[3];break;case"vtf":var Bt=We[We.length-1];case"vtc":He[ee][W]="nl"===We[3]?!!+We[4]:+We[4],"vtf"==We[2]&&(He[ee][W]=[He[ee][W],Bt])}}}return B&&B.sheetRows&&(He=He.slice(0,B.sheetRows)),He}(F,B),B)}var c=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),p=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",g=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),x="--SocialCalcSpreadsheetControlSave--";function E(F){if(!F||!F["!ref"])return"";for(var ee,B=[],K=[],W="",oe=Vo(F["!ref"]),He=Array.isArray(F),We=oe.s.r;We<=oe.e.r;++We)for(var Le=oe.s.c;Le<=oe.e.c;++Le)if(W=Kr({r:We,c:Le}),(ee=He?(F[We]||[])[Le]:F[W])&&null!=ee.v&&"z"!==ee.t){switch(K=["cell",W,"t"],ee.t){case"s":case"str":K.push(n(ee.v));break;case"n":ee.f?(K[2]="vtf",K[3]="n",K[4]=ee.v,K[5]=n(ee.f)):(K[2]="v",K[3]=ee.v);break;case"b":K[2]="vt"+(ee.f?"f":"c"),K[3]="nl",K[4]=ee.v?"1":"0",K[5]=n(ee.f||(ee.v?"TRUE":"FALSE"));break;case"d":var Bt=wn(Ti(ee.v));K[2]="vtc",K[3]="nd",K[4]=""+Bt,K[5]=ee.w||Ss(ee.z||ai[14],Bt);break;case"e":continue}B.push(K.join(":"))}return B.push("sheet:c:"+(oe.e.c-oe.s.c+1)+":r:"+(oe.e.r-oe.s.r+1)+":tvf:1"),B.push("valueformat:1:text-wiki"),B.join("\n")}return{to_workbook:function s(F,B){return k(r(F,B),B)},to_sheet:r,from_sheet:function D(F){return[c,p,g,p,E(F),x].join("\n")}}}(),xf=function(){function t(D,F,B,K,ee){ee.raw?F[B][K]=D:""===D||(F[B][K]="TRUE"===D||"FALSE"!==D&&(isNaN(As(D))?isNaN(Io(D).getDate())?D:Ti(D):As(D)))}var e={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(D){for(var F={},B=!1,K=0,ee=0;K<D.length;++K)34==(ee=D.charCodeAt(K))?B=!B:!B&&ee in e&&(F[ee]=(F[ee]||0)+1);for(K in ee=[],F)Object.prototype.hasOwnProperty.call(F,K)&&ee.push([F[K],K]);if(!ee.length)for(K in F=r)Object.prototype.hasOwnProperty.call(F,K)&&ee.push([F[K],K]);return ee.sort(function(W,oe){return W[0]-oe[0]||r[W[1]]-r[oe[1]]}),e[ee.pop()[1]]||44}function p(D,F){return!F||!F.PRN||F.FS||"sep="==D.slice(0,4)||D.indexOf("\t")>=0||D.indexOf(",")>=0||D.indexOf(";")>=0?function c(D,F){var B=F||{},K="",ee=B.dense?[]:{},W={s:{c:0,r:0},e:{c:0,r:0}};"sep="==D.slice(0,4)?13==D.charCodeAt(5)&&10==D.charCodeAt(6)?(K=D.charAt(4),D=D.slice(7)):13==D.charCodeAt(5)||10==D.charCodeAt(5)?(K=D.charAt(4),D=D.slice(6)):K=s(D.slice(0,1024)):K=B&&B.FS?B.FS:s(D.slice(0,1024));var oe=0,He=0,We=0,Le=0,Bt=0,dn=K.charCodeAt(0),In=!1,vt=0,ln=D.charCodeAt(0);D=D.replace(/\r\n/gm,"\n");var Qt=null!=B.dateNF?function Qa(t){var n="number"==typeof t?ai[t]:t;return n=n.replace(Co,"(\\d+)"),new RegExp("^"+n+"$")}(B.dateNF):null;function Bn(){var $n=D.slice(Le,Bt),hn={};if('"'==$n.charAt(0)&&'"'==$n.charAt($n.length-1)&&($n=$n.slice(1,-1).replace(/""/g,'"')),0===$n.length)hn.t="z";else if(B.raw)hn.t="s",hn.v=$n;else if(0===$n.trim().length)hn.t="s",hn.v=$n;else if(61==$n.charCodeAt(0))34==$n.charCodeAt(1)&&34==$n.charCodeAt($n.length-1)?(hn.t="s",hn.v=$n.slice(2,-1).replace(/""/g,'"')):function l_(t){return 1!=t.length}($n)?(hn.t="n",hn.f=$n.slice(1)):(hn.t="s",hn.v=$n);else if("TRUE"==$n)hn.t="b",hn.v=!0;else if("FALSE"==$n)hn.t="b",hn.v=!1;else if(isNaN(We=As($n)))if(!isNaN(Io($n).getDate())||Qt&&$n.match(Qt)){hn.z=B.dateNF||ai[14];var Ir=0;Qt&&$n.match(Qt)&&($n=function is(t,n,e){var r=-1,s=-1,c=-1,p=-1,g=-1,x=-1;(n.match(Co)||[]).forEach(function(F,B){var K=parseInt(e[B+1],10);switch(F.toLowerCase().charAt(0)){case"y":r=K;break;case"d":c=K;break;case"h":p=K;break;case"s":x=K;break;case"m":p>=0?g=K:s=K}}),x>=0&&-1==g&&s>=0&&(g=s,s=-1);var E=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(c>=1?c:1)).slice(-2);7==E.length&&(E="0"+E),8==E.length&&(E="20"+E);var D=("00"+(p>=0?p:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(x>=0?x:0)).slice(-2);return-1==p&&-1==g&&-1==x?E:-1==r&&-1==s&&-1==c?D:E+"T"+D}(0,B.dateNF,$n.match(Qt)||[]),Ir=1),B.cellDates?(hn.t="d",hn.v=Ti($n,Ir)):(hn.t="n",hn.v=wn(Ti($n,Ir))),!1!==B.cellText&&(hn.w=Ss(hn.z,hn.v instanceof Date?wn(hn.v):hn.v)),B.cellNF||delete hn.z}else hn.t="s",hn.v=$n;else hn.t="n",!1!==B.cellText&&(hn.w=$n),hn.v=We;if("z"==hn.t||(B.dense?(ee[oe]||(ee[oe]=[]),ee[oe][He]=hn):ee[Kr({c:He,r:oe})]=hn),ln=D.charCodeAt(Le=Bt+1),W.e.c<He&&(W.e.c=He),W.e.r<oe&&(W.e.r=oe),vt==dn)++He;else if(He=0,++oe,B.sheetRows&&B.sheetRows<=oe)return!0}e:for(;Bt<D.length;++Bt)switch(vt=D.charCodeAt(Bt)){case 34:34===ln&&(In=!In);break;case dn:case 10:case 13:if(!In&&Bn())break e}return Bt-Le>0&&Bn(),ee["!ref"]=wi(W),ee}(D,F):I(function n(D,F){var B=F||{},K=[];if(!D||0===D.length)return K;for(var ee=D.split(/[\r\n]/),W=ee.length-1;W>=0&&0===ee[W].length;)--W;for(var oe=10,He=0,We=0;We<=W;++We)-1==(He=ee[We].indexOf(" "))?He=ee[We].length:He++,oe=Math.max(oe,He);for(We=0;We<=W;++We){K[We]=[];var Le=0;for(t(ee[We].slice(0,oe).trim(),K,We,Le,B),Le=1;Le<=(ee[We].length-oe)/10+1;++Le)t(ee[We].slice(oe+10*(Le-1),oe+10*Le).trim(),K,We,Le,B)}return B.sheetRows&&(K=K.slice(0,B.sheetRows)),K}(D,F),F)}function g(D,F){var B="",K="string"==F.type?[0,0,0,0]:function Gx(t,n){var e="";switch((n||{}).type||"base64"){case"buffer":case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":e=ve(t.slice(0,12));break;case"binary":e=t;break;default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}(D,F);switch(F.type){case"base64":B=ve(D);break;case"binary":case"string":B=D;break;case"buffer":B=65001==F.codepage?D.toString("utf8"):tt&&Buffer.isBuffer(D)?D.toString("binary"):ut(D);break;case"array":B=Wn(D);break;default:throw new Error("Unrecognized type "+F.type)}return 239==K[0]&&187==K[1]&&191==K[2]?B=us(B.slice(3)):"string"!=F.type&&"buffer"!=F.type&&65001==F.codepage&&(B=us(B)),"socialcalc:version:"==B.slice(0,19)?Wg.to_sheet("string"==F.type?B:us(B),F):p(B,F)}return{to_workbook:function x(D,F){return k(g(D,F),F)},to_sheet:g,from_sheet:function E(D){for(var K,F=[],B=$i(D["!ref"]),ee=Array.isArray(D),W=B.s.r;W<=B.e.r;++W){for(var oe=[],He=B.s.c;He<=B.e.c;++He){var We=Kr({r:W,c:He});if((K=ee?(D[W]||[])[He]:D[We])&&null!=K.v){for(var Le=(K.w||(Ws(K),K.w)||"").slice(0,10);Le.length<10;)Le+=" ";oe.push(Le+(0===He?" ":""))}else oe.push("          ")}F.push(oe.join(""))}return F.join("\n")}}}(),Iu=function(){function t(wt,Tn,Mt){if(wt){Zs(wt,wt.l||0);for(var Nt=Mt.Enum||ci;wt.l<wt.length;){var Jn=wt.read_shift(2),Dr=Nt[Jn]||Nt[65535],Sr=wt.read_shift(2),xr=wt.l+Sr,ur=Dr.f&&Dr.f(wt,Sr,Mt);if(wt.l=xr,Tn(ur,Dr,Jn))return}}}function e(wt,Tn){if(!wt)return wt;var Mt=Tn||{},Nt=Mt.dense?[]:{},Jn="Sheet1",Dr="",Sr=0,xr={},ur=[],es=[],It={s:{r:0,c:0},e:{r:0,c:0}},Oo=Mt.sheetRows||0;if(0==wt[2]&&(8==wt[3]||9==wt[3])&&wt.length>=16&&5==wt[14]&&108===wt[15])throw new Error("Unsupported Works 3 for Mac file");if(2==wt[2])Mt.Enum=ci,t(wt,function(ei,il,hh){switch(hh){case 0:Mt.vers=ei,ei>=4096&&(Mt.qpro=!0);break;case 6:It=ei;break;case 204:ei&&(Dr=ei);break;case 222:Dr=ei;break;case 15:case 51:Mt.qpro||(ei[1].v=ei[1].v.slice(1));case 13:case 14:case 16:14==hh&&112==(112&ei[2])&&(15&ei[2])>1&&(15&ei[2])<15&&(ei[1].z=Mt.dateNF||ai[14],Mt.cellDates&&(ei[1].t="d",ei[1].v=ji(ei[1].v))),Mt.qpro&&ei[3]>Sr&&(Nt["!ref"]=wi(It),xr[Jn]=Nt,ur.push(Jn),Nt=Mt.dense?[]:{},It={s:{r:0,c:0},e:{r:0,c:0}},Sr=ei[3],Jn=Dr||"Sheet"+(Sr+1),Dr="");var rp=Mt.dense?(Nt[ei[0].r]||[])[ei[0].c]:Nt[Kr(ei[0])];if(rp){rp.t=ei[1].t,rp.v=ei[1].v,null!=ei[1].z&&(rp.z=ei[1].z),null!=ei[1].f&&(rp.f=ei[1].f);break}Mt.dense?(Nt[ei[0].r]||(Nt[ei[0].r]=[]),Nt[ei[0].r][ei[0].c]=ei[1]):Nt[Kr(ei[0])]=ei[1]}},Mt);else{if(26!=wt[2]&&14!=wt[2])throw new Error("Unrecognized LOTUS BOF "+wt[2]);Mt.Enum=or,14==wt[2]&&(Mt.qpro=!0,wt.l=0),t(wt,function(ei,il,hh){switch(hh){case 204:Jn=ei;break;case 22:ei[1].v=ei[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ei[3]>Sr&&(Nt["!ref"]=wi(It),xr[Jn]=Nt,ur.push(Jn),Nt=Mt.dense?[]:{},It={s:{r:0,c:0},e:{r:0,c:0}},Jn="Sheet"+((Sr=ei[3])+1)),Oo>0&&ei[0].r>=Oo)break;Mt.dense?(Nt[ei[0].r]||(Nt[ei[0].r]=[]),Nt[ei[0].r][ei[0].c]=ei[1]):Nt[Kr(ei[0])]=ei[1],It.e.c<ei[0].c&&(It.e.c=ei[0].c),It.e.r<ei[0].r&&(It.e.r=ei[0].r);break;case 27:ei[14e3]&&(es[ei[14e3][0]]=ei[14e3][1]);break;case 1537:es[ei[0]]=ei[1],ei[0]==Sr&&(Jn=ei[1])}},Mt)}if(Nt["!ref"]=wi(It),xr[Dr||Jn]=Nt,ur.push(Dr||Jn),!es.length)return{SheetNames:ur,Sheets:xr};for(var Fs={},Fo=[],Ps=0;Ps<es.length;++Ps)xr[ur[Ps]]?(Fo.push(es[Ps]||ur[Ps]),Fs[es[Ps]]=xr[es[Ps]]||xr[ur[Ps]]):(Fo.push(es[Ps]),Fs[es[Ps]]={"!ref":"A1"});return{SheetNames:Fo,Sheets:Fs}}function E(wt,Tn,Mt){var Nt=[{c:0,r:0},{t:"n",v:0},0,0];return Mt.qpro&&20768!=Mt.vers?(Nt[0].c=wt.read_shift(1),Nt[3]=wt.read_shift(1),Nt[0].r=wt.read_shift(2),wt.l+=2):(Nt[2]=wt.read_shift(1),Nt[0].c=wt.read_shift(2),Nt[0].r=wt.read_shift(2)),Nt}function D(wt,Tn,Mt){var Nt=wt.l+Tn,Jn=E(wt,0,Mt);if(Jn[1].t="s",20768==Mt.vers){wt.l++;var Dr=wt.read_shift(1);return Jn[1].v=wt.read_shift(Dr,"utf8"),Jn}return Mt.qpro&&wt.l++,Jn[1].v=wt.read_shift(Nt-wt.l,"cstr"),Jn}function F(wt,Tn,Mt){var Nt=Sn(7+Mt.length);Nt.write_shift(1,255),Nt.write_shift(2,Tn),Nt.write_shift(2,wt),Nt.write_shift(1,39);for(var Jn=0;Jn<Nt.length;++Jn){var Dr=Mt.charCodeAt(Jn);Nt.write_shift(1,Dr>=128?95:Dr)}return Nt.write_shift(1,0),Nt}function K(wt,Tn,Mt){var Nt=Sn(7);return Nt.write_shift(1,255),Nt.write_shift(2,Tn),Nt.write_shift(2,wt),Nt.write_shift(2,Mt,"i"),Nt}function W(wt,Tn,Mt){var Nt=Sn(13);return Nt.write_shift(1,255),Nt.write_shift(2,Tn),Nt.write_shift(2,wt),Nt.write_shift(8,Mt,"f"),Nt}function He(wt,Tn,Mt){var Nt=32768&Tn;return Tn=(Nt?wt:0)+((Tn&=-32769)>=8192?Tn-16384:Tn),(Nt?"":"$")+(Mt?rn(Tn):go(Tn))}var We={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Le=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function dn(wt){var Tn=[{c:0,r:0},{t:"n",v:0},0];return Tn[0].r=wt.read_shift(2),Tn[3]=wt[wt.l++],Tn[0].c=wt[wt.l++],Tn}function vt(wt,Tn,Mt,Nt){var Jn=Sn(6+Nt.length);Jn.write_shift(2,wt),Jn.write_shift(1,Mt),Jn.write_shift(1,Tn),Jn.write_shift(1,39);for(var Dr=0;Dr<Nt.length;++Dr){var Sr=Nt.charCodeAt(Dr);Jn.write_shift(1,Sr>=128?95:Sr)}return Jn.write_shift(1,0),Jn}function Qt(wt,Tn){var Mt=dn(wt),Nt=wt.read_shift(4),Jn=wt.read_shift(4),Dr=wt.read_shift(2);if(65535==Dr)return 0===Nt&&3221225472===Jn?(Mt[1].t="e",Mt[1].v=15):0===Nt&&3489660928===Jn?(Mt[1].t="e",Mt[1].v=42):Mt[1].v=0,Mt;var Sr=32768&Dr;return Dr=(32767&Dr)-16446,Mt[1].v=(1-2*Sr)*(Jn*Math.pow(2,Dr+32)+Nt*Math.pow(2,Dr)),Mt}function Bn(wt,Tn,Mt,Nt){var Jn=Sn(14);if(Jn.write_shift(2,wt),Jn.write_shift(1,Mt),Jn.write_shift(1,Tn),0==Nt)return Jn.write_shift(4,0),Jn.write_shift(4,0),Jn.write_shift(2,65535),Jn;var Dr=0,Sr=0,ur=0;return Nt<0&&(Dr=1,Nt=-Nt),Sr=0|Math.log2(Nt),0==(2147483648&(ur=(Nt/=Math.pow(2,Sr-31))>>>0))&&(++Sr,ur=(Nt/=2)>>>0),Nt-=ur,ur|=2147483648,ur>>>=0,Nt*=Math.pow(2,32),Jn.write_shift(4,Nt>>>0),Jn.write_shift(4,ur),Jn.write_shift(2,Sr+=16383+(Dr?32768:0)),Jn}function Ir(wt,Tn){var Mt=dn(wt),Nt=wt.read_shift(8,"f");return Mt[1].v=Nt,Mt}function zr(wt,Tn){return 0==wt[wt.l+Tn-1]?wt.read_shift(Tn,"cstr"):""}function gr(wt,Tn){var Mt=Sn(5+wt.length);Mt.write_shift(2,14e3),Mt.write_shift(2,Tn);for(var Nt=0;Nt<wt.length;++Nt){var Jn=wt.charCodeAt(Nt);Mt[Mt.l++]=Jn>127?95:Jn}return Mt[Mt.l++]=0,Mt}var ci={0:{n:"BOF",f:Ci},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function g(wt,Tn,Mt){var Nt={s:{c:0,r:0},e:{c:0,r:0}};return 8==Tn&&Mt.qpro?(Nt.s.c=wt.read_shift(1),wt.l++,Nt.s.r=wt.read_shift(2),Nt.e.c=wt.read_shift(1),wt.l++,Nt.e.r=wt.read_shift(2),Nt):(Nt.s.c=wt.read_shift(2),Nt.s.r=wt.read_shift(2),12==Tn&&Mt.qpro&&(wt.l+=2),Nt.e.c=wt.read_shift(2),Nt.e.r=wt.read_shift(2),12==Tn&&Mt.qpro&&(wt.l+=2),65535==Nt.s.c&&(Nt.s.c=Nt.e.c=Nt.s.r=Nt.e.r=0),Nt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function B(wt,Tn,Mt){var Nt=E(wt,0,Mt);return Nt[1].v=wt.read_shift(2,"i"),Nt}},14:{n:"NUMBER",f:function ee(wt,Tn,Mt){var Nt=E(wt,0,Mt);return Nt[1].v=wt.read_shift(8,"f"),Nt}},15:{n:"LABEL",f:D},16:{n:"FORMULA",f:function oe(wt,Tn,Mt){var Nt=wt.l+Tn,Jn=E(wt,0,Mt);if(Jn[1].v=wt.read_shift(8,"f"),Mt.qpro)wt.l=Nt;else{var Dr=wt.read_shift(2);(function Bt(wt,Tn){Zs(wt,0);for(var Mt=[],Nt=0,Jn="",Dr="",Sr="",xr="";wt.l<wt.length;){var ur=wt[wt.l++];switch(ur){case 0:Mt.push(wt.read_shift(8,"f"));break;case 1:Dr=He(Tn[0].c,wt.read_shift(2),!0),Jn=He(Tn[0].r,wt.read_shift(2),!1),Mt.push(Dr+Jn);break;case 2:var es=He(Tn[0].c,wt.read_shift(2),!0),It=He(Tn[0].r,wt.read_shift(2),!1);Dr=He(Tn[0].c,wt.read_shift(2),!0),Jn=He(Tn[0].r,wt.read_shift(2),!1),Mt.push(es+It+":"+Dr+Jn);break;case 3:if(wt.l<wt.length)return void console.error("WK1 premature formula end");break;case 4:Mt.push("("+Mt.pop()+")");break;case 5:Mt.push(wt.read_shift(2));break;case 6:for(var Oo="";ur=wt[wt.l++];)Oo+=String.fromCharCode(ur);Mt.push('"'+Oo.replace(/"/g,'""')+'"');break;case 8:Mt.push("-"+Mt.pop());break;case 23:Mt.push("+"+Mt.pop());break;case 22:Mt.push("NOT("+Mt.pop()+")");break;case 20:case 21:xr=Mt.pop(),Sr=Mt.pop(),Mt.push(["AND","OR"][ur-20]+"("+Sr+","+xr+")");break;default:if(ur<32&&Le[ur])xr=Mt.pop(),Sr=Mt.pop(),Mt.push(Sr+Le[ur]+xr);else{if(!We[ur])return ur<=7?console.error("WK1 invalid opcode "+ur.toString(16)):ur<=24?console.error("WK1 unsupported op "+ur.toString(16)):ur<=30?console.error("WK1 invalid opcode "+ur.toString(16)):ur<=115?console.error("WK1 unsupported function opcode "+ur.toString(16)):console.error("WK1 unrecognized opcode "+ur.toString(16));if(69==(Nt=We[ur][1])&&(Nt=wt[wt.l++]),Nt>Mt.length)return void console.error("WK1 bad formula parse 0x"+ur.toString(16)+":|"+Mt.join("|")+"|");var Fs=Mt.slice(-Nt);Mt.length-=Nt,Mt.push(We[ur][0]+"("+Fs.join(",")+")")}}}1==Mt.length?Tn[1].f=""+Mt[0]:console.error("WK1 bad formula parse |"+Mt.join("|")+"|")})(wt.slice(wt.l,wt.l+Dr),Jn),wt.l+=Dr}return Jn}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:D},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:zr},222:{n:"SHEETNAMELP",f:function cr(wt,Tn){var Mt=wt[wt.l++];Mt>Tn-1&&(Mt=Tn-1);for(var Nt="";Nt.length<Mt;)Nt+=String.fromCharCode(wt[wt.l++]);return Nt}},65535:{n:""}},or={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function In(wt,Tn){var Mt=dn(wt);return Mt[1].t="s",Mt[1].v=wt.read_shift(Tn-4,"cstr"),Mt}},23:{n:"NUMBER17",f:Qt},24:{n:"NUMBER18",f:function ln(wt,Tn){var Mt=dn(wt);Mt[1].v=wt.read_shift(2);var Nt=Mt[1].v>>1;if(1&Mt[1].v)switch(7&Nt){case 0:Nt=5e3*(Nt>>3);break;case 1:Nt=500*(Nt>>3);break;case 2:Nt=(Nt>>3)/20;break;case 3:Nt=(Nt>>3)/200;break;case 4:Nt=(Nt>>3)/2e3;break;case 5:Nt=(Nt>>3)/2e4;break;case 6:Nt=(Nt>>3)/16;break;case 7:Nt=(Nt>>3)/64}return Mt[1].v=Nt,Mt}},25:{n:"FORMULA19",f:function $n(wt,Tn){var Mt=Qt(wt);return wt.l+=Tn-14,Mt}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ur(wt,Tn){for(var Mt={},Nt=wt.l+Tn;wt.l<Nt;){var Jn=wt.read_shift(2);if(14e3==Jn){for(Mt[Jn]=[0,""],Mt[Jn][0]=wt.read_shift(2);wt[wt.l];)Mt[Jn][1]+=String.fromCharCode(wt[wt.l]),wt.l++;wt.l++}}return Mt}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function hn(wt,Tn){var Mt=dn(wt),Nt=wt.read_shift(4);return Mt[1].v=Nt>>6,Mt}},38:{n:"??"},39:{n:"NUMBER27",f:Ir},40:{n:"FORMULA28",f:function oi(wt,Tn){var Mt=Ir(wt);return wt.l+=Tn-10,Mt}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:zr},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function ar(wt,Tn,Mt){if(Mt.qpro&&!(Tn<21)){var Nt=wt.read_shift(1);return wt.l+=17,wt.l+=1,wt.l+=2,[Nt,wt.read_shift(Tn-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(wt,Tn){var Mt=Tn||{};if(+Mt.codepage>=0&&Y(+Mt.codepage),"string"==Mt.type)throw new Error("Cannot write WK1 to JS string");var Nt=po(),Jn=$i(wt["!ref"]),Dr=Array.isArray(wt),Sr=[];Vr(Nt,0,function c(wt){var Tn=Sn(2);return Tn.write_shift(2,wt),Tn}(1030)),Vr(Nt,6,function x(wt){var Tn=Sn(8);return Tn.write_shift(2,wt.s.c),Tn.write_shift(2,wt.s.r),Tn.write_shift(2,wt.e.c),Tn.write_shift(2,wt.e.r),Tn}(Jn));for(var xr=Math.min(Jn.e.r,8191),ur=Jn.s.r;ur<=xr;++ur)for(var es=go(ur),It=Jn.s.c;It<=Jn.e.c;++It){ur===Jn.s.r&&(Sr[It]=rn(It));var Fs=Dr?(wt[ur]||[])[It]:wt[Sr[It]+es];Fs&&"z"!=Fs.t&&("n"==Fs.t?(0|Fs.v)==Fs.v&&Fs.v>=-32768&&Fs.v<=32767?Vr(Nt,13,K(ur,It,Fs.v)):Vr(Nt,14,W(ur,It,Fs.v)):Vr(Nt,15,F(ur,It,Ws(Fs).slice(0,239))))}return Vr(Nt,1),Nt.end()},book_to_wk3:function s(wt,Tn){var Mt=Tn||{};if(+Mt.codepage>=0&&Y(+Mt.codepage),"string"==Mt.type)throw new Error("Cannot write WK3 to JS string");var Nt=po();Vr(Nt,0,function p(wt){var Tn=Sn(26);Tn.write_shift(2,4096),Tn.write_shift(2,4),Tn.write_shift(4,0);for(var Mt=0,Nt=0,Jn=0,Dr=0;Dr<wt.SheetNames.length;++Dr){var xr=wt.Sheets[wt.SheetNames[Dr]];if(xr&&xr["!ref"]){++Jn;var ur=Vo(xr["!ref"]);Mt<ur.e.r&&(Mt=ur.e.r),Nt<ur.e.c&&(Nt=ur.e.c)}}return Mt>8191&&(Mt=8191),Tn.write_shift(2,Mt),Tn.write_shift(1,Jn),Tn.write_shift(1,Nt),Tn.write_shift(2,0),Tn.write_shift(2,0),Tn.write_shift(1,1),Tn.write_shift(1,2),Tn.write_shift(4,0),Tn.write_shift(4,0),Tn}(wt));for(var Jn=0,Dr=0;Jn<wt.SheetNames.length;++Jn)(wt.Sheets[wt.SheetNames[Jn]]||{})["!ref"]&&Vr(Nt,27,gr(wt.SheetNames[Jn],Dr++));var Sr=0;for(Jn=0;Jn<wt.SheetNames.length;++Jn){var xr=wt.Sheets[wt.SheetNames[Jn]];if(xr&&xr["!ref"]){for(var ur=$i(xr["!ref"]),es=Array.isArray(xr),It=[],Oo=Math.min(ur.e.r,8191),Fs=ur.s.r;Fs<=Oo;++Fs)for(var Fo=go(Fs),Ps=ur.s.c;Ps<=ur.e.c;++Ps){Fs===ur.s.r&&(It[Ps]=rn(Ps));var il=es?(xr[Fs]||[])[Ps]:xr[It[Ps]+Fo];il&&"z"!=il.t&&("n"==il.t?Vr(Nt,23,Bn(Fs,Ps,Sr,il.v)):Vr(Nt,22,vt(Fs,Ps,Sr,Ws(il).slice(0,239))))}++Sr}}return Vr(Nt,1),Nt.end()},to_workbook:function n(wt,Tn){switch(Tn.type){case"base64":return e(Nn(ve(wt)),Tn);case"binary":return e(Nn(wt),Tn);case"buffer":case"array":return e(wt,Tn)}throw"Unsupported type "+Tn.type}}}(),Sh=/^\s|\s$|[\t\n\r]/;function Kg(t,n){if(!n.bookSST)return"";var e=[ks];e[e.length]=_r("sst",null,{xmlns:Ba[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(null!=t[r]){var s=t[r],c="<si>";s.r?c+=s.r:(c+="<t",s.t||(s.t=""),s.t.match(Sh)&&(c+=' xml:space="preserve"'),c+=">"+ss(s.t)+"</t>"),e[e.length]=c+="</si>"}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}var Yg=function fi(t,n){var e=!1;return null==n&&(e=!0,n=Sn(15+4*t.t.length)),n.write_shift(1,0),qe(t.t,n),e?n.slice(0,n.l):n};function _y(t){var n=po();Qn(n,159,function H0(t,n){return n||(n=Sn(8)),n.write_shift(4,t.Count),n.write_shift(4,t.Unique),n}(t));for(var e=0;e<t.length;++e)Qn(n,19,Yg(t[e]));return Qn(n,160),n.end()}function Cy(t){var e,c,n=0,r=function vy(t){for(var n=[],e=t.split(""),r=0;r<e.length;++r)n[r]=e[r].charCodeAt(0);return n}(t),s=r.length+1;for((e=Ut(s))[0]=r.length,c=1;c!=s;++c)e[c]=r[c-1];for(c=s-1;c>=0;--c)n=((0==(16384&n)?0:1)|n<<1&32767)^e[c];return 52811^n}var Dp=function(){function t(s,c){switch(c.type){case"base64":return n(ve(s),c);case"binary":return n(s,c);case"buffer":return n(tt&&Buffer.isBuffer(s)?s.toString("binary"):ut(s),c);case"array":return n(Wn(s),c)}throw new Error("Unrecognized type "+c.type)}function n(s,c){var g=(c||{}).dense?[]:{},x=s.match(/\\trowd.*?\\row\b/g);if(!x.length)throw new Error("RTF missing table");var E={s:{c:0,r:0},e:{c:0,r:x.length-1}};return x.forEach(function(D,F){Array.isArray(g)&&(g[F]=[]);for(var ee,B=/\\\w+\b/g,K=0,W=-1;ee=B.exec(D);){if("\\cell"===ee[0]){var oe=D.slice(K,B.lastIndex-ee[0].length);if(" "==oe[0]&&(oe=oe.slice(1)),++W,oe.length){var He={v:oe,t:"s"};Array.isArray(g)?g[F][W]=He:g[Kr({r:F,c:W})]=He}}K=B.lastIndex}W>E.e.c&&(E.e.c=W)}),g["!ref"]=wi(E),g}return{to_workbook:function e(s,c){return k(t(s,c),c)},to_sheet:t,from_sheet:function r(s){for(var g,c=["{\\rtf1\\ansi"],p=$i(s["!ref"]),x=Array.isArray(s),E=p.s.r;E<=p.e.r;++E){c.push("\\trowd\\trautofit1");for(var D=p.s.c;D<=p.e.c;++D)c.push("\\cellx"+(D+1));for(c.push("\\pard\\intbl"),D=p.s.c;D<=p.e.c;++D){var F=Kr({r:E,c:D});(g=x?(s[E]||[])[D]:s[F])&&(null!=g.v||g.f&&!g.F)&&(c.push(" "+(g.w||(Ws(g),g.w))),c.push("\\cell"))}c.push("\\pard\\intbl\\row")}return c.join("")+"}"}}}();function Rc(t){for(var n=0,e=1;3!=n;++n)e=256*e+(t[n]>255?255:t[n]<0?0:t[n]);return e.toString(16).toUpperCase().slice(1)}var za=6;function Ih(t){return Math.floor((t+Math.round(128/za)/256)*za)}function kp(t){return Math.floor((t-5)/za*100+.5)/100}function Ef(t){return Math.round((t*za+5)/za*256)/256}function kh(t){t.width?(t.wpx=Ih(t.width),t.wch=kp(t.wpx),t.MDW=za):t.wpx?(t.wch=kp(t.wpx),t.width=Ef(t.wch),t.MDW=za):"number"==typeof t.wch&&(t.width=Ef(t.wch),t.wpx=Ih(t.width),t.MDW=za),t.customWidth&&delete t.customWidth}function Gd(t){return 96*t/96}function Oh(t){return 96*t/96}function Cf(t,n){var r,e=[ks,_r("styleSheet",null,{xmlns:Ba[0],"xmlns:vt":Rs_vt})];return t.SSF&&null!=(r=function Zw(t){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&(n[n.length]=_r("numFmt",null,{numFmtId:r,formatCode:ss(t[r])}))}),1===n.length?"":(n[n.length]="</numFmts>",n[0]=_r("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(t.SSF))&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function z0(t){var n=[];return n[n.length]=_r("cellXfs",null),t.forEach(function(e){n[n.length]=_r("xf",null,e)}),n[n.length]="</cellXfs>",2===n.length?"":(n[0]=_r("cellXfs",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(n.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function Xg(t,n,e){e||(e=Sn(6+4*n.length)),e.write_shift(2,t),qe(n,e);var r=e.length>e.l?e.slice(0,e.l):e;return null==e.l&&(e.l=e.length),r}var W0,Ry=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$0=Us;function Oy(t,n){n||(n=Sn(84)),W0||(W0=De(Ry));var e=W0[t.patternType];null==e&&(e=40),n.write_shift(4,e);var r=0;if(40!=e)for(cc({auto:1},n),cc({auto:1},n);r<12;++r)n.write_shift(4,0);else{for(;r<4;++r)n.write_shift(4,0);for(;r<12;++r)n.write_shift(4,0)}return n.length>n.l?n.slice(0,n.l):n}function Py(t,n,e){return e||(e=Sn(16)),e.write_shift(2,n||0),e.write_shift(2,t.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Df(t,n){return n||(n=Sn(10)),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(4,0),n}var K0=Us;function zd(t,n){var e=po();return Qn(e,278),function Y0(t,n){if(n){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&++e}),0!=e&&(Qn(t,615,Z(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&Qn(t,44,Xg(s,n[s]))}),Qn(t,616))}}(e,t.SSF),function q0(t){Qn(t,611,Z(1)),Qn(t,43,function em(t,n){n||(n=Sn(153)),n.write_shift(2,20*t.sz),function Sc(t,n){n||(n=Sn(2)),n.write_shift(1,(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0)),n.write_shift(1,0)}(t,n),n.write_shift(2,t.bold?700:400);var e=0;"superscript"==t.vertAlign?e=1:"subscript"==t.vertAlign&&(e=2),n.write_shift(2,e),n.write_shift(1,t.underline||0),n.write_shift(1,t.family||0),n.write_shift(1,t.charset||0),n.write_shift(1,0),cc(t.color,n);var r=0;return"major"==t.scheme&&(r=1),"minor"==t.scheme&&(r=2),n.write_shift(1,r),qe(t.name,n),n.length>n.l?n.slice(0,n.l):n}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Qn(t,612)}(e),function Xw(t){Qn(t,603,Z(2)),Qn(t,45,Oy({patternType:"none"})),Qn(t,45,Oy({patternType:"gray125"})),Qn(t,604)}(e),function C1(t){Qn(t,613,Z(1)),Qn(t,46,function Sf(t,n){return n||(n=Sn(51)),n.write_shift(1,0),Df(0,n),Df(0,n),Df(0,n),Df(0,n),Df(0,n),n.length>n.l?n.slice(0,n.l):n}()),Qn(t,614)}(e),function nm(t){Qn(t,626,Z(1)),Qn(t,47,Py({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Qn(t,627)}(e),function Ny(t,n){Qn(t,617,Z(n.length)),n.forEach(function(e){Qn(t,47,Py(e,0))}),Qn(t,618)}(e,n.cellXfs),function Tf(t){Qn(t,619,Z(1)),Qn(t,48,function tm(t,n){return n||(n=Sn(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),lc(t.name||"",n),n.length>n.l?n.slice(0,n.l):n}({xfId:0,builtinId:0,name:"Normal"})),Qn(t,620)}(e),function rm(t){Qn(t,505,Z(0)),Qn(t,506)}(e),function Z0(t){Qn(t,508,function jd(t,n,e){var r=Sn(2052);return r.write_shift(4,t),lc(n,r),lc(e,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Qn(t,509)}(e),Qn(e,279),e.end()}function If(t,n){if(n&&n.themeXLSX)return n.themeXLSX;if(t&&"string"==typeof t.raw)return t.raw;var e=[ks];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function tu(){var t=po();return Qn(t,332),Qn(t,334,Z(1)),Qn(t,335,function Uy(t){var n=Sn(12+2*t.name.length);return n.write_shift(4,t.flags),n.write_shift(4,t.version),qe(t.name,n),n.slice(0,n.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Qn(t,336),Qn(t,339,function fc(t,n){var e=Sn(8+2*n.length);return e.write_shift(4,t),qe(n,e),e.slice(0,e.l)}(1,"XLDAPR")),Qn(t,52),Qn(t,35,Z(514)),Qn(t,4096,Z(0)),Qn(t,4097,fl(1)),Qn(t,36),Qn(t,53),Qn(t,340),Qn(t,337,function n_(t,n){var e=Sn(8);return e.write_shift(4,t),e.write_shift(4,n?1:0),e}(1,!0)),Qn(t,51,function cm(t){var n=Sn(4+8*t.length);n.write_shift(4,t.length);for(var e=0;e<t.length;++e)n.write_shift(4,t[e][0]),n.write_shift(4,t[e][1]);return n}([[1,0]])),Qn(t,338),Qn(t,333),t.end()}function Fp(){var t=[ks];return t.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),t.join("")}var pc=1024;function Np(t,n){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),s=[_r("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":Xi_o,"xmlns:x":Xi_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),_r("o:shapelayout",_r("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),_r("v:shapetype",[_r("v:stroke",null,{joinstyle:"miter"}),_r("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];pc<1e3*t;)pc+=1e3;return n.forEach(function(c){var p=Hs(c[0]),g={color2:"#BEFF82",type:"gradient"};"gradient"==g.type&&(g.angle="-180");var x="gradient"==g.type?_r("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,E=_r("v:fill",x,g);++pc,s=s.concat(["<v:shape"+_a({id:"_x0000_s"+pc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(c[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",E,_r("v:shadow",null,{on:"t",obscured:"t"}),_r("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qs("x:Anchor",[p.c+1,0,p.r+1,0,p.c+3,20,p.r+5,20].join(",")),qs("x:AutoFill","False"),qs("x:Row",String(p.r)),qs("x:Column",String(p.c)),c[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function jy(t){var n=[ks,_r("comments",null,{xmlns:Ba[0]})],e=[];return n.push("<authors>"),t.forEach(function(r){r[1].forEach(function(s){var c=ss(s.a);-1==e.indexOf(c)&&(e.push(c),n.push("<author>"+c+"</author>")),s.T&&s.ID&&-1==e.indexOf("tc="+s.ID)&&(e.push("tc="+s.ID),n.push("<author>tc="+s.ID+"</author>"))})}),0==e.length&&(e.push("SheetJ5"),n.push("<author>SheetJ5</author>")),n.push("</authors>"),n.push("<commentList>"),t.forEach(function(r){var s=0,c=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(x){x.a&&(s=e.indexOf(ss(x.a))),c.push(x.t||"")}),n.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),c.length<=1)n.push(qs("t",ss(c[0]||"")));else{for(var p="Comment:\n    "+c[0]+"\n",g=1;g<c.length;++g)p+="Reply:\n    "+c[g]+"\n";n.push(qs("t",ss(p)))}n.push("</text></comment>")}),n.push("</commentList>"),n.length>2&&(n[n.length]="</comments>",n[1]=n[1].replace("/>",">")),n.join("")}function s_(t,n,e){var r=[ks,_r("ThreadedComments",null,{xmlns:Rs_TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var c="";(s[1]||[]).forEach(function(p,g){if(p.T){p.a&&-1==n.indexOf(p.a)&&n.push(p.a);var x={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};0==g?c=x.id:x.parentId=c,p.ID=x.id,p.a&&(x.personId="{54EE7950-7262-4200-6969-"+("000000000000"+n.indexOf(p.a)).slice(-12)+"}"),r.push(_r("threadedComment",qs("text",p.t||""),x))}else delete p.ID})}),r.push("</ThreadedComments>"),r.join("")}var zy=ye;function $y(t){var n=po(),e=[];return Qn(n,628),Qn(n,630),t.forEach(function(r){r[1].forEach(function(s){e.indexOf(s.a)>-1||(e.push(s.a.slice(0,54)),Qn(n,632,function hm(t){return qe(t.slice(0,54))}(s.a)))})}),Qn(n,631),Qn(n,633),t.forEach(function(r){r[1].forEach(function(s){s.iauthor=e.indexOf(s.a);var c={s:Hs(r[0]),e:Hs(r[0])};Qn(n,635,function rE(t,n){return null==n&&(n=Sn(36)),n.write_shift(4,t[1].iauthor),mo(t[0],n),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n}([c,s])),s.t&&s.t.length>0&&Qn(n,637,function Ji(t,n){var e=!1;return null==n&&(e=!0,n=Sn(23+4*t.t.length)),n.write_shift(1,1),qe(t.t,n),n.write_shift(4,1),function xn(t,n){n||(n=Sn(4)),n.write_shift(2,t.ich||0),n.write_shift(2,t.ifnt||0)}({ich:0,ifnt:0},n),e?n.slice(0,n.l):n}(s)),Qn(n,636),delete s.iauthor})}),Qn(n,634),Qn(n,629),n.end()}var Ky=["xlsb","xlsm","xlam","biff8","xla"],Lp=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function e(r,s,c,p){var g=!1,x=!1;0==c.length?x=!0:"["==c.charAt(0)&&(x=!0,c=c.slice(1,-1)),0==p.length?g=!0:"["==p.charAt(0)&&(g=!0,p=p.slice(1,-1));var E=c.length>0?0|parseInt(c,10):0,D=p.length>0?0|parseInt(p,10):0;return g?D+=n.c:--D,x?E+=n.r:--E,s+(g?"":"$")+rn(D)+(x?"":"$")+go(E)}return function(s,c){return n=c,s.replace(t,e)}}(),fm=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pm=function(){return function(n,e){return n.replace(fm,function(r,s,c,p,g,x){var E=vu(p)-(c?0:e.c),D=Ec(x)-(g?0:e.r);return s+"R"+(0==D?"":g?D+1:"["+D+"]")+"C"+(0==E?"":c?E+1:"["+E+"]")})}}();function nu(t,n){return t.replace(fm,function(e,r,s,c,p,g){return r+("$"==s?s+c:rn(vu(c)+n.c))+("$"==p?p+g:go(Ec(g)+n.r))})}function Uo(t){t.l+=1}function Ru(t,n){var e=t.read_shift(1==n?1:2);return[16383&e,e>>14&1,e>>15&1]}function Rf(t,n,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return c_(t);12==e.biff&&(r=4)}var s=t.read_shift(r),c=t.read_shift(r),p=Ru(t,2),g=Ru(t,2);return{s:{r:s,c:p[0],cRel:p[1],rRel:p[2]},e:{r:c,c:g[0],cRel:g[1],rRel:g[2]}}}function c_(t){var n=Ru(t,2),e=Ru(t,2),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:n[0],c:r,cRel:n[1],rRel:n[2]},e:{r:e[0],c:s,cRel:e[1],rRel:e[2]}}}function Bp(t,n,e){if(e&&e.biff>=2&&e.biff<=5)return function lE(t){var n=Ru(t,2),e=t.read_shift(1);return{r:n[0],c:e,cRel:n[1],rRel:n[2]}}(t);var r=t.read_shift(e&&12==e.biff?4:2),s=Ru(t,2);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function Vp(t){var n=t.read_shift(2),e=t.read_shift(2);return{r:n,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function Lh(t){var n=1&t[t.l+1];return t.l+=4,[n,1]}function Ff(t){return[t.read_shift(1),t.read_shift(1)]}function y_(t,n){var e=[t.read_shift(1)];if(12==n)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=function Wo(t,n){return 1===t.read_shift(n)}(t,1)?"TRUE":"FALSE",12!=n&&(t.l+=7);break;case 37:case 16:e[1]=Kc[t[t.l]],t.l+=12==n?4:8;break;case 0:t.l+=8;break;case 1:e[1]=_o(t);break;case 2:e[1]=function Pd(t,n,e){if(e.biff>5)return function kl(t,n,e){var r=t.read_shift(e&&2==e.biff?1:2);return 0===r?(t.l++,""):function Du(t,n,e){if(e){if(e.biff>=2&&e.biff<=5)return t.read_shift(n,"cpstr");if(e.biff>=12)return t.read_shift(n,"dbcs-cont")}var s=t.read_shift(1);return t.read_shift(n,0===s?"sbcs-cont":"dbcs-cont")}(t,r,e)}(t,0,e);var r=t.read_shift(1);return 0===r?(t.l++,""):t.read_shift(r,e.biff<=4||!t.lens?"cpstr":"sbcs-cont")}(t,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function vm(t,n,e){for(var r=t.read_shift(12==e.biff?4:2),s=[],c=0;c!=r;++c)s.push((12==e.biff?Ta:cd)(t,8));return s}function x_(t,n,e){var r=0,s=0;12==e.biff?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,0==--s&&(s=256));for(var c=0,p=[];c!=r&&(p[c]=[]);++c)for(var g=0;g!=s;++g)p[c][g]=y_(t,e.biff);return p}function Yl(t,n,e){return t.l+=2,[Vp(t)]}function Gp(t){return t.l+=6,[]}function xm(t){return t.l+=2,[Ci(t),1&t.read_shift(2)]}var zp=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],Cm={1:{n:"PtgExp",f:function Xy(t,n,e){return t.l++,e&&12==e.biff?[t.read_shift(4,"i"),0]:[t.read_shift(2),t.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:Us},3:{n:"PtgAdd",f:Uo},4:{n:"PtgSub",f:Uo},5:{n:"PtgMul",f:Uo},6:{n:"PtgDiv",f:Uo},7:{n:"PtgPower",f:Uo},8:{n:"PtgConcat",f:Uo},9:{n:"PtgLt",f:Uo},10:{n:"PtgLe",f:Uo},11:{n:"PtgEq",f:Uo},12:{n:"PtgGe",f:Uo},13:{n:"PtgGt",f:Uo},14:{n:"PtgNe",f:Uo},15:{n:"PtgIsect",f:Uo},16:{n:"PtgUnion",f:Uo},17:{n:"PtgRange",f:Uo},18:{n:"PtgUplus",f:Uo},19:{n:"PtgUminus",f:Uo},20:{n:"PtgPercent",f:Uo},21:{n:"PtgParen",f:Uo},22:{n:"PtgMissArg",f:Uo},23:{n:"PtgStr",f:function v_(t,n,e){return t.l++,ls(t,0,e)}},26:{n:"PtgSheet",f:function bm(t,n,e){return t.l+=5,t.l+=2,t.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function S_(t,n,e){return t.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Ml(t){return t.l++,Kc[t.read_shift(1)]}},29:{n:"PtgBool",f:function dE(t){return t.l++,0!==t.read_shift(1)}},30:{n:"PtgInt",f:function __(t){return t.l++,t.read_shift(2)}},31:{n:"PtgNum",f:function M1(t){return t.l++,_o(t)}},32:{n:"PtgArray",f:function Nh(t,n,e){var r=(96&t[t.l++])>>5;return t.l+=2==e.biff?6:12==e.biff?14:7,[r]}},33:{n:"PtgFunc",f:function Zy(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var s=t.read_shift(e&&e.biff<=3?1:2);return[cx[s],I_[s],r]}},34:{n:"PtgFuncVar",f:function m_(t,n,e){var r=t[t.l++],s=t.read_shift(1),c=e&&e.biff<=3?[88==r?-1:0,t.read_shift(1)]:function Qy(t){return[t[t.l+1]>>7,32767&t.read_shift(2)]}(t);return[s,(0===c[0]?I_:yE)[c[1]]]}},35:{n:"PtgName",f:function w_(t,n,e){var r=t.read_shift(1)>>>5&3,c=t.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12}return[r,0,c]}},36:{n:"PtgRef",f:function p_(t,n,e){var r=(96&t[t.l])>>5;return t.l+=1,[r,Bp(t,0,e)]}},37:{n:"PtgArea",f:function uE(t,n,e){return[(96&t[t.l++])>>5,Rf(t,0,e)]}},38:{n:"PtgMemArea",f:function Jy(t,n,e){var r=t.read_shift(1)>>>5&3;return t.l+=e&&2==e.biff?3:4,[r,t.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:Us},40:{n:"PtgMemNoMem",f:Us},41:{n:"PtgMemFunc",f:function ex(t,n,e){return[t.read_shift(1)>>>5&3,t.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function b_(t,n,e){var r=t.read_shift(1)>>>5&3;return t.l+=4,e.biff<8&&t.l--,12==e.biff&&(t.l+=2),[r]}},43:{n:"PtgAreaErr",f:function Of(t,n,e){var r=(96&t[t.l++])>>5;return t.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function k1(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var s=function cE(t,n,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return function gm(t){var n=t.read_shift(2),e=t.read_shift(1),r=(32768&n)>>15,s=(16384&n)>>14;return n&=16383,1==r&&n>=8192&&(n-=16384),1==s&&e>=128&&(e-=256),{r:n,c:e,cRel:s,rRel:r}}(t);var s=t.read_shift(r>=12?4:2),c=t.read_shift(2),p=(16384&c)>>14,g=(32768&c)>>15;if(c&=16383,1==g)for(;s>524287;)s-=1048576;if(1==p)for(;c>8191;)c-=16384;return{r:s,c,cRel:p,rRel:g}}(t,0,e);return[r,s]}},45:{n:"PtgAreaN",f:function qd(t,n,e){var r=(96&t[t.l++])>>5,s=function Kd(t,n,e){if(e.biff<8)return c_(t);var r=t.read_shift(12==e.biff?4:2),s=t.read_shift(12==e.biff?4:2),c=Ru(t,2),p=Ru(t,2);return{s:{r,c:c[0],cRel:c[1],rRel:c[2]},e:{r:s,c:p[0],cRel:p[1],rRel:p[2]}}}(t,0,e);return[r,s]}},46:{n:"PtgMemAreaN",f:function sx(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function R1(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},57:{n:"PtgNameX",f:function hE(t,n,e){return 5==e.biff?function E_(t){var n=t.read_shift(1)>>>5&3,e=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[n,e,r]}(t):[t.read_shift(1)>>>5&3,t.read_shift(2),t.read_shift(4)]}},58:{n:"PtgRef3d",f:function g_(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var s=t.read_shift(2);return e&&5==e.biff&&(t.l+=12),[r,s,Bp(t,0,e)]}},59:{n:"PtgArea3d",f:function u_(t,n,e){var r=(96&t[t.l++])>>5,s=t.read_shift(2,"i");if(e&&5===e.biff)t.l+=12;return[r,s,Rf(t,0,e)]}},60:{n:"PtgRefErr3d",f:function tx(t,n,e){var r=(96&t[t.l++])>>5,s=t.read_shift(2),c=4;if(e)switch(e.biff){case 5:c=15;break;case 12:c=6}return t.l+=c,[r,s]}},61:{n:"PtgAreaErr3d",f:function Yd(t,n,e){var r=(96&t[t.l++])>>5,s=t.read_shift(2),c=8;if(e)switch(e.biff){case 5:t.l+=12,c=6;break;case 12:c=12}return t.l+=c,[r,s]}},255:{}},mE={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_E={1:{n:"PtgElfLel",f:xm},2:{n:"PtgElfRw",f:Yl},3:{n:"PtgElfCol",f:Yl},6:{n:"PtgElfRwV",f:Yl},7:{n:"PtgElfColV",f:Yl},10:{n:"PtgElfRadical",f:Yl},11:{n:"PtgElfRadicalS",f:Gp},13:{n:"PtgElfColS",f:Gp},15:{n:"PtgElfColSV",f:Gp},16:{n:"PtgElfRadicalLel",f:xm},25:{n:"PtgList",f:function Wp(t){t.l+=2;var n=t.read_shift(2),e=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),c=t.read_shift(2);return{ixti:n,coltype:3&e,rt:zp[e>>2&31],idx:r,c:s,C:c}}},29:{n:"PtgSxName",f:function Pf(t){return t.l+=2,[t.read_shift(4)]}},255:{}},ox={0:{n:"PtgAttrNoop",f:function gE(t){return t.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function h_(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=e&&2==e.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function Ou(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function Up(t,n,e){t.l+=2;for(var r=t.read_shift(e&&2==e.biff?1:2),s=[],c=0;c<=r;++c)s.push(t.read_shift(e&&2==e.biff?1:2));return s}},8:{n:"PtgAttrGoto",f:function d_(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function _m(t,n,e){t.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Lh},33:{n:"PtgAttrBaxcel",f:Lh},64:{n:"PtgAttrSpace",f:function qy(t){return t.read_shift(2),Ff(t)}},65:{n:"PtgAttrSpaceSemi",f:function f_(t){return t.read_shift(2),Ff(t)}},128:{n:"PtgAttrIfError",f:function mm(t){var n=255&t[t.l+1]?1:0;return t.l+=2,[n,t.read_shift(2)]}},255:{}};function Nf(t,n,e,r){if(r.biff<8)return Us(t,n);for(var s=t.l+n,c=[],p=0;p!==e.length;++p)switch(e[p][0]){case"PtgArray":e[p][1]=x_(t,0,r),c.push(e[p][1]);break;case"PtgMemArea":e[p][2]=vm(t,0,r),c.push(e[p][2]);break;case"PtgExp":r&&12==r.biff&&(e[p][1][1]=t.read_shift(4),c.push(e[p][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[p][0]}return 0!=(n=s-t.l)&&c.push(Us(t,n)),c}function T_(t){for(var n=[],e=0;e<t.length;++e){for(var r=t[e],s=[],c=0;c<r.length;++c){var p=r[c];s.push(p?2===p[0]?'"'+p[1].replace(/"/g,'""')+'"':p[1]:"")}n.push(s.join(","))}return n.join(";")}var $p={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Bf(t,n,e){if(!t)return"SH33TJSERR0";if(e.biff>8&&(!t.XTI||!t.XTI[n]))return t.SheetNames[n];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[n];if(e.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),0==n?"":t.XTI[n-1];if(!r)return"SH33TJSERR1";var s="";if(e.biff>8)switch(t[r[0]][0]){case 357:return s=-1==r[1]?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return null!=e.SID?t.SheetNames[e.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=-1==r[1]?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(c){return c.Name}).join(";;");default:return t[r[0]][0][3]?(s=-1==r[1]?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Vf(t,n,e){var r=Bf(t,n,e);return"#REF"==r?r:function Fu(t,n){if(!(t||n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}(r,e)}function Ko(t,n,e,r,s){var x,E,D,K,c=s&&s.biff||8,p={s:{c:0,r:0},e:{c:0,r:0}},g=[],F=0,B=0,ee="";if(!t[0]||!t[0][0])return"";for(var W=-1,oe="",He=0,We=t[0].length;He<We;++He){var Le=t[0][He];switch(Le[0]){case"PtgUminus":g.push("-"+g.pop());break;case"PtgUplus":g.push("+"+g.pop());break;case"PtgPercent":g.push(g.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(x=g.pop(),E=g.pop(),W>=0){switch(t[0][W][1][0]){case 0:oe=Gi(" ",t[0][W][1][1]);break;case 1:oe=Gi("\r",t[0][W][1][1]);break;default:if(oe="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][W][1][0])}E+=oe,W=-1}g.push(E+$p[Le[0]]+x);break;case"PtgIsect":x=g.pop(),E=g.pop(),g.push(E+" "+x);break;case"PtgUnion":x=g.pop(),E=g.pop(),g.push(E+","+x);break;case"PtgRange":x=g.pop(),E=g.pop(),g.push(E+":"+x);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":D=Bo(Le[1][1],p,s),g.push(ac(D,c));break;case"PtgRefN":D=e?Bo(Le[1][1],e,s):Le[1][1],g.push(ac(D,c));break;case"PtgRef3d":F=Le[1][1],D=Bo(Le[1][2],p,s),ee=Vf(r,F,s),g.push(ee+"!"+ac(D,c));break;case"PtgFunc":case"PtgFuncVar":var dn=Le[1][0],In=Le[1][1];dn||(dn=0);var vt=0==(dn&=127)?[]:g.slice(-dn);g.length-=dn,"User"===In&&(In=vt.shift()),g.push(In+"("+vt.join(",")+")");break;case"PtgBool":g.push(Le[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":g.push(Le[1]);break;case"PtgNum":g.push(String(Le[1]));break;case"PtgStr":g.push('"'+Le[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":K=td(Le[1][1],e?{s:e}:p,s),g.push(vi(K,s));break;case"PtgArea":K=td(Le[1][1],p,s),g.push(vi(K,s));break;case"PtgArea3d":K=Le[1][2],ee=Vf(r,F=Le[1][1],s),g.push(ee+"!"+vi(K,s));break;case"PtgAttrSum":g.push("SUM("+g.pop()+")");break;case"PtgName":var ln=(r.names||[])[(B=Le[1][2])-1]||(r[0]||[])[B],Qt=ln?ln.Name:"SH33TJSNAME"+String(B);Qt&&"_xlfn."==Qt.slice(0,6)&&!s.xlfn&&(Qt=Qt.slice(6)),g.push(Qt);break;case"PtgNameX":var $n,Bn=Le[1][1];if(B=Le[1][2],!(s.biff<=5)){var hn="";if(14849==((r[Bn]||[])[0]||[])[0]||(1025==((r[Bn]||[])[0]||[])[0]?r[Bn][B]&&r[Bn][B].itab>0&&(hn=r.SheetNames[r[Bn][B].itab-1]+"!"):hn=r.SheetNames[B-1]+"!"),r[Bn]&&r[Bn][B])hn+=r[Bn][B].Name;else if(r[0]&&r[0][B])hn+=r[0][B].Name;else{var Ir=(Bf(r,Bn,s)||"").split(";;");Ir[B-1]?hn=Ir[B-1]:hn+="SH33TJSERRX"}g.push(hn);break}Bn<0&&(Bn=-Bn),r[Bn]&&($n=r[Bn][B]),$n||($n={Name:"SH33TJSERRY"}),g.push($n.Name);break;case"PtgParen":var oi="(",zr=")";if(W>=0){switch(oe="",t[0][W][1][0]){case 2:oi=Gi(" ",t[0][W][1][1])+oi;break;case 3:oi=Gi("\r",t[0][W][1][1])+oi;break;case 4:zr=Gi(" ",t[0][W][1][1])+zr;break;case 5:zr=Gi("\r",t[0][W][1][1])+zr;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][W][1][0])}W=-1}g.push(oi+g.pop()+zr);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":g.push("#REF!");break;case"PtgExp":var cr={c:e.c,r:e.r};if(r.sharedf[Kr(D={c:Le[1][1],r:Le[1][0]})]){var ar=r.sharedf[Kr(D)];g.push(Ko(ar,0,cr,r,s))}else{var Ur=!1;for(x=0;x!=r.arrayf.length;++x)if(!(D.c<(E=r.arrayf[x])[0].s.c||D.c>E[0].e.c||D.r<E[0].s.r||D.r>E[0].e.r)){g.push(Ko(E[1],0,cr,r,s)),Ur=!0;break}Ur||g.push(Le[1])}break;case"PtgArray":g.push("{"+T_(Le[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":W=He;break;case"PtgMissArg":g.push("");break;case"PtgList":g.push("Table"+Le[1].idx+"[#"+Le[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(Le))}if(3!=s.biff&&W>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(t[0][He][0])){var ci=!0;switch((Le=t[0][W])[1][0]){case 4:ci=!1;case 0:oe=Gi(" ",Le[1][1]);break;case 5:ci=!1;case 1:oe=Gi("\r",Le[1][1]);break;default:if(oe="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Le[1][0])}g.push((ci?oe:"")+g.pop()+(ci?"":oe)),W=-1}}if(g.length>1&&s.WTF)throw new Error("bad formula stack");return g[0]}function Yp(t,n,e){var r=t.read_shift(4),s=function Lf(t,n,e){for(var s,c,r=t.l+n,p=[];r!=t.l;)n=r-t.l,s=Cm[c=t[t.l]]||Cm[mE[c]],(24===c||25===c)&&(s=(24===c?_E:ox)[t[t.l+1]]),s&&s.f?p.push([s.n,s.f(t,n,e)]):Us(t,n);return p}(t,r,e),c=t.read_shift(4);return[s,c>0?Nf(t,c,s,e):null]}var O1=Yp,Bh=Yp,ax=Yp,lx=Yp,yE={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},I_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cx={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ho(t){return("of:="+t.replace(fm,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function F1(t){return t.replace(/\./,"!")}var qp=typeof Map<"u";function k_(t,n,e){var r=0,s=t.length;if(e){if(qp?e.has(n):Object.prototype.hasOwnProperty.call(e,n))for(var c=qp?e.get(n):e[n];r<c.length;++r)if(t[c[r]].t===n)return t.Count++,c[r]}else for(;r<s;++r)if(t[r].t===n)return t.Count++,r;return t[s]={t:n},t.Count++,t.Unique++,e&&(qp?(e.has(n)||e.set(n,[]),e.get(n).push(s)):(Object.prototype.hasOwnProperty.call(e,n)||(e[n]=[]),e[n].push(s))),s}function Zp(t,n){var e={min:t+1,max:t+1},r=-1;return n.MDW&&(za=n.MDW),null!=n.width?e.customWidth=1:null!=n.wpx?r=kp(n.wpx):null!=n.wch&&(r=n.wch),r>-1?(e.width=Ef(r),e.customWidth=1):null!=n.width&&(e.width=n.width),n.hidden&&(e.hidden=!0),null!=n.level&&(e.outlineLevel=e.level=n.level),e}function Pu(t,n){if(t){var e=[.7,.7,.75,.75,.3,.3];"xlml"==n&&(e=[1,1,1,1,.5,.5]),null==t.left&&(t.left=e[0]),null==t.right&&(t.right=e[1]),null==t.top&&(t.top=e[2]),null==t.bottom&&(t.bottom=e[3]),null==t.header&&(t.header=e[4]),null==t.footer&&(t.footer=e[5])}}function ql(t,n,e){var r=e.revssf[null!=n.z?n.z:"General"],s=60,c=t.length;if(null==r&&e.ssf)for(;s<392;++s)if(null==e.ssf[s]){No(n.z,s),e.ssf[s]=n.z,e.revssf[n.z]=r=s;break}for(s=0;s!=c;++s)if(t[s].numFmtId===r)return s;return t[c]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},c}function Qp(t,n,e){if(t&&t["!ref"]){var r=$i(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+t["!ref"])}}var wd=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nu=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function N_(t,n,e,r){if(t.c&&e["!comments"].push([n,t.c]),void 0===t.v&&"string"!=typeof t.f||"z"===t.t&&!t.f)return"";var s="",c=t.t,p=t.v;if("z"!==t.t)switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Kc[t.v];break;case"d":r&&r.cellDates?s=Ti(t.v,-1).toISOString():((t=Or(t)).t="n",s=""+(t.v=wn(Ti(t.v)))),typeof t.z>"u"&&(t.z=ai[14]);break;default:s=t.v}var g=qs("v",ss(s)),x={r:n},E=ql(r.cellXfs,t,r);switch(0!==E&&(x.s=E),t.t){case"n":case"z":break;case"d":x.t="d";break;case"b":x.t="b";break;case"e":x.t="e";break;default:if(null==t.v){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){g=qs("v",""+k_(r.Strings,t.v,r.revStrings)),x.t="s";break}x.t="str"}if(t.t!=c&&(t.t=c,t.v=p),"string"==typeof t.f&&t.f){var D=t.F&&t.F.slice(0,n.length)==n?{t:"array",ref:t.F}:null;g=_r("f",ss(t.f),D)+(null!=t.v?g:"")}return t.l&&e["!links"].push([n,t.l]),t.D&&(x.cm=1),_r("c",g,x)}function Hf(t,n,e,r){var p,s=[ks,_r("worksheet",null,{xmlns:Ba[0],"xmlns:r":Rs_r})],g="",x=e.Sheets[e.SheetNames[t]];null==x&&(x={});var E=x["!ref"]||"A1",D=$i(E);if(D.e.c>16383||D.e.r>1048575){if(n.WTF)throw new Error("Range "+E+" exceeds format limit A1:XFD1048576");D.e.c=Math.min(D.e.c,16383),D.e.r=Math.min(D.e.c,1048575),E=wi(D)}r||(r={}),x["!comments"]=[];var F=[];(function Fc(t,n,e,r,s){var c=!1,p={},g=null;if("xlsx"!==r.bookType&&n.vbaraw){var x=n.SheetNames[e];try{n.Workbook&&(x=n.Workbook.Sheets[e].CodeName||x)}catch{}c=!0,p.codeName=Na(ss(x))}if(t&&t["!outline"]){var E={summaryBelow:1,summaryRight:1};t["!outline"].above&&(E.summaryBelow=0),t["!outline"].left&&(E.summaryRight=0),g=(g||"")+_r("outlinePr",null,E)}!c&&!g||(s[s.length]=_r("sheetPr",g,p))})(x,e,t,n,s),s[s.length]=_r("dimension",null,{ref:E}),s[s.length]=function P_(t,n,e,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),_r("sheetViews",_r("sheetView",null,s),{})}(0,0,0,e),n.sheetFormat&&(s[s.length]=_r("sheetFormatPr",null,{defaultRowHeight:n.sheetFormat.defaultRowHeight||"16",baseColWidth:n.sheetFormat.baseColWidth||"10",outlineLevelRow:n.sheetFormat.outlineLevelRow||"7"})),null!=x["!cols"]&&x["!cols"].length>0&&(s[s.length]=function Im(t,n){for(var r,e=["<cols>"],s=0;s!=n.length;++s)!(r=n[s])||(e[e.length]=_r("col",null,Zp(s,r)));return e[e.length]="</cols>",e.join("")}(0,x["!cols"])),s[p=s.length]="<sheetData/>",x["!links"]=[],null!=x["!ref"]&&(g=function wE(t,n,e,r){var x,oe,s=[],c=[],p=$i(t["!ref"]),g="",E="",D=[],F=0,B=0,K=t["!rows"],ee=Array.isArray(t),W={r:E},He=-1;for(B=p.s.c;B<=p.e.c;++B)D[B]=rn(B);for(F=p.s.r;F<=p.e.r;++F){for(c=[],E=go(F),B=p.s.c;B<=p.e.c;++B){x=D[B]+E;var We=ee?(t[F]||[])[B]:t[x];void 0!==We&&null!=(g=N_(We,x,t,n))&&c.push(g)}(c.length>0||K&&K[F])&&(W={r:E},K&&K[F]&&((oe=K[F]).hidden&&(W.hidden=1),He=-1,oe.hpx?He=Gd(oe.hpx):oe.hpt&&(He=oe.hpt),He>-1&&(W.ht=He,W.customHeight=1),oe.level&&(W.outlineLevel=oe.level)),s[s.length]=_r("row",c.join(""),W))}if(K)for(;F<K.length;++F)K&&K[F]&&(W={r:F+1},(oe=K[F]).hidden&&(W.hidden=1),He=-1,oe.hpx?He=Gd(oe.hpx):oe.hpt&&(He=oe.hpt),He>-1&&(W.ht=He,W.customHeight=1),oe.level&&(W.outlineLevel=oe.level),s[s.length]=_r("row","",W));return s.join("")}(x,n),g.length>0&&(s[s.length]=g)),s.length>p+1&&(s[s.length]="</sheetData>",s[p]=s[p].replace("/>",">")),x["!protect"]&&(s[s.length]=function Gh(t){var n={sheet:1};return wd.forEach(function(e){null!=t[e]&&t[e]&&(n[e]="1")}),Nu.forEach(function(e){null!=t[e]&&!t[e]&&(n[e]="0")}),t.password&&(n.password=Cy(t.password).toString(16).toUpperCase()),_r("sheetProtection",null,n)}(x["!protect"])),null!=x["!autofilter"]&&(s[s.length]=function O_(t,n,e,r){var s="string"==typeof t.ref?t.ref:wi(t.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var c=e.Workbook.Names,p=Vo(s);p.s.r==p.e.r&&(p.e.r=Vo(n["!ref"]).e.r,s=wi(p));for(var g=0;g<c.length;++g){var x=c[g];if("_xlnm._FilterDatabase"==x.Name&&x.Sheet==r){x.Ref="'"+e.SheetNames[r]+"'!"+s;break}}return g==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+s}),_r("autoFilter",null,{ref:s})}(x["!autofilter"],x,e,t)),null!=x["!merges"]&&x["!merges"].length>0&&(s[s.length]=function Hh(t){if(0===t.length)return"";for(var n='<mergeCells count="'+t.length+'">',e=0;e!=t.length;++e)n+='<mergeCell ref="'+wi(t[e])+'"/>';return n+"</mergeCells>"}(x["!merges"]));var K,B=-1,ee=-1;return x["!links"].length>0&&(s[s.length]="<hyperlinks>",x["!links"].forEach(function(W){!W[1].Target||(K={ref:W[0]},"#"!=W[1].Target.charAt(0)&&(ee=ws(r,-1,ss(W[1].Target).replace(/#.*$/,""),Ii.HLINK),K["r:id"]="rId"+ee),(B=W[1].Target.indexOf("#"))>-1&&(K.location=ss(W[1].Target.slice(B+1))),W[1].Tooltip&&(K.tooltip=ss(W[1].Tooltip)),s[s.length]=_r("hyperlink",null,K))}),s[s.length]="</hyperlinks>"),delete x["!links"],null!=x["!margins"]&&(s[s.length]=function hx(t){return Pu(t),_r("pageMargins",null,t)}(x["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&(s[s.length]=qs("ignoredErrors",_r("ignoredError",null,{numberStoredAsText:1,sqref:E}))),F.length>0&&(ee=ws(r,-1,"../drawings/drawing"+(t+1)+".xml",Ii.DRAW),s[s.length]=_r("drawing",null,{"r:id":"rId"+ee}),x["!drawing"]=F),x["!comments"].length>0&&(ee=ws(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ii.VML),s[s.length]=_r("legacyDrawing",null,{"r:id":"rId"+ee}),x["!legacy"]=ee),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function jh(t,n,e,r){var s=function B_(t,n,e){var r=Sn(145),s=(e["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var c=320;s.hpx?c=20*Gd(s.hpx):s.hpt&&(c=20*s.hpt),r.write_shift(2,c),r.write_shift(1,0);var p=0;s.level&&(p|=s.level),s.hidden&&(p|=16),(s.hpx||s.hpt)&&(p|=32),r.write_shift(1,p),r.write_shift(1,0);var g=0,x=r.l;r.l+=4;for(var E={r:t,c:0},D=0;D<16;++D)if(!(n.s.c>D+1<<10||n.e.c<D<<10)){for(var F=-1,B=-1,K=D<<10;K<D+1<<10;++K)E.c=K,(Array.isArray(e)?(e[E.r]||[])[E.c]:e[Kr(E)])&&(F<0&&(F=K),B=K);F<0||(++g,r.write_shift(4,F),r.write_shift(4,B))}var W=r.l;return r.l=x,r.write_shift(4,g),r.l=W,r.length>r.l?r.slice(0,r.l):r}(r,e,n);(s.length>17||(n["!rows"]||[])[r])&&Qn(t,0,s)}var V_=Ta,Rm=mo;var ka=Ta,Cx=mo,Kh=["left","right","top","bottom","header","footer"];function V1(t,n,e,r,s,c,p){if(void 0===n.v)return!1;var g="";switch(n.t){case"b":g=n.v?"1":"0";break;case"d":(n=Or(n)).z=n.z||ai[14],n.v=wn(Ti(n.v)),n.t="n";break;case"n":case"e":g=""+n.v;break;default:g=n.v}var x={r:e,c:r};switch(x.s=ql(s.cellXfs,n,s),n.l&&c["!links"].push([Kr(x),n.l]),n.c&&c["!comments"].push([Kr(x),n.c]),n.t){case"s":case"str":return s.bookSST?(g=k_(s.Strings,n.v,s.revStrings),x.t="s",x.v=g,p?Qn(t,18,function EE(t,n,e){return null==e&&(e=Sn(8)),Ui(n,e),e.write_shift(4,n.v),e}(0,x)):Qn(t,7,function G_(t,n,e){return null==e&&(e=Sn(12)),To(n,e),e.write_shift(4,n.v),e}(0,x))):(x.t="str",p?Qn(t,17,function Wh(t,n,e){return null==e&&(e=Sn(8+4*t.v.length)),Ui(n,e),qe(t.v,e),e.length>e.l?e.slice(0,e.l):e}(n,x)):Qn(t,6,function Ex(t,n,e){return null==e&&(e=Sn(12+4*t.v.length)),To(n,e),qe(t.v,e),e.length>e.l?e.slice(0,e.l):e}(n,x))),!0;case"n":return n.v==(0|n.v)&&n.v>-1e3&&n.v<1e3?p?Qn(t,13,function wx(t,n,e){return null==e&&(e=Sn(8)),Ui(n,e),Ga(t.v,e),e}(n,x)):Qn(t,2,function W_(t,n,e){return null==e&&(e=Sn(12)),To(n,e),Ga(t.v,e),e}(n,x)):p?Qn(t,16,function Nm(t,n,e){return null==e&&(e=Sn(12)),Ui(n,e),ro(t.v,e),e}(n,x)):Qn(t,5,function xx(t,n,e){return null==e&&(e=Sn(16)),To(n,e),ro(t.v,e),e}(n,x)),!0;case"b":return x.t="b",p?Qn(t,15,function gx(t,n,e){return null==e&&(e=Sn(5)),Ui(n,e),e.write_shift(1,t.v?1:0),e}(n,x)):Qn(t,4,function Bu(t,n,e){return null==e&&(e=Sn(9)),To(n,e),e.write_shift(1,t.v?1:0),e}(n,x)),!0;case"e":return x.t="e",p?Qn(t,14,function _x(t,n,e){return null==e&&(e=Sn(8)),Ui(n,e),e.write_shift(1,t.v),e.write_shift(2,0),e.write_shift(1,0),e}(n,x)):Qn(t,3,function H_(t,n,e){return null==e&&(e=Sn(9)),To(n,e),e.write_shift(1,t.v),e}(n,x)),!0}return p?Qn(t,12,function Fm(t,n,e){return null==e&&(e=Sn(4)),Ui(n,e)}(0,x)):Qn(t,1,function Om(t,n,e){return null==e&&(e=Sn(8)),To(n,e)}(0,x)),!0}function zf(t,n,e,r){var s=po(),c=e.SheetNames[t],p=e.Sheets[c]||{},g=c;try{e&&e.Workbook&&(g=e.Workbook.Sheets[t].CodeName||g)}catch{}var x=$i(p["!ref"]||"A1");if(x.e.c>16383||x.e.r>1048575){if(n.WTF)throw new Error("Range "+(p["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575)}return p["!links"]=[],p["!comments"]=[],Qn(s,129),(e.vbaraw||p["!outline"])&&Qn(s,147,function zh(t,n,e){null==e&&(e=Sn(84+4*t.length));var r=192;n&&(n.above&&(r&=-65),n.left&&(r&=-129)),e.write_shift(1,r);for(var s=1;s<3;++s)e.write_shift(1,0);return cc({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),Ha(t,e),e.slice(0,e.l)}(g,p["!outline"])),Qn(s,148,Rm(x)),function ev(t,n,e){Qn(t,133),Qn(t,137,function Ax(t,n,e){null==e&&(e=Sn(30));var r=924;return(((n||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}(0,e)),Qn(t,138),Qn(t,134)}(s,0,e.Workbook),function ou(t,n){!n||!n["!cols"]||(Qn(t,390),n["!cols"].forEach(function(e,r){e&&Qn(t,60,function jf(t,n,e){null==e&&(e=Sn(18));var r=Zp(t,n);e.write_shift(-4,t),e.write_shift(-4,t),e.write_shift(4,256*(r.width||10)),e.write_shift(4,0);var s=0;return n.hidden&&(s|=1),"number"==typeof r.width&&(s|=2),n.level&&(s|=n.level<<8),e.write_shift(2,s),e}(r,e))}),Qn(t,391))}(s,p),function iu(t,n,e,r){var s=$i(n["!ref"]||"A1"),p="",g=[];Qn(t,145);var x=Array.isArray(n),E=s.e.r;n["!rows"]&&(E=Math.max(s.e.r,n["!rows"].length-1));for(var D=s.s.r;D<=E;++D){p=go(D),jh(t,n,s,D);var F=!1;if(D<=s.e.r)for(var B=s.s.c;B<=s.e.c;++B){D===s.s.r&&(g[B]=rn(B));var K=x?(n[D]||[])[B]:n[g[B]+p];F=!!K&&V1(t,K,D,B,r,n,F)}}Qn(t,146)}(s,p,0,n),function tv(t,n){!n["!protect"]||Qn(t,535,function Q_(t,n){return null==n&&(n=Sn(66)),n.write_shift(2,t.password?Cy(t.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){n.write_shift(4,e[1]?null==t[e[0]]||t[e[0]]?0:1:null!=t[e[0]]&&t[e[0]]?0:1)}),n}(n["!protect"]))}(s,p),function eg(t,n,e,r){if(n["!autofilter"]){var s=n["!autofilter"],c="string"==typeof s.ref?s.ref:wi(s.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var p=e.Workbook.Names,g=Vo(c);g.s.r==g.e.r&&(g.e.r=Vo(n["!ref"]).e.r,c=wi(g));for(var x=0;x<p.length;++x){var E=p[x];if("_xlnm._FilterDatabase"==E.Name&&E.Sheet==r){E.Ref="'"+e.SheetNames[r]+"'!"+c;break}}x==p.length&&p.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+c}),Qn(t,161,mo($i(c))),Qn(t,162)}}(s,p,e,t),function su(t,n){!n||!n["!merges"]||(Qn(t,177,function DE(t,n){return null==n&&(n=Sn(4)),n.write_shift(4,t),n}(n["!merges"].length)),n["!merges"].forEach(function(e){Qn(t,176,Cx(e))}),Qn(t,178))}(s,p),function J_(t,n,e){n["!links"].forEach(function(r){if(r[1].Target){var s=ws(e,-1,r[1].Target.replace(/#.*$/,""),Ii.HLINK);Qn(t,494,function Y_(t,n){var e=Sn(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));mo({s:Hs(t[0]),e:Hs(t[0])},e),Cc("rId"+n,e);var r=t[1].Target.indexOf("#");return qe((-1==r?"":t[1].Target.slice(r+1))||"",e),qe(t[1].Tooltip||"",e),qe("",e),e.slice(0,e.l)}(r,s))}}),delete n["!links"]}(s,p,r),p["!margins"]&&Qn(s,476,function Tx(t,n){return null==n&&(n=Sn(48)),Pu(t),Kh.forEach(function(e){ro(t[e],n)}),n}(p["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&function Bm(t,n){!n||!n["!ref"]||(Qn(t,648),Qn(t,649,function L1(t){var n=Sn(24);return n.write_shift(4,4),n.write_shift(4,1),mo(t,n),n}($i(n["!ref"]))),Qn(t,650))}(s,p),function Ix(t,n,e,r){if(n["!comments"].length>0){var s=ws(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ii.VML);Qn(t,551,Cc("rId"+s)),n["!legacy"]=s}}(s,p,t,r),Qn(s,130),s.end()}var tg=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],nh="][*?/\\".split("");function rg(t,n){if(t.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return nh.forEach(function(r){if(-1!=t.indexOf(r)){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function u(t){var n=[ks];n[n.length]=_r("workbook",null,{xmlns:Ba[0],"xmlns:r":Rs_r});var e=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(tg.forEach(function(g){null!=t.Workbook.WBProps[g[0]]&&t.Workbook.WBProps[g[0]]!=g[1]&&(r[g[0]]=t.Workbook.WBProps[g[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),n[n.length]=_r("workbookPr",null,r);var s=t.Workbook&&t.Workbook.Sheets||[],c=0;if(s&&s[0]&&s[0].Hidden){for(n[n.length]="<bookViews>",c=0;c!=t.SheetNames.length&&s[c]&&s[c].Hidden;++c);c==t.SheetNames.length&&(c=0),n[n.length]='<workbookView firstSheet="'+c+'" activeTab="'+c+'"/>',n[n.length]="</bookViews>"}for(n[n.length]="<sheets>",c=0;c!=t.SheetNames.length;++c){var p={name:ss(t.SheetNames[c].slice(0,31))};if(p.sheetId=""+(c+1),p["r:id"]="rId"+(c+1),s[c])switch(s[c].Hidden){case 1:p.state="hidden";break;case 2:p.state="veryHidden"}n[n.length]=_r("sheet",null,p)}return n[n.length]="</sheets>",e&&(n[n.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(g){var x={name:g.Name};g.Comment&&(x.comment=g.Comment),null!=g.Sheet&&(x.localSheetId=""+g.Sheet),g.Hidden&&(x.hidden="1"),g.Ref&&(n[n.length]=_r("definedName",ss(g.Ref),x))}),n[n.length]="</definedNames>"),n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function o(t,n){return n||(n=Sn(127)),n.write_shift(4,t.Hidden),n.write_shift(4,t.iTabID),Cc(t.strRelID,n),qe(t.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n}function bn(t,n){var e=po();return Qn(e,131),Qn(e,128,function he(t,n){n||(n=Sn(127));for(var e=0;4!=e;++e)n.write_shift(4,0);return qe("SheetJS",n),qe(Ht_version,n),qe(Ht_version,n),qe("7262",n),n.length>n.l?n.slice(0,n.l):n}()),Qn(e,153,function v(t,n){n||(n=Sn(72));var e=0;return t&&t.filterPrivacy&&(e|=8),n.write_shift(4,e),n.write_shift(4,0),Ha(t&&t.CodeName||"ThisWorkbook",n),n.slice(0,n.l)}(t.Workbook&&t.Workbook.WBProps||null)),function Ct(t,n){if(n.Workbook&&n.Workbook.Sheets){for(var e=n.Workbook.Sheets,r=0,s=-1,c=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&-1==s?s=r:1==e[r].Hidden&&-1==c&&(c=r);c>s||(Qn(t,135),Qn(t,158,function Be(t,n){return n||(n=Sn(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,t),n.write_shift(4,t),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n}(s)),Qn(t,136))}}(e,t),function re(t,n){Qn(t,143);for(var e=0;e!=n.SheetNames.length;++e)Qn(t,156,o({Hidden:n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[e]&&n.Workbook.Sheets[e].Hidden||0,iTabID:e+1,strRelID:"rId"+(e+1),name:n.SheetNames[e]}));Qn(t,144)}(e,t),Qn(e,132),e.end()}function kE(t,n,e,r,s){return(".bin"===n.slice(-4)?zf:Hf)(t,e,r,s)}function Hm(t,n,e){return(".bin"===n.slice(-4)?$y:jy)(t,e)}function ME(t){return _r("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+pm(t.Ref,{r:0,c:0})})}function $1(t,n,e,r,s,c,p){if(!t||null==t.v&&null==t.f)return"";var g={};if(t.f&&(g["ss:Formula"]="="+ss(pm(t.f,p))),t.F&&t.F.slice(0,n.length)==n){var x=Hs(t.F.slice(n.length+1));g["ss:ArrayRange"]="RC:R"+(x.r==p.r?"":"["+(x.r-p.r)+"]")+"C"+(x.c==p.c?"":"["+(x.c-p.c)+"]")}if(t.l&&t.l.Target&&(g["ss:HRef"]=ss(t.l.Target),t.l.Tooltip&&(g["x:HRefScreenTip"]=ss(t.l.Tooltip))),e["!merges"])for(var E=e["!merges"],D=0;D!=E.length;++D)E[D].s.c!=p.c||E[D].s.r!=p.r||(E[D].e.c>E[D].s.c&&(g["ss:MergeAcross"]=E[D].e.c-E[D].s.c),E[D].e.r>E[D].s.r&&(g["ss:MergeDown"]=E[D].e.r-E[D].s.r));var F="",B="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":F="Number",B=String(t.v);break;case"b":F="Boolean",B=t.v?"1":"0";break;case"e":F="Error",B=Kc[t.v];break;case"d":F="DateTime",B=new Date(t.v).toISOString(),null==t.z&&(t.z=t.z||ai[14]);break;case"s":F="String",B=function Pa(t){return(t+"").replace(nc,function(e){return yc[e]}).replace(wl,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}(t.v||"")}var K=ql(r.cellXfs,t,r);g["ss:StyleID"]="s"+(21+K),g["ss:Index"]=p.c+1;var W="z"==t.t?"":'<Data ss:Type="'+F+'">'+(null!=t.v?B:"")+"</Data>";return(t.c||[]).length>0&&(W+=function W1(t){return t.map(function(n){var e=function gu(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}(n.t||""),r=_r("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return _r("Comment",r,{"ss:Author":n.a})}).join("")}(t.c)),_r("Cell",W,g)}function US(t,n){var e='<Row ss:Index="'+(t+1)+'"';return n&&(n.hpt&&!n.hpx&&(n.hpx=Oh(n.hpt)),n.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+n.hpx+'"'),n.hidden&&(e+=' ss:Hidden="1"')),e+">"}function GS(t,n,e){var r=[],c=e.Sheets[e.SheetNames[t]],p=c?function j1(t,n,e,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,c=[],p=0;p<s.length;++p){var g=s[p];g.Sheet==e&&(g.Name.match(/^_xlfn\./)||c.push(ME(g)))}return c.join("")}(c,0,t,e):"";return p.length>0&&r.push("<Names>"+p+"</Names>"),p=c?function HS(t,n,e,r){if(!t["!ref"])return"";var s=$i(t["!ref"]),c=t["!merges"]||[],p=0,g=[];t["!cols"]&&t["!cols"].forEach(function(oe,He){kh(oe);var We=!!oe.width,Le=Zp(He,oe),Bt={"ss:Index":He+1};We&&(Bt["ss:Width"]=Ih(Le.width)),oe.hidden&&(Bt["ss:Hidden"]="1"),g.push(_r("Column",null,Bt))});for(var x=Array.isArray(t),E=s.s.r;E<=s.e.r;++E){for(var D=[US(E,(t["!rows"]||[])[E])],F=s.s.c;F<=s.e.c;++F){var B=!1;for(p=0;p!=c.length;++p)if(!(c[p].s.c>F||c[p].s.r>E||c[p].e.c<F||c[p].e.r<E)){(c[p].s.c!=F||c[p].s.r!=E)&&(B=!0);break}if(!B){var K={r:E,c:F},ee=Kr(K);D.push($1(x?(t[E]||[])[F]:t[ee],ee,t,n,0,0,K))}}D.push("</Row>"),D.length>2&&g.push(D.join(""))}return g.join("")}(c,n):"",p.length>0&&r.push("<Table>"+p+"</Table>"),r.push(function z1(t,n,e,r){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(_r("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(_r("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(_r("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)s.push(_r("Visible",1==r.Workbook.Sheets[e].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var c=0;c<e&&(!r.Workbook.Sheets[c]||r.Workbook.Sheets[c].Hidden);++c);c==e&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(qs("ProtectContents","True")),t["!protect"].objects&&s.push(qs("ProtectObjects","True")),t["!protect"].scenarios&&s.push(qs("ProtectScenarios","True")),null==t["!protect"].selectLockedCells||t["!protect"].selectLockedCells?null!=t["!protect"].selectUnlockedCells&&!t["!protect"].selectUnlockedCells&&s.push(qs("EnableSelection","UnlockedCells")):s.push(qs("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(p){t["!protect"][p[0]]&&s.push("<"+p[1]+"/>")})),0==s.length?"":_r("WorksheetOptions",s.join(""),{xmlns:Xi_x})}(c,0,t,e)),r.join("")}function ov(t,n){n||(n={}),t.SSF||(t.SSF=Or(ai)),t.SSF&&(Ni(),cs(t.SSF),n.revssf=X(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF,n.cellXfs=[],ql(n.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(function xa(t,n){var e=[];return t.Props&&e.push(function kg(t,n){var e=[];return Ei(ad).map(function(r){for(var s=0;s<Aa.length;++s)if(Aa[s][1]==r)return Aa[s];for(s=0;s<dc.length;++s)if(dc[s][1]==r)return dc[s];throw r}).forEach(function(r){if(null!=t[r[1]]){var s=n&&n.Props&&null!=n.Props[r[1]]?n.Props[r[1]]:t[r[1]];"date"===r[2]&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof s?s=String(s):!0===s||!1===s?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),e.push(qs(ad[r[1]]||r[1],s))}}),_r("DocumentProperties",e.join(""),{xmlns:Xi_o})}(t.Props,n)),t.Custprops&&e.push(function Fd(t,n){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return t&&Ei(t).forEach(function(c){if(Object.prototype.hasOwnProperty.call(t,c)){for(var p=0;p<Aa.length;++p)if(c==Aa[p][1])return;for(p=0;p<dc.length;++p)if(c==dc[p][1])return;for(p=0;p<e.length;++p)if(c==e[p])return;var g=t[c],x="string";"number"==typeof g?(x="float",g=String(g)):!0===g||!1===g?(x="boolean",g=g?"1":"0"):g=String(g),s.push(_r(rc(c),g,{"dt:dt":x}))}}),n&&Ei(n).forEach(function(c){if(Object.prototype.hasOwnProperty.call(n,c)&&(!t||!Object.prototype.hasOwnProperty.call(t,c))){var p=n[c],g="string";"number"==typeof p?(g="float",p=String(p)):!0===p||!1===p?(g="boolean",p=p?"1":"0"):p instanceof Date?(g="dateTime.tz",p=p.toISOString()):p=String(p),s.push(_r(rc(c),p,{"dt:dt":g}))}}),"<"+r+' xmlns="'+Xi_o+'">'+s.join("")+"</"+r+">"}(t.Props,t.Custprops)),e.join("")}(t,n)),e.push(""),e.push(""),e.push("");for(var r=0;r<t.SheetNames.length;++r)e.push(_r("Worksheet",GS(r,n,t),{"ss:Name":ss(t.SheetNames[r])}));return e[2]=function G1(t,n){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return n.cellXfs.forEach(function(r,s){var c=[];c.push(_r("NumberFormat",null,{"ss:Format":ss(ai[r.numFmtId])}));var p={"ss:ID":"s"+(21+s)};e.push(_r("Style",c.join(""),p))}),_r("Styles",e.join(""))}(0,n),e[3]=function VS(t){if(!((t||{}).Workbook||{}).Names)return"";for(var n=t.Workbook.Names,e=[],r=0;r<n.length;++r){var s=n[r];null==s.Sheet&&(s.Name.match(/^_xlfn\./)||e.push(ME(s)))}return _r("Names",e.join(""))}(t),ks+_r("Workbook",e.join(""),{xmlns:Xi_ss,"xmlns:o":Xi_o,"xmlns:x":Xi_x,"xmlns:ss":Xi_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var cv={0:{f:function Mm(t,n){var e={},r=t.l+n;e.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var c=t.read_shift(1);return t.l=r,7&c&&(e.level=7&c),16&c&&(e.hidden=!0),32&c&&(e.hpt=s/20),e}},1:{f:function Jd(t){return[Mi(t)]}},2:{f:function z_(t){return[Mi(t),Tl(t),"n"]}},3:{f:function U_(t){return[Mi(t),t.read_shift(1),"e"]}},4:{f:function Gf(t){return[Mi(t),t.read_shift(1),"b"]}},5:{f:function j_(t){return[Mi(t),_o(t),"n"]}},6:{f:function Jp(t){return[Mi(t),ye(t),"str"]}},7:{f:function vx(t){return[Mi(t),t.read_shift(4),"s"]}},8:{f:function CE(t,n,e){var r=t.l+n,s=Mi(t);s.r=e["!row"];var p=[s,ye(t),"str"];if(e.cellFormula){t.l+=2;var g=Bh(t,r-t.l,e);p[3]=Ko(g,0,s,e.supbooks,e)}else t.l=r;return p}},9:{f:function bx(t,n,e){var r=t.l+n,s=Mi(t);s.r=e["!row"];var p=[s,_o(t),"n"];if(e.cellFormula){t.l+=2;var g=Bh(t,r-t.l,e);p[3]=Ko(g,0,s,e.supbooks,e)}else t.l=r;return p}},10:{f:function bE(t,n,e){var r=t.l+n,s=Mi(t);s.r=e["!row"];var p=[s,t.read_shift(1),"b"];if(e.cellFormula){t.l+=2;var g=Bh(t,r-t.l,e);p[3]=Ko(g,0,s,e.supbooks,e)}else t.l=r;return p}},11:{f:function $h(t,n,e){var r=t.l+n,s=Mi(t);s.r=e["!row"];var p=[s,t.read_shift(1),"e"];if(e.cellFormula){t.l+=2;var g=Bh(t,r-t.l,e);p[3]=Ko(g,0,s,e.supbooks,e)}else t.l=r;return p}},12:{f:function Xp(t){return[Xs(t)]}},13:{f:function $_(t){return[Xs(t),Tl(t),"n"]}},14:{f:function mx(t){return[Xs(t),t.read_shift(1),"e"]}},15:{f:function px(t){return[Xs(t),t.read_shift(1),"b"]}},16:{f:function Pm(t){return[Xs(t),_o(t),"n"]}},17:{f:function K_(t){return[Xs(t),ye(t),"str"]}},18:{f:function yx(t){return[Xs(t),t.read_shift(4),"s"]}},19:{f:Er},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function T(t,n,e){var r=t.l+n;t.l+=4,t.l+=1;var s=t.read_shift(4),c=sf(t),p=ax(t,0,e),g=bc(t);t.l=r;var x={Name:c,Ptg:p};return s<268435455&&(x.Sheet=s),g&&(x.Comment=g),x}},40:{},42:{},43:{f:function Jg(t,n,e){var r={};r.sz=t.read_shift(2)/20;var s=function io(t){var n=t.read_shift(1);return t.l++,{fBold:1&n,fItalic:2&n,fUnderline:4&n,fStrikeout:8&n,fOutline:16&n,fShadow:32&n,fCondense:64&n,fExtend:128&n}}(t);switch(s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1),700===t.read_shift(2)&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var p=t.read_shift(1);0!=p&&(r.underline=p);var g=t.read_shift(1);g>0&&(r.family=g);var x=t.read_shift(1);switch(x>0&&(r.charset=x),t.l++,r.color=function Dc(t){var n={},r=t.read_shift(1)>>>1,s=t.read_shift(1),c=t.read_shift(2,"i"),p=t.read_shift(1),g=t.read_shift(1),x=t.read_shift(1);switch(t.l++,r){case 0:n.auto=1;break;case 1:n.index=s;var E=zl[s];E&&(n.rgb=Rc(E));break;case 2:n.rgb=Rc([p,g,x]);break;case 3:n.theme=s}return 0!=c&&(n.tint=c>0?c/32767:c/32768),n}(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=ye(t),r}},44:{f:function Vi(t,n){return[t.read_shift(2),ye(t)]}},45:{f:$0},46:{f:K0},47:{f:function Fy(t,n){var e=t.l+n,r=t.read_shift(2),s=t.read_shift(2);return t.l=e,{ixfe:r,numFmtId:s}}},48:{},49:{f:function G(t){return t.read_shift(4,"i")}},50:{},51:{f:function lm(t){for(var n=[],e=t.read_shift(4);e-- >0;)n.push([t.read_shift(4),t.read_shift(4)]);return n}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function fd(t,n,e){if(!e.cellStyles)return Us(t,n);var r=e&&e.biff>=12?4:2,s=t.read_shift(r),c=t.read_shift(r),p=t.read_shift(r),g=t.read_shift(r),x=t.read_shift(2);2==r&&(t.l+=2);var E={s,e:c,w:p,ixfe:g,flags:x};return(e.biff>=5||!e.biff)&&(E.level=x>>8&7),E}},62:{f:function Lm(t){return[Mi(t),Er(t),"is"]}},63:{f:function Gy(t){var n={};n.i=t.read_shift(4);var e={};e.r=t.read_shift(4),e.c=t.read_shift(4),n.r=Kr(e);var r=t.read_shift(1);return 2&r&&(n.l="1"),8&r&&(n.a="1"),n}},64:{f:function X_(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Us,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function TE(t){var n=t.read_shift(2);return t.l+=28,{RTL:32&n}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function Pc(t,n){var e={},r=t[t.l];return++t.l,e.above=!(64&r),e.left=!(128&r),t.l+=18,e.name=dl(t,n-19),e}},148:{f:V_,p:16},151:{f:function SE(){}},152:{},153:{f:function f(t,n){var e={},r=t.read_shift(4);e.defaultThemeVersion=t.read_shift(4);var s=n>8?ye(t):"";return s.length>0&&(e.CodeName=s),e.autoCompressPictures=!!(65536&r),e.backupFile=!!(64&r),e.checkCompatibility=!!(4096&r),e.date1904=!!(1&r),e.filterPrivacy=!!(8&r),e.hidePivotFieldList=!!(1024&r),e.promptedSolutions=!!(16&r),e.publishItems=!!(2048&r),e.refreshAllConnections=!!(262144&r),e.saveExternalLinkValues=!!(128&r),e.showBorderUnselectedTables=!!(4&r),e.showInkAnnotation=!!(32&r),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(32768&r),e.updateLinks=["userSet","never","always"][r>>8&3],e}},154:{},155:{},156:{f:function i(t,n){var e={};return e.Hidden=t.read_shift(4),e.iTabID=t.read_shift(4),e.strRelID=Sa(t,n-8),e.name=ye(t),e}},157:{},158:{},159:{T:1,f:function my(t){return[t.read_shift(4),t.read_shift(4)]}},160:{T:-1},161:{T:1,f:Ta},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ka},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function Fh(t,n){return{flags:t.read_shift(4),version:t.read_shift(4),name:ye(t)}}},336:{T:-1},337:{f:function Hy(t){return t.l+=4,0!=t.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Sa},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function ly(t,n,e){if(e.biff<8)return function yp(t,n,e){3==t[t.l+1]&&t[t.l]++;var r=ls(t,0,e);return 3==r.charCodeAt(0)?r.slice(1):r}(t,0,e);for(var r=[],s=t.l+n,c=t.read_shift(e.biff>8?4:2);0!=c--;)r.push(_1(t,0,e));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function Sx(t,n,e){var r=t.l+n,s=el(t),c=t.read_shift(1),p=[s];if(p[2]=c,e.cellFormula){var g=O1(t,r-t.l,e);p[1]=g}else t.l=r;return p}},427:{f:function q_(t,n,e){var r=t.l+n,c=[Ta(t,16)];if(e.cellFormula){var p=lx(t,r-t.l,e);c[1]=p,t.l=r}else t.l=r;return c}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function Z_(t){var n={};return Kh.forEach(function(e){n[e]=_o(t)}),n}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function Lu(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function Dx(t,n){var e=t.l+n,r=Ta(t,16),s=bc(t),c=ye(t),p=ye(t),g=ye(t);t.l=e;var x={rfx:r,relId:s,loc:c,display:g};return p&&(x.Tooltip=p),x}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Sa},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zy},633:{T:1},634:{T:-1},635:{T:1,f:function S1(t){var n={};n.iauthor=t.read_shift(4);var e=Ta(t,16);return n.rfx=e.s,n.ref=Kr(e.s),t.l+=16,n}},636:{T:-1},637:{f:Pr},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function eh(t,n){return t.l+=10,{name:ye(t)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function Vu(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Vr(t,n,e,r){var s=n;if(!isNaN(s)){var c=r||(e||[]).length||0,p=t.next(4);p.write_shift(2,s),p.write_shift(2,c),c>0&&oc(e)&&t.push(e)}}function Km(t,n,e){return t||(t=Sn(7)),t.write_shift(2,n),t.write_shift(2,e),t.write_shift(2,0),t.write_shift(1,0),t}function qS(t,n,e,r){if(null!=n.v)switch(n.t){case"d":case"n":var s="d"==n.t?wn(Ti(n.v)):n.v;return void(s==(0|s)&&s>=0&&s<65536?Vr(t,2,function zw(t,n,e){var r=Sn(9);return Km(r,t,n),r.write_shift(2,e),r}(e,r,s)):Vr(t,3,function fy(t,n,e){var r=Sn(15);return Km(r,t,n),r.write_shift(8,e,"f"),r}(e,r,s)));case"b":case"e":return void Vr(t,5,function YS(t,n,e,r){var s=Sn(9);return Km(s,t,n),Kv(e,r||"b",s),s}(e,r,n.v,n.t));case"s":case"str":return void Vr(t,4,function q1(t,n,e){var r=Sn(8+2*e.length);return Km(r,t,n),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(e,r,(n.v||"").slice(0,255)))}Vr(t,1,Km(null,e,r))}function XS(t,n,e,r,s){var c=16+ql(s.cellXfs,n,s);if(null!=n.v||n.bf)if(n.bf)Vr(t,6,function xd(t,n,e,r,s){var c=Nd(n,e,s),p=function Js(t){if(null==t){var n=Sn(8);return n.write_shift(1,3),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,65535),n}return ro("number"==typeof t?t:0)}(t.v),g=Sn(6);g.write_shift(2,33),g.write_shift(4,0);for(var E=Sn(t.bf.length),D=0;D<t.bf.length;++D)E[D]=t.bf[D];return le([c,p,g,E])}(n,e,r,0,c));else switch(n.t){case"d":case"n":Vr(t,515,function ay(t,n,e,r){var s=Sn(14);return Nd(t,n,r,s),ro(e,s),s}(e,r,"d"==n.t?wn(Ti(n.v)):n.v,c));break;case"b":case"e":Vr(t,517,function b1(t,n,e,r,s,c){var p=Sn(8);return Nd(t,n,r,p),Kv(e,c,p),p}(e,r,n.v,c,0,n.t));break;case"s":case"str":s.bookSST?Vr(t,253,function iy(t,n,e,r){var s=Sn(10);return Nd(t,n,r,s),s.write_shift(4,e),s}(e,r,k_(s.Strings,n.v,s.revStrings),c)):Vr(t,516,function Au(t,n,e,r,s){var c=!s||8==s.biff,p=Sn(+c+8+(1+c)*e.length);return Nd(t,n,r,p),p.write_shift(2,e.length),c&&p.write_shift(1,1),p.write_shift((1+c)*e.length,e,c?"utf16le":"sbcs"),p}(e,r,(n.v||"").slice(0,255),c,s));break;default:Vr(t,513,Nd(e,r,c))}else Vr(t,513,Nd(e,r,c))}function Q1(t,n,e){var D,r=po(),s=e.SheetNames[t],c=e.Sheets[s]||{},p=(e||{}).Workbook||{},g=(p.Sheets||[])[t]||{},x=Array.isArray(c),E=8==n.biff,F="",B=[],K=$i(c["!ref"]||"A1"),ee=E?65536:16384;if(K.e.c>255||K.e.r>=ee){if(n.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:IV16384");K.e.c=Math.min(K.e.c,255),K.e.r=Math.min(K.e.c,ee-1)}Vr(r,2057,gf(0,16,n)),Vr(r,13,fl(1)),Vr(r,12,fl(100)),Vr(r,15,as(!0)),Vr(r,17,as(!1)),Vr(r,16,ro(.001)),Vr(r,95,as(!0)),Vr(r,42,as(!1)),Vr(r,43,as(!1)),Vr(r,130,fl(1)),Vr(r,128,function E1(t){var n=Sn(8);return n.write_shift(4,0),n.write_shift(2,t[0]?t[0]+1:0),n.write_shift(2,t[1]?t[1]+1:0),n}([0,0])),Vr(r,131,as(!1)),Vr(r,132,as(!1)),E&&function QS(t,n){if(n){var e=0;n.forEach(function(r,s){++e<=256&&r&&Vr(t,125,function xh(t,n){var e=Sn(12);e.write_shift(2,n),e.write_shift(2,n),e.write_shift(2,256*t.width),e.write_shift(2,0);var r=0;return t.hidden&&(r|=1),e.write_shift(1,r),e.write_shift(1,r=t.level||0),e.write_shift(2,0),e}(Zp(s,r),s))})}}(r,c["!cols"]),Vr(r,512,function Fw(t,n){var e=8!=n.biff&&n.biff?2:4,r=Sn(2*e+6);return r.write_shift(e,t.s.r),r.write_shift(e,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}(K,n)),E&&(c["!links"]=[]);for(var W=K.s.r;W<=K.e.r;++W){F=go(W);for(var oe=K.s.c;oe<=K.e.c;++oe){W===K.s.r&&(B[oe]=rn(oe)),D=B[oe]+F;var He=x?(c[W]||[])[oe]:c[D];!He||(XS(r,He,W,oe,n),E&&He.l&&c["!links"].push([D,He.l]))}}var We=g.CodeName||g.name||s;return E&&Vr(r,574,function Ow(t){var n=Sn(18),e=1718;return t&&t.RTL&&(e|=64),n.write_shift(2,e),n.write_shift(4,0),n.write_shift(4,64),n.write_shift(4,0),n.write_shift(4,0),n}((p.Views||[])[0])),E&&(c["!merges"]||[]).length&&Vr(r,229,function uy(t){var n=Sn(2+8*t.length);n.write_shift(2,t.length);for(var e=0;e<t.length;++e)Ng(t[e],n);return n}(c["!merges"])),E&&function Px(t,n){for(var e=0;e<n["!links"].length;++e){var r=n["!links"][e];Vr(t,440,O0(r)),r[1].Tooltip&&Vr(t,2048,P0(r))}delete n["!links"]}(r,c),Vr(r,442,df(We)),E&&function Tk(t,n){var e=Sn(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Vr(t,2151,e),(e=Sn(39)).write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),Ng($i(n["!ref"]||"A1"),e),e.write_shift(4,4),Vr(t,2152,e)}(r,c),Vr(r,10),r.end()}function uv(t,n,e){var r=po(),s=(t||{}).Workbook||{},c=s.Sheets||[],p=s.WBProps||{},g=8==e.biff,x=5==e.biff;Vr(r,2057,gf(0,5,e)),"xla"==e.bookType&&Vr(r,135),Vr(r,225,g?fl(1200):null),Vr(r,193,function bu(t,n){n||(n=Sn(t));for(var e=0;e<t;++e)n.write_shift(1,0);return n}(2)),x&&Vr(r,191),x&&Vr(r,192),Vr(r,226),Vr(r,92,function Xv(t,n){var e=!n||8==n.biff,r=Sn(e?112:54);for(r.write_shift(8==n.biff?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}(0,e)),Vr(r,66,fl(g?1200:1252)),g&&Vr(r,353,fl(0)),g&&Vr(r,448),Vr(r,317,function N0(t){for(var n=Sn(2*t),e=0;e<t;++e)n.write_shift(2,e+1);return n}(t.SheetNames.length)),g&&t.vbaraw&&Vr(r,211),g&&t.vbaraw&&Vr(r,442,df(p.CodeName||"ThisWorkbook")),Vr(r,156,fl(17)),Vr(r,25,as(!1)),Vr(r,18,as(!1)),Vr(r,19,fl(0)),g&&Vr(r,431,as(!1)),g&&Vr(r,444,fl(0)),Vr(r,61,function _f(){var t=Sn(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}()),Vr(r,64,as(!1)),Vr(r,141,fl(0)),Vr(r,34,as("true"==function qh(t){return t.Workbook&&t.Workbook.WBProps&&function Ms(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(t.Workbook.WBProps.date1904)?"true":"false"}(t))),Vr(r,14,as(!0)),g&&Vr(r,439,as(!1)),Vr(r,218,fl(0)),function Dk(t,n,e){Vr(t,49,function ry(t,n){var e=t.name||"Arial",r=n&&5==n.biff,c=Sn(r?15+e.length:16+2*e.length);return c.write_shift(2,20*(t.sz||12)),c.write_shift(4,0),c.write_shift(2,400),c.write_shift(4,0),c.write_shift(2,0),c.write_shift(1,e.length),r||c.write_shift(1,1),c.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),c}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}(r,0,e),function Sk(t,n,e){!n||[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=n[s]&&Vr(t,1054,_p(s,n[s],e))})}(r,t.SSF,e),function Z1(t,n){for(var e=0;e<16;++e)Vr(t,224,Nw({numFmtId:0,style:!0},0,n));n.cellXfs.forEach(function(r){Vr(t,224,Nw(r,0,n))})}(r,e),g&&Vr(r,352,as(!1));var D=r.end(),F=po();g&&Vr(F,140,function Gg(t){return t||(t=Sn(4)),t.write_shift(2,1),t.write_shift(2,1),t}()),g&&e.Strings&&function Y1(t,n,e,r){var s=r||(e||[]).length||0;if(s<=8224)return Vr(t,n,e,s);var c=n;if(!isNaN(c)){for(var p=e.parts||[],g=0,x=0,E=0;E+(p[g]||8224)<=8224;)E+=p[g]||8224,g++;var D=t.next(4);for(D.write_shift(2,c),D.write_shift(2,E),t.push(e.slice(x,x+E)),x+=E;x<s;){for((D=t.next(4)).write_shift(2,60),E=0;E+(p[g]||8224)<=8224;)E+=p[g]||8224,g++;D.write_shift(2,E),t.push(e.slice(x,x+E)),x+=E}}}(F,252,function Jv(t,n){var e=Sn(8);e.write_shift(4,t.Count),e.write_shift(4,t.Unique);for(var r=[],s=0;s<t.length;++s)r[s]=dp(t[s]);var c=le([e].concat(r));return c.parts=[e.length].concat(r.map(function(p){return p.length})),c}(e.Strings)),Vr(F,10);var B=F.end(),K=po(),ee=0,W=0;for(W=0;W<t.SheetNames.length;++W)ee+=(g?12:11)+(g?2:1)*t.SheetNames[W].length;var oe=D.length+ee+B.length;for(W=0;W<t.SheetNames.length;++W)Vr(K,133,b0({pos:oe,hs:(c[W]||{}).Hidden||0,dt:0,name:t.SheetNames[W]},e)),oe+=n[W].length;var We=K.end();if(ee!=We.length)throw new Error("BS8 "+ee+" != "+We.length);var Le=[];return D.length&&Le.push(D),We.length&&Le.push(We),B.length&&Le.push(B),le(Le)}function X1(t,n){for(var e=0;e<=t.SheetNames.length;++e){var r=t.Sheets[t.SheetNames[e]];r&&r["!ref"]&&Vo(r["!ref"]).e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}var c=n||{};switch(c.biff||2){case 8:case 5:return function JS(t,n){var e=n||{},r=[];t&&!t.SSF&&(t.SSF=Or(ai)),t&&t.SSF&&(Ni(),cs(t.SSF),e.revssf=X(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,HE(e),e.cellXfs=[],ql(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)r[r.length]=Q1(s,e,t);return r.unshift(uv(t,r,e)),le(r)}(t,n);case 4:case 3:case 2:return function Ck(t,n){for(var e=n||{},r=po(),s=0,c=0;c<t.SheetNames.length;++c)t.SheetNames[c]==e.sheet&&(s=c);if(0==s&&e.sheet&&t.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return Vr(r,4==e.biff?1033:3==e.biff?521:9,gf(0,16,e)),function ZS(t,n,e,r){var p,s=Array.isArray(n),c=$i(n["!ref"]||"A1"),g="",x=[];if(c.e.c>255||c.e.r>16383){if(r.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");c.e.c=Math.min(c.e.c,255),c.e.r=Math.min(c.e.c,16383),p=wi(c)}for(var E=c.s.r;E<=c.e.r;++E){g=go(E);for(var D=c.s.c;D<=c.e.c;++D){E===c.s.r&&(x[D]=rn(D)),p=x[D]+g;var F=s?(n[E]||[])[D]:n[p];!F||qS(t,F,E,D)}}}(r,t.Sheets[t.SheetNames[s]],0,e),Vr(r,10),r.end()}(t,n)}throw new Error("invalid type "+c.bookType+" for BIFF")}function eC(t,n,e,r){for(var s=t["!merges"]||[],c=[],p=n.s.c;p<=n.e.c;++p){for(var g=0,x=0,E=0;E<s.length;++E)if(!(s[E].s.r>e||s[E].s.c>p||s[E].e.r<e||s[E].e.c<p)){if(s[E].s.r<e||s[E].s.c<p){g=-1;break}g=s[E].e.r-s[E].s.r+1,x=s[E].e.c-s[E].s.c+1;break}if(!(g<0)){var D=Kr({r:e,c:p}),F=r.dense?(t[e]||[])[p]:t[D],B=F&&null!=F.v&&(F.h||Ys(F.w||(Ws(F),F.w)||""))||"",K={};g>1&&(K.rowspan=g),x>1&&(K.colspan=x),r.editable?B='<span contenteditable="true">'+B+"</span>":F&&(K["data-t"]=F&&F.t||"z",null!=F.v&&(K["data-v"]=F.v),null!=F.z&&(K["data-z"]=F.z),F.l&&"#"!=(F.l.Target||"#").charAt(0)&&(B='<a href="'+F.l.Target+'">'+B+"</a>")),K.id=(r.id||"sjs")+"-"+D,c.push(_r("td",B,K))}}return"<tr>"+c.join("")+"</tr>"}function ig(t,n){var e=n||{},s=null!=e.footer?e.footer:"</body></html>",c=[null!=e.header?e.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],p=Vo(t["!ref"]);e.dense=Array.isArray(t),c.push(function nC(t,n,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var g=p.s.r;g<=p.e.r;++g)c.push(eC(t,p,g,e));return c.push("</table>"+s),c.join("")}function rC(t,n,e){var r=e||{},s=0,c=0;if(null!=r.origin)if("number"==typeof r.origin)s=r.origin;else{var p="string"==typeof r.origin?Hs(r.origin):r.origin;s=p.r,c=p.c}var g=n.getElementsByTagName("tr"),x=Math.min(r.sheetRows||1e7,g.length),E={s:{r:0,c:0},e:{r:s,c}};if(t["!ref"]){var D=Vo(t["!ref"]);E.s.r=Math.min(E.s.r,D.s.r),E.s.c=Math.min(E.s.c,D.s.c),E.e.r=Math.max(E.e.r,D.e.r),E.e.c=Math.max(E.e.c,D.e.c),-1==s&&(E.e.r=s=D.e.r+1)}var F=[],B=0,K=t["!rows"]||(t["!rows"]=[]),ee=0,W=0,oe=0,He=0,We=0,Le=0;for(t["!cols"]||(t["!cols"]=[]);ee<g.length&&W<x;++ee){var Bt=g[ee];if(PE(Bt)){if(r.display)continue;K[W]={hidden:!0}}var dn=Bt.children;for(oe=He=0;oe<dn.length;++oe){var In=dn[oe];if(!r.display||!PE(In)){var vt=In.hasAttribute("data-v")?In.getAttribute("data-v"):In.hasAttribute("v")?In.getAttribute("v"):Bl(In.innerHTML),ln=In.getAttribute("data-z")||In.getAttribute("z");for(B=0;B<F.length;++B){var Qt=F[B];Qt.s.c==He+c&&Qt.s.r<W+s&&W+s<=Qt.e.r&&(He=Qt.e.c+1-c,B=-1)}Le=+In.getAttribute("colspan")||1,((We=+In.getAttribute("rowspan")||1)>1||Le>1)&&F.push({s:{r:W+s,c:He+c},e:{r:W+s+(We||1)-1,c:He+c+(Le||1)-1}});var Bn={t:"s",v:vt},$n=In.getAttribute("data-t")||In.getAttribute("t")||"";null!=vt&&(0==vt.length?Bn.t=$n||"z":r.raw||0==vt.trim().length||"s"==$n||("TRUE"===vt?Bn={t:"b",v:!0}:"FALSE"===vt?Bn={t:"b",v:!1}:isNaN(As(vt))?isNaN(Io(vt).getDate())||(Bn={t:"d",v:Ti(vt)},r.cellDates||(Bn={t:"n",v:wn(Bn.v)}),Bn.z=r.dateNF||ai[14]):Bn={t:"n",v:As(vt)})),void 0===Bn.z&&null!=ln&&(Bn.z=ln);var hn="",Ir=In.getElementsByTagName("A");if(Ir&&Ir.length)for(var oi=0;oi<Ir.length&&(!Ir[oi].hasAttribute("href")||"#"==(hn=Ir[oi].getAttribute("href")).charAt(0));++oi);hn&&"#"!=hn.charAt(0)&&(Bn.l={Target:hn}),r.dense?(t[W+s]||(t[W+s]=[]),t[W+s][He+c]=Bn):t[Kr({c:He+c,r:W+s})]=Bn,E.e.c<He+c&&(E.e.c=He+c),He+=Le}}++W}return F.length&&(t["!merges"]=(t["!merges"]||[]).concat(F)),E.e.r=Math.max(E.e.r,W-1+s),t["!ref"]=wi(E),W>=x&&(t["!fullref"]=wi((E.e.r=g.length-ee+W-1+s,E))),t}function FE(t,n){return rC((n||{}).dense?[]:{},t,n)}function PE(t){var n="",e=function nT(t){return t.ownerDocument.defaultView&&"function"==typeof t.ownerDocument.defaultView.getComputedStyle?t.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(t);return e&&(n=e(t).getPropertyValue("display")),n||(n=t.style&&t.style.display),"none"===n}var aC=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),n="<office:document-styles "+_a({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ks+n}}(),lC=function(){var t=function(c){return ss(c).replace(/  +/g,function(p){return'<text:s text:c="'+p.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},n="          <table:table-cell />\n",r=function(c,p,g){var x=[];x.push('      <table:table table:name="'+ss(p.SheetNames[g])+'" table:style-name="ta1">\n');var E=0,D=0,F=Vo(c["!ref"]||"A1"),B=c["!merges"]||[],K=0,ee=Array.isArray(c);if(c["!cols"])for(D=0;D<=F.e.c;++D)x.push("        <table:table-column"+(c["!cols"][D]?' table:style-name="co'+c["!cols"][D].ods+'"':"")+"></table:table-column>\n");var oe=c["!rows"]||[];for(E=0;E<F.s.r;++E)x.push("        <table:table-row"+(oe[E]?' table:style-name="ro'+oe[E].ods+'"':"")+"></table:table-row>\n");for(;E<=F.e.r;++E){for(x.push("        <table:table-row"+(oe[E]?' table:style-name="ro'+oe[E].ods+'"':"")+">\n"),D=0;D<F.s.c;++D)x.push(n);for(;D<=F.e.c;++D){var He=!1,We={},Le="";for(K=0;K!=B.length;++K)if(!(B[K].s.c>D||B[K].s.r>E||B[K].e.c<D||B[K].e.r<E)){(B[K].s.c!=D||B[K].s.r!=E)&&(He=!0),We["table:number-columns-spanned"]=B[K].e.c-B[K].s.c+1,We["table:number-rows-spanned"]=B[K].e.r-B[K].s.r+1;break}if(He)x.push("          <table:covered-table-cell/>\n");else{var Bt=Kr({r:E,c:D}),dn=ee?(c[E]||[])[D]:c[Bt];if(dn&&dn.f&&(We["table:formula"]=ss(Ho(dn.f)),dn.F&&dn.F.slice(0,Bt.length)==Bt)){var In=Vo(dn.F);We["table:number-matrix-columns-spanned"]=In.e.c-In.s.c+1,We["table:number-matrix-rows-spanned"]=In.e.r-In.s.r+1}if(dn){switch(dn.t){case"b":Le=dn.v?"TRUE":"FALSE",We["office:value-type"]="boolean",We["office:boolean-value"]=dn.v?"true":"false";break;case"n":Le=dn.w||String(dn.v||0),We["office:value-type"]="float",We["office:value"]=dn.v||0;break;case"s":case"str":Le=dn.v??"",We["office:value-type"]="string";break;case"d":Le=dn.w||Ti(dn.v).toISOString(),We["office:value-type"]="date",We["office:date-value"]=Ti(dn.v).toISOString(),We["table:style-name"]="ce1";break;default:x.push(n);continue}var vt=t(Le);if(dn.l&&dn.l.Target){var ln=dn.l.Target;"#"!=(ln="#"==ln.charAt(0)?"#"+F1(ln.slice(1)):ln).charAt(0)&&!ln.match(/^\w+:/)&&(ln="../"+ln),vt=_r("text:a",vt,{"xlink:href":ln.replace(/&/g,"&amp;")})}x.push("          "+_r("table:table-cell",_r("text:p",vt,{}),We)+"\n")}else x.push(n)}}x.push("        </table:table-row>\n")}return x.push("      </table:table>\n"),x.join("")};return function(p,g){var x=[ks],E=_a({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),D=_a({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==g.bookType?(x.push("<office:document"+E+D+">\n"),x.push(od().replace(/office:document-meta/g,"office:meta"))):x.push("<office:document-content"+E+">\n"),function(c,p){c.push(" <office:automatic-styles>\n"),c.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),c.push('   <number:month number:style="long"/>\n'),c.push("   <number:text>/</number:text>\n"),c.push('   <number:day number:style="long"/>\n'),c.push("   <number:text>/</number:text>\n"),c.push("   <number:year/>\n"),c.push("  </number:date-style>\n");var g=0;p.SheetNames.map(function(E){return p.Sheets[E]}).forEach(function(E){if(E&&E["!cols"])for(var D=0;D<E["!cols"].length;++D)if(E["!cols"][D]){var F=E["!cols"][D];if(null==F.width&&null==F.wpx&&null==F.wch)continue;kh(F),F.ods=g;var B=E["!cols"][D].wpx+"px";c.push('  <style:style style:name="co'+g+'" style:family="table-column">\n'),c.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+B+'"/>\n'),c.push("  </style:style>\n"),++g}});var x=0;p.SheetNames.map(function(E){return p.Sheets[E]}).forEach(function(E){if(E&&E["!rows"])for(var D=0;D<E["!rows"].length;++D)if(E["!rows"][D]){E["!rows"][D].ods=x;var F=E["!rows"][D].hpx+"px";c.push('  <style:style style:name="ro'+x+'" style:family="table-row">\n'),c.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+F+'"/>\n'),c.push("  </style:style>\n"),++x}}),c.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),c.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),c.push("  </style:style>\n"),c.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),c.push(" </office:automatic-styles>\n")}(x,p),x.push("  <office:body>\n"),x.push("    <office:spreadsheet>\n");for(var F=0;F!=p.SheetNames.length;++F)x.push(r(p.Sheets[p.SheetNames[F]],p,F));return x.push("    </office:spreadsheet>\n"),x.push("  </office:body>\n"),x.push("fods"==g.bookType?"</office:document>":"</office:document-content>"),x.join("")}}();function cC(t,n){if("fods"==n.bookType)return lC(t,n);var e=yl(),r="",s=[],c=[];return Ai(e,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Ai(e,r="content.xml",lC(t,n)),s.push([r,"text/xml"]),c.push([r,"ContentFile"]),Ai(e,r="styles.xml",aC(t,n)),s.push([r,"text/xml"]),c.push([r,"StylesFile"]),Ai(e,r="meta.xml",ks+od()),s.push([r,"text/xml"]),c.push([r,"MetadataFile"]),Ai(e,r="manifest.rdf",function Ag(t){var n=[ks];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var e=0;e!=t.length;++e)n.push(op(t[e][0],t[e][1])),n.push(ap("",t[e][0]));return n.push(op("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(c)),s.push([r,"application/rdf+xml"]),Ai(e,r="META-INF/manifest.xml",function uc(t){var n=[ks];n.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),n.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var e=0;e<t.length;++e)n.push('  <manifest:file-entry manifest:full-path="'+t[e][0]+'" manifest:media-type="'+t[e][1]+'"/>\n');return n.push("</manifest:manifest>"),n.join("")}(s)),e}function sg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rT(t){return typeof TextEncoder<"u"?(new TextEncoder).encode(t):Nn(Na(t))}function $f(t){var n=t.reduce(function(s,c){return s+c.length},0),e=new Uint8Array(n),r=0;return t.forEach(function(s){e.set(s,r),r+=s.length}),e}function hv(t,n){var e=n?n[0]:0,r=127&t[e];e:if(t[e++]>=128&&(r|=(127&t[e])<<7,t[e++]<128||(r|=(127&t[e])<<14,t[e++]<128)||(r|=(127&t[e])<<21,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,28),++e,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,35),++e,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,42),++e,t[e++]<128)))break e;return n&&(n[0]=e),r}function oo(t){var n=new Uint8Array(7);n[0]=127&t;var e=1;e:if(t>127){if(n[e-1]|=128,n[e]=t>>7&127,++e,t<=16383||(n[e-1]|=128,n[e]=t>>14&127,++e,t<=2097151)||(n[e-1]|=128,n[e]=t>>21&127,++e,t<=268435455)||(n[e-1]|=128,n[e]=t/256>>>21&127,++e,t<=34359738367)||(n[e-1]|=128,n[e]=t/65536>>>21&127,++e,t<=4398046511103))break e;n[e-1]|=128,n[e]=t/16777216>>>21&127,++e}return n.slice(0,e)}function wa(t){var n=0,e=127&t[n];e:if(t[n++]>=128){if(e|=(127&t[n])<<7,t[n++]<128||(e|=(127&t[n])<<14,t[n++]<128)||(e|=(127&t[n])<<21,t[n++]<128))break e;e|=(127&t[n])<<28}return e}function $s(t){for(var n=[],e=[0];e[0]<t.length;){var g,r=e[0],s=hv(t,e),c=7&s,p=0;if(0==(s=Math.floor(s/8)))break;switch(c){case 0:for(var x=e[0];t[e[0]++]>=128;);g=t.slice(x,e[0]);break;case 5:g=t.slice(e[0],e[0]+(p=4)),e[0]+=p;break;case 1:g=t.slice(e[0],e[0]+(p=8)),e[0]+=p;break;case 2:p=hv(t,e),g=t.slice(e[0],e[0]+p),e[0]+=p;break;default:throw new Error("PB Type ".concat(c," for Field ").concat(s," at offset ").concat(r))}var E={data:g,type:c};null==n[s]?n[s]=[E]:n[s].push(E)}return n}function rl(t){var n=[];return t.forEach(function(e,r){e.forEach(function(s){!s.data||(n.push(oo(8*r+s.type)),2==s.type&&n.push(oo(s.data.length)),n.push(s.data))})}),$f(n)}function Hu(t){for(var n,e=[],r=[0];r[0]<t.length;){var s=hv(t,r),c=$s(t.slice(r[0],r[0]+s));r[0]+=s;var p={id:wa(c[1][0].data),messages:[]};c[2].forEach(function(g){var x=$s(g.data),E=wa(x[3][0].data);p.messages.push({meta:x,data:t.slice(r[0],r[0]+E)}),r[0]+=E}),null!=(n=c[3])&&n[0]&&(p.merge=wa(c[3][0].data)>>>0>0),e.push(p)}return e}function Ym(t){var n=[];return t.forEach(function(e){var r=[];r[1]=[{data:oo(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:oo(+!!e.merge),type:0}]);var s=[];e.messages.forEach(function(p){s.push(p.data),p.meta[3]=[{type:0,data:oo(p.data.length)}],r[2].push({data:rl(p.meta),type:2})});var c=rl(r);n.push(oo(c.length)),n.push(c),s.forEach(function(p){return n.push(p)})}),$f(n)}function hC(t,n){if(0!=t)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var e=[0],r=hv(n,e),s=[];e[0]<n.length;){var c=3&n[e[0]];if(0!=c){var x=0,E=0;if(1==c?(E=4+(n[e[0]]>>2&7),x=(224&n[e[0]++])<<3,x|=n[e[0]++]):(E=1+(n[e[0]++]>>2),2==c?(x=n[e[0]]|n[e[0]+1]<<8,e[0]+=2):(x=(n[e[0]]|n[e[0]+1]<<8|n[e[0]+2]<<16|n[e[0]+3]<<24)>>>0,e[0]+=4)),s=[$f(s)],0==x)throw new Error("Invalid offset 0");if(x>s[0].length)throw new Error("Invalid offset beyond length");if(E>=x)for(s.push(s[0].slice(-x)),E-=x;E>=s[s.length-1].length;)s.push(s[s.length-1]),E-=s[s.length-1].length;s.push(s[0].slice(-x,-x+E))}else{var p=n[e[0]++]>>2;if(p<60)++p;else{var g=p-59;p=n[e[0]],g>1&&(p|=n[e[0]+1]<<8),g>2&&(p|=n[e[0]+2]<<16),g>3&&(p|=n[e[0]+3]<<24),p>>>=0,p++,e[0]+=g}s.push(n.slice(e[0],e[0]+p)),e[0]+=p}}var D=$f(s);if(D.length!=r)throw new Error("Unexpected length: ".concat(D.length," != ").concat(r));return D}function Gu(t){for(var n=[],e=0;e<t.length;){var r=t[e++],s=t[e]|t[e+1]<<8|t[e+2]<<16;n.push(hC(r,t.slice(e+=3,e+s))),e+=s}if(e!==t.length)throw new Error("data is not a valid framed stream!");return $f(n)}function qm(t){for(var n=[],e=0;e<t.length;){var r=Math.min(t.length-e,268435455),s=new Uint8Array(4);n.push(s);var c=oo(r),p=c.length;n.push(c),r<=60?(p++,n.push(new Uint8Array([r-1<<2]))):r<=256?(p+=2,n.push(new Uint8Array([240,r-1&255]))):r<=65536?(p+=3,n.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(p+=4,n.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(p+=5,n.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),n.push(t.slice(e,e+r)),p+=r,s[0]=0,s[1]=255&p,s[2]=p>>8&255,s[3]=p>>16&255,e+=r}return $f(n)}function fv(t,n){var e=new Uint8Array(32),r=sg(e),s=12,c=0;switch(e[0]=5,t.t){case"n":e[1]=2,function sT(t,n,e){var r=Math.floor(0==e?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,s=e/Math.pow(10,r-6176);t[n+15]|=r>>7,t[n+14]|=(127&r)<<1;for(var c=0;s>=1;++c,s/=256)t[n+c]=255&s;t[n+15]|=e>=0?0:128}(e,s,t.v),c|=1,s+=16;break;case"b":e[1]=6,r.setFloat64(s,t.v?1:0,!0),c|=2,s+=8;break;case"s":if(-1==n.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));e[1]=3,r.setUint32(s,n.indexOf(t.v),!0),c|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,c,!0),e.slice(0,s)}function Bx(t,n){var e=new Uint8Array(32),r=sg(e),s=12,c=0;switch(e[0]=3,t.t){case"n":e[2]=2,r.setFloat64(s,t.v,!0),c|=32,s+=8;break;case"b":e[2]=6,r.setFloat64(s,t.v?1:0,!0),c|=32,s+=8;break;case"s":if(-1==n.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));e[2]=3,r.setUint32(s,n.indexOf(t.v),!0),c|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,c,!0),e.slice(0,s)}function Zl(t){return hv($s(t)[1][0].data)}function VE(t,n,e){var r,s,c,p;if(null==(r=t[6])||!r[0]||null==(s=t[7])||!s[0])throw"Mutation only works on post-BNC storages!";if((null==(p=null==(c=t[8])?void 0:c[0])?void 0:p.data)&&wa(t[8][0].data)>0)throw"Math only works with normal offsets";for(var x=0,E=sg(t[7][0].data),D=0,F=[],B=sg(t[4][0].data),K=0,ee=[],W=0;W<n.length;++W)if(null!=n[W]){var oe,He;switch(E.setUint16(2*W,D,!0),B.setUint16(2*W,K,!0),typeof n[W]){case"string":oe=fv({t:"s",v:n[W]},e),He=Bx({t:"s",v:n[W]},e);break;case"number":oe=fv({t:"n",v:n[W]},e),He=Bx({t:"n",v:n[W]},e);break;case"boolean":oe=fv({t:"b",v:n[W]},e),He=Bx({t:"b",v:n[W]},e);break;default:throw new Error("Unsupported value "+n[W])}F.push(oe),D+=oe.length,ee.push(He),K+=He.length,++x}else E.setUint16(2*W,65535,!0),B.setUint16(2*W,65535);for(t[2][0].data=oo(x);W<t[7][0].data.length/2;++W)E.setUint16(2*W,65535,!0),B.setUint16(2*W,65535,!0);return t[6][0].data=$f(F),t[3][0].data=$f(ee),x}function HE(t){!function Hx(t){return function(e){for(var r=0;r!=t.length;++r){var s=t[r];void 0===e[s[0]]&&(e[s[0]]=s[1]),"n"===s[2]&&(e[s[0]]=Number(e[s[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function dT(t,n){return"ods"==n.bookType?cC(t,n):"numbers"==n.bookType?function cT(t,n){if(!n||!n.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Vo(e["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(wi(r)));var c=pv(e,{range:r,header:1}),p=["~Sh33tJ5~"];c.forEach(function(Mt){return Mt.forEach(function(Nt){"string"==typeof Nt&&p.push(Nt)})});var g={},x=[],E=ti.read(n.numbers,{type:"base64"});E.FileIndex.map(function(Mt,Nt){return[Mt,E.FullPaths[Nt]]}).forEach(function(Mt){var Nt=Mt[0],Jn=Mt[1];2==Nt.type&&Nt.name.match(/\.iwa/)&&Hu(Gu(Nt.content)).forEach(function(ur){x.push(ur.id),g[ur.id]={deps:[],location:Jn,type:wa(ur.messages[0].meta[1][0].data)}})}),x.sort(function(Mt,Nt){return Mt-Nt});var D=x.filter(function(Mt){return Mt>1}).map(function(Mt){return[Mt,oo(Mt)]});E.FileIndex.map(function(Mt,Nt){return[Mt,E.FullPaths[Nt]]}).forEach(function(Mt){var Nt=Mt[0];Nt.name.match(/\.iwa/)&&Hu(Gu(Nt.content)).forEach(function(Sr){Sr.messages.forEach(function(xr){D.forEach(function(ur){Sr.messages.some(function(es){return 11006!=wa(es.meta[1][0].data)&&function uC(t,n){e:for(var e=0;e<=t.length-n.length;++e){for(var r=0;r<n.length;++r)if(t[e+r]!=n[r])continue e;return!0}return!1}(es.data,ur[1])})&&g[ur[0]].deps.push(Sr.id)})})})});for(var ee,B=ti.find(E,g[1].location),K=Hu(Gu(B.content)),W=0;W<K.length;++W){var oe=K[W];1==oe.id&&(ee=oe)}var He=Zl($s(ee.messages[0].data)[1][0].data);for(K=Hu(Gu((B=ti.find(E,g[He].location)).content)),W=0;W<K.length;++W)(oe=K[W]).id==He&&(ee=oe);for(He=Zl($s(ee.messages[0].data)[2][0].data),K=Hu(Gu((B=ti.find(E,g[He].location)).content)),W=0;W<K.length;++W)(oe=K[W]).id==He&&(ee=oe);for(He=Zl($s(ee.messages[0].data)[2][0].data),K=Hu(Gu((B=ti.find(E,g[He].location)).content)),W=0;W<K.length;++W)(oe=K[W]).id==He&&(ee=oe);var We=$s(ee.messages[0].data);We[6][0].data=oo(r.e.r+1),We[7][0].data=oo(r.e.c+1);for(var Le=Zl(We[46][0].data),Bt=ti.find(E,g[Le].location),dn=Hu(Gu(Bt.content)),In=0;In<dn.length&&dn[In].id!=Le;++In);if(dn[In].id!=Le)throw"Bad ColumnRowUIDMapArchive";var vt=$s(dn[In].messages[0].data);vt[1]=[],vt[2]=[],vt[3]=[];for(var ln=0;ln<=r.e.c;++ln){var Qt=[];Qt[1]=Qt[2]=[{type:0,data:oo(ln+420690)}],vt[1].push({type:2,data:rl(Qt)}),vt[2].push({type:0,data:oo(ln)}),vt[3].push({type:0,data:oo(ln)})}vt[4]=[],vt[5]=[],vt[6]=[];for(var Bn=0;Bn<=r.e.r;++Bn)(Qt=[])[1]=Qt[2]=[{type:0,data:oo(Bn+726270)}],vt[4].push({type:2,data:rl(Qt)}),vt[5].push({type:0,data:oo(Bn)}),vt[6].push({type:0,data:oo(Bn)});dn[In].messages[0].data=rl(vt),Bt.content=qm(Ym(dn)),Bt.size=Bt.content.length,delete We[46];var $n=$s(We[4][0].data);$n[7][0].data=oo(r.e.r+1);var Ir=Zl($s($n[1][0].data)[2][0].data);if((dn=Hu(Gu((Bt=ti.find(E,g[Ir].location)).content)))[0].id!=Ir)throw"Bad HeaderStorageBucket";var oi=$s(dn[0].messages[0].data);for(Bn=0;Bn<c.length;++Bn){var zr=$s(oi[2][0].data);zr[1][0].data=oo(Bn),zr[4][0].data=oo(c[Bn].length),oi[2][Bn]={type:oi[2][0].type,data:rl(zr)}}dn[0].messages[0].data=rl(oi),Bt.content=qm(Ym(dn)),Bt.size=Bt.content.length;var cr=Zl($n[2][0].data);if((dn=Hu(Gu((Bt=ti.find(E,g[cr].location)).content)))[0].id!=cr)throw"Bad HeaderStorageBucket";for(oi=$s(dn[0].messages[0].data),ln=0;ln<=r.e.c;++ln)(zr=$s(oi[2][0].data))[1][0].data=oo(ln),zr[4][0].data=oo(r.e.r+1),oi[2][ln]={type:oi[2][0].type,data:rl(zr)};dn[0].messages[0].data=rl(oi),Bt.content=qm(Ym(dn)),Bt.size=Bt.content.length;var ar=Zl($n[4][0].data);!function(){for(var Jn,Mt=ti.find(E,g[ar].location),Nt=Hu(Gu(Mt.content)),Dr=0;Dr<Nt.length;++Dr){var Sr=Nt[Dr];Sr.id==ar&&(Jn=Sr)}var xr=$s(Jn.messages[0].data);xr[3]=[];var ur=[];p.forEach(function(Oo,Fs){ur[1]=[{type:0,data:oo(Fs)}],ur[2]=[{type:0,data:oo(1)}],ur[3]=[{type:2,data:rT(Oo)}],xr[3].push({type:2,data:rl(ur)})}),Jn.messages[0].data=rl(xr);var It=qm(Ym(Nt));Mt.content=It,Mt.size=Mt.content.length}();var Ur=$s($n[3][0].data),gr=Ur[1][0];delete Ur[2];var ci=$s(gr.data),or=Zl(ci[2][0].data);!function(){for(var Jn,Mt=ti.find(E,g[or].location),Nt=Hu(Gu(Mt.content)),Dr=0;Dr<Nt.length;++Dr){var Sr=Nt[Dr];Sr.id==or&&(Jn=Sr)}var xr=$s(Jn.messages[0].data);delete xr[6],delete Ur[7];var ur=new Uint8Array(xr[5][0].data);xr[5]=[];for(var es=0,It=0;It<=r.e.r;++It){var Oo=$s(ur);es+=VE(Oo,c[It],p),Oo[1][0].data=oo(It),xr[5].push({data:rl(Oo),type:2})}xr[1]=[{type:0,data:oo(r.e.c+1)}],xr[2]=[{type:0,data:oo(r.e.r+1)}],xr[3]=[{type:0,data:oo(es)}],xr[4]=[{type:0,data:oo(r.e.r+1)}],Jn.messages[0].data=rl(xr);var Fo=qm(Ym(Nt));Mt.content=Fo,Mt.size=Mt.content.length}(),gr.data=rl(ci),$n[3][0].data=rl(Ur),We[4][0].data=rl($n),ee.messages[0].data=rl(We);var Tn=qm(Ym(K));return B.content=Tn,B.size=B.content.length,E}(t,n):"xlsb"==n.bookType?function hT(t,n){pc=1024,t&&!t.SSF&&(t.SSF=Or(ai)),t&&t.SSF&&(Ni(),cs(t.SSF),n.revssf=X(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,qp?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var e="xlsb"==n.bookType?"bin":"xml",r=Ky.indexOf(n.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};HE(n=n||{});var c=yl(),p="",g=0;if(n.cellXfs=[],ql(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),Ai(c,p="docProps/core.xml",qc(t.Props,n)),s.coreprops.push(p),ws(n.rels,2,p,Ii.CORE_PROPS),p="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var x=[],E=0;E<t.SheetNames.length;++E)2!=(t.Workbook.Sheets[E]||{}).Hidden&&x.push(t.SheetNames[E]);t.Props.SheetNames=x}else t.Props.SheetNames=t.SheetNames;for(t.Props.Worksheets=t.Props.SheetNames.length,Ai(c,p,lp(t.Props)),s.extprops.push(p),ws(n.rels,3,p,Ii.EXT_PROPS),t.Custprops!==t.Props&&Ei(t.Custprops||{}).length>0&&(Ai(c,p="docProps/custom.xml",cp(t.Custprops)),s.custprops.push(p),ws(n.rels,4,p,Ii.CUST_PROPS)),g=1;g<=t.SheetNames.length;++g){var D={"!id":{}},F=t.Sheets[t.SheetNames[g-1]];if(Ai(c,p="xl/worksheets/sheet"+g+"."+e,kE(g-1,p,n,t,D)),s.sheets.push(p),ws(n.wbrels,-1,"worksheets/sheet"+g+"."+e,Ii.WS[0]),F){var K=F["!comments"],ee=!1,W="";K&&K.length>0&&(Ai(c,W="xl/comments"+g+"."+e,Hm(K,W,n)),s.comments.push(W),ws(D,-1,"../comments"+g+"."+e,Ii.CMNT),ee=!0),F["!legacy"]&&ee&&Ai(c,"xl/drawings/vmlDrawing"+g+".vml",Np(g,F["!comments"])),delete F["!comments"],delete F["!legacy"]}D["!id"].rId1&&Ai(c,Yc(p),sd(D))}return null!=n.Strings&&n.Strings.length>0&&(Ai(c,p="xl/sharedStrings."+e,function OS(t,n,e){return(".bin"===n.slice(-4)?_y:Kg)(t,e)}(n.Strings,p,n)),s.strs.push(p),ws(n.wbrels,-1,"sharedStrings."+e,Ii.SST)),Ai(c,p="xl/workbook."+e,function IE(t,n,e){return(".bin"===n.slice(-4)?bn:u)(t,e)}(t,p,n)),s.workbooks.push(p),ws(n.rels,1,p,Ii.WB),Ai(c,p="xl/theme/theme1.xml",If(t.Themes,n)),s.themes.push(p),ws(n.wbrels,-1,"theme/theme1.xml",Ii.THEME),Ai(c,p="xl/styles."+e,function RS(t,n,e){return(".bin"===n.slice(-4)?zd:Cf)(t,e)}(t,p,n)),s.styles.push(p),ws(n.wbrels,-1,"styles."+e,Ii.STY),t.vbaraw&&r&&(Ai(c,p="xl/vbaProject.bin",t.vbaraw),s.vba.push(p),ws(n.wbrels,-1,"vbaProject.bin",Ii.VBA)),Ai(c,p="xl/metadata."+e,function Ek(t){return(".bin"===t.slice(-4)?tu:Fp)()}(p)),s.metadata.push(p),ws(n.wbrels,-1,"metadata."+e,Ii.XLMETA),Ai(c,"[Content_Types].xml",y0(s,n)),Ai(c,"_rels/.rels",sd(n.rels)),Ai(c,"xl/_rels/workbook."+e+".rels",sd(n.wbrels)),delete n.revssf,delete n.ssf,c}(t,n):function vC(t,n){pc=1024,t&&!t.SSF&&(t.SSF=Or(ai)),t&&t.SSF&&(Ni(),cs(t.SSF),n.revssf=X(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,qp?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var e="xml",r=Ky.indexOf(n.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};HE(n=n||{});var c=yl(),p="",g=0;if(n.cellXfs=[],ql(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),Ai(c,p="docProps/core.xml",qc(t.Props,n)),s.coreprops.push(p),ws(n.rels,2,p,Ii.CORE_PROPS),p="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var x=[],E=0;E<t.SheetNames.length;++E)2!=(t.Workbook.Sheets[E]||{}).Hidden&&x.push(t.SheetNames[E]);t.Props.SheetNames=x}else t.Props.SheetNames=t.SheetNames;t.Props.Worksheets=t.Props.SheetNames.length,Ai(c,p,lp(t.Props)),s.extprops.push(p),ws(n.rels,3,p,Ii.EXT_PROPS),t.Custprops!==t.Props&&Ei(t.Custprops||{}).length>0&&(Ai(c,p="docProps/custom.xml",cp(t.Custprops)),s.custprops.push(p),ws(n.rels,4,p,Ii.CUST_PROPS));var D=["SheetJ5"];for(n.tcid=0,g=1;g<=t.SheetNames.length;++g){var F={"!id":{}},B=t.Sheets[t.SheetNames[g-1]];if(Ai(c,p="xl/worksheets/sheet"+g+"."+e,Hf(g-1,n,t,F)),s.sheets.push(p),ws(n.wbrels,-1,"worksheets/sheet"+g+"."+e,Ii.WS[0]),B){var ee=B["!comments"],W=!1,oe="";if(ee&&ee.length>0){var He=!1;ee.forEach(function(We){We[1].forEach(function(Le){1==Le.T&&(He=!0)})}),He&&(Ai(c,oe="xl/threadedComments/threadedComment"+g+"."+e,s_(ee,D,n)),s.threadedcomments.push(oe),ws(F,-1,"../threadedComments/threadedComment"+g+"."+e,Ii.TCMNT)),Ai(c,oe="xl/comments"+g+"."+e,jy(ee)),s.comments.push(oe),ws(F,-1,"../comments"+g+"."+e,Ii.CMNT),W=!0}B["!legacy"]&&W&&Ai(c,"xl/drawings/vmlDrawing"+g+".vml",Np(g,B["!comments"])),delete B["!comments"],delete B["!legacy"]}F["!id"].rId1&&Ai(c,Yc(p),sd(F))}return null!=n.Strings&&n.Strings.length>0&&(Ai(c,p="xl/sharedStrings."+e,Kg(n.Strings,n)),s.strs.push(p),ws(n.wbrels,-1,"sharedStrings."+e,Ii.SST)),Ai(c,p="xl/workbook."+e,u(t)),s.workbooks.push(p),ws(n.rels,1,p,Ii.WB),Ai(c,p="xl/theme/theme1.xml",If(t.Themes,n)),s.themes.push(p),ws(n.wbrels,-1,"theme/theme1.xml",Ii.THEME),Ai(c,p="xl/styles."+e,Cf(t,n)),s.styles.push(p),ws(n.wbrels,-1,"styles."+e,Ii.STY),t.vbaraw&&r&&(Ai(c,p="xl/vbaProject.bin",t.vbaraw),s.vba.push(p),ws(n.wbrels,-1,"vbaProject.bin",Ii.VBA)),Ai(c,p="xl/metadata."+e,Fp()),s.metadata.push(p),ws(n.wbrels,-1,"metadata."+e,Ii.XLMETA),D.length>1&&(Ai(c,p="xl/persons/person.xml",function dm(t){var n=[ks,_r("personList",null,{xmlns:Rs_TCMNT,"xmlns:x":Ba[0]}).replace(/[\/]>/,">")];return t.forEach(function(e,r){n.push(_r("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),n.push("</personList>"),n.join("")}(D)),s.people.push(p),ws(n.wbrels,-1,"persons/person.xml",Ii.PEOPLE)),Ai(c,"[Content_Types].xml",y0(s,n)),Ai(c,"_rels/.rels",sd(n.rels)),Ai(c,"xl/_rels/workbook.xml.rels",sd(n.wbrels)),delete n.revssf,delete n.ssf,c}(t,n)}function WE(t,n){switch(n.type){case"base64":case"binary":break;case"buffer":case"array":n.type="";break;case"file":return ma(n.file,ti.write(t,{type:tt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");default:throw new Error("Unrecognized type "+n.type)}return ti.write(t,n)}function ih(t,n,e){e||(e="");var r=e+t;switch(n.type){case"base64":return ke(Na(r));case"binary":return Na(r);case"string":return t;case"file":return ma(n.file,r,"utf8");case"buffer":return tt?Tt(r,"utf8"):typeof TextEncoder<"u"?(new TextEncoder).encode(r):ih(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function jx(t,n){switch(n.type){case"string":case"base64":case"binary":for(var e="",r=0;r<t.length;++r)e+=String.fromCharCode(t[r]);return"base64"==n.type?ke(e):"string"==n.type?us(e):e;case"file":return ma(n.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+n.type)}}function og(t,n){(function V(){Y(1200),function Ke(){gt(1252)}()})(),function sv(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");!function rh(t,n,e){t.forEach(function(r,s){rg(r);for(var c=0;c<s;++c)if(r==t[c])throw new Error("Duplicate Sheet Name: "+r);if(e){var p=n&&n[s]&&n[s].CodeName||r;if(95==p.charCodeAt(0)&&p.length>22)throw new Error("Bad Code Name: Worksheet"+p)}})}(t.SheetNames,t.Workbook&&t.Workbook.Sheets||[],!!t.vbaraw);for(var e=0;e<t.SheetNames.length;++e)Qp(t.Sheets[t.SheetNames[e]],0,e)}(t);var e=Or(n||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),"array"==e.type){e.type="binary";var r=og(t,e);return e.type="array",bt(r)}var s=0;if(e.sheet&&(s="number"==typeof e.sheet?e.sheet:t.SheetNames.indexOf(e.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return ih(ov(t,e),e);case"slk":case"sylk":return ih(zg.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"htm":case"html":return ih(ig(t.Sheets[t.SheetNames[s]],e),e);case"txt":return function mT(t,n){switch(n.type){case"base64":return ke(t);case"binary":case"string":return t;case"file":return ma(n.file,t,"binary");case"buffer":return tt?Tt(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}(YE(t.Sheets[t.SheetNames[s]],e),e);case"csv":return ih($x(t.Sheets[t.SheetNames[s]],e),e,"\ufeff");case"dif":return ih(wp.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"dbf":return jx(Ch.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"prn":return ih(xf.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"rtf":return ih(Dp.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"eth":return ih(Wg.from_sheet(t.Sheets[t.SheetNames[s]],e),e);case"fods":return ih(cC(t,e),e);case"wk1":return jx(Iu.sheet_to_wk1(t.Sheets[t.SheetNames[s]],e),e);case"wk3":return jx(Iu.book_to_wk3(t,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),jx(X1(t,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),function gT(t,n){var e=n||{};return WE(function KS(t,n){var e=n||{},r=ti.utils.cfb_new({root:"R"}),s="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":s="/Workbook",e.biff=8;break;case"biff5":s="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return ti.utils.cfb_add(r,s,X1(t,e)),8==e.biff&&(t.Props||t.Custprops)&&function lv(t,n){var p,e=[],r=[],s=[],c=0,g=Q(va,"n"),x=Q(Wc,"n");if(t.Props)for(p=Ei(t.Props),c=0;c<p.length;++c)(Object.prototype.hasOwnProperty.call(g,p[c])?e:Object.prototype.hasOwnProperty.call(x,p[c])?r:s).push([p[c],t.Props[p[c]]]);if(t.Custprops)for(p=Ei(t.Custprops),c=0;c<p.length;++c)Object.prototype.hasOwnProperty.call(t.Props||{},p[c])||(Object.prototype.hasOwnProperty.call(g,p[c])?e:Object.prototype.hasOwnProperty.call(x,p[c])?r:s).push([p[c],t.Custprops[p[c]]]);var E=[];for(c=0;c<s.length;++c)ld.indexOf(s[c][0])>-1||af.indexOf(s[c][0])>-1||null!=s[c][1]&&E.push(s[c]);r.length&&ti.utils.cfb_add(n,"/\x05SummaryInformation",up(r,"e0859ff2f94f6810ab9108002b27b3d9",x,Wc)),(e.length||E.length)&&ti.utils.cfb_add(n,"/\x05DocumentSummaryInformation",up(e,"02d5cdd59c2e1b10939708002b2cf9ae",g,va,E.length?E:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(t,r),8==e.biff&&t.vbaraw&&function sE(t,n){n.FullPaths.forEach(function(e,r){if(0!=r){var s=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==s.slice(-1)&&ti.utils.cfb_add(t,s,n.FileIndex[r].content)}})}(r,ti.read(t.vbaraw,{type:"string"==typeof t.vbaraw?"binary":"buffer"})),r}(t,e),e)}(t,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function wC(t,n){var e=Or(n||{});return function $E(t,n){var e={},r=tt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(n.compression&&(e.compression="DEFLATE"),n.password)e.type=r;else switch(n.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+n.type)}var s=t.FullPaths?ti.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!n.compression}):t.generate(e);if(typeof Deno<"u"&&"string"==typeof s){if("binary"==n.type||"base64"==n.type)return s;s=new Uint8Array(bt(s))}return n.password&&typeof encrypt_agile<"u"?WE(encrypt_agile(s,n.password),n):"file"===n.type?ma(n.file,s):"string"==n.type?us(s):s}(dT(t,e),e)}(t,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function Wx(t,n,e){var r=e||{};return r.type="file",r.file=n,function zx(t){if(!t.bookType){var e=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(t.bookType=e.slice(1)),t.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[t.bookType]||t.bookType}}(r),og(t,r)}function KE(t,n,e,r,s,c,p,g){var x=go(e),E=g.defval,D=g.raw||!Object.prototype.hasOwnProperty.call(g,"raw"),F=!0,B=1===s?[]:{};if(1!==s)if(Object.defineProperty)try{Object.defineProperty(B,"__rowNum__",{value:e,enumerable:!1})}catch{B.__rowNum__=e}else B.__rowNum__=e;if(!p||t[e])for(var K=n.s.c;K<=n.e.c;++K){var ee=p?t[e][K]:t[r[K]+x];if(void 0!==ee&&void 0!==ee.t){var W=ee.v;switch(ee.t){case"z":if(null==W)break;continue;case"e":W=0==W?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+ee.t)}if(null!=c[K]){if(null==W)if("e"==ee.t&&null===W)B[c[K]]=null;else if(void 0!==E)B[c[K]]=E;else{if(!D||null!==W)continue;B[c[K]]=null}else B[c[K]]=D&&("n"!==ee.t||"n"===ee.t&&!1!==g.rawNumbers)?W:Ws(ee,W,g);null!=W&&(F=!1)}}else{if(void 0===E)continue;null!=c[K]&&(B[c[K]]=E)}}return{row:B,isempty:F}}function pv(t,n){if(null==t||null==t["!ref"])return[];var e={t:"n",v:0},r=0,s=1,c=[],p=0,g="",x={s:{r:0,c:0},e:{r:0,c:0}},E=n||{},D=null!=E.range?E.range:t["!ref"];switch(1===E.header?r=1:"A"===E.header?r=2:Array.isArray(E.header)?r=3:null==E.header&&(r=0),typeof D){case"string":x=$i(D);break;case"number":(x=$i(t["!ref"])).s.r=D;break;default:x=D}r>0&&(s=0);var F=go(x.s.r),B=[],K=[],ee=0,W=0,oe=Array.isArray(t),He=x.s.r,We=0,Le={};oe&&!t[He]&&(t[He]=[]);var Bt=E.skipHidden&&t["!cols"]||[],dn=E.skipHidden&&t["!rows"]||[];for(We=x.s.c;We<=x.e.c;++We)if(!(Bt[We]||{}).hidden)switch(B[We]=rn(We),e=oe?t[He][We]:t[B[We]+F],r){case 1:c[We]=We-x.s.c;break;case 2:c[We]=B[We];break;case 3:c[We]=E.header[We-x.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),g=p=Ws(e,null,E),W=Le[p]||0){do{g=p+"_"+W++}while(Le[g]);Le[p]=W,Le[g]=1}else Le[p]=1;c[We]=g}for(He=x.s.r+s;He<=x.e.r;++He)if(!(dn[He]||{}).hidden){var In=KE(t,x,He,B,r,c,oe,E);(!1===In.isempty||(1===r?!1!==E.blankrows:E.blankrows))&&(K[ee++]=In.row)}return K.length=ee,K}var bC=/"/g;function yT(t,n,e,r,s,c,p,g){for(var x=!0,E=[],D="",F=go(e),B=n.s.c;B<=n.e.c;++B)if(r[B]){var K=g.dense?(t[e]||[])[B]:t[r[B]+F];if(null==K)D="";else if(null!=K.v){x=!1,D=""+(g.rawNumbers&&"n"==K.t?K.v:Ws(K,null,g));for(var ee=0,W=0;ee!==D.length;++ee)if((W=D.charCodeAt(ee))===s||W===c||34===W||g.forceQuotes){D='"'+D.replace(bC,'""')+'"';break}"ID"==D&&(D='"ID"')}else null==K.f||K.F?D="":(x=!1,(D="="+K.f).indexOf(",")>=0&&(D='"'+D.replace(bC,'""')+'"'));E.push(D)}return!1===g.blankrows&&x?null:E.join(p)}function $x(t,n){var e=[],r=n??{};if(null==t||null==t["!ref"])return"";var s=$i(t["!ref"]),c=void 0!==r.FS?r.FS:",",p=c.charCodeAt(0),g=void 0!==r.RS?r.RS:"\n",x=g.charCodeAt(0),E=new RegExp(("|"==c?"\\|":c)+"+$"),D="",F=[];r.dense=Array.isArray(t);for(var B=r.skipHidden&&t["!cols"]||[],K=r.skipHidden&&t["!rows"]||[],ee=s.s.c;ee<=s.e.c;++ee)(B[ee]||{}).hidden||(F[ee]=rn(ee));for(var W=0,oe=s.s.r;oe<=s.e.r;++oe)(K[oe]||{}).hidden||null!=(D=yT(t,s,oe,F,p,x,c,r))&&(r.strip&&(D=D.replace(E,"")),(D||!1!==r.blankrows)&&e.push((W++?g:"")+D));return delete r.dense,e.join("")}function YE(t,n){n||(n={}),n.FS="\t",n.RS="\n";var e=$x(t,n);return e}function CC(t,n,e){var r=e||{},s=+!r.skipHeader,c=t||{},p=0,g=0;if(c&&null!=r.origin)if("number"==typeof r.origin)p=r.origin;else{var x="string"==typeof r.origin?Hs(r.origin):r.origin;p=x.r,g=x.c}var E,D={s:{c:0,r:0},e:{c:g,r:p+n.length-1+s}};if(c["!ref"]){var F=$i(c["!ref"]);D.e.c=Math.max(D.e.c,F.e.c),D.e.r=Math.max(D.e.r,F.e.r),-1==p&&(D.e.r=(p=F.e.r+1)+n.length-1+s)}else-1==p&&(p=0,D.e.r=n.length-1+s);var B=r.header||[],K=0;n.forEach(function(W,oe){Ei(W).forEach(function(He){-1==(K=B.indexOf(He))&&(B[K=B.length]=He);var We=W[He],Le="z",Bt="",dn=Kr({c:g+K,r:p+oe+s});E=Zh(c,dn),!We||"object"!=typeof We||We instanceof Date?("number"==typeof We?Le="n":"boolean"==typeof We?Le="b":"string"==typeof We?Le="s":We instanceof Date?(Le="d",r.cellDates||(Le="n",We=wn(We)),Bt=r.dateNF||ai[14]):null===We&&r.nullError&&(Le="e",We=0),E?(E.t=Le,E.v=We,delete E.w,delete E.R,Bt&&(E.z=Bt)):c[dn]=E={t:Le,v:We},Bt&&(E.z=Bt)):c[dn]=We})}),D.e.c=Math.max(D.e.c,g+B.length-1);var ee=go(p);if(s)for(K=0;K<B.length;++K)c[rn(K+g)+ee]={t:"s",v:B[K]};return c["!ref"]=wi(D),c}function Zh(t,n,e){if("string"==typeof n){if(Array.isArray(t)){var r=Hs(n);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[n]||(t[n]={t:"z"})}return Zh(t,Kr("number"!=typeof n?n:{r:n,c:e||0}))}function Qm(t,n,e){return n?(t.l={Target:n},e&&(t.l.Tooltip=e)):delete t.l,t}var zu={encode_col:rn,encode_row:go,encode_cell:Kr,encode_range:wi,decode_col:vu,decode_row:Ec,split_cell:function sp(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Hs,decode_range:Vo,format_cell:Ws,sheet_add_aoa:O,sheet_add_json:CC,sheet_add_dom:rC,aoa_to_sheet:I,json_to_sheet:function wT(t,n){return CC(null,t,n)},table_to_sheet:FE,table_to_book:function tT(t,n){return k(FE(t,n),n)},sheet_to_csv:$x,sheet_to_txt:YE,sheet_to_json:pv,sheet_to_html:ig,sheet_to_formulae:function xT(t){var e,n="",r="";if(null==t||null==t["!ref"])return[];var g,s=$i(t["!ref"]),c="",p=[],x=[],E=Array.isArray(t);for(g=s.s.c;g<=s.e.c;++g)p[g]=rn(g);for(var D=s.s.r;D<=s.e.r;++D)for(c=go(D),g=s.s.c;g<=s.e.c;++g)if(n=p[g]+c,r="",void 0!==(e=E?(t[D]||[])[g]:t[n])){if(null!=e.F){if(n=e.F,!e.f)continue;r=e.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}x[x.length]=n+"="+r}return x},sheet_to_row_object_array:pv,sheet_get_cell:Zh,book_new:function gv(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function ju(t,n,e,r){var s=1;if(!e)for(;s<=65535&&-1!=t.SheetNames.indexOf(e="Sheet"+s);++s,e=void 0);if(!e||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(e)>=0){var c=e.match(/(^.*?)(\d+)$/);s=c&&+c[2]||0;var p=c&&c[1]||e;for(++s;s<=65535&&-1!=t.SheetNames.indexOf(e=p+s);++s);}if(rg(e),t.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return t.SheetNames.push(e),t.Sheets[e]=n,e},book_set_sheet_visibility:function bT(t,n,e){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=function ET(t,n){if("number"==typeof n){if(n>=0&&t.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}if("string"==typeof n){var e=t.SheetNames.indexOf(n);if(e>-1)return e;throw new Error("Cannot find sheet name |"+n+"|")}throw new Error("Cannot find sheet |"+n+"|")}(t,n);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}t.Workbook.Sheets[r].Hidden=e},cell_set_number_format:function Kx(t,n){return t.z=n,t},cell_set_hyperlink:Qm,cell_set_internal_link:function CT(t,n,e){return Qm(t,"#"+n,e)},cell_add_comment:function DT(t,n,e){t.c||(t.c=[]),t.c.push({t:n,a:e||"SheetJS"})},sheet_set_array_formula:function ST(t,n,e,r){for(var s="string"!=typeof n?n:$i(n),c="string"==typeof n?n:wi(n),p=s.s.r;p<=s.e.r;++p)for(var g=s.s.c;g<=s.e.c;++g){var x=Zh(t,p,g);x.t="n",x.F=c,delete x.v,p==s.s.r&&g==s.s.c&&(x.f=e,r&&(x.D=!0))}return t},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},lg=M(7009);function kT(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"a",13)(1,"h3",14),d._uU(2),d.qZA(),d.TgZ(3,"div")(4,"button",15),d.NdJ("click",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.onDelete(c.id))}),d.TgZ(5,"mat-icon",16),d._uU(6,"delete"),d.qZA()(),d.TgZ(7,"button",15),d.NdJ("click",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.edit(c))}),d.TgZ(8,"mat-icon",16),d._uU(9,"edit"),d.qZA()()()()}if(2&t){const e=n.$implicit;d.xp6(2),d.AsE("",e.datas.foodName[0].toUpperCase()+e.datas.foodName.substring(1)," (",e.datas.foodAmount,")")}}function Fk(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"button",17),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.exportexcel())}),d._uU(1,"Exportar para Excel "),d._UZ(2,"img",18),d.qZA()}}function qE(t,n){if(1&t&&(d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA()()),2&t){const e=n.$implicit;d.xp6(2),d.Oqu(e.datas.foodName[0].toUpperCase()+e.datas.foodName.substring(1)),d.xp6(2),d.Oqu(e.datas.foodAmount)}}let Yx=(()=>{class t{constructor(e,r){this._snackBar=e,this.firestore=r,this.fileName="Estoque.xlsx",this.delete=new d.vpe,this.inputMode=!1,this.foodList=[]}ngOnInit(){var e=this;return(0,st.Z)(function*(){e.foodEdit=new Ye.X(""),sessionStorage.setItem("method",""),e.firestore.collection("food").snapshotChanges().subscribe(function(){var s=(0,st.Z)(function*(c){e.foodEx=c.map(p=>({id:p.payload.doc.id,datas:p.payload.doc.data()})),e.foodList=e.foodEx});return function(c){return s.apply(this,arguments)}}()),e.inputMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid})()}onFoodAdded(e){-1===this.foodEx.findIndex(s=>s.datas.name===e.name)||this._snackBar.open("Produto j\xe1 cadastrado!","Fechar")}onFoodEdited(e){sessionStorage.setItem("method",""),this.firestore.doc("food/"+this.foodId).update(e)}edit(e){sessionStorage.setItem("method","edit"),this.foodEdit.next(e)}onDelete(e){this.firestore.doc("food/"+e).delete()}exportexcel(){let e=document.getElementById("excel-table");const r=zu.table_to_sheet(e),s=zu.book_new();zu.book_append_sheet(s,r,"Sheet1"),Wx(s,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(lg.ux),d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-food-list"]],inputs:{package:"package",delete:"delete"},decls:21,vars:8,consts:[[1,"row"],[1,"col-sm-10"],[3,"edition","foodAdded","foodEdited"],["fxLayout","row","fxLayoutAlign","space-between center",1,"search"],["appearance","outline","floatLabel","never","id","search"],["matSuffix","",1,"search-lunch-icon",2,"text-align","center"],["placeholder","Buscar no Estoque ","matInput","",2,"margin-bottom","4px",3,"ngModel","ngModelChange"],[1,"list-group"],["class","list-group-item","style","cursor: pointer;","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["id","excel-button","class","btn btn-success",3,"click",4,"ngIf"],[1,"table",2,"display","none"],["id","excel-table"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-group-item",2,"cursor","pointer"],[2,"margin-top","10px"],["mat-button","",2,"float","right",3,"click"],["role","img","aria-hidden","true",1,"mat-icon","notranslate","material-icons","mat-icon-no-color"],["id","excel-button",1,"btn","btn-success",3,"click"],["src","../assets/excel.png","alt",""]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"div",1)(2,"app-food-list-edition",2),d.NdJ("foodAdded",function(){return r.onFoodAdded(r.food)})("foodEdited",function(c){return r.onFoodEdited(c)}),d.qZA(),d._UZ(3,"hr"),d.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-icon",5),d._uU(7,"search"),d.qZA(),d.TgZ(8,"input",6),d.NdJ("ngModelChange",function(c){return r.filter=c}),d.qZA()()(),d.TgZ(9,"ul",7),d.YNc(10,kT,10,2,"a",8),d.ALo(11,"filter"),d.qZA(),d.YNc(12,Fk,3,0,"button",9),d.qZA()(),d.TgZ(13,"div",10)(14,"table",11)(15,"tr")(16,"th"),d._uU(17,"Nome"),d.qZA(),d.TgZ(18,"th"),d._uU(19,"Quantidade"),d.qZA()(),d.YNc(20,qE,5,2,"tr",12),d.qZA()()),2&e&&(d.xp6(2),d.Q6J("edition",r.foodEdit),d.xp6(6),d.Q6J("ngModel",r.filter),d.xp6(2),d.Q6J("ngForOf",d.xi3(11,5,r.foodEx,r.filter)),d.xp6(2),d.Q6J("ngIf",!0===r.inputMode),d.xp6(8),d.Q6J("ngForOf",r.foodEx))},styles:[".mat-icon[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}.search[_ngcontent-%COMP%]{text-align:right}#search[_ngcontent-%COMP%]{width:100%}@media (max-width: 500px){.search[_ngcontent-%COMP%]{text-align:left}}#excel-button[_ngcontent-%COMP%]{height:40px;border-radius:10px;align-items:center;margin-bottom:25px;margin-top:20px;width:100%}"]}),t})(),AC=(()=>{class t{constructor(e,r,s,c){this.dialog=e,this.dialogRef=r,this.formBuilder=s,this.data=c,this.myFormGroup=this.formBuilder.group({name:["",fe.kI.required],description:["",fe.kI.required],value:["",fe.kI.required],imagePath:["",fe.kI.required],bagAmount:[1,fe.kI.required],isBag:[!1,fe.kI.required]})}ngOnInit(){}cadastre(){if(this.myFormGroup.valid){let e=this.myFormGroup.getRawValue();this.dialogRef.close(e)}}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Mr),d.Y36(kn),d.Y36(fe.qu),d.Y36(cn))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-list-dialog"]],decls:29,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"row"],[1,"col-sm-5"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Ex: Pizza de Frango com Catupiry",1,"form-control"],["nameFoodInput",""],[1,"col-sm-5","form-group"],["for","descripcion"],["type","text","id","description","formControlName","description","placeholder","Ex: Pizza de Frango ao molho catupiry",1,"form-control"],["descriptionInput",""],["type","number","id","description","formControlName","value",1,"form-control"],["valueInput",""],["for","imagePath"],["type","url","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePathInput",""],["align","end"],["matDialogClose","",1,"btn","btn-danger","mx-md-1"],[1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(d.TgZ(0,"h2",0),d._uU(1,"Cadastre um novo Item ao Card\xe1pio!"),d.qZA(),d.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"label",4),d._uU(6,"Nome da Comida"),d.qZA(),d._UZ(7,"input",5,6),d.qZA(),d.TgZ(9,"div",7)(10,"label",8),d._uU(11,"Descri\xe7\xe3o da Comida"),d.qZA(),d._UZ(12,"input",9,10),d.qZA(),d.TgZ(14,"div",7)(15,"label",8),d._uU(16,"Valor da Comida"),d.qZA(),d._UZ(17,"input",11,12),d.qZA(),d.TgZ(19,"div",7)(20,"label",13),d._uU(21,"Informe o link da imagem, para representar a Comida"),d.qZA(),d._UZ(22,"input",14,15),d.qZA(),d.TgZ(24,"mat-dialog-actions",16)(25,"button",17),d._uU(26,"Cancelar"),d.qZA(),d.TgZ(27,"button",18),d.NdJ("click",function(){return r.cadastre()}),d._uU(28,"Cadastrar"),d.qZA()()()()),2&e&&(d.xp6(2),d.Q6J("formGroup",r.myFormGroup),d.xp6(25),d.Q6J("disabled",!r.myFormGroup.valid))},dependencies:[jr,xi,Hr,fe._Y,fe.Fj,fe.wV,fe.JJ,fe.JL,fe.sg,fe.u],encapsulation:2}),t})(),ZE=(()=>{class t{constructor(){this.fileName="ExcelSheet.xlsx"}exportexcel(){let e=document.getElementById("excel-table");const r=zu.table_to_sheet(e),s=zu.book_new();zu.book_append_sheet(s,r,"Sheet1"),Wx(s,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();function MT(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"app-lunch-item",14),d.NdJ("packageSelected",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.onPackageSelected(c))})("delete",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.onDelete(c.id))}),d.qZA()}2&t&&d.Q6J("package",n.$implicit.datas)}function RT(t,n){if(1&t&&(d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA()()),2&t){const e=n.$implicit;d.xp6(2),d.Oqu(e.datas.name),d.xp6(2),d.Oqu(e.datas.value),d.xp6(2),d.Oqu(e.datas.description)}}function OT(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"button",15),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.openDialog())}),d._uU(1,"Adicionar Comida ao Card\xe1pio"),d.qZA()}}function MC(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"button",16),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.exportexcel())}),d._uU(1,"Exportar para Excel "),d._UZ(2,"img",17),d.qZA()}}let qx=(()=>{class t{constructor(e,r,s,c){this.dialog=e,this._snackBar=r,this.firestore=s,this.excelService=c,this.fileName="Cardapio.xlsx",this.packageWasSelected=new d.vpe,this.packages=[],this.inputMode=!1,this.amountBags=[],this.indexBags=[],this.valuesBags=[]}ngOnInit(){var e=this;return(0,st.Z)(function*(){e.firestore.collection("lunch").snapshotChanges().subscribe(function(){var s=(0,st.Z)(function*(c){e.packageEx=c.map(p=>({id:p.payload.doc.id,datas:p.payload.doc.data()})),e.packages=e.packageEx});return function(c){return s.apply(this,arguments)}}()),e.inputMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid})()}onPackageSelected(e){sessionStorage.setItem("index",e.id);let r=sessionStorage.getItem("index");this.indexBags.push(r),sessionStorage.setItem("arrayBagIndex",JSON.stringify(this.indexBags)),this.amountBags.push(e.datas.bagAmount),sessionStorage.setItem("arrayBag",JSON.stringify(this.amountBags)),this.packageWasSelected.emit(e.datas)}onDelete(e){this.firestore.doc("lunch/"+e).delete()}openDialog(){this.dialog.open(AC,{data:this.packages}).afterClosed().subscribe(r=>{r&&(-1===this.packageEx.findIndex(c=>c.datas.description===r.description&&c.datas.name===r.name)?this.firestore.collection("lunch").add(r):this._snackBar.open("Produto j\xe1 cadastrado!","Fechar"))})}exportexcel(){JSON.parse(sessionStorage.getItem("lunch"));let r=document.getElementById("excel-table");const s=zu.table_to_sheet(r),c=zu.book_new();zu.book_append_sheet(c,s,"Sheet1"),Wx(c,this.fileName)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Mr),d.Y36(lg.ux),d.Y36(Xe.ST),d.Y36(ZE))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-list"]],outputs:{packageWasSelected:"packageWasSelected"},decls:23,vars:8,consts:[["id","search",2,"display","block"],["appearance","outline","floatLabel","never",1,"input"],["matPrefix","",1,"search-lunch-icon"],["placeholder","Buscar Comida no Card\xe1pio","matInput","",2,"margin-bottom","4px",3,"ngModel","ngModelChange"],["id","list",1,"row",2,"display","block"],[1,"col-12"],[3,"package","packageSelected","delete",4,"ngFor","ngForOf"],[1,"table",2,"display","none"],["id","excel-table"],[4,"ngFor","ngForOf"],["id","button",1,"row","mb-5",2,"display","block"],["fxLayout","column",1,"col-12"],["id","add-button","class","btn btn-success",3,"click",4,"ngIf"],["id","excel-button","class","btn btn-success",3,"click",4,"ngIf"],[3,"package","packageSelected","delete"],["id","add-button",1,"btn","btn-success",3,"click"],["id","excel-button",1,"btn","btn-success",3,"click"],["src","../assets/excel.png","alt",""]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-icon",2),d._uU(3,"search"),d.qZA(),d.TgZ(4,"input",3),d.NdJ("ngModelChange",function(c){return r.filter=c}),d.qZA()()(),d.TgZ(5,"div",4)(6,"div",5),d.YNc(7,MT,1,1,"app-lunch-item",6),d.ALo(8,"filter"),d.qZA()(),d.TgZ(9,"div",7)(10,"table",8)(11,"tr")(12,"th"),d._uU(13,"Nome"),d.qZA(),d.TgZ(14,"th"),d._uU(15,"Valor"),d.qZA(),d.TgZ(16,"th"),d._uU(17,"Descri\xe7\xe3o"),d.qZA()(),d.YNc(18,RT,7,3,"tr",9),d.qZA()(),d.TgZ(19,"div",10)(20,"div",11),d.YNc(21,OT,2,0,"button",12),d.YNc(22,MC,3,0,"button",13),d.qZA()()),2&e&&(d.xp6(4),d.Q6J("ngModel",r.filter),d.xp6(3),d.Q6J("ngForOf",d.xi3(8,5,r.packageEx,r.filter)),d.xp6(11),d.Q6J("ngForOf",r.packageEx),d.xp6(3),d.Q6J("ngIf",!0===r.inputMode),d.xp6(1),d.Q6J("ngIf",!0===r.inputMode))},styles:["mat-icon{color:#723caf;width:100%}#add-button{height:50px;border-radius:10px;margin-bottom:15px}#excel-button{margin-top:10px;height:40px;border-radius:10px;text-align:center;align-items:center}.mat-form-field-outline-start{border-radius:20px 0 0 20px!important;min-width:28px!important}.mat-form-field-outline-end{border-radius:0 20px 20px 0!important}.input{width:230%;max-width:80vw;height:100%;max-height:200px;font-size:18px}#search{margin-bottom:20px}#button{margin-bottom:10px}\n"],encapsulation:2}),t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const RC=["nameInput"],OC=["amountInput"];let FC=(()=>{class t{constructor(e,r){this.formBuilder=e,this.firestore=r,this.method="",this.inputMode=!1,this.foodAdded=new d.vpe,this.foodEdited=new d.vpe,this.meuFormGroup=this.formBuilder.group({name:["",fe.kI.required],amount:["",fe.kI.required]})}ngOnInit(){this.foodEdit.subscribe(e=>{e&&this.edition(e)})}addFood(){if("edit"===this.method){const s={foodName:this.nameInputRef.nativeElement.value,foodAmount:this.amountInputRef.nativeElement.value};this.foodID=sessionStorage.getItem("indexFood"),this.firestore.doc("food/"+this.foodID).update(s),this.meuFormGroup.reset()}else{if(!this.meuFormGroup.valid)return;{const s={foodName:this.nameInputRef.nativeElement.value,foodAmount:this.amountInputRef.nativeElement.value};this.firestore.collection("food").add(s),this.meuFormGroup.reset()}}this.method=sessionStorage.setItem("method","")}edition(e){this.method=sessionStorage.getItem("method"),this.meuFormGroup.controls.name.setValue(e.datas.foodName),this.meuFormGroup.controls.amount.setValue(e.datas.foodAmount),sessionStorage.setItem("indexFood",e.id)}changeColor(){"edit"===this.method&&(document.getElementById("button").style.color="primary")}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(fe.qu),d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-food-list-edition"]],viewQuery:function(e,r){if(1&e&&(d.Gf(RC,5),d.Gf(OC,5)),2&e){let s;d.iGM(s=d.CRH())&&(r.nameInputRef=s.first),d.iGM(s=d.CRH())&&(r.amountInputRef=s.first)}},inputs:{foodEdit:["edition","foodEdit"]},outputs:{foodAdded:"foodAdded",foodEdited:"foodEdited"},decls:18,vars:3,consts:[[1,"row","mb-2","mt-2"],[1,"col-12"],[3,"formGroup"],[1,"row"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["nameInput",""],[1,"col-sm-3","form-group"],["for","amount"],["type","number","min","1","id","amount","formControlName","amount",1,"form-control"],["amountInput",""],[1,"row","mt-2"],["id","button","type","button",1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),d._uU(6,"Nome:"),d.qZA(),d._UZ(7,"input",6,7),d.qZA(),d.TgZ(9,"div",8)(10,"label",9),d._uU(11,"Quantidade:"),d.qZA(),d._UZ(12,"input",10,11),d.qZA()(),d.TgZ(14,"div",12)(15,"div",1)(16,"button",13),d.NdJ("click",function(){return r.addFood()}),d._uU(17),d.qZA()()()()()()),2&e&&(d.xp6(2),d.Q6J("formGroup",r.meuFormGroup),d.xp6(14),d.Q6J("disabled",!r.meuFormGroup.valid),d.xp6(1),d.Oqu("edit"===r.method?"Atualizar":"Incluir"))},dependencies:[fe._Y,fe.Fj,fe.wV,fe.JJ,fe.JL,fe.qQ,fe.sg,fe.u],styles:[".col-12[_ngcontent-%COMP%], #button[_ngcontent-%COMP%]{font-size:20px}"]}),t})();var Kf=M(773),Wu=M(3336),cg=M(9101);const PC=["*",[["mat-card-footer"]]],FT=["*","mat-card-footer"];let LC=(()=>{class t{constructor(e){this._animationMode=e}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.QbO,8))},t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:FT,decls:2,vars:0,template:function(e,r){1&e&&(d.F$t(PC),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),t})(),VT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Pe.BQ,Pe.BQ]}),t})();function QE(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"button",9),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.removeLunch())}),d.TgZ(1,"mat-icon",10),d._uU(2,"delete"),d.qZA()()}}let BC=(()=>{class t{constructor(e,r,s){this.firestore=e,this.authService=r,this.excelService=s,this.deleteMode=!1,this.packageSelected=new d.vpe,this.delete=new d.vpe}ngOnInit(){this.index=sessionStorage.getItem("index"),this.deleteMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===this.authService.userData.uid}onSelected(){this.packageSelected.emit(),sessionStorage.setItem("lunch",JSON.stringify(this.package))}removeLunch(){return this.delete.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Xe.ST),d.Y36(Kf.e),d.Y36(ZE))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-item"]],inputs:{package:"package",packages:"packages"},outputs:{packageSelected:"packageSelected",delete:"delete"},decls:16,vars:4,consts:[[1,"list-group-item","clearfix"],[1,"float-start",2,"cursor","pointer"],[1,"img-responsive",2,"max-width","170px",3,"src","click"],["mat-button","","class","trash",3,"click",4,"ngIf"],[1,"float-end"],[1,"list-group-item-heading"],[1,"value"],[1,"list-group-item-text",2,"cursor","pointer",3,"click"],[1,"arrow"],["mat-button","",1,"trash",3,"click"],["id","btn_trash","role","img","aria-hidden","true",1,"mat-icon","notranslate","material-icons","mat-icon-no-color"]],template:function(e,r){1&e&&(d.TgZ(0,"mat-card")(1,"div",0)(2,"div",1)(3,"img",2),d.NdJ("click",function(){return r.onSelected()}),d.qZA(),d.YNc(4,QE,3,0,"button",3),d.qZA(),d.TgZ(5,"div",4)(6,"h1",5),d._uU(7),d.qZA(),d._UZ(8,"br"),d.TgZ(9,"p",6),d._uU(10),d.qZA(),d.TgZ(11,"span",0)(12,"p",7),d.NdJ("click",function(){return r.onSelected()}),d._uU(13," Saiba Mais"),d.TgZ(14,"mat-icon",8),d._uU(15,"keyboard_arrow_right"),d.qZA()()()()()()),2&e&&(d.xp6(3),d.Q6J("src",r.package.imagePath,d.LSH),d.xp6(1),d.Q6J("ngIf",!0===r.deleteMode),d.xp6(3),d.Oqu(r.package.name),d.xp6(3),d.hij("R$ ",r.package.value.toFixed(2).replace(".",","),""))},dependencies:[Ge.O5,Wu.Hw,cg.lW,LC],styles:[".trash[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}#menu[_ngcontent-%COMP%]{color:#000;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}mat-card[_ngcontent-%COMP%]{border-width:5px;border-style:outset;border-color:#723caf;border-radius:30px;overflow:auto;margin-bottom:15px}img[_ngcontent-%COMP%]{border-radius:10px}@media (max-width: 500px){.img-responsive[_ngcontent-%COMP%]{display:none}}.arrow[_ngcontent-%COMP%]{margin-bottom:-6px}.list-group-item-text[_ngcontent-%COMP%]{float:right;margin-bottom:0%}.value[_ngcontent-%COMP%]{float:right}p[_ngcontent-%COMP%]{font-size:20px}h1[_ngcontent-%COMP%]{float:right;text-decoration:underline}.list-group-item-text[_ngcontent-%COMP%]:hover, .arrow[_ngcontent-%COMP%]:hover{color:#32b5e5}"]}),t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vv(t){return new d.vHH(3e3,!1)}function qk(){return typeof window<"u"&&typeof window.document<"u"}function XC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ug(t){switch(t.length){case 0:return new Je.ZN;case 1:return t[0];default:return new Je.ZE(t)}}function XT(t,n,e,r,s=new Map,c=new Map){const p=[],g=[];let x=-1,E=null;if(r.forEach(D=>{const F=D.get("offset"),B=F==x,K=B&&E||new Map;D.forEach((ee,W)=>{let oe=W,He=ee;if("offset"!==W)switch(oe=n.normalizePropertyName(oe,p),He){case Je.k1:He=s.get(W);break;case Je.l3:He=c.get(W);break;default:He=n.normalizeStyleValue(W,oe,He,p)}K.set(oe,He)}),B||g.push(K),E=K,x=F}),p.length)throw function qT(t){return new d.vHH(3502,!1)}();return g}function Jm(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&JC(e,"start",t)));break;case"done":t.onDone(()=>r(e&&JC(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&JC(e,"destroy",t)))}}function JC(t,n,e){const c=Qx(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),p=t._data;return null!=p&&(c._data=p),c}function Qx(t,n,e,r,s="",c=0,p){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:s,totalTime:c,disabled:!!p}}function Ql(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function eb(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}let Xx=(t,n)=>!1,JT=(t,n,e)=>[],Jx=null;function ew(t){const n=t.parentNode||t.host;return n===Jx?null:n}(XC()||typeof Element<"u")&&(qk()?(Jx=(()=>document.documentElement)(),Xx=(t,n)=>{for(;n;){if(n===t)return!0;n=ew(n)}return!1}):Xx=(t,n)=>t.contains(n),JT=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]});let e0=null,tD=!1;const nD=Xx,tA=JT;let nA=(()=>{class t{validateStyleProperty(e){return function eA(t){e0||(e0=function tw(){return typeof document<"u"?document.body:null}()||{},tD=!!e0.style&&"WebkitAppearance"in e0.style);let n=!0;return e0.style&&!function eD(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in e0.style,!n&&tD&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in e0.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return nD(e,r)}getParentElement(e){return ew(e)}query(e,r,s){return tA(e,r,s)}computeStyle(e,r,s){return s||""}animate(e,r,s,c,p,g=[],x){return new Je.ZN(s,c)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),tb=(()=>{class t{}return t.NOOP=new nA,t})();const nb="ng-enter",yv="ng-leave",xv="ng-trigger",rb=".ng-trigger",$u="ng-animating",ib=".ng-animating";function sh(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:sb(parseFloat(n[1]),n[2])}function sb(t,n){return"s"===n?1e3*t:t}function Xl(t,n,e){return t.hasOwnProperty("duration")?t:function iA(t,n,e){let s,c=0,p="";if("string"==typeof t){const g=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return n.push(vv()),{duration:0,delay:0,easing:""};s=sb(parseFloat(g[1]),g[2]);const x=g[3];null!=x&&(c=sb(parseFloat(x),g[4]));const E=g[5];E&&(p=E)}else s=t;if(!e){let g=!1,x=n.length;s<0&&(n.push(function XE(){return new d.vHH(3100,!1)}()),g=!0),c<0&&(n.push(function Hk(){return new d.vHH(3101,!1)}()),g=!0),g&&n.splice(x,0,vv())}return{duration:s,delay:c,easing:p}}(t,n,e)}function dg(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function iD(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function Qh(t,n=new Map,e){if(e)for(let[r,s]of e)n.set(r,s);for(let[r,s]of t)n.set(r,s);return n}function ob(t,n,e){return e?n+":"+e+";":""}function sD(t){let n="";for(let e=0;e<t.style.length;e++){const r=t.style.item(e);n+=ob(0,r,t.style.getPropertyValue(r))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=ob(0,oA(e),t.style[e]));t.setAttribute("style",n)}function Ed(t,n,e){t.style&&(n.forEach((r,s)=>{const c=Cd(s);e&&!e.has(s)&&e.set(s,t.style[c]),t.style[c]=r}),XC()&&sD(t))}function Yf(t,n){t.style&&(n.forEach((e,r)=>{const s=Cd(r);t.style[s]=""}),XC()&&sD(t))}function wv(t){return Array.isArray(t)?1==t.length?t[0]:(0,Je.vP)(t):t}const ab=new RegExp("{{\\s*(.+?)\\s*}}","g");function rw(t){let n=[];if("string"==typeof t){let e;for(;e=ab.exec(t);)n.push(e[1]);ab.lastIndex=0}return n}function bd(t,n,e){const r=t.toString(),s=r.replace(ab,(c,p)=>{let g=n[p];return null==g&&(e.push(function HT(t){return new d.vHH(3003,!1)}()),g=""),g.toString()});return s==r?t:s}function Ev(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const lb=/-+([a-z0-9])/g;function Cd(t){return t.replace(lb,(...n)=>n[1].toUpperCase())}function oA(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function cu(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function UC(t){return new d.vHH(3004,!1)}()}}function aD(t,n){return window.getComputedStyle(t)[n]}function cD(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function uD(t,n,e){if(":"==t[0]){const x=function uA(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function WC(t){return new d.vHH(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof x)return void n.push(x);t=x}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function zC(t){return new d.vHH(3015,!1)}()),n;const s=r[1],c=r[2],p=r[3];n.push(Sv(s,p));"<"==c[0]&&!("*"==s&&"*"==p)&&n.push(Sv(p,s))}(r,e,n)):e.push(t),e}const Cv=new Set(["true","1"]),Dv=new Set(["false","0"]);function Sv(t,n){const e=Cv.has(t)||Dv.has(t),r=Cv.has(n)||Dv.has(n);return(s,c)=>{let p="*"==t||t==s,g="*"==n||n==c;return!p&&e&&"boolean"==typeof s&&(p=s?Cv.has(t):Dv.has(t)),!g&&r&&"boolean"==typeof c&&(g=c?Cv.has(n):Dv.has(n)),p&&g}}const dD=new RegExp("s*:selfs*,?","g");function cb(t,n,e,r){return new hD(t).build(n,e,r)}class hD{constructor(n){this._driver=n}build(n,e,r){const s=new tM(e);return this._resetContextStyleTimingState(s),cu(this,wv(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,s=e.depCount=0;const c=[],p=[];return"@"==n.name.charAt(0)&&e.errors.push(function GT(){return new d.vHH(3006,!1)}()),n.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const x=g,E=x.name;E.toString().split(/\s*,\s*/).forEach(D=>{x.name=D,c.push(this.visitState(x,e))}),x.name=E}else if(1==g.type){const x=this.visitTransition(g,e);r+=x.queryCount,s+=x.depCount,p.push(x)}else e.errors.push(function HC(){return new d.vHH(3007,!1)}())}),{type:7,name:n.name,states:c,transitions:p,queryCount:r,depCount:s,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),s=n.options&&n.options.params||null;if(r.containsDynamicStyles){const c=new Set,p=s||{};r.styles.forEach(g=>{g instanceof Map&&g.forEach(x=>{rw(x).forEach(E=>{p.hasOwnProperty(E)||c.add(E)})})}),c.size&&(Ev(c.values()),e.errors.push(function JE(t,n){return new d.vHH(3008,!1)}()))}return{type:0,name:n.name,style:r,options:s?{params:s}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=cu(this,wv(n.animation),e);return{type:1,matchers:cD(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:hg(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>cu(this,r,e)),options:hg(n.options)}}visitGroup(n,e){const r=e.currentTime;let s=0;const c=n.steps.map(p=>{e.currentTime=r;const g=cu(this,p,e);return s=Math.max(s,e.currentTime),g});return e.currentTime=s,{type:3,steps:c,options:hg(n.options)}}visitAnimate(n,e){const r=function fD(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return db(Xl(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=db(0,0,"");return c.dynamic=!0,c.strValue=e,c}const s=Xl(e,n);return db(s.duration,s.delay,s.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let s,c=n.styles?n.styles:(0,Je.oB)({});if(5==c.type)s=this.visitKeyframes(c,e);else{let p=n.styles,g=!1;if(!p){g=!0;const E={};r.easing&&(E.easing=r.easing),p=(0,Je.oB)(E)}e.currentTime+=r.duration+r.delay;const x=this.visitStyle(p,e);x.isEmptyStep=g,s=x}return e.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],s=Array.isArray(n.styles)?n.styles:[n.styles];for(let g of s)"string"==typeof g?g===Je.l3?r.push(g):e.errors.push(new d.vHH(3002,!1)):r.push(iD(g));let c=!1,p=null;return r.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(p=g.get("easing"),g.delete("easing")),!c))for(let x of g.values())if(x.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:p,offset:n.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let s=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),n.styles.forEach(p=>{"string"!=typeof p&&p.forEach((g,x)=>{const E=e.collectedStyles.get(e.currentQuerySelector),D=E.get(x);let F=!0;D&&(c!=s&&c>=D.startTime&&s<=D.endTime&&(e.errors.push(function zk(t,n,e,r,s){return new d.vHH(3010,!1)}()),F=!1),c=D.startTime),F&&E.set(x,{startTime:c,endTime:s}),e.options&&function oD(t,n,e){const r=n.params||{},s=rw(t);s.length&&s.forEach(c=>{r.hasOwnProperty(c)||e.push(function VC(t){return new d.vHH(3001,!1)}())})}(g,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jT(){return new d.vHH(3011,!1)}()),r;let c=0;const p=[];let g=!1,x=!1,E=0;const D=n.steps.map(He=>{const We=this._makeStyleAst(He,e);let Le=null!=We.offset?We.offset:function nM(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(We.styles),Bt=0;return null!=Le&&(c++,Bt=We.offset=Le),x=x||Bt<0||Bt>1,g=g||Bt<E,E=Bt,p.push(Bt),We});x&&e.errors.push(function zT(){return new d.vHH(3012,!1)}()),g&&e.errors.push(function WT(){return new d.vHH(3200,!1)}());const F=n.steps.length;let B=0;c>0&&c<F?e.errors.push(function GC(){return new d.vHH(3202,!1)}()):0==c&&(B=1/(F-1));const K=F-1,ee=e.currentTime,W=e.currentAnimateTimings,oe=W.duration;return D.forEach((He,We)=>{const Le=B>0?We==K?1:B*We:p[We],Bt=Le*oe;e.currentTime=ee+W.delay+Bt,W.duration=Bt,this._validateStyleAst(He,e),He.offset=Le,r.styles.push(He)}),r}visitReference(n,e){return{type:8,animation:cu(this,wv(n.animation),e),options:hg(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:hg(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:hg(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,s=n.options||{};e.queryCount++,e.currentQuery=n;const[c,p]=function dA(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(dD,"")),t=t.replace(/@\*/g,rb).replace(/@\w+/g,e=>rb+"-"+e.slice(1)).replace(/:animating/g,ib),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+c:c,Ql(e.collectedStyles,e.currentQuerySelector,new Map);const g=cu(this,wv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:p,animation:g,originalSelector:n.selector,options:hg(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function jC(){return new d.vHH(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Xl(n.timings,e.errors,!0);return{type:12,animation:cu(this,wv(n.animation),e),timings:r,options:null}}}class tM{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hg(t){return t?(t=dg(t)).params&&(t.params=function hA(t){return t?dg(t):null}(t.params)):t={},t}function db(t,n,e){return{duration:t,delay:n,easing:e}}function hb(t,n,e,r,s,c,p=null,g=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:s,delay:c,totalTime:s+c,easing:p,subTimeline:g}}class fb{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const sM=new RegExp(":enter","g"),fA=new RegExp(":leave","g");function n0(t,n,e,r,s,c=new Map,p=new Map,g,x,E=[]){return(new pA).buildKeyframes(t,n,e,r,s,c,p,g,x,E)}class pA{buildKeyframes(n,e,r,s,c,p,g,x,E,D=[]){E=E||new fb;const F=new ow(n,e,E,s,c,D,[]);F.options=x;const B=x.delay?sh(x.delay):0;F.currentTimeline.delayNextStep(B),F.currentTimeline.setStyles([p],null,F.errors,x),cu(this,r,F);const K=F.timelines.filter(ee=>ee.containsAnimation());if(K.length&&g.size){let ee;for(let W=K.length-1;W>=0;W--){const oe=K[W];if(oe.element===e){ee=oe;break}}ee&&!ee.allowOnlyTimelineStyles()&&ee.setStyles([g],null,F.errors,x)}return K.length?K.map(ee=>ee.buildKeyframes()):[hb(e,[],[],[],0,B,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const s=e.createSubContext(n.options),c=e.currentTimeline.currentTime,p=this._visitSubInstructions(r,s,s.options);c!=p&&e.transformIntoNewTimeline(p)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,r){let c=e.currentTimeline.currentTime;const p=null!=r.duration?sh(r.duration):null,g=null!=r.delay?sh(r.delay):null;return 0!==p&&n.forEach(x=>{const E=e.appendInstructionToTimeline(x,p,g);c=Math.max(c,E.duration+E.delay)}),c}visitReference(n,e){e.updateOptions(n.options,!0),cu(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let s=e;const c=n.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=sw);const p=sh(c.delay);s.delayNextStep(p)}n.steps.length&&(n.steps.forEach(p=>cu(this,p,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let s=e.currentTimeline.currentTime;const c=n.options&&n.options.delay?sh(n.options.delay):0;n.steps.forEach(p=>{const g=e.createSubContext(n.options);c&&g.delayNextStep(c),cu(this,p,g),s=Math.max(s,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(p=>e.currentTimeline.mergeTimelineCollectedStyles(p)),e.transformIntoNewTimeline(s),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return Xl(e.params?bd(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),s=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),s.snapshotCurrentStyles());const c=n.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,s=e.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=s&&s.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(c):r.setStyles(n.styles,c,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,s=e.currentTimeline.duration,c=r.duration,g=e.createSubContext().currentTimeline;g.easing=r.easing,n.styles.forEach(x=>{g.forwardTime((x.offset||0)*c),g.setStyles(x.styles,x.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(s+c),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,s=n.options||{},c=s.delay?sh(s.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sw);let p=r;const g=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=g.length;let x=null;g.forEach((E,D)=>{e.currentQueryIndex=D;const F=e.createSubContext(n.options,E);c&&F.delayNextStep(c),E===e.element&&(x=F.currentTimeline),cu(this,n.animation,F),F.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,F.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(p),x&&(e.currentTimeline.mergeTimelineCollectedStyles(x),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,s=e.currentTimeline,c=n.timings,p=Math.abs(c.duration),g=p*(e.currentQueryTotal-1);let x=p*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":x=g-x;break;case"full":x=r.currentStaggerTime}const D=e.currentTimeline;x&&D.delayNextStep(x);const F=D.currentTime;cu(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=s.currentTime-F+(s.startTime-r.currentTimeline.startTime)}}const sw={};class ow{constructor(n,e,r,s,c,p,g,x){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=c,this.errors=p,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=x||new oh(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let s=this.options;null!=r.duration&&(s.duration=sh(r.duration)),null!=r.delay&&(s.delay=sh(r.delay));const c=r.params;if(c){let p=s.params;p||(p=this.options.params={}),Object.keys(c).forEach(g=>{(!e||!p.hasOwnProperty(g))&&(p[g]=bd(c[g],p,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(s=>{r[s]=e[s]})}}return n}createSubContext(n=null,e,r){const s=e||this.element,c=new ow(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(n),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(n){return this.previousNode=sw,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const s={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},c=new pD(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,s,n.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,s,c,p){let g=[];if(s&&g.push(this.element),n.length>0){n=(n=n.replace(sM,"."+this._enterClassName)).replace(fA,"."+this._leaveClassName);let E=this._driver.query(this.element,n,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),g.push(...E)}return!c&&0==g.length&&p.push(function $T(t){return new d.vHH(3014,!1)}()),g}}class oh{constructor(n,e,r,s){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new oh(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Je.l3),this._currentKeyframe.set(e,Je.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,s){e&&this._previousKeyframe.set("easing",e);const c=s&&s.params||{},p=function pb(t,n){const e=new Map;let r;return t.forEach(s=>{if("*"===s){r=r||n.keys();for(let c of r)e.set(c,Je.l3)}else Qh(s,e)}),e}(n,this._globalTimelineStyles);for(let[g,x]of p){const E=bd(x,c,r);this._pendingStyles.set(g,E),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Je.l3),this._updateStyle(g,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const s=this._styleSummary.get(r);(!s||e.time>s.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,x)=>{const E=Qh(g,new Map,this._backFill);E.forEach((D,F)=>{D===Je.k1?n.add(F):D===Je.l3&&e.add(F)}),r||E.set("offset",x/this.duration),s.push(E)});const c=n.size?Ev(n.values()):[],p=e.size?Ev(e.values()):[];if(r){const g=s[0],x=new Map(g);g.set("offset",0),x.set("offset",1),s=[g,x]}return hb(this.element,s,c,p,this.duration,this.startTime,this.easing,!1)}}class pD extends oh{constructor(n,e,r,s,c,p,g=!1){super(n,e,p.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],p=r+e,g=e/p,x=Qh(n[0]);x.set("offset",0),c.push(x);const E=Qh(n[0]);E.set("offset",aw(g)),c.push(E);const D=n.length-1;for(let F=1;F<=D;F++){let B=Qh(n[F]);const K=B.get("offset");B.set("offset",aw((e+K*r)/p)),c.push(B)}r=p,e=0,s="",n=c}return hb(this.element,n,this.preStyleProps,this.postStyleProps,r,e,s,!0)}}function aw(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class Av{}const lw=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lM extends Av{normalizePropertyName(n,e){return Cd(n)}normalizeStyleValue(n,e,r,s){let c="";const p=r.toString().trim();if(lw.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(function Xm(t,n){return new d.vHH(3005,!1)}())}return p+c}}function gA(t,n,e,r,s,c,p,g,x,E,D,F,B){return{type:0,element:t,triggerName:n,isRemovalTransition:s,fromState:e,fromStyles:c,toState:r,toStyles:p,timelines:g,queriedElements:x,preStyleProps:E,postStyleProps:D,totalTime:F,errors:B}}const mD={};class mA{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,s){return function vA(t,n,e,r,s){return t.some(c=>c(n,e,r,s))}(this.ast.matchers,n,e,r,s)}buildStyles(n,e,r){let s=this._stateStyles.get("*");return void 0!==n&&(s=this._stateStyles.get(n?.toString())||s),s?s.buildStyles(e,r):new Map}build(n,e,r,s,c,p,g,x,E,D){const F=[],B=this.ast.options&&this.ast.options.params||mD,ee=this.buildStyles(r,g&&g.params||mD,F),W=x&&x.params||mD,oe=this.buildStyles(s,W,F),He=new Set,We=new Map,Le=new Map,Bt="void"===s,dn={params:yA(W,B),delay:this.ast.options?.delay},In=D?[]:n0(n,e,this.ast.animation,c,p,ee,oe,dn,E,F);let vt=0;if(In.forEach(Qt=>{vt=Math.max(Qt.duration+Qt.delay,vt)}),F.length)return gA(e,this._triggerName,r,s,Bt,ee,oe,[],[],We,Le,vt,F);In.forEach(Qt=>{const Bn=Qt.element,$n=Ql(We,Bn,new Set);Qt.preStyleProps.forEach(Ir=>$n.add(Ir));const hn=Ql(Le,Bn,new Set);Qt.postStyleProps.forEach(Ir=>hn.add(Ir)),Bn!==e&&He.add(Bn)});const ln=Ev(He.values());return gA(e,this._triggerName,r,s,Bt,ee,oe,In,ln,We,Le,vt)}}function yA(t,n){const e=dg(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class xA{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,s=dg(this.defaultParams);return Object.keys(n).forEach(c=>{const p=n[c];null!==p&&(s[c]=p)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,g)=>{p&&(p=bd(p,s,e));const x=this.normalizer.normalizePropertyName(g,e);p=this.normalizer.normalizeStyleValue(g,x,p,e),r.set(x,p)})}),r}}class _D{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new xA(s.style,s.options&&s.options.params||{},r))}),gb(this.states,"true","1"),gb(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new mA(n,s,this.states))}),this.fallbackTransition=function vD(t,n,e){return new mA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,g)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,s){return this.transitionFactories.find(p=>p.match(n,e,r,s))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function gb(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const EA=new fb;class bA{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],c=cb(this._driver,e,r,[]);if(r.length)throw function KC(t){return new d.vHH(3503,!1)}();this._animations.set(n,c)}_buildPlayer(n,e,r){const s=n.element,c=XT(0,this._normalizer,0,n.keyframes,e,r);return this._driver.animate(s,c,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const s=[],c=this._animations.get(n);let p;const g=new Map;if(c?(p=n0(this._driver,e,c,nb,yv,new Map,new Map,r,EA,s),p.forEach(D=>{const F=Ql(g,D.element,new Map);D.postStyleProps.forEach(B=>F.set(B,null))})):(s.push(function YC(){return new d.vHH(3300,!1)}()),p=[]),s.length)throw function qC(t){return new d.vHH(3504,!1)}();g.forEach((D,F)=>{D.forEach((B,K)=>{D.set(K,this._driver.computeStyle(F,K,Je.l3))})});const E=ug(p.map(D=>{const F=g.get(D.element);return this._buildPlayer(D,new Map,F)}));return this._playersById.set(n,E),E.onDestroy(()=>this.destroy(n)),this.players.push(E),E}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function ZC(t){return new d.vHH(3301,!1)}();return e}listen(n,e,r,s){const c=Qx(e,"","","");return Jm(this._getPlayer(n),r,c,s),()=>{}}command(n,e,r,s){if("register"==r)return void this.register(n,s[0]);if("create"==r)return void this.create(n,e,s[0]||{});const c=this._getPlayer(n);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(n)}}}const mb="ng-animate-queued",yD="ng-animate-disabled",DA=[],SA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ku="__ng_removed";class yb{constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function TA(t){return t??null}(r?n.value:n),r){const c=dg(n);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(s=>{null==r[s]&&(r[s]=e[s])})}}}const Iv="void",wD=new yb(Iv);class uM{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Dd(e,this._hostClassName)}listen(n,e,r,s){if(!this._triggers.has(e))throw function ZT(t,n){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function QT(t){return new d.vHH(3303,!1)}();if(!function fM(t){return"start"==t||"done"==t}(r))throw function Wk(t,n){return new d.vHH(3400,!1)}();const c=Ql(this._elementListeners,n,[]),p={name:e,phase:r,callback:s};c.push(p);const g=Ql(this._engine.statesByElement,n,new Map);return g.has(e)||(Dd(n,xv),Dd(n,xv+"-"+e),g.set(e,wD)),()=>{this._engine.afterFlush(()=>{const x=c.indexOf(p);x>=0&&c.splice(x,1),this._triggers.has(e)||g.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function QC(t){return new d.vHH(3401,!1)}();return e}trigger(n,e,r,s=!0){const c=this._getTrigger(e),p=new ED(this.id,e,n);let g=this._engine.statesByElement.get(n);g||(Dd(n,xv),Dd(n,xv+"-"+e),this._engine.statesByElement.set(n,g=new Map));let x=g.get(e);const E=new yb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&x&&E.absorbOptions(x.options),g.set(e,E),x||(x=wD),E.value!==Iv&&x.value===E.value){if(!function y(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let s=0;s<e.length;s++){const c=e[s];if(!n.hasOwnProperty(c)||t[c]!==n[c])return!1}return!0}(x.params,E.params)){const W=[],oe=c.matchStyles(x.value,x.params,W),He=c.matchStyles(E.value,E.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{Yf(n,oe),Ed(n,He)})}return}const B=Ql(this._engine.playersByElement,n,[]);B.forEach(W=>{W.namespaceId==this.id&&W.triggerName==e&&W.queued&&W.destroy()});let K=c.matchTransition(x.value,E.value,n,E.params),ee=!1;if(!K){if(!s)return;K=c.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:K,fromState:x,toState:E,player:p,isFallbackTransition:ee}),ee||(Dd(n,mb),p.onStart(()=>{a(n,mb)})),p.onDone(()=>{let W=this.players.indexOf(p);W>=0&&this.players.splice(W,1);const oe=this._engine.playersByElement.get(n);if(oe){let He=oe.indexOf(p);He>=0&&oe.splice(He,1)}}),this.players.push(p),B.push(p),p}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(s=>s.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,rb,!0);r.forEach(s=>{if(s[Ku])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(p=>p.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(n,e,r,s){const c=this._engine.statesByElement.get(n),p=new Map;if(c){const g=[];if(c.forEach((x,E)=>{if(p.set(E,x.value),this._triggers.has(E)){const D=this.trigger(n,E,Iv,s);D&&g.push(D)}}),g.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,p),r&&ug(g).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const s=new Set;e.forEach(c=>{const p=c.name;if(s.has(p))return;s.add(p);const x=this._triggers.get(p).fallbackTransition,E=r.get(p)||wD,D=new yb(Iv),F=new ED(this.id,p,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:p,transition:x,fromState:E,toState:D,player:F,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let s=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(n):[];if(c&&c.length)s=!0;else{let p=n;for(;p=p.parentNode;)if(r.statesByElement.get(p)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(n),s)r.markElementAsRemoved(this.id,n,!1,e);else{const c=n[Ku];(!c||c===SA)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){Dd(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const c=r.element,p=this._elementListeners.get(c);p&&p.forEach(g=>{if(g.name==r.triggerName){const x=Qx(c,r.triggerName,r.fromState.value,r.toState.value);x._data=n,Jm(r.player,g.phase,x,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(r)}),this._queue=[],e.sort((r,s)=>{const c=r.transition.ast.depCount,p=s.transition.ast.depCount;return 0==c||0==p?c-p:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class dM{constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,c)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new uM(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,g=this.driver.getParentElement(e);for(;g;){const x=s.get(g);if(x){const E=r.indexOf(x);r.splice(E+1,0,n),p=!0;break}g=this.driver.getParentElement(g)}p||r.unshift(n)}else r.push(n);return s.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let s=this._namespaceLookup[n];s&&s.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let s of r.values())if(s.namespaceId){const c=this._fetchNamespace(s.namespaceId);c&&e.add(c)}return e}trigger(n,e,r,s){if(xb(e)){const c=this._fetchNamespace(n);if(c)return c.trigger(e,r,s),!0}return!1}insertNode(n,e,r,s){if(!xb(e))return;const c=e[Ku];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const p=this.collectedLeaveElements.indexOf(e);p>=0&&this.collectedLeaveElements.splice(p,1)}if(n){const p=this._fetchNamespace(n);p&&p.insertNode(e,r)}s&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Dd(n,yD)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),a(n,yD))}removeNode(n,e,r,s){if(xb(e)){const c=n?this._fetchNamespace(n):null;if(c?c.removeNode(e,s):this.markElementAsRemoved(n,e,!1,s),r){const p=this.namespacesByHostElement.get(e);p&&p.id!==n&&p.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(n,e,r,s,c){this.collectedLeaveElements.push(e),e[Ku]={namespaceId:n,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(n,e,r,s,c){return xb(e)?this._fetchNamespace(n).listen(e,r,s,c):()=>{}}_buildInstruction(n,e,r,s,c){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,s,n.fromState.options,n.toState.options,e,c)}destroyInnerAnimations(n){let e=this.driver.query(n,rb,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,ib,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ug(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Ku];if(e&&e.setForRemoval){if(n[Ku]=SA,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(yD)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Dd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?ug(e).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(n){throw function $k(t){return new d.vHH(3402,!1)}()}_flushAnimations(n,e){const r=new fb,s=[],c=new Map,p=[],g=new Map,x=new Map,E=new Map,D=new Set;this.disabledNodes.forEach(cr=>{D.add(cr);const ar=this.driver.query(cr,".ng-animate-queued",!0);for(let Ur=0;Ur<ar.length;Ur++)D.add(ar[Ur])});const F=this.bodyNode,B=Array.from(this.statesByElement.keys()),K=kA(B,this.collectedEnterElements),ee=new Map;let W=0;K.forEach((cr,ar)=>{const Ur=nb+W++;ee.set(ar,Ur),cr.forEach(gr=>Dd(gr,Ur))});const oe=[],He=new Set,We=new Set;for(let cr=0;cr<this.collectedLeaveElements.length;cr++){const ar=this.collectedLeaveElements[cr],Ur=ar[Ku];Ur&&Ur.setForRemoval&&(oe.push(ar),He.add(ar),Ur.hasAnimation?this.driver.query(ar,".ng-star-inserted",!0).forEach(gr=>He.add(gr)):We.add(ar))}const Le=new Map,Bt=kA(B,Array.from(He));Bt.forEach((cr,ar)=>{const Ur=yv+W++;Le.set(ar,Ur),cr.forEach(gr=>Dd(gr,Ur))}),n.push(()=>{K.forEach((cr,ar)=>{const Ur=ee.get(ar);cr.forEach(gr=>a(gr,Ur))}),Bt.forEach((cr,ar)=>{const Ur=Le.get(ar);cr.forEach(gr=>a(gr,Ur))}),oe.forEach(cr=>{this.processLeaveNode(cr)})});const dn=[],In=[];for(let cr=this._namespaceList.length-1;cr>=0;cr--)this._namespaceList[cr].drainQueuedTransitions(e).forEach(Ur=>{const gr=Ur.player,ci=Ur.element;if(dn.push(gr),this.collectedEnterElements.length){const Dr=ci[Ku];if(Dr&&Dr.setForMove){if(Dr.previousTriggersValues&&Dr.previousTriggersValues.has(Ur.triggerName)){const Sr=Dr.previousTriggersValues.get(Ur.triggerName),xr=this.statesByElement.get(Ur.element);if(xr&&xr.has(Ur.triggerName)){const ur=xr.get(Ur.triggerName);ur.value=Sr,xr.set(Ur.triggerName,ur)}}return void gr.destroy()}}const or=!F||!this.driver.containsElement(F,ci),wt=Le.get(ci),Tn=ee.get(ci),Mt=this._buildInstruction(Ur,r,Tn,wt,or);if(Mt.errors&&Mt.errors.length)return void In.push(Mt);if(or)return gr.onStart(()=>Yf(ci,Mt.fromStyles)),gr.onDestroy(()=>Ed(ci,Mt.toStyles)),void s.push(gr);if(Ur.isFallbackTransition)return gr.onStart(()=>Yf(ci,Mt.fromStyles)),gr.onDestroy(()=>Ed(ci,Mt.toStyles)),void s.push(gr);const Nt=[];Mt.timelines.forEach(Dr=>{Dr.stretchStartingKeyframe=!0,this.disabledNodes.has(Dr.element)||Nt.push(Dr)}),Mt.timelines=Nt,r.append(ci,Mt.timelines),p.push({instruction:Mt,player:gr,element:ci}),Mt.queriedElements.forEach(Dr=>Ql(g,Dr,[]).push(gr)),Mt.preStyleProps.forEach((Dr,Sr)=>{if(Dr.size){let xr=x.get(Sr);xr||x.set(Sr,xr=new Set),Dr.forEach((ur,es)=>xr.add(es))}}),Mt.postStyleProps.forEach((Dr,Sr)=>{let xr=E.get(Sr);xr||E.set(Sr,xr=new Set),Dr.forEach((ur,es)=>xr.add(es))})});if(In.length){const cr=[];In.forEach(ar=>{cr.push(function Kk(t,n){return new d.vHH(3505,!1)}())}),dn.forEach(ar=>ar.destroy()),this.reportError(cr)}const vt=new Map,ln=new Map;p.forEach(cr=>{const ar=cr.element;r.has(ar)&&(ln.set(ar,ar),this._beforeAnimationBuild(cr.player.namespaceId,cr.instruction,vt))}),s.forEach(cr=>{const ar=cr.element;this._getPreviousPlayers(ar,!1,cr.namespaceId,cr.triggerName,null).forEach(gr=>{Ql(vt,ar,[]).push(gr),gr.destroy()})});const Qt=oe.filter(cr=>b(cr,x,E)),Bn=new Map;IA(Bn,this.driver,We,E,Je.l3).forEach(cr=>{b(cr,x,E)&&Qt.push(cr)});const hn=new Map;K.forEach((cr,ar)=>{IA(hn,this.driver,new Set(cr),x,Je.k1)}),Qt.forEach(cr=>{const ar=Bn.get(cr),Ur=hn.get(cr);Bn.set(cr,new Map([...Array.from(ar?.entries()??[]),...Array.from(Ur?.entries()??[])]))});const Ir=[],oi=[],zr={};p.forEach(cr=>{const{element:ar,player:Ur,instruction:gr}=cr;if(r.has(ar)){if(D.has(ar))return Ur.onDestroy(()=>Ed(ar,gr.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(gr.totalTime),void s.push(Ur);let ci=zr;if(ln.size>1){let wt=ar;const Tn=[];for(;wt=wt.parentNode;){const Mt=ln.get(wt);if(Mt){ci=Mt;break}Tn.push(wt)}Tn.forEach(Mt=>ln.set(Mt,ci))}const or=this._buildAnimation(Ur.namespaceId,gr,vt,c,hn,Bn);if(Ur.setRealPlayer(or),ci===zr)Ir.push(Ur);else{const wt=this.playersByElement.get(ci);wt&&wt.length&&(Ur.parentPlayer=ug(wt)),s.push(Ur)}}else Yf(ar,gr.fromStyles),Ur.onDestroy(()=>Ed(ar,gr.toStyles)),oi.push(Ur),D.has(ar)&&s.push(Ur)}),oi.forEach(cr=>{const ar=c.get(cr.element);if(ar&&ar.length){const Ur=ug(ar);cr.setRealPlayer(Ur)}}),s.forEach(cr=>{cr.parentPlayer?cr.syncPlayerEvents(cr.parentPlayer):cr.destroy()});for(let cr=0;cr<oe.length;cr++){const ar=oe[cr],Ur=ar[Ku];if(a(ar,yv),Ur&&Ur.hasAnimation)continue;let gr=[];if(g.size){let or=g.get(ar);or&&or.length&&gr.push(...or);let wt=this.driver.query(ar,ib,!0);for(let Tn=0;Tn<wt.length;Tn++){let Mt=g.get(wt[Tn]);Mt&&Mt.length&&gr.push(...Mt)}}const ci=gr.filter(or=>!or.destroyed);ci.length?l(this,ar,ci):this.processLeaveNode(ar)}return oe.length=0,Ir.forEach(cr=>{this.players.push(cr),cr.onDone(()=>{cr.destroy();const ar=this.players.indexOf(cr);this.players.splice(ar,1)}),cr.play()}),Ir}elementContainsData(n,e){let r=!1;const s=e[Ku];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,s,c){let p=[];if(e){const g=this.playersByQueriedElement.get(n);g&&(p=g)}else{const g=this.playersByElement.get(n);if(g){const x=!c||c==Iv;g.forEach(E=>{E.queued||!x&&E.triggerName!=s||p.push(E)})}}return(r||s)&&(p=p.filter(g=>!(r&&r!=g.namespaceId||s&&s!=g.triggerName))),p}_beforeAnimationBuild(n,e,r){const c=e.element,p=e.isRemovalTransition?void 0:n,g=e.isRemovalTransition?void 0:e.triggerName;for(const x of e.timelines){const E=x.element,D=E!==c,F=Ql(r,E,[]);this._getPreviousPlayers(E,D,p,g,e.toState).forEach(K=>{const ee=K.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),K.destroy(),F.push(K)})}Yf(c,e.fromStyles)}_buildAnimation(n,e,r,s,c,p){const g=e.triggerName,x=e.element,E=[],D=new Set,F=new Set,B=e.timelines.map(ee=>{const W=ee.element;D.add(W);const oe=W[Ku];if(oe&&oe.removedBeforeQueried)return new Je.ZN(ee.duration,ee.delay);const He=W!==x,We=function h(t){const n=[];return m(t,n),n}((r.get(W)||DA).map(vt=>vt.getRealPlayer())).filter(vt=>!!vt.element&&vt.element===W),Le=c.get(W),Bt=p.get(W),dn=XT(0,this._normalizer,0,ee.keyframes,Le,Bt),In=this._buildPlayer(ee,dn,We);if(ee.subTimeline&&s&&F.add(W),He){const vt=new ED(n,g,W);vt.setRealPlayer(In),E.push(vt)}return In});E.forEach(ee=>{Ql(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function hM(t,n,e){let r=t.get(n);if(r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,ee.element,ee))}),D.forEach(ee=>Dd(ee,$u));const K=ug(B);return K.onDestroy(()=>{D.forEach(ee=>a(ee,$u)),Ed(x,e.toStyles)}),F.forEach(ee=>{Ql(s,ee,[]).push(K)}),K}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Je.ZN(n.duration,n.delay)}}class ED{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Je.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(s=>Jm(n,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ql(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function xb(t){return t&&1===t.nodeType}function AA(t,n){const e=t.style.display;return t.style.display=n??"none",e}function IA(t,n,e,r,s){const c=[];e.forEach(x=>c.push(AA(x)));const p=[];r.forEach((x,E)=>{const D=new Map;x.forEach(F=>{const B=n.computeStyle(E,F,s);D.set(F,B),(!B||0==B.length)&&(E[Ku]=cM,p.push(E))}),t.set(E,D)});let g=0;return e.forEach(x=>AA(x,c[g++])),p}function kA(t,n){const e=new Map;if(t.forEach(g=>e.set(g,[])),0==n.length)return e;const s=new Set(n),c=new Map;function p(g){if(!g)return 1;let x=c.get(g);if(x)return x;const E=g.parentNode;return x=e.has(E)?E:s.has(E)?1:p(E),c.set(g,x),x}return n.forEach(g=>{const x=p(g);1!==x&&e.get(x).push(g)}),e}function Dd(t,n){t.classList?.add(n)}function a(t,n){t.classList?.remove(n)}function l(t,n,e){ug(e).onDone(()=>t.processLeaveNode(n))}function m(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof Je.ZE?m(r.players,n):n.push(r)}}function b(t,n,e){const r=e.get(t);if(!r)return!1;let s=n.get(t);return s?r.forEach(c=>s.add(c)):n.set(t,r),e.delete(t),!0}class A{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,c)=>{},this._transitionEngine=new dM(n,e,r),this._timelineEngine=new bA(n,e,r),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(n,e,r,s,c){const p=n+"-"+s;let g=this._triggerCache[p];if(!g){const x=[],D=cb(this._driver,c,x,[]);if(x.length)throw function $C(t,n){return new d.vHH(3404,!1)}();g=function wA(t,n,e){return new _D(t,n,e)}(s,D,this._normalizer),this._triggerCache[p]=g}this._transitionEngine.registerTrigger(e,s,g)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,s){this._transitionEngine.insertNode(n,e,r,s)}onRemove(n,e,r,s){this._transitionEngine.removeNode(n,e,s||!1,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,s){if("@"==r.charAt(0)){const[c,p]=eb(r);this._timelineEngine.command(c,e,p,s)}else this._transitionEngine.trigger(n,e,r,s)}listen(n,e,r,s,c){if("@"==r.charAt(0)){const[p,g]=eb(r);return this._timelineEngine.listen(p,e,g,c)}return this._transitionEngine.listen(n,e,r,s,c)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let U=(()=>{class t{constructor(e,r,s){this._element=e,this._startStyles=r,this._endStyles=s,this._state=0;let c=t.initialStylesByElement.get(e);c||t.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ed(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ed(this._element,this._initialStyles),this._endStyles&&(Ed(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Yf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yf(this._element,this._endStyles),this._endStyles=null),Ed(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ie(t){let n=null;return t.forEach((e,r)=>{(function Se(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class et{constructor(n,e,r,s){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&n.set(s,this._finished?r:aD(this.element,s))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Lt{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return nD(n,e)}getParentElement(n){return ew(n)}query(n,e,r){return tA(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,s,c,p=[]){const x={duration:r,delay:s,fill:0==s?"both":"forwards"};c&&(x.easing=c);const E=new Map,D=p.filter(K=>K instanceof et);(function Jk(t,n){return 0===t||0===n})(r,s)&&D.forEach(K=>{K.currentSnapshot.forEach((ee,W)=>E.set(W,ee))});let F=function sA(t){return t.length?t[0]instanceof Map?t:t.map(n=>iD(n)):[]}(e).map(K=>Qh(K));F=function aA(t,n,e){if(e.size&&n.length){let r=n[0],s=[];if(e.forEach((c,p)=>{r.has(p)||s.push(p),r.set(p,c)}),s.length)for(let c=1;c<n.length;c++){let p=n[c];s.forEach(g=>p.set(g,aD(t,g)))}}return n}(n,F,E);const B=function P(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=ie(n[0]),n.length>1&&(r=ie(n[n.length-1]))):n instanceof Map&&(e=ie(n)),e||r?new U(t,e,r):null}(n,F);return new et(n,F,x,B)}}let _n=(()=>{class t extends Je._j{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?(0,Je.vP)(e):e;return qr(this._renderer,null,r,"register",[s]),new Xn(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(d.FYo),d.LFG(Ge.K0))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();class Xn extends Je.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new yr(this._id,n,e||{},this._renderer)}}class yr{constructor(n,e,r,s){this.id=n,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return qr(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qr(t,n,e,r,s){return t.setProperty(n,`@@${e}:${r}`,s)}const Oi="@.disabled";let pr=(()=>{class t{constructor(e,r,s){this.delegate=e,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,p)=>{const g=p?.parentNode(c);g&&p.removeChild(g,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(c);return D||(D=new Si("",c,this.engine),this._rendererCache.set(c,D)),D}const p=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const x=D=>{Array.isArray(D)?D.forEach(x):this.engine.registerTrigger(p,g,e,D.name,D)};return r.data.animation.forEach(x),new Es(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,s){e>=0&&e<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[p,g]=c;p(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(d.FYo),d.LFG(A),d.LFG(d.R0b))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})();class Si{constructor(n,e,r){this.namespaceId=n,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,s=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,s)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,s){this.delegate.setAttribute(n,e,r,s)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,s){this.delegate.setStyle(n,e,r,s)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==Oi?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Es extends Si{constructor(n,e,r,s){super(e,r,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Oi?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const s=function qo(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let c=e.slice(1),p="";return"@"!=c.charAt(0)&&([c,p]=function fg(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(c)),this.engine.listen(this.namespaceId,s,c,p,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(n,e,r)}}const cw=[{provide:Je._j,useClass:_n},{provide:Av,useFactory:function Eb(){return new lM}},{provide:A,useClass:(()=>{class t extends A{constructor(e,r,s,c){super(e.body,r,s)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(Ge.K0),d.LFG(tb),d.LFG(Av),d.LFG(d.z2F))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})()},{provide:d.FYo,useFactory:function bb(t,n,e){return new pr(t,n,e)},deps:[_.se,A,d.R0b]}],kv=[{provide:tb,useFactory:()=>new Lt},{provide:d.QbO,useValue:"BrowserAnimations"},...cw],uw=[{provide:tb,useClass:nA},{provide:d.QbO,useValue:"NoopAnimations"},...cw];let Cb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?uw:kv}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:kv,imports:[_.b2]}),t})();const dP=["*",[["mat-toolbar-row"]]],hP=["*","mat-toolbar-row"],fP=(0,Pe.pj)(class{constructor(t){this._elementRef=t}});let pP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),gP=(()=>{class t extends fP{constructor(e,r,s){super(e),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(Re.t4),d.Y36(Ge.K0))},t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(e,r,s){if(1&e&&d.Suo(s,pP,5),2&e){let c;d.iGM(c=d.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:hP,decls:2,vars:0,template:function(e,r){1&e&&(d.F$t(dP),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),t})(),mP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Pe.BQ,Pe.BQ]}),t})();var _P=M(1620),pM=M(9643),Fl=M(1281),vP=M(4968),gl=M(2722);const yP=["connectionContainer"],xP=["inputContainer"],wP=["label"];function EP(t,n){1&t&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15)(3,"div",16)(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15)(7,"div",16)(8,"div",17),d.qZA(),d.BQk())}function bP(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.updateOutlineGap())}),d.Hsn(1,1),d.qZA()}if(2&t){const e=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function CP(t,n){if(1&t&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&t){const e=d.oxw(2);d.xp6(3),d.Oqu(e._control.placeholder)}}function DP(t,n){1&t&&d.Hsn(0,3,["*ngSwitchCase","true"])}function SP(t,n){1&t&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function TP(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.updateOutlineGap())}),d.YNc(2,CP,4,1,"ng-container",12),d.YNc(3,DP,1,0,"ng-content",12),d.YNc(4,SP,2,0,"span",22),d.qZA()}if(2&t){const e=d.oxw();d.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),d.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),d.uIk("for",e._control.id)("aria-owns",e._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function AP(t,n){1&t&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function IP(t,n){if(1&t&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&t){const e=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function kP(t,n){if(1&t&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&t){const e=d.oxw();d.Q6J("@transitionMessages",e._subscriptAnimationState)}}function MP(t,n){if(1&t&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&t){const e=d.oxw(2);d.Q6J("id",e._hintLabelId),d.xp6(1),d.Oqu(e.hintLabel)}}function RP(t,n){if(1&t&&(d.TgZ(0,"div",27),d.YNc(1,MP,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&t){const e=d.oxw();d.Q6J("@transitionMessages",e._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",e.hintLabel)}}const OP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],FP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],PP=new d.OlP("MatError"),NP={transitionMessages:(0,Je.X$)("transitionMessages",[(0,Je.SB)("enter",(0,Je.oB)({opacity:1,transform:"translateY(0%)"})),(0,Je.eR)("void => enter",[(0,Je.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Je.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let DD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t}),t})();const LP=new d.OlP("MatHint");let gM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["mat-label"]]}),t})(),BP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const mM=new d.OlP("MatPrefix");let VP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["","matPrefix",""]],features:[d._Bn([{provide:mM,useExisting:t}])]}),t})();const _M=new d.OlP("MatSuffix");let UP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["","matSuffix",""]],features:[d._Bn([{provide:_M,useExisting:t}])]}),t})(),vM=0;const GP=(0,Pe.pj)(class{constructor(t){this._elementRef=t}},"primary"),jP=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),MA=new d.OlP("MatFormField");let RA=(()=>{class t extends GP{constructor(e,r,s,c,p,g,x){super(e),this._changeDetectorRef=r,this._dir=s,this._defaults=c,this._platform=p,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new me.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+vM++,this._labelId="mat-form-field-label-"+vM++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==x,this.appearance=c?.appearance||"legacy",c&&(this._hideRequiredMarker=Boolean(c.hideRequiredMarker),c.color&&(this.color=this.defaultColor=c.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,Fl.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,pt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,gl.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,gl.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ae.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,pt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,pt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,gl.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,vP.R)(this._label.nativeElement,"transitionend").pipe((0,Ne.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const D=r.querySelectorAll(`${s}, ${c}`);for(let F=0;F<D.length;F++)D[F].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let p=0,g=0;const x=r.querySelectorAll(s),E=r.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const D=r.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const F=this._getStartEnd(D),B=e.children,K=this._getStartEnd(B[0].getBoundingClientRect());let ee=0;for(let W=0;W<B.length;W++)ee+=B[W].offsetWidth;p=Math.abs(K-F)-5,g=ee>0?.75*ee+10:0}for(let D=0;D<x.length;D++)x[D].style.width=`${p}px`;for(let D=0;D<E.length;D++)E[D].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Fe.Is,8),d.Y36(jP,8),d.Y36(Re.t4),d.Y36(d.R0b),d.Y36(d.QbO,8))},t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,r,s){if(1&e&&(d.Suo(s,DD,5),d.Suo(s,DD,7),d.Suo(s,gM,5),d.Suo(s,gM,7),d.Suo(s,BP,5),d.Suo(s,PP,5),d.Suo(s,LP,5),d.Suo(s,mM,5),d.Suo(s,_M,5)),2&e){let c;d.iGM(c=d.CRH())&&(r._controlNonStatic=c.first),d.iGM(c=d.CRH())&&(r._controlStatic=c.first),d.iGM(c=d.CRH())&&(r._labelChildNonStatic=c.first),d.iGM(c=d.CRH())&&(r._labelChildStatic=c.first),d.iGM(c=d.CRH())&&(r._placeholderChild=c.first),d.iGM(c=d.CRH())&&(r._errorChildren=c),d.iGM(c=d.CRH())&&(r._hintChildren=c),d.iGM(c=d.CRH())&&(r._prefixChildren=c),d.iGM(c=d.CRH())&&(r._suffixChildren=c)}},viewQuery:function(e,r){if(1&e&&(d.Gf(yP,7),d.Gf(xP,5),d.Gf(wP,5)),2&e){let s;d.iGM(s=d.CRH())&&(r._connectionContainerRef=s.first),d.iGM(s=d.CRH())&&(r._inputContainerRef=s.first),d.iGM(s=d.CRH())&&(r._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:MA,useExisting:t}]),d.qOj],ngContentSelectors:FP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(d.F$t(OP),d.TgZ(0,"div",0)(1,"div",1,2),d.NdJ("click",function(c){return r._control.onContainerClick&&r._control.onContainerClick(c)}),d.YNc(3,EP,9,0,"ng-container",3),d.YNc(4,bP,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,TP,5,16,"label",8),d.qZA()(),d.YNc(10,AP,2,0,"div",9),d.qZA(),d.YNc(11,IP,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,kP,2,1,"div",12),d.YNc(14,RP,5,2,"div",13),d.qZA()()),2&e&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[Ge.O5,Ge.RF,Ge.n9,pM.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[NP.transitionMessages]},changeDetection:0}),t})(),SD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Ge.ez,Pe.BQ,pM.Q8,Pe.BQ]}),t})();var Db=M(1218);class zP{constructor(n=!1,e,r=!0,s){this._multiple=n,this._emitChanges=r,this.compareWith=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new me.x,e&&e.length&&(n?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);const e=this.selected,r=new Set(n);n.forEach(c=>this._markSelected(c)),e.filter(c=>!r.has(c)).forEach(c=>this._unmarkSelected(c));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,n))return!0;return!1}return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}var Tb=M(3900),pg=M(4004),EM=M(1884);const WP=["trigger"],$P=["panel"];function KP(t,n){if(1&t&&(d.TgZ(0,"span",8),d._uU(1),d.qZA()),2&t){const e=d.oxw();d.xp6(1),d.Oqu(e.placeholder)}}function YP(t,n){if(1&t&&(d.TgZ(0,"span",12),d._uU(1),d.qZA()),2&t){const e=d.oxw(2);d.xp6(1),d.Oqu(e.triggerValue)}}function qP(t,n){1&t&&d.Hsn(0,0,["*ngSwitchCase","true"])}function ZP(t,n){if(1&t&&(d.TgZ(0,"span",9),d.YNc(1,YP,2,1,"span",10),d.YNc(2,qP,1,0,"ng-content",11),d.qZA()),2&t){const e=d.oxw();d.Q6J("ngSwitch",!!e.customTrigger),d.xp6(2),d.Q6J("ngSwitchCase",!0)}}function QP(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"div",13)(1,"div",14,15),d.NdJ("@transformPanel.done",function(s){d.CHM(e);const c=d.oxw();return d.KtG(c._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){d.CHM(e);const c=d.oxw();return d.KtG(c._handleKeydown(s))}),d.Hsn(3,1),d.qZA()()}if(2&t){const e=d.oxw();d.Q6J("@transformPanelWrap",void 0),d.xp6(1),d.Gre("mat-select-panel ",e._getPanelTheme(),""),d.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),d.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),d.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const XP=[[["mat-select-trigger"]],"*"],JP=["mat-select-trigger","*"],bM={transformPanelWrap:(0,Je.X$)("transformPanelWrap",[(0,Je.eR)("* => void",(0,Je.IO)("@transformPanel",[(0,Je.pV)()],{optional:!0}))]),transformPanel:(0,Je.X$)("transformPanel",[(0,Je.SB)("void",(0,Je.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Je.SB)("showing",(0,Je.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Je.SB)("showing-multiple",(0,Je.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Je.eR)("void => *",(0,Je.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Je.eR)("* => void",(0,Je.jt)("100ms 25ms linear",(0,Je.oB)({opacity:0})))])};let CM=0;const SM=new d.OlP("mat-select-scroll-strategy"),r2=new d.OlP("MAT_SELECT_CONFIG"),s2={provide:SM,deps:[ge.aV],useFactory:function n2(t){return()=>t.scrollStrategies.reposition()}};class o2{constructor(n,e){this.source=n,this.value=e}}const a2=(0,Pe.Kr)((0,Pe.sb)((0,Pe.Id)((0,Pe.FD)(class{constructor(t,n,e,r,s){this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=r,this.ngControl=s,this.stateChanges=new me.x}})))),l2=new d.OlP("MatSelectTrigger");let c2=(()=>{class t extends a2{constructor(e,r,s,c,p,g,x,E,D,F,B,K,ee,W){super(p,c,x,E,F),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=s,this._dir=g,this._parentFormField=D,this._liveAnnouncer=ee,this._defaultOptions=W,this._panelOpen=!1,this._compareWith=(oe,He)=>oe===He,this._uid="mat-select-"+CM++,this._triggerAriaLabelledBy=null,this._destroy=new me.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+CM++,this._panelDoneAnimatingStream=new me.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Ce.P)(()=>{const oe=this.options;return oe?oe.changes.pipe((0,pt.O)(oe),(0,Tb.w)(()=>(0,ae.T)(...oe.map(He=>He.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ne.q)(1),(0,Tb.w)(()=>this.optionSelectionChanges))}),this.openedChange=new d.vpe,this._openedStream=this.openedChange.pipe((0,_t.h)(oe=>oe),(0,pg.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,_t.h)(oe=>!oe),(0,pg.U)(()=>{})),this.selectionChange=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=W?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=W.typeaheadDebounceInterval),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(B)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(fe.kI.required)??!1}set required(e){this._required=(0,Fl.Ig)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,Fl.Ig)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=(0,Fl.Ig)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=(0,Fl.su)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new zP(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,EM.x)(),(0,gl.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,gl.R)(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,pt.O)(null),(0,gl.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,s=r===Oe.JH||r===Oe.LH||r===Oe.oh||r===Oe.SV,c=r===Oe.K5||r===Oe.L_,p=this._keyManager;if(!p.isTyping()&&c&&!(0,Oe.Vb)(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;p.onKeydown(e);const x=this.selected;x&&g!==x&&this._liveAnnouncer.announce(x.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,s=e.keyCode,c=s===Oe.JH||s===Oe.LH,p=r.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(p||s!==Oe.K5&&s!==Oe.L_||!r.activeItem||(0,Oe.Vb)(e))if(!p&&this._multiple&&s===Oe.A&&e.ctrlKey){e.preventDefault();const g=this.options.some(x=>!x.disabled&&!x.selected);this.options.forEach(x=>{x.disabled||(g?x.select():x.deselect())})}else{const g=r.activeItemIndex;r.onKeydown(e),this._multiple&&c&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==g&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ne.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new H.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,gl.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,gl.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ae.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,gl.R)(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ae.T)(...this.options.map(r=>r._stateChanges)).pipe((0,gl.R)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,r){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,s)=>this.sortComparator?this.sortComparator(r,s,e):e.indexOf(r)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Db.rL),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(Pe.rD),d.Y36(d.SBq),d.Y36(Fe.Is,8),d.Y36(fe.F,8),d.Y36(fe.sg,8),d.Y36(MA,8),d.Y36(fe.a5,10),d.$8M("tabindex"),d.Y36(SM),d.Y36(H.Kd),d.Y36(r2,8))},t.\u0275dir=d.lG2({type:t,viewQuery:function(e,r){if(1&e&&(d.Gf(WP,5),d.Gf($P,5),d.Gf(ge.pI,5)),2&e){let s;d.iGM(s=d.CRH())&&(r.trigger=s.first),d.iGM(s=d.CRH())&&(r.panel=s.first),d.iGM(s=d.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[d.qOj,d.TTD]}),t})(),u2=(()=>{class t extends c2{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,r,s){const c=this._getItemHeight();return Math.min(Math.max(0,c*e-r+c/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,gl.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ne.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const r=(0,Pe.CB)(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===r?0:(0,Pe.jH)((e+r)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new o2(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),s=this._isRtl(),c=this.multiple?56:32;let p;if(this.multiple)p=40;else if(this.disableOptionCentering)p=16;else{let E=this._selectionModel.selected[0]||this.options.first;p=E&&E.group?32:16}s||(p*=-1);const g=0-(e.left+p-(s?c:0)),x=e.right+p-r.width+(s?0:c);g>0?p+=g+8:x>0&&(p-=x+8),this._overlayDir.offsetX=Math.round(p),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,r,s){const c=this._getItemHeight(),p=(c-this._triggerRect.height)/2,g=Math.floor(256/c);let x;return this.disableOptionCentering?0:(x=0===this._scrollTop?e*c:this._scrollTop===s?(e-(this._getItemCount()-g))*c+(c-(this._getItemCount()*c-256)%c):r-c/2,Math.round(-1*x-p))}_checkOverlayWithinViewport(e){const r=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),c=this._triggerRect.top-8,p=s.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),E=Math.min(this._getItemCount()*r,256)-g-this._triggerRect.height;E>p?this._adjustPanelUp(E,p):g>c?this._adjustPanelDown(g,c,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,r){const s=Math.round(e-r);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,r,s){const c=Math.round(e-r);if(this._scrollTop+=c,this._offsetY+=c,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),r=this._getItemCount(),s=Math.min(r*e,256),p=r*e-s;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=(0,Pe.CB)(g,this.options,this.optionGroups);const x=s/2;this._scrollTop=this._calculateOverlayScroll(g,x,p),this._offsetY=this._calculateOverlayOffsetY(g,x,p),this._checkOverlayWithinViewport(p)}_getOriginBasedOnOption(){const e=this._getItemHeight(),r=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=d.n5z(t)))(r||t)}}(),t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,r,s){if(1&e&&(d.Suo(s,l2,5),d.Suo(s,Pe.ey,5),d.Suo(s,Pe.K7,5)),2&e){let c;d.iGM(c=d.CRH())&&(r.customTrigger=c.first),d.iGM(c=d.CRH())&&(r.options=c),d.iGM(c=d.CRH())&&(r.optionGroups=c)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,r){1&e&&d.NdJ("keydown",function(c){return r._handleKeydown(c)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(d.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),d.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[d._Bn([{provide:DD,useExisting:t},{provide:Pe.HF,useExisting:t}]),d.qOj],ngContentSelectors:JP,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(d.F$t(XP),d.TgZ(0,"div",0,1),d.NdJ("click",function(){return r.toggle()}),d.TgZ(3,"div",2),d.YNc(4,KP,2,1,"span",3),d.YNc(5,ZP,3,2,"span",4),d.qZA(),d.TgZ(6,"div",5),d._UZ(7,"div",6),d.qZA()(),d.YNc(8,QP,4,14,"ng-template",7),d.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const s=d.MAs(1);d.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),d.xp6(3),d.Q6J("ngSwitch",r.empty),d.uIk("id",r._valueId),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1),d.xp6(3),d.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},dependencies:[Ge.mk,Ge.RF,Ge.n9,Ge.ED,ge.pI,ge.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[bM.transformPanelWrap,bM.transformPanel]},changeDetection:0}),t})(),TM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[s2],imports:[Ge.ez,ge.U8,Pe.Ng,Pe.BQ,Db.ZD,SD,Pe.Ng,Pe.BQ]}),t})();const p2={provide:new d.OlP("mat-tooltip-scroll-strategy"),deps:[ge.aV],useFactory:function f2(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let m2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[p2],imports:[H.rt,Ge.ez,ge.U8,Pe.BQ,Pe.BQ,Db.ZD]}),t})(),OA=(()=>{class t{constructor(){this.changes=new me.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,r,s)=>{if(0==s||0==r)return`0 of ${s}`;const c=e*r;return`${c+1} \u2013 ${c<(s=Math.max(s,0))?Math.min(c+r,s):c+r} of ${s}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const w2={provide:OA,deps:[[new d.FiY,new d.tp0,OA]],useFactory:function x2(t){return t||new OA}};let AM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[w2],imports:[Ge.ez,cg.ot,TM,m2,Pe.BQ]}),t})();var E2=M(515);const IM=(0,Re.i$)({passive:!0});let b2=(()=>{class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return E2.E;const r=(0,Fl.fI)(e),s=this._monitoredElements.get(r);if(s)return s.subject;const c=new me.x,p="cdk-text-field-autofilled",g=x=>{"cdk-text-field-autofill-start"!==x.animationName||r.classList.contains(p)?"cdk-text-field-autofill-end"===x.animationName&&r.classList.contains(p)&&(r.classList.remove(p),this._ngZone.run(()=>c.next({target:x.target,isAutofilled:!1}))):(r.classList.add(p),this._ngZone.run(()=>c.next({target:x.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",g,IM),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",g,IM)}}),c}stopMonitoring(e){const r=(0,Fl.fI)(e),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(Re.t4),d.LFG(d.R0b))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})();const C2=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),D2=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let S2=0;const T2=(0,Pe.FD)(class{constructor(t,n,e,r){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new me.x}});let MM=(()=>{class t extends T2{constructor(e,r,s,c,p,g,x,E,D,F){super(g,c,p,s),this._elementRef=e,this._platform=r,this._autofillMonitor=E,this._formField=F,this._uid="mat-input-"+S2++,this.focused=!1,this.stateChanges=new me.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ee=>(0,Re.qK)().has(ee)),this._iOSKeyupListener=ee=>{const W=ee.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,K=B.nodeName.toLowerCase();this._inputValueAccessor=x||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!F,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,Fl.Ig)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(fe.kI.required)??!1}set required(e){this._required=(0,Fl.Ig)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&(0,Re.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,Fl.Ig)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){D2.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(d.SBq),d.Y36(Re.t4),d.Y36(fe.a5,10),d.Y36(fe.F,8),d.Y36(fe.sg,8),d.Y36(Pe.rD),d.Y36(C2,10),d.Y36(b2),d.Y36(d.R0b),d.Y36(MA,8))},t.\u0275dir=d.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:DD,useExisting:t}]),d.qOj,d.TTD]}),t})(),A2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[Pe.rD],imports:[kM,SD,Pe.BQ,kM,SD]}),t})(),RM=(()=>{class t{transform(e,r){return r&&e?t.filter(e,r):e}static filter(e,r){const s=r.toLowerCase();function c(p,g){for(let x in p)if(null!==p[x]&&null!=p[x]&&("object"==typeof p[x]&&c(p[x],g)||p[x].toString().toLowerCase().includes(s)))return!0;return!1}return e.filter(function(p){return c(p,r)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Yjl({name:"filter",type:t,pure:!1}),t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),I2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})();var gg=M(2011),k2=M(4986),FA=M(9751),M2=M(3099),OM=M(5026),FM=M(4482),PA=M(5403),R2=M(8421),O2=M(4671),F2=M(5032),P2=M(3269),Yu=M(5813),PM=(M(5881),M(3942)),Mv=M(4859),r0=M(9681),it=M(2090),NA=M(1877);const NM="@firebase/database";let LA="";function BM(t){LA=t}class B2{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,it.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,it.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class V2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,it.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const VM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new B2(n)}}catch{}return new V2},Rv=VM("localStorage"),BA=VM("sessionStorage"),hw=new NA.Yd("@firebase/database"),UM=function(){let t=1;return function(){return t++}}(),HM=function(t){const n=(0,it.dS)(t),e=new it.gQ;e.update(n);const r=e.digest();return it.US.encodeByteArray(r)},Ib=function(...t){let n="";for(let e=0;e<t.length;e++){const r=t[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=Ib.apply(null,r):n+="object"==typeof r?(0,it.Pz)(r):r,n+=" "}return n};let Ov=null,GM=!0;const jM=function(t,n){(0,it.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(hw.logLevel=NA.in.VERBOSE,Ov=hw.log.bind(hw),n&&BA.set("logging_enabled",!0)):"function"==typeof t?Ov=t:(Ov=null,BA.remove("logging_enabled"))},Jl=function(...t){if(!0===GM&&(GM=!1,null===Ov&&!0===BA.get("logging_enabled")&&jM(!0)),Ov){const n=Ib.apply(null,t);Ov(n)}},kb=function(t){return function(...n){Jl(t,...n)}},VA=function(...t){const n="FIREBASE INTERNAL ERROR: "+Ib(...t);hw.error(n)},qf=function(...t){const n=`FIREBASE FATAL ERROR: ${Ib(...t)}`;throw hw.error(n),new Error(n)},Lc=function(...t){const n="FIREBASE WARNING: "+Ib(...t);hw.warn(n)},ID=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mg="[MIN_NAME]",Zf="[MAX_NAME]",Fv=function(t,n){if(t===n)return 0;if(t===mg||n===Zf)return-1;if(n===mg||t===Zf)return 1;{const e=kD(t),r=kD(n);return null!==e?null!==r?e-r==0?t.length-n.length:e-r:-1:null!==r?1:t<n?-1:1}},G2=function(t,n){return t===n?0:t<n?-1:1},Mb=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,it.Pz)(n))},UA=function(t){if("object"!=typeof t||null===t)return(0,it.Pz)(t);const n=[];for(const r in t)n.push(r);n.sort();let e="{";for(let r=0;r<n.length;r++)0!==r&&(e+=","),e+=(0,it.Pz)(n[r]),e+=":",e+=UA(t[n[r]]);return e+="}",e},zM=function(t,n){const e=t.length;if(e<=n)return[t];const r=[];for(let s=0;s<e;s+=n)r.push(t.substring(s,s+n>e?e:s+n));return r};function ec(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const WM=function(t){(0,it.hu)(!ID(t),"Invalid JSON number");const r=1023;let s,c,p,g,x;0===t?(c=0,p=0,s=1/t==-1/0?1:0):(s=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(t)/Math.LN2),r),c=g+r,p=Math.round(t*Math.pow(2,52-g)-Math.pow(2,52))):(c=0,p=Math.round(t/Math.pow(2,-1074))));const E=[];for(x=52;x;x-=1)E.push(p%2?1:0),p=Math.floor(p/2);for(x=11;x;x-=1)E.push(c%2?1:0),c=Math.floor(c/2);E.push(s?1:0),E.reverse();const D=E.join("");let F="";for(x=0;x<64;x+=8){let B=parseInt(D.substr(x,8),2).toString(16);1===B.length&&(B="0"+B),F+=B}return F.toLowerCase()},$2=new RegExp("^-?(0*)\\d{1,10}$"),$M=-2147483648,HA=2147483647,kD=function(t){if($2.test(t)){const n=Number(t);if(n>=$M&&n<=HA)return n}return null},fw=function(t){try{t()}catch(n){setTimeout(()=>{throw Lc("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Rb=function(t,n){const e=setTimeout(t,n);return"object"==typeof e&&e.unref&&e.unref(),e};class Y2{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Lc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class q2{constructor(n,e,r){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Jl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lc(n)}}let Ob=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const QM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eR="websocket",tR="long_polling";class jA{constructor(n,e,r,s,c=!1,p="",g=!1){this.secure=e,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=c,this.persistenceKey=p,this.includeNamespaceInQueryParams=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rv.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Rv.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nR(t,n,e){let r;if((0,it.hu)("string"==typeof n,"typeof type must == string"),(0,it.hu)("object"==typeof e,"typeof params must == object"),n===eR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==tR)throw new Error("Unknown connection type: "+n);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Z2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const s=[];return ec(e,(c,p)=>{s.push(c+"="+p)}),r+s.join("&")}class Q2{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,it.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,it.p$)(this.counters_)}}const zA={},WA={};function $A(t){const n=t.toString();return zA[n]||(zA[n]=new Q2),zA[n]}class J2{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&fw(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class s0{constructor(n,e,r,s,c,p,g){this.connId=n,this.repoInfo=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.transportSessionId=p,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kb(n),this.stats_=$A(e),this.urlFn=x=>(this.appCheckToken&&(x.ac=this.appCheckToken),nR(e,tR,x))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new J2(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,it.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KA((...c)=>{const[p,g,x,E,D]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=g,this.password=x;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[p,g]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(p,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&QM.test(location.hostname)&&(r.r="f");const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){s0.forceAllow_=!0}static forceDisallow(){s0.forceDisallow_=!0}static isAvailable(){return!((0,it.Yr)()||!s0.forceAllow_&&(s0.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,it.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,it.h$)(e),s=zM(r,1840);for(let c=0;c<s.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[c]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,it.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,it.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class KA{constructor(n,e,r,s){if(this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,it.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=UM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=KA.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(g){Jl("frame writing exception"),g.stack&&Jl(g.stack),Jl(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Jl("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const p=this.pendingSegs.shift();r=r+"&seg"+s+"="+p.seg+"&ts"+s+"="+p.ts+"&d"+s+"="+p.d,s++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,r){this.pendingSegs.push({seg:n,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(s),r()})}addTag(n,e){(0,it.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||"loaded"===s||"complete"===s)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Jl("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let RD=null;typeof MozWebSocket<"u"?RD=MozWebSocket:typeof WebSocket<"u"&&(RD=WebSocket);let pw=(()=>{class t{constructor(e,r,s,c,p,g,x){this.connId=e,this.applicationId=s,this.appCheckToken=c,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kb(this.connId),this.stats_=$A(r),this.connURL=t.connectionURL_(r,g,x,c,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,c,p){const g={v:"5"};return!(0,it.Yr)()&&typeof location<"u"&&location.hostname&&QM.test(location.hostname)&&(g.r="f"),r&&(g.s=r),s&&(g.ls=s),c&&(g.ac=c),p&&(g.p=p),nR(e,eR,g)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rv.set("previous_websocket_failure",!0);try{let s;if((0,it.Yr)()){s={headers:{"User-Agent":`Firebase/5/${LA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,g=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;g&&(s.proxy={origin:g})}this.mySock=new RD(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const c=s.message||s.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const c=s.message||s.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&null!==RD&&!t.forceDisallow_}static previouslyFailed(){return Rv.isInMemoryStorage||!0===Rv.get("previous_websocket_failure")}markConnectionHealthy(){Rv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=(0,it.cI)(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,it.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);null!==s&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=(0,it.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=zM(r,16384);s.length>1&&this.sendString_(String(s.length));for(let c=0;c<s.length;c++)this.sendString_(s[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),cR=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[s0,pw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=pw&&pw.isAvailable();let s=r&&!pw.previouslyFailed();if(e.webSocketOnly&&(r||Lc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[pw];else{const c=this.transports_=[];for(const p of t.ALL_TRANSPORTS)p&&p.isAvailable()&&c.push(p);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class mR{constructor(n,e,r,s,c,p,g,x,E,D){this.id=n,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=c,this.onMessage_=p,this.onReady_=g,this.onDisconnect_=x,this.onKill_=E,this.lastSessionId=D,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kb("c:"+this.id+":"),this.transportManager_=new cR(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Rb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Mb("t",n),r=Mb("d",n);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Mb("t",n),r=Mb("d",n);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Mb("t",n);if("d"in n){const r=n.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?VA("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VA("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,r=n.v,s=n.h;this.sessionId=n.s,this.repoInfo_.host=s,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Lc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Rb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _R{put(n,e,r,s){}merge(n,e,r,s){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,r){}onDisconnectMerge(n,e,r){}onDisconnectCancel(n,e){}reportStats(n){}}class vR{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,it.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,e)}}on(n,e,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:r});const s=this.getInitialEvent(n);s&&e.apply(r,s)}off(n,e,r){this.validateEventType_(n);const s=this.listeners_[n]||[];for(let c=0;c<s.length;c++)if(s[c].callback===e&&(!r||r===s[c].context))return void s.splice(c,1)}validateEventType_(n){(0,it.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class OD extends vR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,it.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OD}getInitialEvent(n){return(0,it.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Ao{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function ao(){return new Ao("")}function _s(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function o0(t){return t.pieces_.length-t.pieceNum_}function Zo(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Ao(t.pieces_,n)}function qA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Fb(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function wR(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Ao(n,0)}function Ea(t,n){const e=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);if(n instanceof Ao)for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);else{const r=n.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&e.push(r[s])}return new Ao(e,0)}function vs(t){return t.pieceNum_>=t.pieces_.length}function uu(t,n){const e=_s(t),r=_s(n);if(null===e)return n;if(e===r)return uu(Zo(t),Zo(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function wN(t,n){const e=Fb(t,0),r=Fb(n,0);for(let s=0;s<e.length&&s<r.length;s++){const c=Fv(e[s],r[s]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function ZA(t,n){if(o0(t)!==o0(n))return!1;for(let e=t.pieceNum_,r=n.pieceNum_;e<=t.pieces_.length;e++,r++)if(t.pieces_[e]!==n.pieces_[r])return!1;return!0}function ah(t,n){let e=t.pieceNum_,r=n.pieceNum_;if(o0(t)>o0(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[r])return!1;++e,++r}return!0}class EN{constructor(n,e){this.errorPrefix_=e,this.parts_=Fb(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,it.ug)(this.parts_[r]);ER(this)}}function ER(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pv(t))}function Pv(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class QA extends vR{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new QA}getInitialEvent(n){return(0,it.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Pb=1e3;let PD,Nv=(()=>{class t extends _R{constructor(e,r,s,c,p,g,x,E){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=c,this.onServerInfoUpdate_=p,this.authTokenProvider_=g,this.appCheckTokenProvider_=x,this.authOverride_=E,this.id=t.nextPersistentConnectionId_++,this.log_=kb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,it.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");QA.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&OD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const c=++this.requestNumber_,p={r:c,a:e,b:r};this.log_((0,it.Pz)(p)),(0,it.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),s&&(this.requestCBHash_[c]=s)}get(e){this.initConnection_();const r=new it.BH,s={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:s,onComplete:g=>{const x=g.d;"ok"===g.s?r.resolve(x):r.reject(x)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,s,c){this.initConnection_();const p=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+p),this.listens.has(g)||this.listens.set(g,new Map),(0,it.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,it.hu)(!this.listens.get(g).has(p),"listen() called twice for same path/queryId.");const x={onComplete:c,hashFn:r,query:e,tag:s};this.listens.get(g).set(p,x),this.connected_&&this.sendListen_(x)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+s+" for "+c);const p={p:s};e.tag&&(p.q=r._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,x=>{const E=x.d,D=x.s;t.warnOnListenWarnings_(E,r),(this.listens.get(s)&&this.listens.get(s).get(c))===e&&(this.log_("listen response",x),"ok"!==D&&this.removeListen_(s,c),e.onComplete&&e.onComplete(D,E))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,it.r3)(e,"w")){const s=(0,it.DV)(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',p=r._path.toString();Lc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,it.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,it.w9)(e)?"auth":"gauth",s={cred:e};null===this.authOverride_?s.noauth=!0:"object"==typeof this.authOverride_&&(s.authvar=this.authOverride_),this.sendRequest(r,s,c=>{const p=c.s,g=c.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+c),(0,it.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,c)&&this.connected_&&this.sendUnlisten_(s,c,e._queryObject,r)}sendUnlisten_(e,r,s,c){this.log_("Unlisten on "+e+" for "+r);const p={p:e};c&&(p.q=s,p.t=c),this.sendRequest("n",p)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,c){const p={p:r,d:s};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,g=>{c&&setTimeout(()=>{c(g.s,g.d)},Math.floor(0))})}put(e,r,s,c){this.putInternal("p",e,r,s,c)}merge(e,r,s,c){this.putInternal("m",e,r,s,c)}putInternal(e,r,s,c,p){this.initConnection_();const g={p:r,d:s};void 0!==p&&(g.h=p),this.outstandingPuts_.push({action:e,request:g,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,p=>{this.log_(r+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(p.s,p.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{"ok"!==s.s&&this.log_("reportStats","Error sending stats: "+s.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,it.Pz)(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):VA("Unrecognized action received from server: "+(0,it.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,it.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,st.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),s=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+t.nextConnectionId_++,g=e.lastSessionId;let x=!1,E=null;const D=function(){E?E.close():(x=!0,c())};e.realtime_={close:D,sendRequest:function(K){(0,it.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(K)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,ee]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);x?Jl("getToken() completed but was canceled"):(Jl("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=ee&&ee.token,E=new mR(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,s,c,W=>{Lc(W+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(K){e.log_("Failed to get token: "+K),x||(e.repoInfo_.nodeAdmin&&Lc(K),D())}}})()}interrupt(e){Jl("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Jl("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,it.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;s=r?r.map(p=>UA(p)).join("$"):"default";const c=this.removeListen_(e,s);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const s=new Ao(e).toString();let c;if(this.listens.has(s)){const p=this.listens.get(s);c=p.get(r),p.delete(r),0===p.size&&this.listens.delete(s)}else c=void 0;return c}onAuthRevoked_(e,r){Jl("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Jl("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,it.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+LA.replace(/\./g,"-")]=1,(0,it.uI)()?e["framework.cordova"]=1:(0,it.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=OD.getInstance().currentlyOnline();return(0,it.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class bs{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new bs(n,e)}}class FD{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const r=new bs(mg,n),s=new bs(mg,e);return 0!==this.compare(r,s)}minPost(){return bs.MIN}}class DR extends FD{static get __EMPTY_NODE(){return PD}static set __EMPTY_NODE(n){PD=n}compare(n,e){return Fv(n.name,e.name)}isDefinedOn(n){throw(0,it.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return bs.MIN}maxPost(){return new bs(Zf,PD)}makePost(n,e){return(0,it.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new bs(n,PD)}toString(){return".key"}}const Qf=new DR;class ND{constructor(n,e,r,s,c=null){this.isReverse_=s,this.resultGenerator_=c,this.nodeStack_=[];let p=1;for(;!n.isEmpty();)if(p=e?r(n.key,e):1,s&&(p*=-1),p<0)n=this.isReverse_?n.left:n.right;else{if(0===p){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let JA,Xh=(()=>{class t{constructor(e,r,s,c,p){this.key=e,this.value=r,this.color=s??t.RED,this.left=c??qu.EMPTY_NODE,this.right=p??qu.EMPTY_NODE}copy(e,r,s,c,p){return new t(e??this.key,r??this.value,s??this.color,c??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let c=this;const p=s(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,r,s),null):0===p?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,s)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return qu.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,c;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),0===r(e,s.key)){if(s.right.isEmpty())return qu.EMPTY_NODE;c=s.right.min_(),s=s.copy(c.key,c.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class qu{constructor(n,e=qu.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new qu(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Xh.BLACK,null,null))}remove(n){return new qu(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Xh.BLACK,null,null))}get(n){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(n){let e,r=this.root_,s=null;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(s=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ND(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new ND(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new ND(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new ND(this.root_,null,this.comparator_,!0,n)}}function kN(t,n){return Fv(t.name,n.name)}function XA(t,n){return Fv(t,n)}qu.EMPTY_NODE=new class IN{copy(n,e,r,s,c){return this}insert(n,e,r){return new Xh(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const SR=function(t){return"number"==typeof t?"number:"+WM(t):"string:"+t},TR=function(t){if(t.isLeafNode()){const n=t.val();(0,it.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,it.r3)(n,".sv"),"Priority must be a string or number.")}else(0,it.hu)(t===JA||t.isEmpty(),"priority of unexpected type.");(0,it.hu)(t===JA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let AR,IR,kR,gw=(()=>{class t{constructor(e,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,it.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),TR(this.priorityNode_)}static set __childrenNodeConstructor(e){AR=e}static get __childrenNodeConstructor(){return AR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vs(e)?this:".priority"===_s(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=_s(e);return null===s?r:r.isEmpty()&&".priority"!==s?this:((0,it.hu)(".priority"!==s||1===o0(e),".priority must be the last token in a path"),this.updateImmediateChild(s,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zo(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SR(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?WM(this.value_):this.value_,this.lazyHash_=HM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,it.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,c=t.VALUE_TYPE_ORDER.indexOf(r),p=t.VALUE_TYPE_ORDER.indexOf(s);return(0,it.hu)(c>=0,"Unknown leaf type: "+r),(0,it.hu)(p>=0,"Unknown leaf type: "+s),c===p?"object"===s?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const sa=new class FN extends FD{compare(n,e){const r=n.node.getPriority(),s=e.node.getPriority(),c=r.compareTo(s);return 0===c?Fv(n.name,e.name):c}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return bs.MIN}maxPost(){return new bs(Zf,new gw("[PRIORITY-POST]",kR))}makePost(n,e){const r=IR(n);return new bs(e,new gw("[PRIORITY-POST]",r))}toString(){return".priority"}},PN=Math.log(2);class NN{constructor(n){this.count=parseInt(Math.log(n+1)/PN,10),this.current_=this.count-1;const s=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&s}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const LD=function(t,n,e,r){t.sort(n);const s=function(x,E){const D=E-x;let F,B;if(0===D)return null;if(1===D)return F=t[x],B=e?e(F):F,new Xh(B,F.node,Xh.BLACK,null,null);{const K=parseInt(D/2,10)+x,ee=s(x,K),W=s(K+1,E);return F=t[K],B=e?e(F):F,new Xh(B,F.node,Xh.BLACK,ee,W)}},g=function(x){let E=null,D=null,F=t.length;const B=function(ee,W){const oe=F-ee,He=F;F-=ee;const We=s(oe+1,He),Le=t[oe],Bt=e?e(Le):Le;K(new Xh(Bt,Le.node,W,null,We))},K=function(ee){E?(E.left=ee,E=ee):(D=ee,E=ee)};for(let ee=0;ee<x.count;++ee){const W=x.nextBitIsOne(),oe=Math.pow(2,x.count-(ee+1));W?B(oe,Xh.BLACK):(B(oe,Xh.BLACK),B(oe,Xh.RED))}return D}(new NN(t.length));return new qu(r||n,g)};let eI;const mw={};class _g{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,it.hu)(mw&&sa,"ChildrenNode.ts has not been loaded"),eI=eI||new _g({".priority":mw},{".priority":sa}),eI}get(n){const e=(0,it.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof qu?e:null}hasIndex(n){return(0,it.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,it.hu)(n!==Qf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const c=e.getIterator(bs.Wrap);let g,p=c.getNext();for(;p;)s=s||n.isDefinedOn(p.node),r.push(p),p=c.getNext();g=s?LD(r,n.getCompare()):mw;const x=n.toString(),E=Object.assign({},this.indexSet_);E[x]=n;const D=Object.assign({},this.indexes_);return D[x]=g,new _g(D,E)}addToIndexes(n,e){const r=(0,it.UI)(this.indexes_,(s,c)=>{const p=(0,it.DV)(this.indexSet_,c);if((0,it.hu)(p,"Missing index implementation for "+c),s===mw){if(p.isDefinedOn(n.node)){const g=[],x=e.getIterator(bs.Wrap);let E=x.getNext();for(;E;)E.name!==n.name&&g.push(E),E=x.getNext();return g.push(n),LD(g,p.getCompare())}return mw}{const g=e.get(n.name);let x=s;return g&&(x=x.remove(new bs(n.name,g))),x.insert(n,n.node)}});return new _g(r,this.indexSet_)}removeFromIndexes(n,e){const r=(0,it.UI)(this.indexes_,s=>{if(s===mw)return s;{const c=e.get(n.name);return c?s.remove(new bs(n.name,c)):s}});return new _g(r,this.indexSet_)}}let Nb,os=(()=>{class t{constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&TR(this.priorityNode_),this.children_.isEmpty()&&(0,it.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nb||(Nb=new t(new qu(XA),null,_g.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nb}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Nb:r}}getChild(e){const r=_s(e);return null===r?this:this.getImmediateChild(r).getChild(Zo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,it.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const s=new bs(e,r);let c,p;r.isEmpty()?(c=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(s,this.children_)):(c=this.children_.insert(e,r),p=this.indexMap_.addToIndexes(s,this.children_));const g=c.isEmpty()?Nb:this.priorityNode_;return new t(c,g,p)}}updateChild(e,r){const s=_s(e);if(null===s)return r;{(0,it.hu)(".priority"!==_s(e)||1===o0(e),".priority must be the last token in a path");const c=this.getImmediateChild(s).updateChild(Zo(e),r);return this.updateImmediateChild(s,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,c=0,p=!0;if(this.forEachChild(sa,(g,x)=>{r[g]=x.val(e),s++,p&&t.INTEGER_REGEXP_.test(g)?c=Math.max(c,Number(g)):p=!1}),!e&&p&&c<2*s){const g=[];for(const x in r)g[x]=r[x];return g}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+SR(this.getPriority().val())+":"),this.forEachChild(sa,(r,s)=>{const c=s.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":HM(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const c=this.resolveIndex_(s);if(c){const p=c.getPredecessorKey(new bs(e,r));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new bs(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new bs(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,bs.Wrap);let p=c.peek();for(;null!=p&&r.compare(p,e)<0;)c.getNext(),p=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,bs.Wrap);let p=c.peek();for(;null!=p&&r.compare(p,e)>0;)c.getNext(),p=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Lb?-1:0}withIndex(e){if(e===Qf||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Qf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const s=this.getIterator(sa),c=r.getIterator(sa);let p=s.getNext(),g=c.getNext();for(;p&&g;){if(p.name!==g.name||!p.node.equals(g.node))return!1;p=s.getNext(),g=c.getNext()}return null===p&&null===g}return!1}return!1}}resolveIndex_(e){return e===Qf?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Lb=new class LN extends os{constructor(){super(new qu(XA),os.EMPTY_NODE,_g.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return os.EMPTY_NODE}isEmpty(){return!1}};function Ma(t,n=null){if(null===t)return os.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,it.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new gw(t,Ma(n));if(t instanceof Array){let e=os.EMPTY_NODE;return ec(t,(r,s)=>{if((0,it.r3)(t,r)&&"."!==r.substring(0,1)){const c=Ma(s);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(Ma(n))}{const e=[];let r=!1;if(ec(t,(p,g)=>{if("."!==p.substring(0,1)){const x=Ma(g);x.isEmpty()||(r=r||!x.getPriority().isEmpty(),e.push(new bs(p,x)))}}),0===e.length)return os.EMPTY_NODE;const c=LD(e,kN,p=>p.name,XA);if(r){const p=LD(e,sa.getCompare());return new os(c,Ma(n),new _g({".priority":p},{".priority":sa}))}return new os(c,Ma(n),_g.Default)}}Object.defineProperties(bs,{MIN:{value:new bs(mg,os.EMPTY_NODE)},MAX:{value:new bs(Zf,Lb)}}),DR.__EMPTY_NODE=os.EMPTY_NODE,gw.__childrenNodeConstructor=os,function MN(t){JA=t}(Lb),function ON(t){kR=t}(Lb),function RN(t){IR=t}(Ma);class tI extends FD{constructor(n){super(),this.indexPath_=n,(0,it.hu)(!vs(n)&&".priority"!==_s(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const r=this.extractChild(n.node),s=this.extractChild(e.node),c=r.compareTo(s);return 0===c?Fv(n.name,e.name):c}makePost(n,e){const r=Ma(n),s=os.EMPTY_NODE.updateChild(this.indexPath_,r);return new bs(e,s)}maxPost(){const n=os.EMPTY_NODE.updateChild(this.indexPath_,Lb);return new bs(Zf,n)}toString(){return Fb(this.indexPath_,0).join("/")}}const nI=new class VN extends FD{compare(n,e){const r=n.node.compareTo(e.node);return 0===r?Fv(n.name,e.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return bs.MIN}maxPost(){return bs.MAX}makePost(n,e){const r=Ma(n);return new bs(e,r)}toString(){return".value"}},_w="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UN=function(){let t=0;const n=[];return function(e){const r=e===t;let s;t=e;const c=new Array(8);for(s=7;s>=0;s--)c[s]=_w.charAt(e%64),e=Math.floor(e/64);(0,it.hu)(0===e,"Cannot push at time == 0");let p=c.join("");if(r){for(s=11;s>=0&&63===n[s];s--)n[s]=0;n[s]++}else for(s=0;s<12;s++)n[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)p+=_w.charAt(n[s]);return(0,it.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),OR=function(t){if(t===""+HA)return"-";const n=kD(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let p=0;p<e.length;p++)e[p]=t.charAt(p);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return Zf;const c=_w.charAt(_w.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},FR=function(t){if(t===""+$M)return mg;const n=kD(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let r=0;r<e.length;r++)e[r]=t.charAt(r);return"-"===e[e.length-1]?1===e.length?""+HA:(delete e[e.length-1],e.join("")):(e[e.length-1]=_w.charAt(_w.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function PR(t){return{type:"value",snapshotNode:t}}function vw(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function Bb(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function Vb(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class iI{constructor(n){this.index_=n}updateChild(n,e,r,s,c,p){(0,it.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(e);return g.getChild(s).equals(r.getChild(s))&&g.isEmpty()===r.isEmpty()||(null!=p&&(r.isEmpty()?n.hasChild(e)?p.trackChildChange(Bb(e,g)):(0,it.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?p.trackChildChange(vw(e,r)):p.trackChildChange(Vb(e,r,g))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(n,e,r){return null!=r&&(n.isLeafNode()||n.forEachChild(sa,(s,c)=>{e.hasChild(s)||r.trackChildChange(Bb(s,c))}),e.isLeafNode()||e.forEachChild(sa,(s,c)=>{if(n.hasChild(s)){const p=n.getImmediateChild(s);p.equals(c)||r.trackChildChange(Vb(s,c,p))}else r.trackChildChange(vw(s,c))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?os.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ub{constructor(n){this.indexedFilter_=new iI(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ub.getStartPost_(n),this.endPost_=Ub.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,r,s,c,p){return this.matches(new bs(e,r))||(r=os.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,r,s,c,p)}updateFullNode(n,e,r){e.isLeafNode()&&(e=os.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(os.EMPTY_NODE);const c=this;return e.forEachChild(sa,(p,g)=>{c.matches(new bs(p,g))||(s=s.updateImmediateChild(p,os.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,s,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class GN{constructor(n){this.rangedFilter_=new Ub(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,r,s,c,p){return this.rangedFilter_.matches(new bs(e,r))||(r=os.EMPTY_NODE),n.getImmediateChild(e).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,r,s,c,p):this.fullLimitUpdateChild_(n,e,r,c,p)}updateFullNode(n,e,r){let s;if(e.isLeafNode()||e.isEmpty())s=os.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;s=os.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;c.hasNext()&&p<this.limit_;){const g=c.getNext();let x;if(x=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),g)<=0:this.index_.compare(g,this.rangedFilter_.getEndPost())<=0,!x)break;s=s.updateImmediateChild(g.name,g.node),p++}}else{let c,p,g,x;if(s=e.withIndex(this.index_),s=s.updatePriority(os.EMPTY_NODE),this.reverse_){x=s.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const F=this.index_.getCompare();g=(B,K)=>F(K,B)}else x=s.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),g=this.index_.getCompare();let E=0,D=!1;for(;x.hasNext();){const F=x.getNext();!D&&g(c,F)<=0&&(D=!0),D&&E<this.limit_&&g(F,p)<=0?E++:s=s.updateImmediateChild(F.name,os.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,s,r)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,r,s,c){let p;if(this.reverse_){const F=this.index_.getCompare();p=(B,K)=>F(K,B)}else p=this.index_.getCompare();const g=n;(0,it.hu)(g.numChildren()===this.limit_,"");const x=new bs(e,r),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),D=this.rangedFilter_.matches(x);if(g.hasChild(e)){const F=g.getImmediateChild(e);let B=s.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=B&&(B.name===e||g.hasChild(B.name));)B=s.getChildAfterChild(this.index_,B,this.reverse_);const K=null==B?1:p(B,x);if(D&&!r.isEmpty()&&K>=0)return c?.trackChildChange(Vb(e,r,F)),g.updateImmediateChild(e,r);{c?.trackChildChange(Bb(e,F));const W=g.updateImmediateChild(e,os.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(c?.trackChildChange(vw(B.name,B.node)),W.updateImmediateChild(B.name,B.node)):W}}return r.isEmpty()?n:D&&p(E,x)>=0?(null!=c&&(c.trackChildChange(Bb(E.name,E.node)),c.trackChildChange(vw(e,r))),g.updateImmediateChild(e,r).updateImmediateChild(E.name,os.EMPTY_NODE)):n}}class BD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sa}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,it.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,it.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,it.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,it.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,it.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sa}copy(){const n=new BD;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function sI(t,n,e){const r=t.copy();return r.startSet_=!0,void 0===n&&(n=null),r.indexStartValue_=n,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function oI(t,n,e){const r=t.copy();return r.endSet_=!0,void 0===n&&(n=null),r.indexEndValue_=n,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function VD(t,n){const e=t.copy();return e.index_=n,e}function NR(t){const n={};if(t.isDefault())return n;let e;return t.index_===sa?e="$priority":t.index_===nI?e="$value":t.index_===Qf?e="$key":((0,it.hu)(t.index_ instanceof tI,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,it.Pz)(e),t.startSet_&&(n.startAt=(0,it.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,it.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,it.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,it.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function LR(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==sa&&(n.i=t.index_.toString()),n}class UD extends _R{constructor(n,e,r,s){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=kb("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,it.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,r,s){const c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);const p=UD.getListenId_(n,r),g={};this.listens_[p]=g;const x=NR(n._queryParams);this.restRequest_(c+".json",x,(E,D)=>{let F=D;if(404===E&&(F=null,E=null),null===E&&this.onDataUpdate_(c,F,!1,r),(0,it.DV)(this.listens_,p)===g){let B;B=E?401===E?"permission_denied":"rest_error:"+E:"ok",s(B,null)}})}unlisten(n,e){const r=UD.getListenId_(n,e);delete this.listens_[r]}get(n){const e=NR(n._queryParams),r=n._path.toString(),s=new it.BH;return this.restRequest_(r+".json",e,(c,p)=>{let g=p;404===c&&(g=null,c=null),null===c?(this.onDataUpdate_(r,g,!1,null),s.resolve(g)):s.reject(new Error(g))}),s.promise}refreshAuthToken(n){}restRequest_(n,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,c])=>{s&&s.accessToken&&(e.auth=s.accessToken),c&&c.token&&(e.ac=c.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,it.xO)(e);this.log_("Sending REST request for "+p);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+p+" received. status:",g.status,"response:",g.responseText);let x=null;if(g.status>=200&&g.status<300){try{x=(0,it.cI)(g.responseText)}catch{Lc("Failed to parse JSON response for "+p+": "+g.responseText)}r(null,x)}else 401!==g.status&&404!==g.status&&Lc("Got unsuccessful REST response for "+p+" Status: "+g.status),r(g.status);r=null}},g.open("GET",p,!0),g.send()})}}class YN{constructor(){this.rootNode_=os.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function HD(){return{value:null,children:new Map}}function yw(t,n,e){if(vs(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const r=_s(n);t.children.has(r)||t.children.set(r,HD()),yw(t.children.get(r),n=Zo(n),e)}}function aI(t,n){if(vs(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(sa,(r,s)=>{yw(t,new Ao(r),s)}),aI(t,n)}}if(t.children.size>0){const e=_s(n);return n=Zo(n),t.children.has(e)&&aI(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function lI(t,n,e){null!==t.value?e(n,t.value):function qN(t,n){t.children.forEach((e,r)=>{n(r,e)})}(t,(r,s)=>{lI(s,new Ao(n.toString()+"/"+r),e)})}class ZN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&ec(this.last_,(r,s)=>{e[r]=e[r]-s}),this.last_=n,e}}class JN{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ZN(n);const r=1e4+2e4*Math.random();Rb(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),e={};let r=!1;ec(n,(s,c)=>{c>0&&(0,it.r3)(this.statsToReport_,s)&&(e[s]=c,r=!0)}),r&&this.server_.reportStats(e),Rb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lh=(()=>{return(t=lh||(lh={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",lh;var t})();function dI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class GD{constructor(n,e,r){this.path=n,this.affectedTree=e,this.revert=r,this.type=lh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(vs(this.path)){if(null!=this.affectedTree.value)return(0,it.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ao(n));return new GD(ao(),e,this.revert)}}return(0,it.hu)(_s(this.path)===n,"operationForChild called for unrelated child."),new GD(Zo(this.path),this.affectedTree,this.revert)}}class Hb{constructor(n,e){this.source=n,this.path=e,this.type=lh.LISTEN_COMPLETE}operationForChild(n){return vs(this.path)?new Hb(this.source,ao()):new Hb(this.source,Zo(this.path))}}class Lv{constructor(n,e,r){this.source=n,this.path=e,this.snap=r,this.type=lh.OVERWRITE}operationForChild(n){return vs(this.path)?new Lv(this.source,ao(),this.snap.getImmediateChild(n)):new Lv(this.source,Zo(this.path),this.snap)}}class xw{constructor(n,e,r){this.source=n,this.path=e,this.children=r,this.type=lh.MERGE}operationForChild(n){if(vs(this.path)){const e=this.children.subtree(new Ao(n));return e.isEmpty()?null:e.value?new Lv(this.source,ao(),e.value):new xw(this.source,ao(),e)}return(0,it.hu)(_s(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new xw(this.source,Zo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class a0{constructor(n,e,r){this.node_=n,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(vs(n))return this.isFullyInitialized()&&!this.filtered_;const e=_s(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class eL{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Gb(t,n,e,r,s,c){const p=r.filter(g=>g.type===e);p.sort((g,x)=>function rL(t,n,e){if(null==n.childName||null==e.childName)throw(0,it.g5)("Should only compare child_ events.");const r=new bs(n.childName,n.snapshotNode),s=new bs(e.childName,e.snapshotNode);return t.index_.compare(r,s)}(t,g,x)),p.forEach(g=>{const x=function nL(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,g,c);s.forEach(E=>{E.respondsTo(g.type)&&n.push(E.createEvent(x,t.query_))})})}function jD(t,n){return{eventCache:t,serverCache:n}}function jb(t,n,e,r){return jD(new a0(n,e,r),t.serverCache)}function VR(t,n,e,r){return jD(t.eventCache,new a0(n,e,r))}function zD(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bv(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let hI;class oa{constructor(n,e=(()=>(hI||(hI=new qu(G2)),hI))()){this.value=n,this.children=e}static fromObject(n){let e=new oa(null);return ec(n,(r,s)=>{e=e.set(new Ao(r),s)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:ao(),value:this.value};if(vs(n))return null;{const r=_s(n),s=this.children.get(r);if(null!==s){const c=s.findRootMostMatchingPathAndValue(Zo(n),e);return null!=c?{path:Ea(new Ao(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(vs(n))return this;{const e=_s(n),r=this.children.get(e);return null!==r?r.subtree(Zo(n)):new oa(null)}}set(n,e){if(vs(n))return new oa(e,this.children);{const r=_s(n),c=(this.children.get(r)||new oa(null)).set(Zo(n),e),p=this.children.insert(r,c);return new oa(this.value,p)}}remove(n){if(vs(n))return this.children.isEmpty()?new oa(null):new oa(null,this.children);{const e=_s(n),r=this.children.get(e);if(r){const s=r.remove(Zo(n));let c;return c=s.isEmpty()?this.children.remove(e):this.children.insert(e,s),null===this.value&&c.isEmpty()?new oa(null):new oa(this.value,c)}return this}}get(n){if(vs(n))return this.value;{const e=_s(n),r=this.children.get(e);return r?r.get(Zo(n)):null}}setTree(n,e){if(vs(n))return e;{const r=_s(n),c=(this.children.get(r)||new oa(null)).setTree(Zo(n),e);let p;return p=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new oa(this.value,p)}}fold(n){return this.fold_(ao(),n)}fold_(n,e){const r={};return this.children.inorderTraversal((s,c)=>{r[s]=c.fold_(Ea(n,s),e)}),e(n,this.value,r)}findOnPath(n,e){return this.findOnPath_(n,ao(),e)}findOnPath_(n,e,r){const s=!!this.value&&r(e,this.value);if(s)return s;if(vs(n))return null;{const c=_s(n),p=this.children.get(c);return p?p.findOnPath_(Zo(n),Ea(e,c),r):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,ao(),e)}foreachOnPath_(n,e,r){if(vs(n))return this;{this.value&&r(e,this.value);const s=_s(n),c=this.children.get(s);return c?c.foreachOnPath_(Zo(n),Ea(e,s),r):new oa(null)}}foreach(n){this.foreach_(ao(),n)}foreach_(n,e){this.children.inorderTraversal((r,s)=>{s.foreach_(Ea(n,r),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,r)=>{r.value&&n(e,r.value)})}}class Jh{constructor(n){this.writeTree_=n}static empty(){return new Jh(new oa(null))}}function zb(t,n,e){if(vs(n))return new Jh(new oa(e));{const r=t.writeTree_.findRootMostValueAndPath(n);if(null!=r){const s=r.path;let c=r.value;const p=uu(s,n);return c=c.updateChild(p,e),new Jh(t.writeTree_.set(s,c))}{const s=new oa(e),c=t.writeTree_.setTree(n,s);return new Jh(c)}}}function fI(t,n,e){let r=t;return ec(e,(s,c)=>{r=zb(r,Ea(n,s),c)}),r}function UR(t,n){if(vs(n))return Jh.empty();{const e=t.writeTree_.setTree(n,new oa(null));return new Jh(e)}}function pI(t,n){return null!=Vv(t,n)}function Vv(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(uu(e.path,n)):null}function HR(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(sa,(r,s)=>{n.push(new bs(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{null!=s.value&&n.push(new bs(r,s.value))}),n}function l0(t,n){if(vs(n))return t;{const e=Vv(t,n);return new Jh(null!=e?new oa(e):t.writeTree_.subtree(n))}}function gI(t){return t.writeTree_.isEmpty()}function ww(t,n){return GR(ao(),t.writeTree_,n)}function GR(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let r=null;return n.children.inorderTraversal((s,c)=>{".priority"===s?((0,it.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=GR(Ea(t,s),c,e)}),!e.getChild(t).isEmpty()&&null!==r&&(e=e.updateChild(Ea(t,".priority"),r)),e}}function WD(t,n){return KR(n,t)}function cL(t,n){if(t.snap)return ah(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&ah(Ea(t.path,e),n))return!0;return!1}function dL(t){return t.visible}function jR(t,n,e){let r=Jh.empty();for(let s=0;s<t.length;++s){const c=t[s];if(n(c)){const p=c.path;let g;if(c.snap)ah(e,p)?(g=uu(e,p),r=zb(r,g,c.snap)):ah(p,e)&&(g=uu(p,e),r=zb(r,ao(),c.snap.getChild(g)));else{if(!c.children)throw(0,it.g5)("WriteRecord should have .snap or .children");if(ah(e,p))g=uu(e,p),r=fI(r,g,c.children);else if(ah(p,e))if(g=uu(p,e),vs(g))r=fI(r,ao(),c.children);else{const x=(0,it.DV)(c.children,_s(g));if(x){const E=x.getChild(Zo(g));r=zb(r,ao(),E)}}}}}return r}function zR(t,n,e,r,s){if(r||s){const c=l0(t.visibleWrites,n);return!s&&gI(c)?e:s||null!=e||pI(c,ao())?ww(jR(t.allWrites,function(E){return(E.visible||s)&&(!r||!~r.indexOf(E.writeId))&&(ah(E.path,n)||ah(n,E.path))},n),e||os.EMPTY_NODE):null}{const c=Vv(t.visibleWrites,n);if(null!=c)return c;{const p=l0(t.visibleWrites,n);return gI(p)?e:null!=e||pI(p,ao())?ww(p,e||os.EMPTY_NODE):null}}}function $D(t,n,e,r){return zR(t.writeTree,t.treePath,n,e,r)}function mI(t,n){return function hL(t,n,e){let r=os.EMPTY_NODE;const s=Vv(t.visibleWrites,n);if(s)return s.isLeafNode()||s.forEachChild(sa,(c,p)=>{r=r.updateImmediateChild(c,p)}),r;if(e){const c=l0(t.visibleWrites,n);return e.forEachChild(sa,(p,g)=>{const x=ww(l0(c,new Ao(p)),g);r=r.updateImmediateChild(p,x)}),HR(c).forEach(p=>{r=r.updateImmediateChild(p.name,p.node)}),r}return HR(l0(t.visibleWrites,n)).forEach(p=>{r=r.updateImmediateChild(p.name,p.node)}),r}(t.writeTree,t.treePath,n)}function WR(t,n,e,r){return function fL(t,n,e,r,s){(0,it.hu)(r||s,"Either existingEventSnap or existingServerSnap must exist");const c=Ea(n,e);if(pI(t.visibleWrites,c))return null;{const p=l0(t.visibleWrites,c);return gI(p)?s.getChild(e):ww(p,s.getChild(e))}}(t.writeTree,t.treePath,n,e,r)}function KD(t,n){return function gL(t,n){return Vv(t.visibleWrites,n)}(t.writeTree,Ea(t.treePath,n))}function _I(t,n,e){return function pL(t,n,e,r){const s=Ea(n,e),c=Vv(t.visibleWrites,s);return null!=c?c:r.isCompleteForChild(e)?ww(l0(t.visibleWrites,s),r.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function $R(t,n){return KR(Ea(t.treePath,n),t.writeTree)}function KR(t,n){return{treePath:t,writeTree:n}}class yL{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,r=n.childName;(0,it.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,it.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const c=s.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Vb(r,n.snapshotNode,s.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,Bb(r,s.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,vw(r,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,it.g5)("Illegal combination of changes: "+n+" occurred after "+s);this.changeMap.set(r,Vb(r,n.snapshotNode,s.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const YR=new class xL{getCompleteChild(n){return null}getChildAfterChild(n,e,r){return null}};class vI{constructor(n,e,r=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new a0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _I(this.writes_,n,r)}}getChildAfterChild(n,e,r){const s=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bv(this.viewCache_),c=function vL(t,n,e,r,s,c){return function mL(t,n,e,r,s,c,p){let g;const x=l0(t.visibleWrites,n),E=Vv(x,ao());if(null!=E)g=E;else{if(null==e)return[];g=ww(x,e)}if(g=g.withIndex(p),g.isEmpty()||g.isLeafNode())return[];{const D=[],F=p.getCompare(),B=c?g.getReverseIteratorFrom(r,p):g.getIteratorFrom(r,p);let K=B.getNext();for(;K&&D.length<s;)0!==F(K,r)&&D.push(K),K=B.getNext();return D}}(t.writeTree,t.treePath,n,e,r,s,c)}(this.writes_,s,e,1,r,n);return 0===c.length?null:c[0]}}function qR(t,n,e,r,s,c){const p=n.eventCache;if(null!=KD(r,e))return n;{let g,x;if(vs(e))if((0,it.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const E=Bv(n),F=mI(r,E instanceof os?E:os.EMPTY_NODE);g=t.filter.updateFullNode(n.eventCache.getNode(),F,c)}else{const E=$D(r,Bv(n));g=t.filter.updateFullNode(n.eventCache.getNode(),E,c)}else{const E=_s(e);if(".priority"===E){(0,it.hu)(1===o0(e),"Can't have a priority with additional path components");const D=p.getNode();x=n.serverCache.getNode();const F=WR(r,e,D,x);g=null!=F?t.filter.updatePriority(D,F):p.getNode()}else{const D=Zo(e);let F;if(p.isCompleteForChild(E)){x=n.serverCache.getNode();const B=WR(r,e,p.getNode(),x);F=null!=B?p.getNode().getImmediateChild(E).updateChild(D,B):p.getNode().getImmediateChild(E)}else F=_I(r,E,n.serverCache);g=null!=F?t.filter.updateChild(p.getNode(),E,F,D,s,c):p.getNode()}}return jb(n,g,p.isFullyInitialized()||vs(e),t.filter.filtersNodes())}}function YD(t,n,e,r,s,c,p,g){const x=n.serverCache;let E;const D=p?t.filter:t.filter.getIndexedFilter();if(vs(e))E=D.updateFullNode(x.getNode(),r,null);else if(D.filtersNodes()&&!x.isFiltered()){const K=x.getNode().updateChild(e,r);E=D.updateFullNode(x.getNode(),K,null)}else{const K=_s(e);if(!x.isCompleteForPath(e)&&o0(e)>1)return n;const ee=Zo(e),oe=x.getNode().getImmediateChild(K).updateChild(ee,r);E=".priority"===K?D.updatePriority(x.getNode(),oe):D.updateChild(x.getNode(),K,oe,ee,YR,null)}const F=VR(n,E,x.isFullyInitialized()||vs(e),D.filtersNodes());return qR(t,F,e,s,new vI(s,F,c),g)}function yI(t,n,e,r,s,c,p){const g=n.eventCache;let x,E;const D=new vI(s,n,c);if(vs(e))E=t.filter.updateFullNode(n.eventCache.getNode(),r,p),x=jb(n,E,!0,t.filter.filtersNodes());else{const F=_s(e);if(".priority"===F)E=t.filter.updatePriority(n.eventCache.getNode(),r),x=jb(n,E,g.isFullyInitialized(),g.isFiltered());else{const B=Zo(e),K=g.getNode().getImmediateChild(F);let ee;if(vs(B))ee=r;else{const W=D.getCompleteChild(F);ee=null!=W?".priority"===qA(B)&&W.getChild(wR(B)).isEmpty()?W:W.updateChild(B,r):os.EMPTY_NODE}x=K.equals(ee)?n:jb(n,t.filter.updateChild(g.getNode(),F,ee,B,D,p),g.isFullyInitialized(),t.filter.filtersNodes())}}return x}function ZR(t,n){return t.eventCache.isCompleteForChild(n)}function QR(t,n,e){return e.foreach((r,s)=>{n=n.updateChild(r,s)}),n}function xI(t,n,e,r,s,c,p,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let E,x=n;E=vs(e)?r:new oa(null).setTree(e,r);const D=n.serverCache.getNode();return E.children.inorderTraversal((F,B)=>{if(D.hasChild(F)){const ee=QR(0,n.serverCache.getNode().getImmediateChild(F),B);x=YD(t,x,new Ao(F),ee,s,c,p,g)}}),E.children.inorderTraversal((F,B)=>{const K=!n.serverCache.isCompleteForChild(F)&&void 0===B.value;if(!D.hasChild(F)&&!K){const W=QR(0,n.serverCache.getNode().getImmediateChild(F),B);x=YD(t,x,new Ao(F),W,s,c,p,g)}}),x}class IL{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new iI(r.getIndex()),c=function jN(t){return t.loadsAllData()?new iI(t.getIndex()):t.hasLimit()?new GN(t):new Ub(t)}(r);this.processor_=function wL(t){return{filter:t}}(c);const p=e.serverCache,g=e.eventCache,x=s.updateFullNode(os.EMPTY_NODE,p.getNode(),null),E=c.updateFullNode(os.EMPTY_NODE,g.getNode(),null),D=new a0(x,p.isFullyInitialized(),s.filtersNodes()),F=new a0(E,g.isFullyInitialized(),c.filtersNodes());this.viewCache_=jD(F,D),this.eventGenerator_=new eL(this.query_)}get query(){return this.query_}}function RL(t,n){const e=Bv(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!vs(n)&&!e.getImmediateChild(_s(n)).isEmpty())?e.getChild(n):null}function XR(t){return 0===t.eventRegistrations_.length}function JR(t,n,e){const r=[];if(e){(0,it.hu)(null==n,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(c=>{const p=c.createCancelEvent(e,s);p&&r.push(p)})}if(n){let s=[];for(let c=0;c<t.eventRegistrations_.length;++c){const p=t.eventRegistrations_[c];if(p.matches(n)){if(n.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(c+1));break}}else s.push(p)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function eO(t,n,e,r){n.type===lh.MERGE&&null!==n.source.queryId&&((0,it.hu)(Bv(t.viewCache_),"We should always have a full cache before handling merges"),(0,it.hu)(zD(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,c=function bL(t,n,e,r,s){const c=new yL;let p,g;if(e.type===lh.OVERWRITE){const E=e;E.source.fromUser?p=yI(t,n,E.path,E.snap,r,s,c):((0,it.hu)(E.source.fromServer,"Unknown source."),g=E.source.tagged||n.serverCache.isFiltered()&&!vs(E.path),p=YD(t,n,E.path,E.snap,r,s,g,c))}else if(e.type===lh.MERGE){const E=e;E.source.fromUser?p=function DL(t,n,e,r,s,c,p){let g=n;return r.foreach((x,E)=>{const D=Ea(e,x);ZR(n,_s(D))&&(g=yI(t,g,D,E,s,c,p))}),r.foreach((x,E)=>{const D=Ea(e,x);ZR(n,_s(D))||(g=yI(t,g,D,E,s,c,p))}),g}(t,n,E.path,E.children,r,s,c):((0,it.hu)(E.source.fromServer,"Unknown source."),g=E.source.tagged||n.serverCache.isFiltered(),p=xI(t,n,E.path,E.children,r,s,g,c))}else if(e.type===lh.ACK_USER_WRITE){const E=e;p=E.revert?function AL(t,n,e,r,s,c){let p;if(null!=KD(r,e))return n;{const g=new vI(r,n,s),x=n.eventCache.getNode();let E;if(vs(e)||".priority"===_s(e)){let D;if(n.serverCache.isFullyInitialized())D=$D(r,Bv(n));else{const F=n.serverCache.getNode();(0,it.hu)(F instanceof os,"serverChildren would be complete if leaf node"),D=mI(r,F)}E=t.filter.updateFullNode(x,D,c)}else{const D=_s(e);let F=_I(r,D,n.serverCache);null==F&&n.serverCache.isCompleteForChild(D)&&(F=x.getImmediateChild(D)),E=null!=F?t.filter.updateChild(x,D,F,Zo(e),g,c):n.eventCache.getNode().hasChild(D)?t.filter.updateChild(x,D,os.EMPTY_NODE,Zo(e),g,c):x,E.isEmpty()&&n.serverCache.isFullyInitialized()&&(p=$D(r,Bv(n)),p.isLeafNode()&&(E=t.filter.updateFullNode(E,p,c)))}return p=n.serverCache.isFullyInitialized()||null!=KD(r,ao()),jb(n,E,p,t.filter.filtersNodes())}}(t,n,E.path,r,s,c):function SL(t,n,e,r,s,c,p){if(null!=KD(s,e))return n;const g=n.serverCache.isFiltered(),x=n.serverCache;if(null!=r.value){if(vs(e)&&x.isFullyInitialized()||x.isCompleteForPath(e))return YD(t,n,e,x.getNode().getChild(e),s,c,g,p);if(vs(e)){let E=new oa(null);return x.getNode().forEachChild(Qf,(D,F)=>{E=E.set(new Ao(D),F)}),xI(t,n,e,E,s,c,g,p)}return n}{let E=new oa(null);return r.foreach((D,F)=>{const B=Ea(e,D);x.isCompleteForPath(B)&&(E=E.set(D,x.getNode().getChild(B)))}),xI(t,n,e,E,s,c,g,p)}}(t,n,E.path,E.affectedTree,r,s,c)}else{if(e.type!==lh.LISTEN_COMPLETE)throw(0,it.g5)("Unknown operation type: "+e.type);p=function TL(t,n,e,r,s){const c=n.serverCache;return qR(t,VR(n,c.getNode(),c.isFullyInitialized()||vs(e),c.isFiltered()),e,r,YR,s)}(t,n,e.path,r,c)}const x=c.getChanges();return function CL(t,n,e){const r=n.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=zD(t);(e.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(PR(zD(n)))}}(n,p,x),{viewCache:p,changes:x}}(t.processor_,s,n,e,r);return function EL(t,n){(0,it.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,it.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,c.viewCache),(0,it.hu)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,tO(t,c.changes,c.viewCache.eventCache.getNode(),null)}function tO(t,n,e,r){return function tL(t,n,e,r){const s=[],c=[];return n.forEach(p=>{"child_changed"===p.type&&t.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&c.push(function HN(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(p.childName,p.snapshotNode))}),Gb(t,s,"child_removed",n,r,e),Gb(t,s,"child_added",n,r,e),Gb(t,s,"child_moved",c,r,e),Gb(t,s,"child_changed",n,r,e),Gb(t,s,"value",n,r,e),s}(t.eventGenerator_,n,e,r?[r]:t.eventRegistrations_)}let qD,QD;class nO{constructor(){this.views=new Map}}function wI(t,n,e,r){const s=n.source.queryId;if(null!==s){const c=t.views.get(s);return(0,it.hu)(null!=c,"SyncTree gave us an op for an invalid query."),eO(c,n,e,r)}{let c=[];for(const p of t.views.values())c=c.concat(eO(p,n,e,r));return c}}function EI(t,n,e,r,s){const p=t.views.get(n._queryIdentifier);if(!p){let g=$D(e,s?r:null),x=!1;g?x=!0:r instanceof os?(g=mI(e,r),x=!1):(g=os.EMPTY_NODE,x=!1);const E=jD(new a0(g,x,!1),new a0(r,s,!1));return new IL(n,E)}return p}function rO(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function c0(t,n){let e=null;for(const r of t.views.values())e=e||RL(r,n);return e}function iO(t,n){return n._queryParams.loadsAllData()?ZD(t):t.views.get(n._queryIdentifier)}function sO(t,n){return null!=iO(t,n)}function u0(t){return null!=ZD(t)}function ZD(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let GL=1;class oO{constructor(n){this.listenProvider_=n,this.syncPointTree_=new oa(null),this.pendingWriteTree_=function _L(){return{visibleWrites:Jh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bI(t,n,e,r,s){return function sL(t,n,e,r,s){(0,it.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),t.allWrites.push({path:n,snap:e,writeId:r,visible:s}),s&&(t.visibleWrites=zb(t.visibleWrites,n,e)),t.lastWriteId=r}(t.pendingWriteTree_,n,e,r,s),s?Ew(t,new Lv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function d0(t,n,e=!1){const r=function aL(t,n){for(let e=0;e<t.allWrites.length;e++){const r=t.allWrites[e];if(r.writeId===n)return r}return null}(t.pendingWriteTree_,n);if(function lL(t,n){const e=t.allWrites.findIndex(g=>g.writeId===n);(0,it.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[e];t.allWrites.splice(e,1);let s=r.visible,c=!1,p=t.allWrites.length-1;for(;s&&p>=0;){const g=t.allWrites[p];g.visible&&(p>=e&&cL(g,r.path)?s=!1:ah(r.path,g.path)&&(c=!0)),p--}return!!s&&(c?(function uL(t){t.visibleWrites=jR(t.allWrites,dL,ao()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=UR(t.visibleWrites,r.path):ec(r.children,x=>{t.visibleWrites=UR(t.visibleWrites,Ea(r.path,x))}),!0))}(t.pendingWriteTree_,n)){let c=new oa(null);return null!=r.snap?c=c.set(ao(),!0):ec(r.children,p=>{c=c.set(new Ao(p),!0)}),Ew(t,new GD(r.path,c,e))}return[]}function Wb(t,n,e){return Ew(t,new Lv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function XD(t,n,e,r){const s=n._path,c=t.syncPointTree_.get(s);let p=[];if(c&&("default"===n._queryIdentifier||sO(c,n))){const g=function VL(t,n,e,r){const s=n._queryIdentifier,c=[];let p=[];const g=u0(t);if("default"===s)for(const[x,E]of t.views.entries())p=p.concat(JR(E,e,r)),XR(E)&&(t.views.delete(x),E.query._queryParams.loadsAllData()||c.push(E.query));else{const x=t.views.get(s);x&&(p=p.concat(JR(x,e,r)),XR(x)&&(t.views.delete(s),x.query._queryParams.loadsAllData()||c.push(x.query)))}return g&&!u0(t)&&c.push(new(function NL(){return(0,it.hu)(qD,"Reference.ts has not been loaded"),qD}())(n._repo,n._path)),{removed:c,events:p}}(c,n,e,r);(function LL(t){return 0===t.views.size})(c)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const x=g.removed;p=g.events;const E=-1!==x.findIndex(F=>F._queryParams.loadsAllData()),D=t.syncPointTree_.findOnPath(s,(F,B)=>u0(B));if(E&&!D){const F=t.syncPointTree_.subtree(s);if(!F.isEmpty()){const B=function ZL(t){return t.fold((n,e,r)=>{if(e&&u0(e))return[ZD(e)];{let s=[];return e&&(s=rO(e)),ec(r,(c,p)=>{s=s.concat(p)}),s}})}(F);for(let K=0;K<B.length;++K){const ee=B[K],W=ee.query,oe=hO(t,ee);t.listenProvider_.startListening(Kb(W),$b(t,W),oe.hashFn,oe.onComplete)}}}!D&&x.length>0&&!r&&(E?t.listenProvider_.stopListening(Kb(n),null):x.forEach(F=>{const B=t.queryToTagMap.get(eS(F));t.listenProvider_.stopListening(Kb(F),B)})),function QL(t,n){for(let e=0;e<n.length;++e){const r=n[e];if(!r._queryParams.loadsAllData()){const s=eS(r),c=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(c)}}}(t,x)}return p}function aO(t,n,e,r){const s=CI(t,r);if(null!=s){const c=DI(s),p=c.path,g=c.queryId,x=uu(p,n);return SI(t,p,new Lv(dI(g),x,e))}return[]}function lO(t,n){const e=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(e,(E,D)=>{const F=uu(E,e);r=r||c0(D,F),s=s||u0(D)});let p,c=n.syncPointTree_.get(e);c?(s=s||u0(c),r=r||c0(c,ao())):(c=new nO,n.syncPointTree_=n.syncPointTree_.set(e,c)),null!=r?p=!0:(p=!1,r=os.EMPTY_NODE,n.syncPointTree_.subtree(e).foreachChild((D,F)=>{const B=c0(F,ao());B&&(r=r.updateImmediateChild(D,B))}));const g=sO(c,t);if(!g&&!t._queryParams.loadsAllData()){const E=eS(t);(0,it.hu)(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const D=function XL(){return GL++}();n.queryToTagMap.set(E,D),n.tagToQueryMap.set(D,E)}return{syncPoint:c,writesCache:WD(n.pendingWriteTree_,e),serverCache:r,serverCacheComplete:p,foundAncestorDefaultView:s,viewAlreadyExists:g}}function cO(t,n,e){const{syncPoint:r,serverCache:s,writesCache:c,serverCacheComplete:p,viewAlreadyExists:g,foundAncestorDefaultView:x}=lO(n,t);let E=function BL(t,n,e,r,s,c){const p=EI(t,n,r,s,c);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,p),function OL(t,n){t.eventRegistrations_.push(n)}(p,e),function FL(t,n){const e=t.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(sa,(c,p)=>{r.push(vw(c,p))}),e.isFullyInitialized()&&r.push(PR(e.getNode())),tO(t,r,e.getNode(),n)}(p,e)}(r,n,e,c,s,p);if(!g&&!x){const D=iO(r,n);E=E.concat(function JL(t,n,e){const r=n._path,s=$b(t,n),c=hO(t,e),p=t.listenProvider_.startListening(Kb(n),s,c.hashFn,c.onComplete),g=t.syncPointTree_.subtree(r);if(s)(0,it.hu)(!u0(g.value),"If we're adding a query, it shouldn't be shadowed");else{const x=g.fold((E,D,F)=>{if(!vs(E)&&D&&u0(D))return[ZD(D).query];{let B=[];return D&&(B=B.concat(rO(D).map(K=>K.query))),ec(F,(K,ee)=>{B=B.concat(ee)}),B}});for(let E=0;E<x.length;++E){const D=x[E];t.listenProvider_.stopListening(Kb(D),$b(t,D))}}return p}(t,n,D))}return E}function JD(t,n,e){const s=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(n,(p,g)=>{const E=c0(g,uu(p,n));if(E)return E});return zR(s,n,c,e,!0)}function Ew(t,n){return uO(n,t.syncPointTree_,null,WD(t.pendingWriteTree_,ao()))}function uO(t,n,e,r){if(vs(t.path))return dO(t,n,e,r);{const s=n.get(ao());null==e&&null!=s&&(e=c0(s,ao()));let c=[];const p=_s(t.path),g=t.operationForChild(p),x=n.children.get(p);if(x&&g){const E=e?e.getImmediateChild(p):null,D=$R(r,p);c=c.concat(uO(g,x,E,D))}return s&&(c=c.concat(wI(s,t,r,e))),c}}function dO(t,n,e,r){const s=n.get(ao());null==e&&null!=s&&(e=c0(s,ao()));let c=[];return n.children.inorderTraversal((p,g)=>{const x=e?e.getImmediateChild(p):null,E=$R(r,p),D=t.operationForChild(p);D&&(c=c.concat(dO(D,g,x,E)))}),s&&(c=c.concat(wI(s,t,r,e))),c}function hO(t,n){const e=n.query,r=$b(t,e);return{hashFn:()=>(function kL(t){return t.viewCache_.serverCache.getNode()}(n)||os.EMPTY_NODE).hash(),onComplete:s=>{if("ok"===s)return r?function $L(t,n,e){const r=CI(t,e);if(r){const s=DI(r),c=s.path,p=s.queryId,g=uu(c,n);return SI(t,c,new Hb(dI(p),g))}return[]}(t,e._path,r):function WL(t,n){return Ew(t,new Hb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const c=function W2(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const r=new Error(t+" at "+n._path.toString()+": "+e);return r.code=t.toUpperCase(),r}(s,e);return XD(t,e,null,c)}}}}function $b(t,n){const e=eS(n);return t.queryToTagMap.get(e)}function eS(t){return t._path.toString()+"$"+t._queryIdentifier}function CI(t,n){return t.tagToQueryMap.get(n)}function DI(t){const n=t.indexOf("$");return(0,it.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Ao(t.substr(0,n))}}function SI(t,n,e){const r=t.syncPointTree_.get(n);return(0,it.hu)(r,"Missing sync point for query tag that we're tracking"),wI(r,e,WD(t.pendingWriteTree_,n),null)}function Kb(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function HL(){return(0,it.hu)(QD,"Reference.ts has not been loaded"),QD}())(t._repo,t._path):t}class TI{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new TI(e)}node(){return this.node_}}class AI{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Ea(this.path_,n);return new AI(this.syncTree_,e)}node(){return JD(this.syncTree_,this.path_)}}const fO=function(t,n,e){return t&&"object"==typeof t?((0,it.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?tB(t[".sv"],n,e):"object"==typeof t[".sv"]?nB(t[".sv"],n):void(0,it.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},tB=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,it.hu)(!1,"Unexpected server value: "+t)},nB=function(t,n,e){t.hasOwnProperty("increment")||(0,it.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,it.hu)(!1,"Unexpected increment value: "+r);const s=n.node();if((0,it.hu)(null!==s&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const p=s.getValue();return"number"!=typeof p?r:p+r},pO=function(t,n,e,r){return kI(n,new AI(e,t),r)},II=function(t,n,e){return kI(t,new TI(n),e)};function kI(t,n,e){const r=t.getPriority().val(),s=fO(r,n.getImmediateChild(".priority"),e);let c;if(t.isLeafNode()){const p=t,g=fO(p.getValue(),n,e);return g!==p.getValue()||s!==p.getPriority().val()?new gw(g,Ma(s)):t}{const p=t;return c=p,s!==p.getPriority().val()&&(c=c.updatePriority(new gw(s))),p.forEachChild(sa,(g,x)=>{const E=kI(x,n.getImmediateChild(g),e);E!==x&&(c=c.updateImmediateChild(g,E))}),c}}class MI{constructor(n="",e=null,r={children:{},childCount:0}){this.name=n,this.parent=e,this.node=r}}function tS(t,n){let e=n instanceof Ao?n:new Ao(n),r=t,s=_s(e);for(;null!==s;){const c=(0,it.DV)(r.node.children,s)||{children:{},childCount:0};r=new MI(s,r,c),e=Zo(e),s=_s(e)}return r}function Uv(t){return t.node.value}function RI(t,n){t.node.value=n,OI(t)}function gO(t){return t.node.childCount>0}function nS(t,n){ec(t.node.children,(e,r)=>{n(new MI(e,t,r))})}function mO(t,n,e,r){e&&!r&&n(t),nS(t,s=>{mO(s,n,!0,r)}),e&&r&&n(t)}function Yb(t){return new Ao(null===t.parent?t.name:Yb(t.parent)+"/"+t.name)}function OI(t){null!==t.parent&&function sB(t,n,e){const r=function rB(t){return void 0===Uv(t)&&!gO(t)}(e),s=(0,it.r3)(t.node.children,n);r&&s?(delete t.node.children[n],t.node.childCount--,OI(t)):!r&&!s&&(t.node.children[n]=e.node,t.node.childCount++,OI(t))}(t.parent,t.name,t)}const oB=/[\[\].#$\/\u0000-\u001F\u007F]/,aB=/[\[\].#$\u0000-\u001F\u007F]/,FI=10485760,rS=function(t){return"string"==typeof t&&0!==t.length&&!oB.test(t)},_O=function(t){return"string"==typeof t&&0!==t.length&&!aB.test(t)},qb=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!ID(t)||t&&"object"==typeof t&&(0,it.r3)(t,".sv")},Xf=function(t,n,e,r){r&&void 0===n||Zb((0,it.gK)(t,"value"),n,e)},Zb=function(t,n,e){const r=e instanceof Ao?new EN(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Pv(r));if("function"==typeof n)throw new Error(t+"contains a function "+Pv(r)+" with contents = "+n.toString());if(ID(n))throw new Error(t+"contains "+n.toString()+" "+Pv(r));if("string"==typeof n&&n.length>FI/3&&(0,it.ug)(n)>FI)throw new Error(t+"contains a string greater than "+FI+" utf8 bytes "+Pv(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let s=!1,c=!1;if(ec(n,(p,g)=>{if(".value"===p)s=!0;else if(".priority"!==p&&".sv"!==p&&(c=!0,!rS(p)))throw new Error(t+" contains an invalid key ("+p+") "+Pv(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function bN(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,it.ug)(n),ER(t)})(r,p),Zb(t,g,r),function CN(t){const n=t.parts_.pop();t.byteLength_-=(0,it.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),s&&c)throw new Error(t+' contains ".value" child '+Pv(r)+" in addition to actual children.")}},vO=function(t,n,e,r){if(r&&void 0===n)return;const s=(0,it.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");const c=[];ec(n,(p,g)=>{const x=new Ao(p);if(Zb(s,g,Ea(e,x)),".priority"===qA(x)&&!qb(g))throw new Error(s+"contains an invalid value for '"+x.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(x)}),function(t,n){let e,r;for(e=0;e<n.length;e++){r=n[e];const c=Fb(r);for(let p=0;p<c.length;p++)if((".priority"!==c[p]||p!==c.length-1)&&!rS(c[p]))throw new Error(t+"contains an invalid key ("+c[p]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(wN);let s=null;for(e=0;e<n.length;e++){if(r=n[e],null!==s&&ah(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,c)},PI=function(t,n,e){if(!e||void 0!==n){if(ID(n))throw new Error((0,it.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qb(n))throw new Error((0,it.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qb=function(t,n,e,r){if(!(r&&void 0===e||rS(e)))throw new Error((0,it.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xb=function(t,n,e,r){if(!(r&&void 0===e||_O(e)))throw new Error((0,it.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ch=function(t,n){if(".info"===_s(n))throw new Error(t+" failed = Can't modify data under /.info/")},yO=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!rS(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_O(t)}(e))throw new Error((0,it.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iS(t,n){let e=null;for(let r=0;r<n.length;r++){const s=n[r],c=s.getPath();null!==e&&!ZA(c,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(s)}e&&t.eventLists_.push(e)}function xO(t,n,e){iS(t,e),wO(t,r=>ZA(r,n))}function uh(t,n,e){iS(t,e),wO(t,r=>ah(r,n)||ah(n,r))}function wO(t,n){t.recursionDepth_++;let e=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];s&&(n(s.path)?(hB(t.eventLists_[r]),t.eventLists_[r]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function hB(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const r=e.getEventRunner();Ov&&Jl("event: "+e.toString()),fw(r)}}}const EO="repo_interrupt";class pB{constructor(n,e,r,s){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=HD(),this.transactionQueueTree_=new MI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bO(t){const e=t.infoData_.getNode(new Ao(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jb(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:bO(t)})}function CO(t,n,e,r,s){t.dataUpdateCount++;const c=new Ao(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let p=[];if(s)if(r){const x=(0,it.UI)(e,E=>Ma(E));p=function YL(t,n,e,r){const s=CI(t,r);if(s){const c=DI(s),p=c.path,g=c.queryId,x=uu(p,n),E=oa.fromObject(e);return SI(t,p,new xw(dI(g),x,E))}return[]}(t.serverSyncTree_,c,x,s)}else{const x=Ma(e);p=aO(t.serverSyncTree_,c,x,s)}else if(r){const x=(0,it.UI)(e,E=>Ma(E));p=function zL(t,n,e){const r=oa.fromObject(e);return Ew(t,new xw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(t.serverSyncTree_,c,x)}else{const x=Ma(e);p=Wb(t.serverSyncTree_,c,x)}let g=c;p.length>0&&(g=bw(t,c)),uh(t.eventQueue_,g,p)}function DO(t,n){NI(t,"connected",n),!1===n&&function yB(t){Hv(t,"onDisconnectEvents");const n=Jb(t),e=HD();lI(t.onDisconnect_,ao(),(s,c)=>{const p=pO(s,c,t.serverSyncTree_,n);yw(e,s,p)});let r=[];lI(e,ao(),(s,c)=>{r=r.concat(Wb(t.serverSyncTree_,s,c));const p=UI(t,s);bw(t,p)}),t.onDisconnect_=HD(),uh(t.eventQueue_,ao(),r)}(t)}function NI(t,n,e){const r=new Ao("/.info/"+n),s=Ma(e);t.infoData_.updateSnapshot(r,s);const c=Wb(t.infoSyncTree_,r,s);uh(t.eventQueue_,r,c)}function sS(t){return t.nextWriteId_++}function _B(t,n){const e=function qL(t,n){const e=n._path;let r=null;t.syncPointTree_.foreachOnPath(e,(E,D)=>{const F=uu(E,e);r=r||c0(D,F)});let s=t.syncPointTree_.get(e);s?r=r||c0(s,ao()):(s=new nO,t.syncPointTree_=t.syncPointTree_.set(e,s));const c=null!=r,p=c?new a0(r,!0,!1):null;return function ML(t){return zD(t.viewCache_)}(EI(s,n,WD(t.pendingWriteTree_,n._path),c?p.getNode():os.EMPTY_NODE,c))}(t.serverSyncTree_,n);return null!=e?Promise.resolve(e):t.server_.get(n).then(r=>{const s=Ma(r).withIndex(n._queryParams.getIndex());if(n._queryParams.loadsAllData())Wb(t.serverSyncTree_,n._path,s);else{const p=function KL(t,n){const{syncPoint:e,serverCache:r,writesCache:s,serverCacheComplete:c}=lO(n,t),p=EI(e,n,s,r,c);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,p),n._queryParams.loadsAllData()?null:$b(t,n)}(t.serverSyncTree_,n);aO(t.serverSyncTree_,n._path,s,p)}return XD(t.serverSyncTree_,n,null).length>0&&Hv(t,"unexpected cancel events in repoGetValue"),s},r=>(Hv(t,"get for query "+(0,it.Pz)(n)+" failed: "+r),Promise.reject(new Error(r))))}function LI(t,n,e,r,s){Hv(t,"set",{path:n.toString(),value:e,priority:r});const c=Jb(t),p=Ma(e,r),g=JD(t.serverSyncTree_,n),x=II(p,g,c),E=sS(t),D=bI(t.serverSyncTree_,n,x,E,!0);iS(t.eventQueue_,D),t.server_.put(n.toString(),p.val(!0),(B,K)=>{const ee="ok"===B;ee||Lc("set at "+n+" failed: "+B);const W=d0(t.serverSyncTree_,E,!ee);uh(t.eventQueue_,n,W),h0(0,s,B,K)});const F=UI(t,n);bw(t,F),uh(t.eventQueue_,F,[])}function xB(t,n,e){t.server_.onDisconnectCancel(n.toString(),(r,s)=>{"ok"===r&&aI(t.onDisconnect_,n),h0(0,e,r,s)})}function SO(t,n,e,r){const s=Ma(e);t.server_.onDisconnectPut(n.toString(),s.val(!0),(c,p)=>{"ok"===c&&yw(t.onDisconnect_,n,s),h0(0,r,c,p)})}function BI(t,n,e){let r;r=".info"===_s(n._path)?XD(t.infoSyncTree_,n,e):XD(t.serverSyncTree_,n,e),xO(t.eventQueue_,n._path,r)}function TO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EO)}function Hv(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Jl(e,...n)}function h0(t,n,e,r){n&&fw(()=>{if("ok"===e)n(null);else{const s=(e||"error").toUpperCase();let c=s;r&&(c+=": "+r);const p=new Error(c);p.code=s,n(p)}})}function VI(t,n,e){return JD(t.serverSyncTree_,n,e)||os.EMPTY_NODE}function oS(t,n=t.transactionQueueTree_){if(n||aS(t,n),Uv(n)){const e=IO(t,n);(0,it.hu)(e.length>0,"Sending zero length transaction queue"),e.every(s=>0===s.status)&&function SB(t,n,e){const r=e.map(E=>E.currentWriteId),s=VI(t,n,r);let c=s;const p=s.hash();for(let E=0;E<e.length;E++){const D=e[E];(0,it.hu)(0===D.status,"tryToSendTransactionQueue_: items in queue should all be run."),D.status=1,D.retryCount++;const F=uu(n,D.path);c=c.updateChild(F,D.currentOutputSnapshotRaw)}const g=c.val(!0),x=n;t.server_.put(x.toString(),g,E=>{Hv(t,"transaction put response",{path:x.toString(),status:E});let D=[];if("ok"===E){const F=[];for(let B=0;B<e.length;B++)e[B].status=2,D=D.concat(d0(t.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&F.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();aS(t,tS(t.transactionQueueTree_,n)),oS(t,t.transactionQueueTree_),uh(t.eventQueue_,n,D);for(let B=0;B<F.length;B++)fw(F[B])}else{if("datastale"===E)for(let F=0;F<e.length;F++)e[F].status=3===e[F].status?4:0;else{Lc("transaction at "+x.toString()+" failed: "+E);for(let F=0;F<e.length;F++)e[F].status=4,e[F].abortReason=E}bw(t,n)}},p)}(t,Yb(n),e)}else gO(n)&&nS(n,e=>{oS(t,e)})}function bw(t,n){const e=AO(t,n),r=Yb(e);return function TB(t,n,e){if(0===n.length)return;const r=[];let s=[];const p=n.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const x=n[g],E=uu(e,x.path);let F,D=!1;if((0,it.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===x.status)D=!0,F=x.abortReason,s=s.concat(d0(t.serverSyncTree_,x.currentWriteId,!0));else if(0===x.status)if(x.retryCount>=25)D=!0,F="maxretry",s=s.concat(d0(t.serverSyncTree_,x.currentWriteId,!0));else{const B=VI(t,x.path,p);x.currentInputSnapshot=B;const K=n[g].update(B.val());if(void 0!==K){Zb("transaction failed: Data returned ",K,x.path);let ee=Ma(K);"object"==typeof K&&null!=K&&(0,it.r3)(K,".priority")||(ee=ee.updatePriority(B.getPriority()));const oe=x.currentWriteId,He=Jb(t),We=II(ee,B,He);x.currentOutputSnapshotRaw=ee,x.currentOutputSnapshotResolved=We,x.currentWriteId=sS(t),p.splice(p.indexOf(oe),1),s=s.concat(bI(t.serverSyncTree_,x.path,We,x.currentWriteId,x.applyLocally)),s=s.concat(d0(t.serverSyncTree_,oe,!0))}else D=!0,F="nodata",s=s.concat(d0(t.serverSyncTree_,x.currentWriteId,!0))}uh(t.eventQueue_,e,s),s=[],D&&(n[g].status=2,setTimeout(n[g].unwatcher,Math.floor(0)),n[g].onComplete&&r.push("nodata"===F?()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot):()=>n[g].onComplete(new Error(F),!1,null)))}aS(t,t.transactionQueueTree_);for(let g=0;g<r.length;g++)fw(r[g]);oS(t,t.transactionQueueTree_)}(t,IO(t,e),r),r}function AO(t,n){let e,r=t.transactionQueueTree_;for(e=_s(n);null!==e&&void 0===Uv(r);)r=tS(r,e),e=_s(n=Zo(n));return r}function IO(t,n){const e=[];return kO(t,n,e),e.sort((r,s)=>r.order-s.order),e}function kO(t,n,e){const r=Uv(n);if(r)for(let s=0;s<r.length;s++)e.push(r[s]);nS(n,s=>{kO(t,s,e)})}function aS(t,n){const e=Uv(n);if(e){let r=0;for(let s=0;s<e.length;s++)2!==e[s].status&&(e[r]=e[s],r++);e.length=r,RI(n,e.length>0?e:void 0)}nS(n,r=>{aS(t,r)})}function UI(t,n){const e=Yb(AO(t,n)),r=tS(t.transactionQueueTree_,n);return function iB(t,n,e){let r=e?t:t.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,s=>{HI(t,s)}),HI(t,r),mO(r,s=>{HI(t,s)}),e}function HI(t,n){const e=Uv(n);if(e){const r=[];let s=[],c=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,it.hu)(c===p-1,"All SENT items should be at beginning of queue."),c=p,e[p].status=3,e[p].abortReason="set"):((0,it.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),s=s.concat(d0(t.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&r.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===c?RI(n,void 0):e.length=c+1,uh(t.eventQueue_,Yb(n),s);for(let p=0;p<r.length;p++)fw(r[p])}}const GI=function(t,n){const e=kB(t),r=e.namespace;return"firebase.com"===e.domain&&qf(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&qf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new jA(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,n,"",r!==e.subdomain),path:new Ao(e.pathString)}},kB=function(t){let n="",e="",r="",s="",c="",p=!0,g="https",x=443;if("string"==typeof t){let E=t.indexOf("//");E>=0&&(g=t.substring(0,E-1),t=t.substring(E+2));let D=t.indexOf("/");-1===D&&(D=t.length);let F=t.indexOf("?");-1===F&&(F=t.length),n=t.substring(0,Math.min(D,F)),D<F&&(s=function AB(t){let n="";const e=t.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let s=e[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}n+="/"+s}return n}(t.substring(D,F)));const B=function IB(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Lc(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,F)));E=n.indexOf(":"),E>=0?(p="https"===g||"wss"===g,x=parseInt(n.substring(E+1),10)):E=n.length;const K=n.slice(0,E);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const ee=n.indexOf(".");r=n.substring(0,ee).toLowerCase(),e=n.substring(ee+1),c=r}"ns"in B&&(c=B.ns)}return{host:n,port:x,domain:e,subdomain:r,secure:p,scheme:g,pathString:s,namespace:c}};class MO{constructor(n,e,r,s){this.eventType=n,this.eventRegistration=e,this.snapshot=r,this.prevName=s}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,it.Pz)(this.snapshot.exportVal())}}class RO{constructor(n,e,r){this.eventRegistration=n,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class OO{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,it.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class FO{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new it.BH;return xB(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ch("OnDisconnect.remove",this._path);const n=new it.BH;return SO(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ch("OnDisconnect.set",this._path),Xf("OnDisconnect.set",n,this._path,!1);const e=new it.BH;return SO(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){ch("OnDisconnect.setWithPriority",this._path),Xf("OnDisconnect.setWithPriority",n,this._path,!1),PI("OnDisconnect.setWithPriority",e,!1);const r=new it.BH;return function wB(t,n,e,r,s){const c=Ma(e,r);t.server_.onDisconnectPut(n.toString(),c.val(!0),(p,g)=>{"ok"===p&&yw(t.onDisconnect_,n,c),h0(0,s,p,g)})}(this._repo,this._path,n,e,r.wrapCallback(()=>{})),r.promise}update(n){ch("OnDisconnect.update",this._path),vO("OnDisconnect.update",n,this._path,!1);const e=new it.BH;return function EB(t,n,e,r){if((0,it.xb)(e))return Jl("onDisconnect().update() called with empty data.  Don't do anything."),void h0(0,r,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(s,c)=>{"ok"===s&&ec(e,(p,g)=>{const x=Ma(g);yw(t.onDisconnect_,Ea(n,p),x)}),h0(0,r,s,c)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Zu{constructor(n,e,r,s){this._repo=n,this._path=e,this._queryParams=r,this._orderByCalled=s}get key(){return vs(this._path)?null:qA(this._path)}get ref(){return new dh(this._repo,this._path)}get _queryIdentifier(){const n=LR(this._queryParams),e=UA(n);return"{}"===e?"default":e}get _queryObject(){return LR(this._queryParams)}isEqual(n){if(!((n=(0,it.m9)(n))instanceof Zu))return!1;const e=this._repo===n._repo,r=ZA(this._path,n._path);return e&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xN(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function lS(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function f0(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Qf){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==mg)throw new Error(r);if("string"!=typeof n)throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==Zf)throw new Error(r);if("string"!=typeof e)throw new Error(s)}}else if(t.getIndex()===sa){if(null!=n&&!qb(n)||null!=e&&!qb(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,it.hu)(t.getIndex()instanceof tI||t.getIndex()===nI,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function cS(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class dh extends Zu{constructor(n,e){super(n,e,new BD,!1)}get parent(){const n=wR(this._path);return null===n?null:new dh(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Gv{constructor(n,e,r){this._node=n,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Ao(n),r=jv(this.ref,n);return new Gv(this._node.getChild(e),r,sa)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,s)=>n(new Gv(s,jv(this.ref,r),sa)))}hasChild(n){const e=new Ao(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function PO(t,n){return(t=(0,it.m9)(t))._checkNotDeleted("ref"),void 0!==n?jv(t._root,n):t._root}function NO(t,n){(t=(0,it.m9)(t))._checkNotDeleted("refFromURL");const e=GI(n,t._repo.repoInfo_.nodeAdmin);yO("refFromURL",e);const r=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&qf("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),PO(t,e.path.toString())}function jv(t,n){return null===_s((t=(0,it.m9)(t))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xb("child","path",e,!1)):Xb("child","path",n,!1),new dh(t._repo,Ea(t._path,n));var e}function jI(t,n){t=(0,it.m9)(t),ch("set",t._path),Xf("set",n,t._path,!1);const e=new it.BH;return LI(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function PB(t,n){vO("update",n,t._path,!1);const e=new it.BH;return function vB(t,n,e,r){Hv(t,"update",{path:n.toString(),value:e});let s=!0;const c=Jb(t),p={};if(ec(e,(g,x)=>{s=!1,p[g]=pO(Ea(n,g),Ma(x),t.serverSyncTree_,c)}),s)Jl("update() called with empty data.  Don't do anything."),h0(0,r,"ok",void 0);else{const g=sS(t),x=function jL(t,n,e,r){!function oL(t,n,e,r){(0,it.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:r,visible:!0}),t.visibleWrites=fI(t.visibleWrites,n,e),t.lastWriteId=r}(t.pendingWriteTree_,n,e,r);const s=oa.fromObject(e);return Ew(t,new xw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,s))}(t.serverSyncTree_,n,p,g);iS(t.eventQueue_,x),t.server_.merge(n.toString(),e,(E,D)=>{const F="ok"===E;F||Lc("update at "+n+" failed: "+E);const B=d0(t.serverSyncTree_,g,!F),K=B.length>0?bw(t,n):n;uh(t.eventQueue_,K,B),h0(0,r,E,D)}),ec(e,E=>{const D=UI(t,Ea(n,E));bw(t,D)}),uh(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}class uS{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const r=e._queryParams.getIndex();return new MO("value",this,new Gv(n.snapshotNode,new dh(e._repo,e._path),r))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new RO(this,n,e):null}matches(n){return n instanceof uS&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dS{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new RO(this,n,e):null}createEvent(n,e){(0,it.hu)(null!=n.childName,"Child events should have a childName.");const r=jv(new dh(e._repo,e._path),n.childName),s=e._queryParams.getIndex();return new MO(n.type,this,new Gv(n.snapshotNode,r,s),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof dS&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function e1(t,n,e,r,s){let c;if("object"==typeof r&&(c=void 0,s=r),"function"==typeof r&&(c=r),s&&s.onlyOnce){const x=e,E=(D,F)=>{BI(t._repo,t,g),x(D,F)};E.userCallback=e.userCallback,E.context=e.context,e=E}const p=new OO(e,c||void 0),g="value"===n?new uS(p):new dS(n,p);return function bB(t,n,e){let r;r=".info"===_s(n._path)?cO(t.infoSyncTree_,n,e):cO(t.serverSyncTree_,n,e),xO(t.eventQueue_,n._path,r)}(t._repo,t,g),()=>BI(t._repo,t,g)}function zI(t,n,e,r){return e1(t,"value",n,e,r)}function LO(t,n,e,r){return e1(t,"child_added",n,e,r)}function BO(t,n,e,r){return e1(t,"child_changed",n,e,r)}function VO(t,n,e,r){return e1(t,"child_moved",n,e,r)}function UO(t,n,e,r){return e1(t,"child_removed",n,e,r)}function HO(t,n,e){let r=null;const s=e?new OO(e):null;"value"===n?r=new uS(s):n&&(r=new dS(n,s)),BI(t._repo,t,r)}class ef{}class GO extends ef{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xf("endAt",this._value,n._path,!0);const e=oI(n._queryParams,this._value,this._key);if(cS(e),f0(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zu(n._repo,n._path,e,n._orderByCalled)}}class BB extends ef{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xf("endBefore",this._value,n._path,!1);const e=function KN(t,n,e){let r,s;return t.index_===Qf?("string"==typeof n&&(n=FR(n)),s=oI(t,n,e)):(r=null==e?mg:FR(e),s=oI(t,n,r)),s.endBeforeSet_=!0,s}(n._queryParams,this._value,this._key);if(cS(e),f0(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zu(n._repo,n._path,e,n._orderByCalled)}}class jO extends ef{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xf("startAt",this._value,n._path,!0);const e=sI(n._queryParams,this._value,this._key);if(cS(e),f0(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zu(n._repo,n._path,e,n._orderByCalled)}}class HB extends ef{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Xf("startAfter",this._value,n._path,!1);const e=function $N(t,n,e){let r;if(t.index_===Qf)"string"==typeof n&&(n=OR(n)),r=sI(t,n,e);else{let s;s=null==e?Zf:OR(e),r=sI(t,n,s)}return r.startAfterSet_=!0,r}(n._queryParams,this._value,this._key);if(cS(e),f0(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Zu(n._repo,n._path,e,n._orderByCalled)}}class jB extends ef{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zu(n._repo,n._path,function zN(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class WB extends ef{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zu(n._repo,n._path,function WN(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class KB extends ef{constructor(n){super(),this._path=n}_apply(n){lS(n,"orderByChild");const e=new Ao(this._path);if(vs(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new tI(e),s=VD(n._queryParams,r);return f0(s),new Zu(n._repo,n._path,s,!0)}}class qB extends ef{_apply(n){lS(n,"orderByKey");const e=VD(n._queryParams,Qf);return f0(e),new Zu(n._repo,n._path,e,!0)}}class QB extends ef{_apply(n){lS(n,"orderByPriority");const e=VD(n._queryParams,sa);return f0(e),new Zu(n._repo,n._path,e,!0)}}class JB extends ef{_apply(n){lS(n,"orderByValue");const e=VD(n._queryParams,nI);return f0(e),new Zu(n._repo,n._path,e,!0)}}class t3 extends ef{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Xf("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GO(this._value,this._key)._apply(new jO(this._value,this._key)._apply(n))}}function tf(t,...n){let e=(0,it.m9)(t);for(const r of n)e=r._apply(e);return e}(function PL(t){(0,it.hu)(!qD,"__referenceConstructor has already been defined"),qD=t})(dh),function UL(t){(0,it.hu)(!QD,"__referenceConstructor has already been defined"),QD=t}(dh);const WI={};function WO(t,n,e,r,s){let c=r||t.options.databaseURL;void 0===c&&(t.options.projectId||qf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jl("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let x,E,p=GI(c,s),g=p.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(x=!0,c=`http://${E}?ns=${g.namespace}`,p=GI(c,s),g=p.repoInfo):x=!p.repoInfo.secure;const D=s&&x?new Ob(Ob.OWNER):new q2(t.name,t.options,n);yO("Invalid Firebase Database URL",p),vs(p.path)||qf("Database URL must point to the root of a Firebase Database (not including a child path).");const F=function a3(t,n,e,r){let s=WI[n.name];s||(s={},WI[n.name]=s);let c=s[t.toURLString()];return c&&qf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new pB(t,false,e,r),s[t.toURLString()]=c,c}(g,t,D,new Y2(t.name,e));return new c3(F,t)}class c3{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gB(t,n,e){if(t.stats_=$A(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new UD(t.repoInfo_,(r,s,c,p)=>{CO(t,r,s,c,p)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DO(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,it.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Nv(t.repoInfo_,n,(r,s,c,p)=>{CO(t,r,s,c,p)},r=>{DO(t,r)},r=>{!function mB(t,n){ec(n,(e,r)=>{NI(t,e,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function X2(t,n){const e=t.toString();return WA[e]||(WA[e]=n()),WA[e]}(t.repoInfo_,()=>new JN(t.stats_,t.server_)),t.infoData_=new YN,t.infoSyncTree_=new oO({startListening:(r,s,c,p)=>{let g=[];const x=t.infoData_.getNode(r._path);return x.isEmpty()||(g=Wb(t.infoSyncTree_,r._path,x),setTimeout(()=>{p("ok")},0)),g},stopListening:()=>{}}),NI(t,"connected",!1),t.serverSyncTree_=new oO({startListening:(r,s,c,p)=>(t.server_.listen(r,c,s,(g,x)=>{const E=p(g,x);uh(t.eventQueue_,r._path,E)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dh(this._repo,ao())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function o3(t,n){const e=WI[n];(!e||e[t.key]!==t)&&qf(`Database ${n}(${t.repoInfo_}) has already been deleted.`),TO(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&qf("Cannot call "+n+" on a deleted database.")}}function $O(){cR.IS_TRANSPORT_INITIALIZED&&Lc("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function u3(){$O(),s0.forceDisallow()}function d3(){$O(),pw.forceDisallow(),s0.forceAllow()}function g3(t,n){jM(t,n)}const _3={".sv":"timestamp"};class x3{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nv.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Nv.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function m3(t){BM(r0.SDK_VERSION),(0,r0._registerComponent)(new Mv.wA("database",(n,{instanceIdentifier:e})=>WO(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,r0.registerVersion)(NM,"0.13.4",t),(0,r0.registerVersion)(NM,"0.13.4","esm2017")}();const C3=new NA.Yd("@firebase/database-compat"),KO=function(t){C3.warn("FIREBASE WARNING: "+t)};class T3{constructor(n){this._delegate=n}cancel(n){(0,it.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,it.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),r=>n(r)),e}remove(n){(0,it.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,it.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),r=>n(r)),e}set(n,e){(0,it.Dv)("OnDisconnect.set",1,2,arguments.length),(0,it.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(n);return e&&r.then(()=>e(null),s=>e(s)),r}setWithPriority(n,e,r){(0,it.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,it.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(n,e);return r&&s.then(()=>r(null),c=>r(c)),s}update(n,e){if((0,it.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,KO("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,it.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(n);return e&&r.then(()=>e(null),s=>e(s)),r}}class A3{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,it.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class p0{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,it.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,it.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,it.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,it.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,it.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Xb("DataSnapshot.child","path",n,!1),new p0(this._database,this._delegate.child(n))}hasChild(n){return(0,it.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xb("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,it.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,it.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,it.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new p0(this._database,e)))}hasChildren(){return(0,it.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,it.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,it.Dv)("DataSnapshot.ref",0,0,arguments.length),new Sd(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class mc{constructor(n,e){this.database=n,this._delegate=e}on(n,e,r,s){var c;(0,it.Dv)("Query.on",2,4,arguments.length),(0,it.Wj)("Query.on","callback",e,!1);const p=mc.getCancelAndContextArgs_("Query.on",r,s),g=(E,D)=>{e.call(p.context,new p0(this.database,E),D)};g.userCallback=e,g.context=p.context;const x=null===(c=p.cancel)||void 0===c?void 0:c.bind(p.context);switch(n){case"value":return zI(this._delegate,g,x),e;case"child_added":return LO(this._delegate,g,x),e;case"child_removed":return UO(this._delegate,g,x),e;case"child_changed":return BO(this._delegate,g,x),e;case"child_moved":return VO(this._delegate,g,x),e;default:throw new Error((0,it.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,r){if((0,it.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,it.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,it.Wj)("Query.off","callback",e,!0),(0,it.lb)("Query.off","context",r,!0),e){const s=()=>{};s.userCallback=e,s.context=r,HO(this._delegate,n,s)}else HO(this._delegate,n)}get(){return function NB(t){return _B((t=(0,it.m9)(t))._repo,t).then(n=>new Gv(n,new dh(t._repo,t._path),t._queryParams.getIndex()))}(this._delegate).then(n=>new p0(this.database,n))}once(n,e,r,s){(0,it.Dv)("Query.once",1,4,arguments.length),(0,it.Wj)("Query.once","callback",e,!0);const c=mc.getCancelAndContextArgs_("Query.once",r,s),p=new it.BH,g=(E,D)=>{const F=new p0(this.database,E);e&&e.call(c.context,F,D),p.resolve(F)};g.userCallback=e,g.context=c.context;const x=E=>{c.cancel&&c.cancel.call(c.context,E),p.reject(E)};switch(n){case"value":zI(this._delegate,g,x,{onlyOnce:!0});break;case"child_added":LO(this._delegate,g,x,{onlyOnce:!0});break;case"child_removed":UO(this._delegate,g,x,{onlyOnce:!0});break;case"child_changed":BO(this._delegate,g,x,{onlyOnce:!0});break;case"child_moved":VO(this._delegate,g,x,{onlyOnce:!0});break;default:throw new Error((0,it.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(n){return(0,it.Dv)("Query.limitToFirst",1,1,arguments.length),new mc(this.database,tf(this._delegate,function zB(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jB(t)}(n)))}limitToLast(n){return(0,it.Dv)("Query.limitToLast",1,1,arguments.length),new mc(this.database,tf(this._delegate,function $B(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new WB(t)}(n)))}orderByChild(n){return(0,it.Dv)("Query.orderByChild",1,1,arguments.length),new mc(this.database,tf(this._delegate,function YB(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xb("orderByChild","path",t,!1),new KB(t)}(n)))}orderByKey(){return(0,it.Dv)("Query.orderByKey",0,0,arguments.length),new mc(this.database,tf(this._delegate,function ZB(){return new qB}()))}orderByPriority(){return(0,it.Dv)("Query.orderByPriority",0,0,arguments.length),new mc(this.database,tf(this._delegate,function XB(){return new QB}()))}orderByValue(){return(0,it.Dv)("Query.orderByValue",0,0,arguments.length),new mc(this.database,tf(this._delegate,function e3(){return new JB}()))}startAt(n=null,e){return(0,it.Dv)("Query.startAt",0,2,arguments.length),new mc(this.database,tf(this._delegate,function UB(t=null,n){return Qb("startAt","key",n,!0),new jO(t,n)}(n,e)))}startAfter(n=null,e){return(0,it.Dv)("Query.startAfter",0,2,arguments.length),new mc(this.database,tf(this._delegate,function GB(t,n){return Qb("startAfter","key",n,!0),new HB(t,n)}(n,e)))}endAt(n=null,e){return(0,it.Dv)("Query.endAt",0,2,arguments.length),new mc(this.database,tf(this._delegate,function LB(t,n){return Qb("endAt","key",n,!0),new GO(t,n)}(n,e)))}endBefore(n=null,e){return(0,it.Dv)("Query.endBefore",0,2,arguments.length),new mc(this.database,tf(this._delegate,function VB(t,n){return Qb("endBefore","key",n,!0),new BB(t,n)}(n,e)))}equalTo(n,e){return(0,it.Dv)("Query.equalTo",1,2,arguments.length),new mc(this.database,tf(this._delegate,function n3(t,n){return Qb("equalTo","key",n,!0),new t3(t,n)}(n,e)))}toString(){return(0,it.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,it.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,it.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof mc))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,r){const s={cancel:void 0,context:void 0};if(e&&r)s.cancel=e,(0,it.Wj)(n,"cancel",s.cancel,!0),s.context=r,(0,it.lb)(n,"context",s.context,!0);else if(e)if("object"==typeof e&&null!==e)s.context=e;else{if("function"!=typeof e)throw new Error((0,it.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=e}return s}get ref(){return new Sd(this.database,new dh(this._delegate._repo,this._delegate._path))}}class Sd extends mc{constructor(n,e){super(n,new Zu(e._repo,e._path,new BD,!1)),this.database=n,this._delegate=e}getKey(){return(0,it.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,it.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Sd(this.database,jv(this._delegate,n))}getParent(){(0,it.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Sd(this.database,n):null}getRoot(){return(0,it.Dv)("Reference.root",0,0,arguments.length),new Sd(this.database,this._delegate.root)}set(n,e){(0,it.Dv)("Reference.set",1,2,arguments.length),(0,it.Wj)("Reference.set","onComplete",e,!0);const r=jI(this._delegate,n);return e&&r.then(()=>e(null),s=>e(s)),r}update(n,e){if((0,it.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const s={};for(let c=0;c<n.length;++c)s[""+c]=n[c];n=s,KO("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ch("Reference.update",this._delegate._path),(0,it.Wj)("Reference.update","onComplete",e,!0);const r=PB(this._delegate,n);return e&&r.then(()=>e(null),s=>e(s)),r}setWithPriority(n,e,r){(0,it.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,it.Wj)("Reference.setWithPriority","onComplete",r,!0);const s=function FB(t,n,e){if(ch("setWithPriority",t._path),Xf("setWithPriority",n,t._path,!1),PI("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new it.BH;return LI(t._repo,t._path,n,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,n,e);return r&&s.then(()=>r(null),c=>r(c)),s}remove(n){(0,it.Dv)("Reference.remove",0,1,arguments.length),(0,it.Wj)("Reference.remove","onComplete",n,!0);const e=function RB(t){return ch("remove",t._path),jI(t,null)}(this._delegate);return n&&e.then(()=>n(null),r=>n(r)),e}transaction(n,e,r){(0,it.Dv)("Reference.transaction",1,3,arguments.length),(0,it.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,it.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,it.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const s=function w3(t,n,e){var r;if(t=(0,it.m9)(t),ch("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=null===(r=e?.applyLocally)||void 0===r||r,c=new it.BH,g=zI(t,()=>{});return function DB(t,n,e,r,s,c){Hv(t,"transaction on "+n);const p={path:n,update:e,onComplete:r,status:null,order:UM(),applyLocally:c,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=VI(t,n,void 0);p.currentInputSnapshot=g;const x=p.update(g.val());if(void 0===x)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{Zb("transaction failed: Data returned ",x,p.path),p.status=0;const E=tS(t.transactionQueueTree_,n),D=Uv(E)||[];let F;D.push(p),RI(E,D),"object"==typeof x&&null!==x&&(0,it.r3)(x,".priority")?(F=(0,it.DV)(x,".priority"),(0,it.hu)(qb(F),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):F=(JD(t.serverSyncTree_,n)||os.EMPTY_NODE).getPriority().val();const B=Jb(t),K=Ma(x,F),ee=II(K,g,B);p.currentOutputSnapshotRaw=K,p.currentOutputSnapshotResolved=ee,p.currentWriteId=sS(t);const W=bI(t.serverSyncTree_,n,ee,p.currentWriteId,p.applyLocally);uh(t.eventQueue_,n,W),oS(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(x,E,D)=>{let F=null;x?c.reject(x):(F=new Gv(D,new dh(t._repo,t._path),sa),c.resolve(new x3(E,F)))},g,s),c.promise}(this._delegate,n,{applyLocally:r}).then(c=>new A3(c.committed,new p0(this.database,c.snapshot)));return e&&s.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),s}setPriority(n,e){(0,it.Dv)("Reference.setPriority",1,2,arguments.length),(0,it.Wj)("Reference.setPriority","onComplete",e,!0);const r=function OB(t,n){t=(0,it.m9)(t),ch("setPriority",t._path),PI("setPriority",n,!1);const e=new it.BH;return LI(t._repo,Ea(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&r.then(()=>e(null),s=>e(s)),r}push(n,e){(0,it.Dv)("Reference.push",0,2,arguments.length),(0,it.Wj)("Reference.push","onComplete",e,!0);const r=function MB(t,n){t=(0,it.m9)(t),ch("push",t._path),Xf("push",n,t._path,!0);const e=bO(t._repo),r=UN(e),s=jv(t,r),c=jv(t,r);let p;return p=null!=n?jI(c,n).then(()=>c):Promise.resolve(c),s.then=p.then.bind(p),s.catch=p.then.bind(p,void 0),s}(this._delegate,n),s=r.then(p=>new Sd(this.database,p));e&&s.then(()=>e(null),p=>e(p));const c=new Sd(this.database,r);return c.then=s.then.bind(s),c.catch=s.catch.bind(s,void 0),c}onDisconnect(){return ch("Reference.onDisconnect",this._delegate._path),new T3(new FO(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class t1{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:u3,forceLongPolling:d3}}useEmulator(n,e,r={}){!function h3(t,n,e,r={}){(t=(0,it.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&qf("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let c;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&qf('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ob(Ob.OWNER);else if(r.mockUserToken){const p="string"==typeof r.mockUserToken?r.mockUserToken:(0,it.Sg)(r.mockUserToken,t.app.options.projectId);c=new Ob(p)}!function s3(t,n,e,r){t.repoInfo_=new jA(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(s,n,e,c)}(this._delegate,n,e,r)}ref(n){if((0,it.Dv)("database.ref",0,1,arguments.length),n instanceof Sd){const e=NO(this._delegate,n.toString());return new Sd(this,e)}{const e=PO(this._delegate,n);return new Sd(this,e)}}refFromURL(n){(0,it.Dv)("database.refFromURL",1,1,arguments.length);const r=NO(this._delegate,n);return new Sd(this,r)}goOffline(){return(0,it.Dv)("database.goOffline",0,0,arguments.length),function f3(t){(t=(0,it.m9)(t))._checkNotDeleted("goOffline"),TO(t._repo)}(this._delegate)}goOnline(){return(0,it.Dv)("database.goOnline",0,0,arguments.length),function p3(t){(t=(0,it.m9)(t))._checkNotDeleted("goOnline"),function CB(t){t.persistentConnection_&&t.persistentConnection_.resume(EO)}(t._repo)}(this._delegate)}}t1.ServerValue={TIMESTAMP:function v3(){return _3}(),increment:t=>function y3(t){return{".sv":{increment:t}}}(t)};var k3=Object.freeze({__proto__:null,initStandalone:function I3({app:t,url:n,version:e,customAuthImpl:r,namespace:s,nodeAdmin:c=!1}){BM(e);const p=new Mv.zt("auth-internal",new Mv.H0("database-standalone"));return p.setComponent(new Mv.wA("auth-internal",()=>r,"PRIVATE")),{instance:new t1(WO(t,p,void 0,n,c),t),namespace:s}}});const M3=t1.ServerValue;!function R3(t){t.INTERNAL.registerComponent(new Mv.wA("database-compat",(n,{instanceIdentifier:e})=>{const r=n.getProvider("app-compat").getImmediate(),s=n.getProvider("database").getImmediate({identifier:e});return new t1(s,r)},"PUBLIC").setServiceProps({Reference:Sd,Query:mc,Database:t1,DataSnapshot:p0,enableLogging:g3,INTERNAL:k3,ServerValue:M3}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.2.4")}(PM.Z);var vg=M(1205),YO=M(440),qO=M(127);function ZO(t){return null==t}function QO(t){return"function"==typeof t.set}function XO(t,n){return QO(n)?n:t.ref(n)}function JO(t,n){if(function O3(t){return"string"==typeof t}(t))return n.stringCase();if(QO(t))return n.firebaseCase();if(function F3(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function n1(t,n,e="on",r=k2.z){return new FA.y(s=>{let c=null;return c=t[e](n,(p,g)=>{r.schedule(()=>{s.next({snapshot:p,prevKey:g})}),"once"===e&&r.schedule(()=>s.complete())},p=>{r.schedule(()=>s.error(p))}),"on"===e?{unsubscribe(){null!=c&&t.off(n,c)}}:{unsubscribe(){}}}).pipe((0,pg.U)(s=>{const{snapshot:c,prevKey:p}=s;let g=null;return c.exists()&&(g=c.key),{type:n,payload:c,prevKey:p,key:g}}),(0,M2.B)())}function eF(t,n){const e=t.length;for(let r=0;r<e;r++)if(t[r].payload.key===n)return r;return-1}function L3(t,n){const{payload:e,prevKey:r,key:s}=n,c=eF(t,s),p=function N3(t,n){if(ZO(n))return 0;{const e=eF(t,n);return-1===e?t.length:e+1}}(t,r);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let g=null;n.payload.forEach(x=>{const E={payload:x,type:"value",prevKey:g,key:x.key};return g=x.key,t=[...t,E],!1})}return t;case"child_added":if(c>-1){const g=t[c-1];(g&&g.key||null)!==r&&(t=t.filter(x=>x.payload.key!==e.key)).splice(p,0,n)}else{if(null==r)return[n,...t];(t=t.slice()).splice(p,0,n)}return t;case"child_removed":return t.filter(g=>g.payload.key!==e.key);case"child_changed":return t.map(g=>g.payload.key===s?n:g);case"child_moved":if(c>-1){const g=t.splice(c,1)[0];return(t=t.slice()).splice(p,0,g),t}return t;default:return t}}function tF(t){return(ZO(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function nF(t,n,e){return function P3(t,n,e){return n1(t,"value","once",e).pipe((0,Tb.w)(r=>{const s=[(0,xe.of)(r)];return n.forEach(c=>s.push(n1(t,c,"on",e))),(0,ae.T)(...s).pipe((0,OM.R)(L3,[]))}),(0,EM.x)())}(t,n=tF(n),e)}function rF(t,n,e){const r=(n=tF(n)).map(s=>n1(t,s,"on",e));return(0,ae.T)(...r)}function iF(t,n){return function(r,s){return JO(r,{stringCase:()=>t.child(r)[n](s),firebaseCase:()=>r[n](s),snapshotCase:()=>r.ref[n](s)})}}function H3(t){return function(e){return e?JO(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function sF(t,n){return function(){return n1(t,"value","on",n)}}const z3=new d.OlP("angularfire2.realtimeDatabaseURL"),W3=new d.OlP("angularfire2.database.use-emulator");let $3=(()=>{class t{constructor(e,r,s,c,p,g,x,E,D,F,B,K,ee,W,oe){this.schedulers=g;const He=x,We=(0,gg.on)(e,p,r);E&&(0,vg.nw)(We,p,D,B,K,ee,F,W),this.database=(0,gg.cc)(`${We.name}.database.${s}`,"AngularFireDatabase",We.name,()=>{const Le=p.runOutsideAngular(()=>We.database(s||void 0));return He&&Le.useEmulator(...He),Le},[He])}list(e,r){const s=this.schedulers.ngZone.runOutsideAngular(()=>XO(this.database,e));let c=s;return r&&(c=r(s)),function G3(t,n){const e=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:iF(r,"update"),set:iF(r,"set"),push:s=>r.push(s),remove:H3(r),snapshotChanges:s=>nF(t,s,e).pipe(Yu.iC),stateChanges:s=>rF(t,s,e).pipe(Yu.iC),auditTrail:s=>function B3(t,n,e){return function U3(t,n,e){return function V3(t,n){return n1(t,"value","on",n).pipe((0,pg.U)(e=>{let r;return e.payload.forEach(s=>(r=s.key,!1)),{data:e,lastKeyToLoad:r}}))}(t,e).pipe(function N2(...t){const n=(0,P2.jO)(t);return(0,FM.e)((e,r)=>{const s=t.length,c=new Array(s);let p=t.map(()=>!1),g=!1;for(let x=0;x<s;x++)(0,R2.Xf)(t[x]).subscribe((0,PA.x)(r,E=>{c[x]=E,!g&&!p[x]&&(p[x]=!0,(g=p.every(O2.y))&&(p=null))},F2.Z));e.subscribe((0,PA.x)(r,x=>{if(g){const E=[x,...c];r.next(n?n(...E):E)}}))})}(n),(0,pg.U)(([s,c])=>{const p=s.lastKeyToLoad,g=c.map(x=>x.key);return{actions:c,lastKeyToLoad:p,loadedKeys:g}}),function L2(t){return(0,FM.e)((n,e)=>{let r=!1,s=0;n.subscribe((0,PA.x)(e,c=>(r||(r=!t(c,s++)))&&e.next(c)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,pg.U)(s=>s.actions))}(t,rF(t,n).pipe((0,OM.R)((s,c)=>[...s,c],[])),e)}(t,s,e).pipe(Yu.iC),valueChanges:(s,c)=>nF(t,s,e).pipe((0,pg.U)(g=>g.map(x=>c&&c.idField?Object.assign(Object.assign({},x.payload.val()),{[c.idField]:x.key}):x.payload.val())),Yu.iC)}}(c,this)}object(e){return function j3(t,n){return{query:t,snapshotChanges:()=>sF(t,n.schedulers.outsideAngular)().pipe(Yu.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>sF(t,n.schedulers.outsideAngular)().pipe(Yu.iC,(0,pg.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>XO(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(gg.Dh),d.LFG(gg.xv,8),d.LFG(z3,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yu.HU),d.LFG(W3,8),d.LFG(vg.zQ,8),d.LFG(vg.Qv,8),d.LFG(vg.L6,8),d.LFG(vg._Q,8),d.LFG(vg.rT,8),d.LFG(vg.lh,8),d.LFG(vg.f7,8),d.LFG(YO.nm,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),K3=(()=>{class t{constructor(){qO.Z.registerVersion("angularfire",Yu.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[$3]}),t})();const oF_firebase={apiKey:"AIzaSyABf21Us76ouC8oxtWBnFdNUmwFsSMOUqQ",authDomain:"restaurante-teste-bf5c7.firebaseapp.com",databaseURL:"https://restaurante-teste-bf5c7-default-rtdb.firebaseio.com",projectId:"restaurante-teste-bf5c7",storageBucket:"restaurante-teste-bf5c7.appspot.com",messagingSenderId:"24884724285",appId:"1:24884724285:web:bdb716fe8a0c268ee3a054"};var r1=M(8996),Y3=M(8372);const aF="firebasestorage.googleapis.com",lF="storageBucket";class qa extends it.ZR{constructor(n,e){super($I(n),`Firebase Storage: ${e} (${$I(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qa.prototype)}_codeEquals(n){return $I(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function $I(t){return"storage/"+t}function KI(){return new qa("unknown","An unknown error occurred, please check the error payload for server response.")}function cF(){return new qa("canceled","User canceled the upload/download.")}function uF(){return new qa("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cw(t){return new qa("invalid-argument",t)}function dF(){return new qa("app-deleted","The Firebase app was deleted.")}function hF(t){return new qa("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function s1(t,n){return new qa("invalid-format","String does not match format '"+t+"': "+n)}function o1(t){throw new qa("internal-error","Internal error: "+t)}class Bc{constructor(n,e){this.bucket=n,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,e){let r;try{r=Bc.makeFromUrl(n,e)}catch{return new Bc(n,"")}if(""===r.path)return r;throw function s4(t){return new qa("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(n)}static makeFromUrl(n,e){let r=null;const s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function E(Bt){Bt.path_=decodeURIComponent(Bt.path)}const F=e.replace(/[.]/g,"\\."),Le=[{regex:g,indices:{bucket:1,path:3},postModify:function c(Bt){"/"===Bt.path.charAt(Bt.path.length-1)&&(Bt.path_=Bt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${F}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${e===aF?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Bt=0;Bt<Le.length;Bt++){const dn=Le[Bt],In=dn.regex.exec(n);if(In){let ln=In[dn.indices.path];ln||(ln=""),r=new Bc(In[dn.indices.bucket],ln),dn.postModify(r);break}}if(null==r)throw function r4(t){return new qa("invalid-url","Invalid URL '"+t+"'.")}(n);return r}}class c4{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function hS(t){return"string"==typeof t||t instanceof String}function fF(t){return YI()&&t instanceof Blob}function YI(){return typeof Blob<"u"}function qI(t,n,e,r){if(r<n)throw Cw(`Invalid value for '${t}'. Expected ${n} or greater.`);if(r>e)throw Cw(`Invalid value for '${t}'. Expected ${e} or less.`)}function yg(t,n,e){let r=n;return null==e&&(r=`https://${n}`),`${e}://${r}/v0${t}`}function pF(t){const n=encodeURIComponent;let e="?";for(const r in t)t.hasOwnProperty(r)&&(e=e+(n(r)+"=")+n(t[r])+"&");return e=e.slice(0,-1),e}var g0=(()=>{return(t=g0||(g0={}))[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",g0;var t})();class g4{constructor(n,e,r,s,c,p,g,x,E,D,F){this.url_=n,this.method_=e,this.headers_=r,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=p,this.callback_=g,this.errorCallback_=x,this.timeout_=E,this.progressCallback_=D,this.connectionFactory_=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,K)=>{this.resolve_=B,this.reject_=K,this.start_()})}start_(){const e=(r,s)=>{const c=this.resolve_,p=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const x=this.callback_(g,g.getResponse());!function h4(t){return void 0!==t}(x)?c():c(x)}catch(x){p(x)}else if(null!==g){const x=KI();x.serverResponse=g.getErrorText(),p(this.errorCallback_?this.errorCallback_(g,x):x)}else p(s.canceled?this.appDelete_?dF():cF():function n4(){return new qa("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new fS(!1,null,!0)):this.backoffId_=function u4(t,n,e){let r=1,s=null,c=null,p=!1,g=0;function x(){return 2===g}let E=!1;function D(...oe){E||(E=!0,n.apply(null,oe))}function F(oe){s=setTimeout(()=>{s=null,t(K,x())},oe)}function B(){c&&clearTimeout(c)}function K(oe,...He){if(E)return void B();if(oe)return B(),void D.call(null,oe,...He);if(x()||p)return B(),void D.call(null,oe,...He);let Le;r<64&&(r*=2),1===g?(g=2,Le=0):Le=1e3*(r+Math.random()),F(Le)}let ee=!1;function W(oe){ee||(ee=!0,B(),!E&&(null!==s?(oe||(g=2),clearTimeout(s),F(0)):oe||(g=1)))}return F(0),c=setTimeout(()=>{p=!0,W(!0)},e),W}((r,s)=>{if(s)return void r(!1,new fS(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const p=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(p),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(p),this.pendingConnection_=null;const g=c.getErrorCode()===g0.NO_ERROR,x=c.getStatus();if(!g||this.isRetryStatusCode_(x)){const D=c.getErrorCode()===g0.ABORT;return void r(!1,new fS(!1,null,D))}const E=-1!==this.successCodes_.indexOf(x);r(!0,new fS(E,c))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function d4(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const e=n>=500&&n<600,s=-1!==[408,429].indexOf(n),c=-1!==this.additionalRetryCodes_.indexOf(n);return e||s||c}}class fS{constructor(n,e,r){this.wasSuccessCode=n,this.connection=e,this.canceled=!!r}}function E4(...t){const n=function w4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==n){const e=new n;for(let r=0;r<t.length;r++)e.append(t[r]);return e.getBlob()}if(YI())return new Blob(t);throw new qa("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Td={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ZI{constructor(n,e){this.data=n,this.contentType=e||null}}function QI(t,n){switch(t){case Td.RAW:return new ZI(gF(n));case Td.BASE64:case Td.BASE64URL:return new ZI(mF(t,n));case Td.DATA_URL:return new ZI(function S4(t){const n=new _F(t);return n.base64?mF(Td.BASE64,n.rest):function D4(t){let n;try{n=decodeURIComponent(t)}catch{throw s1(Td.DATA_URL,"Malformed data URL.")}return gF(n)}(n.rest)}(n),function T4(t){return new _F(t).contentType}(n))}throw KI()}function gF(t){const n=[];for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);r<=127?n.push(r):r<=2047?n.push(192|r>>6,128|63&r):55296==(64512&r)?e<t.length-1&&56320==(64512&t.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++e),n.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):n.push(239,191,189):56320==(64512&r)?n.push(239,191,189):n.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(n)}function mF(t,n){switch(t){case Td.BASE64:{const s=-1!==n.indexOf("-"),c=-1!==n.indexOf("_");if(s||c)throw s1(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Td.BASE64URL:{const s=-1!==n.indexOf("+"),c=-1!==n.indexOf("/");if(s||c)throw s1(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function C4(t){return atob(t)}(n)}catch{throw s1(t,"Invalid character found")}const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}class _F{constructor(n){this.base64=!1,this.contentType=null;const e=n.match(/^data:([^,]+)?,/);if(null===e)throw s1(Td.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function A4(t,n){return t.length>=n.length&&t.substring(t.length-n.length)===n}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=n.substring(n.indexOf(",")+1)}}class Jf{constructor(n,e){let r=0,s="";fF(n)?(this.data_=n,r=n.size,s=n.type):n instanceof ArrayBuffer?(e?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),r=this.data_.length):n instanceof Uint8Array&&(e?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),r=n.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(n,e){if(fF(this.data_)){const s=function b4(t,n,e){return t.webkitSlice?t.webkitSlice(n,e):t.mozSlice?t.mozSlice(n,e):t.slice?t.slice(n,e):null}(this.data_,n,e);return null===s?null:new Jf(s)}{const r=new Uint8Array(this.data_.buffer,n,e-n);return new Jf(r,!0)}}static getBlob(...n){if(YI()){const e=n.map(r=>r instanceof Jf?r.data_:r);return new Jf(E4.apply(null,e))}{const e=n.map(p=>hS(p)?QI(Td.RAW,p).data:p.data_);let r=0;e.forEach(p=>{r+=p.byteLength});const s=new Uint8Array(r);let c=0;return e.forEach(p=>{for(let g=0;g<p.length;g++)s[c++]=p[g]}),new Jf(s,!0)}}uploadData(){return this.data_}}function XI(t){let n;try{n=JSON.parse(t)}catch{return null}return function p4(t){return"object"==typeof t&&!Array.isArray(t)}(n)?n:null}function vF(t){const n=t.lastIndexOf("/",t.length-2);return-1===n?t:t.slice(n+1)}function M4(t,n){return n}class du{constructor(n,e,r,s){this.server=n,this.local=e||n,this.writable=!!r,this.xform=s||M4}}let pS=null;function a1(){if(pS)return pS;const t=[];t.push(new du("bucket")),t.push(new du("generation")),t.push(new du("metageneration")),t.push(new du("name","fullPath",!0));const e=new du("name");e.xform=function n(c,p){return function R4(t){return!hS(t)||t.length<2?t:vF(t)}(p)},t.push(e);const s=new du("size");return s.xform=function r(c,p){return void 0!==p?Number(p):p},t.push(s),t.push(new du("timeCreated")),t.push(new du("updated")),t.push(new du("md5Hash",null,!0)),t.push(new du("cacheControl",null,!0)),t.push(new du("contentDisposition",null,!0)),t.push(new du("contentEncoding",null,!0)),t.push(new du("contentLanguage",null,!0)),t.push(new du("contentType",null,!0)),t.push(new du("metadata","customMetadata",!0)),pS=t,pS}function yF(t,n,e){const r=XI(n);return null===r?null:function F4(t,n,e){const r={type:"file"},s=e.length;for(let c=0;c<s;c++){const p=e[c];r[p.local]=p.xform(r,n[p.server])}return function O4(t,n){Object.defineProperty(t,"ref",{get:function e(){const c=new Bc(t.bucket,t.fullPath);return n._makeStorageReference(c)}})}(r,t),r}(t,r,e)}function JI(t,n){const e={},r=n.length;for(let s=0;s<r;s++){const c=n[s];c.writable&&(e[c.server]=t[c.local])}return JSON.stringify(e)}const xF="prefixes";class ep{constructor(n,e,r,s){this.url=n,this.method=e,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tp(t){if(!t)throw KI()}function gS(t,n){return function e(r,s){const c=yF(t,s,n);return tp(null!==c),c}}function Dw(t){return function n(e,r){let s;return s=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function e4(){return new qa("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function J3(){return new qa("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function X3(t){return new qa("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===e.getStatus()?function t4(t){return new qa("unauthorized","User does not have permission to access '"+t+"'.")}(t.path):r,s.serverResponse=r.serverResponse,s}}function l1(t){const n=Dw(t);return function e(r,s){let c=n(r,s);return 404===r.getStatus()&&(c=function Q3(t){return new qa("object-not-found","Object '"+t+"' does not exist.")}(t.path)),c.serverResponse=s.serverResponse,c}}function EF(t,n,e){const s=yg(n.fullServerUrl(),t.host,t._protocol),p=t.maxOperationRetryTime,g=new ep(s,"GET",gS(t,e),p);return g.errorHandler=l1(n),g}function U4(t,n,e,r,s){const c={};c.prefix=n.isRoot?"":n.path+"/",e&&e.length>0&&(c.delimiter=e),r&&(c.pageToken=r),s&&(c.maxResults=s);const g=yg(n.bucketOnlyServerUrl(),t.host,t._protocol),E=t.maxOperationRetryTime,D=new ep(g,"GET",function B4(t,n){return function e(r,s){const c=function L4(t,n,e){const r=XI(e);return null===r?null:function N4(t,n,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[xF])for(const s of e[xF]){const c=s.replace(/\/$/,""),p=t._makeStorageReference(new Bc(n,c));r.prefixes.push(p)}if(e.items)for(const s of e.items){const c=t._makeStorageReference(new Bc(n,s.name));r.items.push(c)}return r}(t,n,r)}(t,n,s);return tp(null!==c),c}}(t,n.bucket),E);return D.urlParams=c,D.errorHandler=Dw(n),D}function CF(t,n,e){const r=Object.assign({},e);return r.fullPath=t.path,r.size=n.size(),r.contentType||(r.contentType=function z4(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}(null,n)),r}class mS{constructor(n,e,r,s){this.current=n,this.total=e,this.finalized=!!r,this.metadata=s||null}}function ek(t,n){let e=null;try{e=t.getResponseHeader("X-Goog-Upload-Status")}catch{tp(!1)}return tp(!!e&&-1!==(n||["active"]).indexOf(e)),e}const Y4={STATE_CHANGED:"state_changed"},hu={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tk(t){switch(t){case"running":case"pausing":case"canceling":return hu.RUNNING;case"paused":return hu.PAUSED;case"success":return hu.SUCCESS;case"canceled":return hu.CANCELED;default:return hu.ERROR}}class q4{constructor(n,e,r){if(function f4(t){return"function"==typeof t}(n)||null!=e||null!=r)this.next=n,this.error=e??void 0,this.complete=r??void 0;else{const c=n;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function Sw(t){return(...n)=>{Promise.resolve().then(()=>t(...n))}}class Q4 extends class Z4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=g0.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=g0.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=g0.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,e,r,s){if(this.sent_)throw o1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,n,!0),void 0!==s)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw o1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw o1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw o1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw o1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}{initXhr(){this.xhr_.responseType="text"}}function nf(){return new Q4}class AF{constructor(n,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=e,this._metadata=r,this._mappings=a1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,c)=>{this._resolve=s,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return e=>this._updateProgress(n+e)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":n(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,e)=>{const r=function W4(t,n,e,r,s){const c=n.bucketOnlyServerUrl(),p=CF(n,r,s),g={name:p.fullPath},x=yg(c,t.host,t._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},F=JI(p,e),ee=new ep(x,"POST",function K(W){let oe;ek(W);try{oe=W.getResponseHeader("X-Goog-Upload-URL")}catch{tp(!1)}return tp(hS(oe)),oe},t.maxUploadRetryTime);return ee.urlParams=g,ee.headers=D,ee.body=F,ee.errorHandler=Dw(n),ee}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,nf,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((e,r)=>{const s=function $4(t,n,e,r){const x=new ep(e,"POST",function c(E){const D=ek(E,["active","final"]);let F=null;try{F=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tp(!1)}F||tp(!1);const B=Number(F);return tp(!isNaN(B)),new mS(B,r.size(),"final"===D)},t.maxUploadRetryTime);return x.headers={"X-Goog-Upload-Command":"query"},x.errorHandler=Dw(n),x}(this._ref.storage,this._ref._location,n,this._blob),c=this._ref.storage._makeRequest(s,nf,e,r);this._request=c,c.getPromise().then(p=>{this._request=void 0,this._updateProgress(p.current),this._needToFetchStatus=!1,p.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,e=new mS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,c)=>{let p;try{p=function K4(t,n,e,r,s,c,p,g){const x=new mS(0,0);if(p?(x.current=p.current,x.total=p.total):(x.current=0,x.total=r.size()),r.size()!==x.total)throw function a4(){return new qa("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=x.total-x.current;let D=E;s>0&&(D=Math.min(D,s));const F=x.current,ee={"X-Goog-Upload-Command":D===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${x.current}`},W=r.slice(F,F+D);if(null===W)throw uF();const Le=new ep(e,"POST",function oe(Bt,dn){const In=ek(Bt,["active","final"]),vt=x.current+D,ln=r.size();let Qt;return Qt="final"===In?gS(n,c)(Bt,dn):null,new mS(vt,ln,"final"===In,Qt)},n.maxUploadRetryTime);return Le.headers=ee,Le.body=W.uploadData(),Le.progressCallback=g||null,Le.errorHandler=Dw(t),Le}(this._ref._location,this._ref.storage,r,this._blob,n,this._mappings,e,this._makeProgressCallback())}catch(x){return this._error=x,void this._transition("error")}const g=this._ref.storage._makeRequest(p,nf,s,c);this._request=g,g.getPromise().then(x=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(x.current),x.finalized?(this._metadata=x.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,e)=>{const r=EF(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,nf,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,e)=>{const r=function DF(t,n,e,r,s){const c=n.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"},x=function g(){let Le="";for(let Bt=0;Bt<2;Bt++)Le+=Math.random().toString().slice(2);return Le}();p["Content-Type"]="multipart/related; boundary="+x;const E=CF(n,r,s),D=JI(E,e),K=Jf.getBlob("--"+x+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+x+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+x+"--");if(null===K)throw uF();const ee={name:E.fullPath},W=yg(c,t.host,t._protocol),He=t.maxUploadRetryTime,We=new ep(W,"POST",gS(t,e),He);return We.urlParams=ee,We.headers=p,We.body=K.uploadData(),We.errorHandler=Dw(n),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,nf,n,e);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const e=this._transferred;this._transferred=n,this._transferred!==e&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=n,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=n,this._notifyObservers();break;case"canceled":this._error=cF(),this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=tk(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,e,r,s){const c=new q4(e||void 0,r||void 0,s||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(n,e){return this._promise.then(n,e)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const e=this._observers.indexOf(n);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(tk(this._state)){case hu.SUCCESS:Sw(this._resolve.bind(null,this.snapshot))();break;case hu.CANCELED:case hu.ERROR:Sw(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(tk(this._state)){case hu.RUNNING:case hu.PAUSED:n.next&&Sw(n.next.bind(n,this.snapshot))();break;case hu.SUCCESS:n.complete&&Sw(n.complete.bind(n))();break;default:n.error&&Sw(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class zv{constructor(n,e){this._service=n,this._location=e instanceof Bc?e:Bc.makeFromUrl(e,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,e){return new zv(n,e)}get root(){const n=new Bc(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vF(this._location.path)}get storage(){return this._service}get parent(){const n=function I4(t){if(0===t.length)return null;const n=t.lastIndexOf("/");return-1===n?"":t.slice(0,n)}(this._location.path);if(null===n)return null;const e=new Bc(this._location.bucket,n);return new zv(this._service,e)}_throwIfRoot(n){if(""===this._location.path)throw hF(n)}}function kF(t,n,e){return nk.apply(this,arguments)}function nk(){return(nk=(0,st.Z)(function*(t,n,e){const s=yield MF(t,{pageToken:e});n.prefixes.push(...s.prefixes),n.items.push(...s.items),null!=s.nextPageToken&&(yield kF(t,n,s.nextPageToken))})).apply(this,arguments)}function MF(t,n){null!=n&&"number"==typeof n.maxResults&&qI("options.maxResults",1,1e3,n.maxResults);const e=n||{},r=U4(t.storage,t._location,"/",e.pageToken,e.maxResults);return t.storage.makeRequestWithTokens(r,nf)}function u6(t){t._throwIfRoot("getDownloadURL");const n=function H4(t,n,e){const s=yg(n.fullServerUrl(),t.host,t._protocol),p=t.maxOperationRetryTime,g=new ep(s,"GET",function V4(t,n){return function e(r,s){const c=yF(t,s,n);return tp(null!==c),function P4(t,n,e,r){const s=XI(n);if(null===s||!hS(s.downloadTokens))return null;const c=s.downloadTokens;if(0===c.length)return null;const p=encodeURIComponent;return c.split(",").map(E=>{const F=t.fullPath;return yg("/b/"+p(t.bucket)+"/o/"+p(F),e,r)+pF({alt:"media",token:E})})[0]}(c,s,t.host,t._protocol)}}(t,e),p);return g.errorHandler=l1(n),g}(t.storage,t._location,a1());return t.storage.makeRequestWithTokens(n,nf).then(e=>{if(null===e)throw function l4(){return new qa("no-download-url","The given file does not have any download URLs.")}();return e})}function RF(t,n){const e=function k4(t,n){const e=n.split("/").filter(r=>r.length>0).join("/");return 0===t.length?e:t+"/"+e}(t._location.path,n),r=new Bc(t._location.bucket,e);return new zv(t.storage,r)}function OF(t,n){if(t instanceof rk){const e=t;if(null==e._bucket)throw function o4(){return new qa("no-default-bucket","No default bucket found. Did you set the '"+lF+"' property when initializing the app?")}();const r=new zv(e,e._bucket);return null!=n?OF(r,n):r}return void 0!==n?RF(t,n):t}function p6(t,n){if(n&&function h6(t){return/^[A-Za-z]+:\/\//.test(t)}(n)){if(t instanceof rk)return function f6(t,n){return new zv(t,n)}(t,n);throw Cw("To use ref(service, url), the first argument must be a Storage instance.")}return OF(t,n)}function FF(t,n){const e=n?.[lF];return null==e?null:Bc.makeFromBucketSpec(e,t)}class rk{constructor(n,e,r,s,c){this.app=n,this._authProvider=e,this._appCheckProvider=r,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=aF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Bc.makeFromBucketSpec(s,this._host):FF(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Bc.makeFromBucketSpec(this._url,n):FF(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){qI("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){qI("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,st.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const e=n._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,st.Z)(function*(){const e=n._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new zv(this,n)}_makeRequest(n,e,r,s){if(this._deleted)return new c4(dF());{const c=function x4(t,n,e,r,s,c){const p=pF(t.urlParams),g=t.url+p,x=Object.assign({},t.headers);return function v4(t,n){n&&(t["X-Firebase-GMPID"]=n)}(x,n),function m4(t,n){null!==n&&n.length>0&&(t.Authorization="Firebase "+n)}(x,e),function _4(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}(x,c),function y4(t,n){null!==n&&(t["X-Firebase-AppCheck"]=n)}(x,r),new g4(g,t.method,x,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}(n,this._appId,r,s,e,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(n,e){var r=this;return(0,st.Z)(function*(){const[s,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,e,s,c).getPromise()})()}}const PF="@firebase/storage";function BF(t,n){return p6(t=(0,it.m9)(t),n)}function D6(t,{instanceIdentifier:n}){const e=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new rk(e,r,s,n,r0.SDK_VERSION)}!function S6(){(0,r0._registerComponent)(new Mv.wA("storage",D6,"PUBLIC").setMultipleInstances(!0)),(0,r0.registerVersion)(PF,"0.9.9",""),(0,r0.registerVersion)(PF,"0.9.9","esm2017")}();class _S{constructor(n,e,r){this._delegate=n,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class VF{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new _S(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(r=>{if(n)return n(new _S(r,this,this._ref))},e)}on(n,e,r,s){let c;return e&&(c="function"==typeof e?p=>e(new _S(p,this,this._ref)):{next:e.next?p=>e.next(new _S(p,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,c,r||void 0,s||void 0)}}class UF{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new xg(n,this._service))}get items(){return this._delegate.items.map(n=>new xg(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xg{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=function b6(t,n){return RF(t,n)}(this._delegate,n);return new xg(e,this.storage)}get root(){return new xg(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new xg(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new VF(function m6(t,n,e){return function s6(t,n,e){return t._throwIfRoot("uploadBytesResumable"),new AF(t,new Jf(n),e)}(t=(0,it.m9)(t),n,e)}(this._delegate,n,e),this)}putString(n,e=Td.RAW,r){this._throwIfRoot("putString");const s=QI(e,n),c=Object.assign({},r);return null==c.contentType&&null!=s.contentType&&(c.contentType=s.contentType),new VF(new AF(this._delegate,new Jf(s.data,!0),c),this)}listAll(){return function x6(t){return function a6(t){const n={prefixes:[],items:[]};return kF(t,n).then(()=>n)}(t=(0,it.m9)(t))}(this._delegate).then(n=>new UF(n,this.storage))}list(n){return function y6(t,n){return MF(t=(0,it.m9)(t),n)}(this._delegate,n||void 0).then(e=>new UF(e,this.storage))}getMetadata(){return function _6(t){return function l6(t){t._throwIfRoot("getMetadata");const n=EF(t.storage,t._location,a1());return t.storage.makeRequestWithTokens(n,nf)}(t=(0,it.m9)(t))}(this._delegate)}updateMetadata(n){return function v6(t,n){return function c6(t,n){t._throwIfRoot("updateMetadata");const e=function G4(t,n,e,r){const c=yg(n.fullServerUrl(),t.host,t._protocol),g=JI(e,r),E=t.maxOperationRetryTime,D=new ep(c,"PATCH",gS(t,r),E);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=g,D.errorHandler=l1(n),D}(t.storage,t._location,n,a1());return t.storage.makeRequestWithTokens(e,nf)}(t=(0,it.m9)(t),n)}(this._delegate,n)}getDownloadURL(){return function w6(t){return u6(t=(0,it.m9)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function E6(t){return function d6(t){t._throwIfRoot("deleteObject");const n=function j4(t,n){const r=yg(n.fullServerUrl(),t.host,t._protocol),g=new ep(r,"DELETE",function p(x,E){},t.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=l1(n),g}(t.storage,t._location);return t.storage.makeRequestWithTokens(n,nf)}(t=(0,it.m9)(t))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw hF(n)}}class HF{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(GF(n))throw Cw("ref() expected a child path but got a URL, use refFromURL instead.");return new xg(BF(this._delegate,n),this)}refFromURL(n){if(!GF(n))throw Cw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bc.makeFromUrl(n,this._delegate.host)}catch{throw Cw("refFromUrl() expected a valid full URL but got an invalid one.")}return new xg(BF(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,r={}){!function C6(t,n,e,r={}){!function g6(t,n,e,r={}){t.host=`${n}:${e}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken="string"==typeof s?s:(0,it.Sg)(s,t.app.options.projectId))}(t,n,e,r)}(this._delegate,n,e,r)}}function GF(t){return/^[A-Za-z]+:\/\//.test(t)}function k6(t,{instanceIdentifier:n}){const e=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:n});return new HF(e,r)}function jF(t){const n=function R6(t){return new FA.y(n=>{const e=p=>n.next(p);e(t.snapshot);const c=t.on("state_changed",e);return t.then(p=>{e(p),n.complete()},p=>{e(t.snapshot),(p=>{n.error(p)})(p)}),function(){c()}}).pipe((0,Y3.b)(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,pg.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function vS(t){return{getDownloadURL:()=>(0,xe.of)(void 0).pipe(Yu.fc,(0,Tb.w)(()=>t.getDownloadURL()),Yu.iC),getMetadata:()=>(0,xe.of)(void 0).pipe(Yu.fc,(0,Tb.w)(()=>t.getMetadata()),Yu.iC),delete:()=>(0,r1.D)(t.delete()),child:n=>vS(t.child(n)),updateMetadata:n=>(0,r1.D)(t.updateMetadata(n)),put:(n,e)=>jF(t.put(n,e)),putString:(n,e,r)=>jF(t.putString(n,e,r)),list:n=>(0,r1.D)(t.list(n)),listAll:()=>(0,r1.D)(t.listAll())}}!function M6(t){const n={TaskState:hu,TaskEvent:Y4,StringFormat:Td,Storage:HF,Reference:xg};t.INTERNAL.registerComponent(new Mv.wA("storage-compat",k6,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.1.17")}(PM.Z);const O6=new d.OlP("angularfire2.storageBucket"),F6=new d.OlP("angularfire2.storage.maxUploadRetryTime"),P6=new d.OlP("angularfire2.storage.maxOperationRetryTime"),N6=new d.OlP("angularfire2.storage.use-emulator");let L6=(()=>{class t{constructor(e,r,s,c,p,g,x,E,D,F){const B=(0,gg.on)(e,p,r);this.storage=(0,gg.cc)(`${B.name}.storage.${s}`,"AngularFireStorage",B.name,()=>{const K=p.runOutsideAngular(()=>B.storage(s||void 0)),ee=D;return ee&&K.useEmulator(...ee),x&&K.setMaxUploadRetryTime(x),E&&K.setMaxOperationRetryTime(E),K},[x,E])}ref(e){return vS(this.storage.ref(e))}refFromURL(e){return vS(this.storage.refFromURL(e))}upload(e,r,s){return vS(this.storage.ref(e)).put(r,s)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(gg.Dh),d.LFG(gg.xv,8),d.LFG(O6,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Yu.HU),d.LFG(F6,8),d.LFG(P6,8),d.LFG(N6,8),d.LFG(YO.nm,8))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),B6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})(),V6=(()=>{class t{constructor(){qO.Z.registerVersion("angularfire",Yu.q4.full,"gcs-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[L6],imports:[B6]}),t})();var U6=M(455);function H6(t,n){1&t&&(d.TgZ(0,"p")(1,"strong"),d._uU(2,"Voc\xea \xe9 Administrador do Sistema"),d.qZA()())}function G6(t,n){if(1&t&&(d.TgZ(0,"div",3)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h1"),d._uU(5,"Ol\xe1: "),d.TgZ(6,"strong"),d._uU(7),d.qZA()(),d.TgZ(8,"p"),d._uU(9,"User ID: "),d.TgZ(10,"strong"),d._uU(11),d.qZA()(),d.TgZ(12,"p"),d._uU(13,"Email: "),d.TgZ(14,"strong"),d._uU(15),d.qZA()(),d.TgZ(16,"p"),d._uU(17,"Email Verified: "),d.TgZ(18,"strong"),d._uU(19),d.qZA()(),d.YNc(20,H6,3,0,"p",12),d.qZA()()()()),2&t){const e=n.ngIf,r=d.oxw();d.xp6(7),d.Oqu(e.displayName?e.displayName:"User"),d.xp6(4),d.Oqu(e.uid),d.xp6(4),d.Oqu(e.email),d.xp6(4),d.Oqu(e.emailVerified),d.xp6(1),d.Q6J("ngIf",!0===r.admMode)}}let j6=(()=>{class t{constructor(e){this.authService=e,this.admMode=!1}ngOnInit(){document.getElementById("adm"),this.admMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===this.authService.userData.uid}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Kf.e))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-profile-dialog"]],decls:10,vars:1,consts:[[1,"navbar","navbar-dark","fixed-top","bg-dark","flex-md-nowrap","p-0","shadow"],[1,"navbar-brand","col-sm-3","col-md-2","mr-0"],[1,"container-fluid"],[1,"row"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"col-md-12"],[1,"media"],[1,"media-body"],[4,"ngIf"]],template:function(e,r){1&e&&(d.TgZ(0,"nav",0),d._UZ(1,"a",1),d.qZA(),d.TgZ(2,"div",2)(3,"div",3)(4,"main",4)(5,"div",5)(6,"div",6)(7,"h1",7),d._uU(8,"Perfil do Usu\xe1rio"),d.qZA()(),d.YNc(9,G6,21,5,"div",8),d.qZA()()()()),2&e&&(d.xp6(9),d.Q6J("ngIf",r.authService.userData))},dependencies:[Ge.O5],styles:[".media-body[_ngcontent-%COMP%]{width:150%}"]}),t})();var Vc=M(277);function z6(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"mat-icon",19),d.NdJ("click",function(){d.CHM(e);const s=d.oxw().index,c=d.oxw();return d.KtG(c.removeFoodBag(s))}),d._uU(1,"delete"),d.qZA()}}function W6(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"mat-icon",19),d.NdJ("click",function(){d.CHM(e);const s=d.oxw().index,c=d.oxw();return d.KtG(c.removeFoodBag(s))}),d._uU(1,"remove_circle_outline"),d.qZA()}}function $6(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"li",5),d._UZ(1,"img",10),d.TgZ(2,"div",11)(3,"h2",12),d._uU(4),d.qZA(),d.TgZ(5,"div",13)(6,"p",14),d._uU(7),d.qZA(),d.TgZ(8,"div",15),d.YNc(9,z6,2,0,"mat-icon",16),d.YNc(10,W6,2,0,"mat-icon",16),d.TgZ(11,"p",17),d._uU(12),d.qZA(),d.TgZ(13,"mat-icon",18),d.NdJ("click",function(){const c=d.CHM(e).index,p=d.oxw();return d.KtG(p.addFoodBag(c))}),d._uU(14,"add_circle_outline"),d.qZA()()()()()}if(2&t){const e=n.$implicit,r=n.index,s=d.oxw();d.xp6(1),d.Q6J("src",s.bagImage[r],d.LSH),d.xp6(3),d.Oqu(e.toString().replaceAll('"'," ")),d.xp6(3),d.hij("R$ ",s.bagValueBag[r],""),d.xp6(2),d.Q6J("ngIf",1==s.bagAmount[r]),d.xp6(1),d.Q6J("ngIf",s.bagAmount[r]>1),d.xp6(2),d.Oqu(s.bagAmount[r])}}function K6(t,n){if(1&t&&(d.TgZ(0,"div",20)(1,"h2",21),d._uU(2),d.qZA()()),2&t){const e=n.$implicit;d.xp6(2),d.hij("Total: R$ ",e.datas.totalValue.toFixed(2).replace(".",","),"")}}let ik=(()=>{class t{constructor(e,r,s,c){this.data=e,this.firestore=r,this.dialogReview=s,this._snackBar=c,this.bagValueBagStatic=[],this.itemMode=!1,this.horizontalPosition="center",this.verticalPosition="top",this.durationInSeconds=3}ngOnInit(){this.bagValue=JSON.parse(sessionStorage.getItem("value")),this.bagName=this.data.packageName,this.itemMode=this.bagName.length>1,this.bagValueBag=this.data.packageValue,this.bagValueBagStatic=this.data.valueEstatic,this.bagImage=this.data.packageImage,this.bagAmount=this.data.packageAmount,this.userBagAmount=this.data.packageAmount,this.bagIndex=JSON.parse(sessionStorage.getItem("arrayBagIndex")),this.firestore.collection("totalValue").snapshotChanges().subscribe(e=>{this.usersEx=e.map(r=>{let s=r.payload.doc.data();return{id:r.payload.doc.id,datas:s}})})}removeFoodBag(e){if(1==this.bagAmount[e]){this.bagValue=Number(this.bagValue)-Number(this.bagValueBagStatic[e]);const s={totalValue:this.bagValue};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(s),this.bagImage.splice(e,1),this.bagName.splice(e,1),this.bagAmount.splice(e,1),this.bagValueBag.splice(e,1),this.bagValueBagStatic.splice(e,1),this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:1}),this.itemMode=this.bagName.length>1}else{let r=Number(this.bagAmount[e]);this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:r-=1}),this.bagAmount[e]=r,this.bagValueBag[e]=this.bagValueBagStatic[e]*r,this.bagValue=Number(this.bagValue)-Number(this.bagValueBagStatic[e]);const c={totalValue:this.bagValue};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(c)}}addFoodBag(e){let r=Number(this.bagAmount[e]);this.firestore.doc("lunch/"+this.bagIndex[e]).update({bagAmount:r+=1}),this.bagAmount[e]=r,this.bagValueBag[e]=this.bagValueBagStatic[e]*r,this.bagValue=Number(this.bagValue)+Number(this.bagValueBagStatic[e]);const s=this.bagValue;this.data.sum=this.bagValue;const c={totalValue:s};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(c)}addRequest(){let s=this.data.packageName,c=this.data.packageValue,p=this.data.packageAmount,g=this.data.sum,E=new Date;const F={nameAdm:s,valueAdm:c,bagAmountAdm:p,finalValueAdm:g,status:1,dateAndHour:(0,Ge.p6)(E,"dd/MM/yyyy hh:mm:ss a","en-US")};this.firestore.collection("requests").add(F),this._snackBar.open("Pedido Realizado!","Fechar",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds}),sessionStorage.clear(),this.dialogReview.close(),this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0})}closeDialog(){this.dialogReview.close({image:this.bagImage,amount:this.bagAmount,name:this.bagName,value:this.bagValueBag,valueTotal:this.bagValue,valueEstatic:this.bagValueBagStatic})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(cn),d.Y36(Xe.ST),d.Y36(kn),d.Y36(lg.ux))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-review-dialog"]],decls:15,vars:3,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start",2,"align-items","center"],[1,"close",2,"cursor","pointer",3,"click"],[1,"infos"],[1,"item"],["fxLayout","row"],["fxLayout","column"],["fxLayout","row",4,"ngFor","ngForOf"],["class","col-12",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"bagImage",3,"src"],[1,"col"],[1,"bagName"],[1,"amount"],[1,"bagValue"],["fxLayoutAlign","space-evenly center",1,"amount-son"],["style","cursor: pointer;",3,"click",4,"ngIf"],["min","1",1,"addNumber",2,"text-align","center"],[1,"bagAdd",3,"click"],[2,"cursor","pointer",3,"click"],[1,"col-12"],[1,"total"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"h1",1),d._uU(2," Sua Sacola! "),d.TgZ(3,"mat-icon",2),d.NdJ("click",function(){return r.closeDialog()}),d._uU(4,"close"),d.qZA()(),d.TgZ(5,"div",3)(6,"h2",4),d._uU(7),d.qZA(),d.TgZ(8,"ul",5)(9,"div",6),d.YNc(10,$6,15,6,"li",7),d.qZA()()(),d.YNc(11,K6,3,1,"div",8),d.TgZ(12,"footer")(13,"button",9),d.NdJ("click",function(){return r.addRequest()}),d._uU(14,"Confirmar Pedido"),d.qZA()()()),2&e&&(d.xp6(7),d.Oqu(!0===r.itemMode?"Itens:":"Item:"),d.xp6(3),d.Q6J("ngForOf",r.bagName),d.xp6(1),d.Q6J("ngForOf",r.usersEx))},dependencies:[Ge.sg,Ge.O5,Vc.xw,Vc.Wh,Wu.Hw],styles:[".bagImage[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;object-fit:cover;border-width:5px;border-style:solid;border-color:#5c068c}.col-12[_ngcontent-%COMP%]{text-align:center;align-items:center}#bagRemove[_ngcontent-%COMP%]{float:right;cursor:pointer;color:#5c068c;height:23px;width:23px}#remove[_ngcontent-%COMP%]{float:right;cursor:pointer}.bagAdd[_ngcontent-%COMP%]{float:right;cursor:pointer;color:#5c068c}.amount[_ngcontent-%COMP%]{align-items:center;text-align:center;display:flex;right:0}.amount-son[_ngcontent-%COMP%]{border-width:thin;border-style:solid;border-color:#a9a9a9;width:100px;height:30px;margin-left:30px}.addNumber[_ngcontent-%COMP%]{margin-top:12px}li[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:0}.item[_ngcontent-%COMP%], .bagName[_ngcontent-%COMP%]{margin:15px 0 0}.total[_ngcontent-%COMP%]{float:right}.bagValue[_ngcontent-%COMP%]{margin:0 0 0 5px;color:green;font-size:15px}.btn[_ngcontent-%COMP%]{width:250px;height:30px;font-size:17px;float:right;text-align:center;color:#fff;line-height:30px;border-radius:16px;padding-top:0}.col-12[_ngcontent-%COMP%]{float:right;margin-bottom:20px}.container[_ngcontent-%COMP%]{overflow:auto;height:100%;max-height:800px}ul[_ngcontent-%COMP%]{margin:0;padding-left:0;float:left}.value[_ngcontent-%COMP%]{font-size:2px}.col[_ngcontent-%COMP%]{margin-bottom:20px}"]}),t})();const Y6=["error"];let q6=(()=>{class t{constructor(e,r,s){this.dialogShared=e,this.firestore=r,this._snackBar=s,this.horizontalPosition="center",this.verticalPosition="top",this.durationInSeconds=3}ngOnInit(){}closeDialogShare(){this.dialogShared.close()}addReport(){if(document.getElementById("input"),""==this.error.nativeElement.value)this._snackBar.open("Por favor, informe o erro!","Fechar",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds});else{const r={inputError:this.error.nativeElement.value};this.firestore.collection("report-error").add(r),this.error.nativeElement.value="",this._snackBar.open("Erro enviado para an\xe1lise. Obrigado por reportar!","Fechar",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(kn),d.Y36(Xe.ST),d.Y36(lg.ux))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-report-error-dialog"]],viewQuery:function(e,r){if(1&e&&d.Gf(Y6,5),2&e){let s;d.iGM(s=d.CRH())&&(r.error=s.first)}},decls:19,vars:0,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"close",3,"click"],["fxLayout","row",1,"social-media"],[1,"icon"],["src","../assets/signup-ex.png","alt","",1,"logo"],["type","text","id","input","onfocus","this.value='';","placeholder","Informe o erro aqui"],["error",""],[1,"btn","btn-success",3,"click"],["src","../assets/42.png","alt","",1,"rocket"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"header",1)(2,"h1")(3,"b"),d._uU(4,"Reporte o Erro para o sistema"),d.qZA()(),d.TgZ(5,"mat-icon",2),d.NdJ("click",function(){return r.closeDialogShare()}),d._uU(6,"close"),d.qZA()(),d.TgZ(7,"div",3)(8,"div",4),d._UZ(9,"img",5),d.qZA()(),d.TgZ(10,"p")(11,"b"),d._uU(12,"Reportar Erro:"),d.qZA()(),d.TgZ(13,"div"),d._UZ(14,"input",6,7),d.TgZ(16,"button",8),d.NdJ("click",function(){return r.addReport()}),d._uU(17,"Enviar "),d._UZ(18,"img",9),d.qZA()()())},dependencies:[Vc.xw,Vc.Wh,Wu.Hw],styles:[".container[_ngcontent-%COMP%]{width:500px}.social-media[_ngcontent-%COMP%]{margin-bottom:20px}.icon[_ngcontent-%COMP%]{background-color:#f5ecec;border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;margin-left:20px;border-style:solid;border-color:#868282;float:center}.logo[_ngcontent-%COMP%]{height:70px;border-radius:50%}#input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:5px}[_ngcontent-%COMP%]::placeholder{padding:5px}.rocket[_ngcontent-%COMP%]{height:35px}.btn[_ngcontent-%COMP%]{margin-top:10px;height:45px;align-items:center}.close[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();class Z6{constructor(n,e){this._document=e;const r=this._textarea=this._document.createElement("textarea"),s=r.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",r.setAttribute("aria-hidden","true"),r.value=n,r.readOnly=!0,this._document.body.appendChild(r)}copy(){const n=this._textarea;let e=!1;try{if(n){const r=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let Q6=(()=>{class t{constructor(e){this._document=e}copy(e){const r=this.beginCopy(e),s=r.copy();return r.destroy(),s}beginCopy(e){return new Z6(e,this._document)}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(Ge.K0))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const X6=new d.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let J6=(()=>{class t{constructor(e,r,s){this._clipboard=e,this._ngZone=r,this.text="",this.attempts=1,this.copied=new d.vpe,this._pending=new Set,s&&null!=s.attempts&&(this.attempts=s.attempts)}copy(e=this.attempts){if(e>1){let r=e;const s=this._clipboard.beginCopy(this.text);this._pending.add(s);const c=()=>{const p=s.copy();p||!--r||this._destroyed?(this._currentTimeout=null,this._pending.delete(s),s.destroy(),this.copied.emit(p)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(c,1))};c()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Q6),d.Y36(d.R0b),d.Y36(X6,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,r){1&e&&d.NdJ("click",function(){return r.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),t})(),eV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})(),tV=(()=>{class t{constructor(e,r){this.dialogShared=e,this.snackBar=r,this.value="https://restaurante-teste-bf5c7.web.app/",this.horizontalPosition="start",this.verticalPosition="bottom",this.durationInSeconds=2}ngOnInit(){}closeDialogShare(){this.dialogShared.close()}copyURL(){this.snackBar.open("Copiado para a \xe1rea de transf\xearencia!","Fechar",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(kn),d.Y36(lg.ux))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-share-dialog"]],decls:26,vars:2,consts:[[1,"container"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"close",3,"click"],["fxLayout","row",1,"social-media"],[1,"icon"],["href","https://twitter.com/intent/tweet?url=https://restaurante-teste-bf5c7.web.app/","target","_blank"],["src","../assets/twitter.png","alt",""],["href","https://www.facebook.com/sharer/sharer.php?u=https://restaurante-teste-bf5c7.web.app/","target","_blank"],["src","../assets/facebook.png","alt",""],["href","https://api.whatsapp.com/send?text=https://restaurante-teste-bf5c7.web.app/","target","_blank"],["src","../assets/whatsapp.png","alt",""],[1,"input-group"],["type","text","id","input","value","https://restaurante-teste-bf5c7.web.app/","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["id","clipboardCopy","type","button",1,"btn","btn-default",3,"cdkCopyToClipboard","click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"header",1)(2,"h1")(3,"b"),d._uU(4,"Compartilhe!"),d.qZA()(),d.TgZ(5,"mat-icon",2),d.NdJ("click",function(){return r.closeDialogShare()}),d._uU(6,"close"),d.qZA()(),d.TgZ(7,"div",3)(8,"div",4)(9,"a",5),d._UZ(10,"img",6),d.qZA()(),d.TgZ(11,"div",4)(12,"a",7),d._UZ(13,"img",8),d.qZA()(),d.TgZ(14,"div",4)(15,"a",9),d._UZ(16,"img",10),d.qZA()()(),d.TgZ(17,"p")(18,"b"),d._uU(19,"ou copie o link:"),d.qZA()(),d.TgZ(20,"div",11)(21,"input",12),d.NdJ("ngModelChange",function(c){return r.value=c}),d.qZA(),d.TgZ(22,"span",13)(23,"button",14),d.NdJ("click",function(){return r.copyURL()}),d.TgZ(24,"mat-icon"),d._uU(25,"filter_none"),d.qZA()()()()()),2&e&&(d.xp6(21),d.Q6J("ngModel",r.value),d.xp6(2),d.Q6J("cdkCopyToClipboard",r.value))},dependencies:[fe.Fj,fe.JJ,fe.On,Vc.xw,Vc.Wh,Wu.Hw,J6],styles:[".container[_ngcontent-%COMP%]{width:450px}.social-media[_ngcontent-%COMP%]{margin-bottom:20px}.icon[_ngcontent-%COMP%]{background-color:#f5ecec;border-radius:50%;width:60px;height:60px;text-align:center;display:flex;justify-content:center;align-items:center;margin-left:20px;border-style:solid;border-color:#868282}img[_ngcontent-%COMP%]{cursor:pointer;height:25px}input[_ngcontent-%COMP%]{height:40px;border-radius:20px}button[_ngcontent-%COMP%]{height:40px}mat-icon[_ngcontent-%COMP%]{color:#000;cursor:pointer}simple-snack-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto;text-align:center}"]}),t})(),zF=(()=>{class t{constructor(){this.isOpen=!1}toggleOpoen(){this.isOpen=!this.isOpen}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=d.lG2({type:t,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(e,r){1&e&&d.NdJ("click",function(){return r.toggleOpoen()}),2&e&&d.ekj("show",r.isOpen)}}),t})();function nV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"a",5),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.onSelect("food-list"))}),d._UZ(1,"img",21),d.qZA()}}function rV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"a",22),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.onSelect("lunch"))}),d._UZ(1,"img",23),d.qZA()}}function iV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"a",22),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.onSelect("food-list"))}),d._UZ(1,"img",24),d.qZA()}}let sV=(()=>{class t{constructor(e,r){this.authService=e,this.dialogShared=r,this.isChecked=!0,this.boxMode=!1,this.featureSelected=new d.vpe}onSelect(e){this.featureSelected.emit(e)}ngOnInit(){this.boxMode="SHfa4hba4RaCMR78REr5mVTlxBD2"===JSON.parse(localStorage.getItem("user")).uid}shutdown(){confirm("Voc\xea tem certeza que deseja fechar o site?")&&window.open("","_self")?.close()}switchMode(){0==this.isChecked&&sessionStorage.setItem("isChecked",JSON.stringify(this.isChecked))}openDialogShare(){this.dialogShared.open(tV,{})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Kf.e),d.Y36(Mr))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-header"]],outputs:{featureSelected:"featureSelected"},decls:39,vars:3,consts:[[1,"navbar","navbar-expand"],[1,"container"],[1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link",3,"click"],["src","../assets/cardapio.png","alt",""],["href","javascript:void(0)","class","nav-link",3,"click",4,"ngIf"],[1,"dropdown"],["href","javascript:void(0)","appDropdown","",1,"nav-link","dropdown-toggle"],["src","../assets/ferramentas.png","alt",""],[1,"dropdown-menu"],["href","javascript:void(0)",1,"nav-normal-link",2,"margin-left","10px",3,"click"],["id","share-icon"],["id","sign-out",1,"nav-item"],["src","../assets/log-out.png"],[1,"dropdown-menus"],[1,"menu"],[1,"nav-item-menu"],["href","javascript:void(0)","style","margin-left: 10px;","class","nav-link-menu",3,"click",4,"ngIf"],["src","../assets/log-out.png","alt",""],["src","../assets/caixa.png","alt",""],["href","javascript:void(0)",1,"nav-link-menu",2,"margin-left","10px",3,"click"],["src","../assets/menu-cel.png","alt",""],["src","../assets/caixa-cel.png","alt",""]],template:function(e,r){1&e&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),d.NdJ("click",function(){return r.onSelect("lunch")}),d._UZ(6,"img",6),d.qZA()(),d.TgZ(7,"li",4),d.YNc(8,nV,2,0,"a",7),d.qZA()(),d.TgZ(9,"ul",3)(10,"li",8)(11,"a",9),d._UZ(12,"img",10),d.qZA(),d.TgZ(13,"ul",11)(14,"li",4)(15,"a",12),d.NdJ("click",function(){return r.openDialogShare()}),d.TgZ(16,"mat-icon",13),d._uU(17,"share"),d.qZA()()(),d.TgZ(18,"li",14)(19,"a",12),d.NdJ("click",function(){return r.authService.SignOut()}),d._UZ(20,"img",15),d.qZA()()()()(),d.TgZ(21,"div",16)(22,"ul",3)(23,"li",17)(24,"a",9)(25,"mat-icon"),d._uU(26,"menu"),d.qZA()(),d.TgZ(27,"ul",11)(28,"li",18),d.YNc(29,rV,2,0,"a",19),d.qZA(),d.TgZ(30,"li",18),d.YNc(31,iV,2,0,"a",19),d.qZA(),d.TgZ(32,"li",18)(33,"a",12),d.NdJ("click",function(){return r.openDialogShare()}),d.TgZ(34,"mat-icon",13),d._uU(35,"share"),d.qZA()()(),d.TgZ(36,"li",18)(37,"a",12),d.NdJ("click",function(){return r.authService.SignOut()}),d._UZ(38,"img",20),d.qZA()()()()()()()()()),2&e&&(d.xp6(8),d.Q6J("ngIf",!0===r.boxMode),d.xp6(21),d.Q6J("ngIf",!0===r.boxMode),d.xp6(2),d.Q6J("ngIf",!0===r.boxMode))},dependencies:[Ge.O5,Wu.Hw,zF],styles:[".nav-link[_ngcontent-%COMP%]{color:#fff;display:block;float:right;margin-right:10px}.navbar-brand[_ngcontent-%COMP%]{color:#fff}.nav-normal-link[_ngcontent-%COMP%]{text-decoration:none}.navbar[_ngcontent-%COMP%]{display:block;float:right;margin-right:10px}mat-icon[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}.menu[_ngcontent-%COMP%]{width:25px;margin-left:15px;display:none}@media (max-width: 820px){.menu[_ngcontent-%COMP%]{display:block;cursor:pointer;float:right}.dropdown[_ngcontent-%COMP%]{display:none}.dropdown-menus[_ngcontent-%COMP%]{position:absolute;right:-30px}.nav-item[_ngcontent-%COMP%]{display:none}.dropdown-menu[_ngcontent-%COMP%]{cursor:pointer;float:right;transform:translate3d(-140px,50px,0)!important;margin-right:10px;overflow:hidden;transition:all 1s ease-in-out}.nav-link-menu[_ngcontent-%COMP%]{text-decoration:none}}@media (max-width: 350px){.dropdown-menus[_ngcontent-%COMP%]{font-size:15px;position:absolute;right:-30px}.dropdown-menu[_ngcontent-%COMP%]{cursor:pointer;float:right;transform:translate3d(-135px,40px,0)!important;margin-right:10px}}#share-icon[_ngcontent-%COMP%]{color:#000}#sign-out[_ngcontent-%COMP%]{margin-top:10px}"]}),t})(),oV=(()=>{class t{constructor(e,r,s,c,p){this.dialog=e,this.dialogRef=r,this.formBuilder=s,this.firestore=c,this.data=p,this.myFormGroup=this.formBuilder.group({name:["",fe.kI.required],description:["",fe.kI.required],value:["",fe.kI.required],imagePath:["",fe.kI.required]})}ngOnInit(){this.lunch=JSON.parse(sessionStorage.getItem("lunch")),this.edition(this.lunch),this.lunchEx=sessionStorage.getItem("index")}edition(e){this.myFormGroup.patchValue({name:e.name,description:e.description,value:e.value,imagePath:e.imagePath})}refresh(){let e=this.myFormGroup.getRawValue();sessionStorage.setItem("lunch",JSON.stringify(e)),this.firestore.doc("lunch/"+this.lunchEx).update(e)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Mr),d.Y36(kn),d.Y36(fe.qu),d.Y36(Xe.ST),d.Y36(cn))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-details-dialog"]],inputs:{packageSelected:"packageSelected",index:"index",package:"package"},decls:37,vars:2,consts:[["mat-dialog-title",""],[3,"formGroup"],[1,"row"],[1,"col-sm-5"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["nameFoodInput",""],[1,"col-sm-5","form-group"],["for","descripcion"],["type","text","id","description","formControlName","description",1,"form-control"],["descriptionInput",""],["type","number","id","description","formControlName","value",1,"form-control"],["valueInput",""],["for","imagePath"],["type","url","id","imagePath","formControlName","imagePath",1,"form-control"],["imagePathInput",""],["align","end"],["matDialogClose","",1,"btn","btn-danger","mx-md-1"],["matDialogClose","",1,"btn","btn-success","mx-md-1",3,"disabled","click"]],template:function(e,r){1&e&&(d.TgZ(0,"h2",0),d._uU(1,"Edite o Item do seu Card\xe1pio!"),d.qZA(),d.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"label",4),d._uU(6,"Nome da Comida"),d.qZA(),d._UZ(7,"input",5,6),d.qZA(),d.TgZ(9,"div",7)(10,"label",8),d._uU(11,"Descri\xe7\xe3o da Comida"),d.qZA(),d._UZ(12,"input",9,10),d.qZA(),d._UZ(14,"br")(15,"br")(16,"br")(17,"br"),d.TgZ(18,"div",7)(19,"label",8),d._uU(20,"Valor da Comida"),d.qZA(),d._UZ(21,"input",11,12),d.qZA(),d._UZ(23,"br")(24,"br")(25,"br")(26,"br"),d.TgZ(27,"div",7)(28,"label",13),d._uU(29,"Informe o link da imagem, para representar a Comida"),d.qZA(),d._UZ(30,"input",14,15),d.qZA(),d.TgZ(32,"mat-dialog-actions",16)(33,"button",17),d._uU(34,"Cancelar"),d.qZA(),d.TgZ(35,"button",18),d.NdJ("click",function(){return r.refresh()}),d._uU(36,"Atualizar"),d.qZA()()()()),2&e&&(d.xp6(2),d.Q6J("formGroup",r.myFormGroup),d.xp6(33),d.Q6J("disabled",!r.myFormGroup.valid))},dependencies:[jr,xi,Hr,fe._Y,fe.Fj,fe.wV,fe.JJ,fe.JL,fe.sg,fe.u]}),t})();function aV(t,n){if(1&t&&(d.TgZ(0,"div",17)(1,"h1",18),d._uU(2,"Sacola"),d.qZA(),d.TgZ(3,"h2"),d._uU(4),d.qZA()()),2&t){const e=n.$implicit;d.xp6(4),d.hij("Total: R$ ",e.datas.totalValue.toFixed(2).replace(".",","),"")}}let lV=(()=>{class t{constructor(e,r,s,c){this.dialogDetail=e,this.cdr=r,this.firestore=s,this.authService=c,this.itemMode=!1,this.packageName=[],this.packageNameTest=new Ye.X([]),this.packageValue=[],this.packageImage=[],this.packageAmount=[],this.valueEstatic=[]}ngOnInit(){sessionStorage.setItem("value",JSON.stringify(this.packageSelected.value)),this.index=sessionStorage.getItem("index"),this.sum=0;let e=document.getElementById("bagCard"),r=document.getElementById("addBag"),s=document.getElementById("editFood");"SHfa4hba4RaCMR78REr5mVTlxBD2"==this.authService.userData.uid?(e.style.display="none",r.style.display="none"):s.style.display="none",this.firestore.collection("totalValue").snapshotChanges().subscribe(c=>{this.usersEx=c.map(p=>{let g=p.payload.doc.data();return{id:p.payload.doc.id,datas:g}})}),this.userID=sessionStorage.getItem("index"),this.bagIndex=JSON.parse(sessionStorage.getItem("arrayBagIndex"))}openDialogDetail(){this.dialogDetail.open(oV,{}).afterClosed().subscribe(r=>{this.packageSelected=JSON.parse(sessionStorage.getItem("lunch"))})}removeLunch(){this.packages.splice(this.index,1)}sumPackage(){this.sum=this.sum+this.packageSelected.value;const r={totalValue:this.sum};this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update(r);let s=this.packageSelected.value.toString(),c=this.packageSelected.name,p=this.packageSelected.bagAmount.toString(),g=this.packageSelected.imagePath;this.packageName.push(c),this.valueEstatic.push(s),this.packageValue.push(s),this.packageImage.push(g),this.packageAmount.push(p)}openDialogReview(e){this.dialogDetail.open(ik,{data:{packageName:this.packageName,valueEstatic:this.valueEstatic,packageValue:this.packageValue,packageImage:this.packageImage,packageAmount:this.packageAmount,sum:this.sum}}).afterClosed().subscribe(s=>{this.packageName=s.name,this.packageValue=s.value,this.packageImage=s.image,this.packageAmount=s.amount,this.sum=s.valueTotal,this.valueEstatic=s.valueEstatic}),sessionStorage.setItem("value",JSON.stringify(this.sum))}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Mr),d.Y36(d.sBO),d.Y36(Xe.ST),d.Y36(Kf.e))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch-details"]],inputs:{packageSelected:"packageSelected",packages:"packages"},decls:34,vars:5,consts:[[1,"content"],[1,"row"],[1,"col-12"],[1,"img-responsive",2,"border-radius","20px",3,"src","alt"],[1,"dropdown"],["type","button","aria-expanded","false","aria-haspopup","true","appDropdown","",1,"btn","btn-primary","dropdown-toggle"],[1,"carret"],[1,"dropdown-menu"],["id","editFood",1,"button",2,"margin-left","10px",3,"click"],["id","addBag",1,"button",2,"margin-left","10px",3,"click"],["id","bagCard"],[1,"bag"],["src","../assets/sacolas-de-papel.png","alt","",1,"bagImage"],["fxLayout","column",4,"ngFor","ngForOf"],[1,"review"],["id","review","mat-raised-button","",1,"bagButton",3,"click"],[1,"arrow"],["fxLayout","column"],[1,"bagText"]],template:function(e,r){1&e&&(d.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2)(3,"h1"),d._uU(4),d.qZA()(),d.TgZ(5,"div",1)(6,"div",2)(7,"h2"),d._uU(8),d.qZA()()(),d.TgZ(9,"div",1)(10,"div",2),d._UZ(11,"img",3),d.qZA()()(),d.TgZ(12,"div",1)(13,"div",2)(14,"div",4)(15,"button",5),d._uU(16," Op\xe7\xf5es "),d._UZ(17,"span",6),d.qZA(),d.TgZ(18,"ul",7)(19,"li")(20,"button",8),d.NdJ("click",function(){return r.openDialogDetail()}),d._uU(21,"Editar Comida"),d.qZA()(),d.TgZ(22,"li")(23,"button",9),d.NdJ("click",function(){return r.sumPackage()}),d._uU(24,"Adicionar a Sacola"),d.qZA()()()()()()(),d.TgZ(25,"mat-card",10)(26,"div",11),d._UZ(27,"img",12),d.YNc(28,aV,5,1,"div",13),d.qZA(),d.TgZ(29,"div",14)(30,"button",15),d.NdJ("click",function(){return r.openDialogReview(r.index)}),d._uU(31,"Revisar Itens"),d.TgZ(32,"mat-icon",16),d._uU(33,"keyboard_arrow_right"),d.qZA()()()()),2&e&&(d.xp6(4),d.Oqu(r.packageSelected.name),d.xp6(4),d.Oqu(r.packageSelected.description),d.xp6(3),d.s9C("alt",r.packageSelected.name),d.Q6J("src",r.packageSelected.imagePath,d.LSH),d.xp6(17),d.Q6J("ngForOf",r.usersEx))},dependencies:[Ge.sg,Vc.xw,Wu.Hw,cg.lW,LC,zF],styles:[".button[_ngcontent-%COMP%]{background:none!important;border:none;padding:0!important;font-family:arial,sans-serif;color:#068;text-decoration:underline;cursor:pointer}.img-responsive[_ngcontent-%COMP%]{max-height:250px;max-width:300px;float:center;margin-right:20px}.content[_ngcontent-%COMP%]{border-width:5px;border-style:outset;border-color:#723caf;border-radius:30px;margin-top:120px}.button[_ngcontent-%COMP%]{text-decoration:none}h1[_ngcontent-%COMP%]{color:#000;text-decoration:underline}@media (max-width: 920px){.img-responsive[_ngcontent-%COMP%]{max-width:250px}}.bag[_ngcontent-%COMP%]{display:inline-flex;color:#9b989f}.bagImage[_ngcontent-%COMP%]{width:100px;height:100px}.bagText[_ngcontent-%COMP%]{margin-top:25px;font-size:30px}.review[_ngcontent-%COMP%]{float:right;margin-top:60px}.arrow[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:-1px}.bagButton[_ngcontent-%COMP%]{width:150px;height:30px;font-size:17px;float:left;text-align:center;background-color:#32b5e5;color:#fff;line-height:30px;border-radius:16px;margin-top:35px}#bagCard[_ngcontent-%COMP%]{border-width:5px;border-style:outset;border-color:#723caf;border-radius:30px;margin-top:20px}.dropdown[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();function cV(t,n){if(1&t&&d._UZ(0,"app-lunch-details",5),2&t){const e=d.oxw();d.Q6J("packageSelected",e.selectedPackage)("packages",e.selectedPackage)}}let uV=(()=>{class t{constructor(e){this.firestore=e,this.indexs=[]}ngOnInit(){this.firestore.doc("totalValue/nXyj42BTIeH77zNJAun7").update({totalValue:0})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-lunch"]],decls:5,vars:1,consts:[["id","row",1,"row"],[1,"col-md-5"],[3,"packageWasSelected"],["id","info",1,"col-md-7",2,"display","block"],[3,"packageSelected","packages",4,"ngIf"],[3,"packageSelected","packages"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"div",1)(2,"app-lunch-list",2),d.NdJ("packageWasSelected",function(c){return r.selectedPackage=c}),d.qZA()(),d.TgZ(3,"div",3),d.YNc(4,cV,1,2,"app-lunch-details",4),d.qZA()()),2&e&&(d.xp6(4),d.Q6J("ngIf",r.selectedPackage))},dependencies:[Ge.O5,qx,lV],styles:[".load[_ngcontent-%COMP%]{animation:is-rotating 1s infinite;border:6px solid #d4cfdd;border-radius:50%;border-top-color:#32b5e5;height:180px;width:180px;text-align:center;margin-top:190px}@keyframes is-rotating{to{transform:rotate(1turn)}}@media (max-width: 500px){.load[_ngcontent-%COMP%]{height:100px;width:100px;margin-left:140px}}@media (width: 540px){.load[_ngcontent-%COMP%]{height:100px;width:100px;margin-left:230px}}"]}),t})();function dV(t,n){1&t&&(d.TgZ(0,"mat-icon",19),d._uU(1," fastfood"),d.qZA())}function hV(t,n){1&t&&(d.TgZ(0,"mat-icon",20),d._uU(1," list_alt"),d.qZA())}function fV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"mat-icon",8),d.NdJ("click",function(){d.CHM(e);const s=d.oxw();return d.KtG(s.openDialogDetail())}),d._uU(1," local_grocery_store"),d.qZA()}}function pV(t,n){1&t&&(d.TgZ(0,"mat-icon",21),d._uU(1," restaurant_menu"),d.qZA())}function gV(t,n){1&t&&d._UZ(0,"app-lunch")}function mV(t,n){1&t&&d._UZ(0,"app-food-list")}let _V=(()=>{class t{constructor(e,r,s){this.authService=e,this.dialogDetail=r,this.firestore=s,this.cartMode=!1,this.indexs=[],this.loadedFeature="lunch"}ngOnInit(){this.cartMode="SHfa4hba4RaCMR78REr5mVTlxBD2"!==JSON.parse(localStorage.getItem("user")).uid}onNavigate(e){this.loadedFeature=e}openDialog(){this.dialogDetail.open(j6,{})}reload(){location.reload()}openDialogDetail(){this.dialogDetail.open(ik,{})}openDialogError(){this.dialogDetail.open(q6,{})}restart(){}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Kf.e),d.Y36(Mr),d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-dashboard"]],decls:31,vars:6,consts:[["fxLayoutAlign","space-between center"],[1,"title"],["href","javascript:void(0)",1,"navbar-brand"],[1,"toolybar"],[3,"featureSelected"],["fxLayout","row"],["mode","side","opened","","fxLayout","column","fxLayoutAlign","start start",1,"col"],[1,"icon"],[3,"click"],["routerLink","/dashboard",4,"ngIf"],["routerLink","/to-do-list",4,"ngIf"],[3,"click",4,"ngIf"],["routerLink","/request",4,"ngIf"],["src","../assets/envolti.png","alt","",1,"footer"],[1,"container"],[1,"row"],[1,"col-12"],[1,"lunch"],[4,"ngIf"],["routerLink","/dashboard"],["routerLink","/to-do-list"],["routerLink","/request"]],template:function(e,r){1&e&&(d.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"a",2),d._uU(3,"Restaurante Envolti "),d.qZA()(),d.TgZ(4,"div",3)(5,"app-header",4),d.NdJ("featureSelected",function(c){return r.onNavigate(c)}),d.qZA()()(),d.TgZ(6,"div",5)(7,"mat-sidenav",6)(8,"div",7)(9,"mat-icon",8),d.NdJ("click",function(){return r.openDialog()}),d._uU(10,"perm_identity"),d.qZA()(),d.TgZ(11,"div",7)(12,"mat-icon",8),d.NdJ("click",function(){return r.reload()}),d._uU(13,"home"),d.qZA()(),d.TgZ(14,"div",7),d.YNc(15,dV,2,0,"mat-icon",9),d.YNc(16,hV,2,0,"mat-icon",10),d.qZA(),d.TgZ(17,"div",7),d.YNc(18,fV,2,0,"mat-icon",11),d.YNc(19,pV,2,0,"mat-icon",12),d.qZA(),d.TgZ(20,"div",7)(21,"mat-icon",8),d.NdJ("click",function(){return r.openDialogError()}),d._uU(22,"report_problem"),d.qZA()(),d.TgZ(23,"footer"),d._UZ(24,"img",13),d.qZA()(),d.TgZ(25,"div",14)(26,"div",15)(27,"div",16)(28,"div",17),d.YNc(29,gV,1,0,"app-lunch",18),d.YNc(30,mV,1,0,"app-food-list",18),d.qZA()()()()()),2&e&&(d.xp6(15),d.Q6J("ngIf",!0===r.cartMode),d.xp6(1),d.Q6J("ngIf",!1===r.cartMode),d.xp6(2),d.Q6J("ngIf",!0===r.cartMode),d.xp6(1),d.Q6J("ngIf",!1===r.cartMode),d.xp6(10),d.Q6J("ngIf","lunch"==r.loadedFeature),d.xp6(1),d.Q6J("ngIf","food-list"==r.loadedFeature))},dependencies:[Ge.O5,Vc.xw,Vc.Wh,Wu.Hw,gP,kt.rH,sV,Yx,uV],styles:["mat-toolbar[_ngcontent-%COMP%]{height:64px;background:#32b5e5;color:#fff}.header[_ngcontent-%COMP%]{width:128px}.title[_ngcontent-%COMP%]{font-size:30px;text-align:center}.lunch[_ngcontent-%COMP%]{overflow:auto;height:100%;max-height:800px}@media (max-width: 700px){.header[_ngcontent-%COMP%]{width:88px}.title[_ngcontent-%COMP%]{font-size:23px}}@media (max-width: 350px){.title[_ngcontent-%COMP%]{font-size:15px}.header[_ngcontent-%COMP%]{width:60px}}.col[_ngcontent-%COMP%]{width:100%;max-width:100px;background-color:#5c068c}@media (min-height: 800px){.col[_ngcontent-%COMP%]{height:100vh}}mat-icon[_ngcontent-%COMP%]{font-size:40px;height:50px;width:50px;color:#fff;cursor:pointer;margin-top:5px}.icon[_ngcontent-%COMP%]{background-color:#32b5e5;border-radius:50%;width:50px;height:50px;margin:20px 20px 30px;text-align:center}.footer[_ngcontent-%COMP%]{margin:10px;width:80px;bottom:0}"]}),t})(),yS=(()=>{class t{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["sign-in"]),!0}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(Kf.e),d.LFG(kt.F0))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var vV=M(4784);const yV=["task"],xV=function(t){return{textDecoration:t}};function wV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"span",9)(1,"h3",10),d._uU(2),d.qZA(),d.TgZ(3,"div")(4,"button",11)(5,"mat-icon",12),d.NdJ("click",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.deleteTask(c.id))}),d._uU(6,"delete"),d.qZA()(),d.TgZ(7,"button",11)(8,"mat-icon",13),d.NdJ("click",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.checkTask(c.id))}),d._uU(9,"check"),d.qZA()()()()}if(2&t){const e=n.$implicit;d.xp6(1),d.Q6J("ngStyle",d.VKq(2,xV,e.datas.isChecked?"line-through":"none")),d.xp6(1),d.Oqu(e.datas.taskValue)}}const bV=["select"];function CV(t,n){if(1&t&&(d.TgZ(0,"tr")(1,"td",18),d._uU(2),d.qZA(),d.TgZ(3,"td",18),d._uU(4),d.qZA(),d.TgZ(5,"td",18),d._uU(6),d.qZA()()),2&t){const e=n.$implicit,r=n.index,s=d.oxw().$implicit,c=d.oxw();d.xp6(2),d.Oqu(e.replaceAll('"',"")),d.xp6(2),d.Oqu(s.datas.bagAmountAdm[r]),d.xp6(2),d.hij("R$ ",c.convert(s.datas.valueAdm[r]),"")}}function DV(t,n){if(1&t){const e=d.EpF();d.TgZ(0,"tr")(1,"td",6)(2,"mat-icon",7),d.NdJ("click",function(){const c=d.CHM(e).$implicit,p=d.oxw();return d.KtG(p.rotate(c.id))}),d._uU(3,"expand_more"),d.qZA(),d._uU(4),d.TgZ(5,"div",8)(6,"table",9)(7,"thead")(8,"tr")(9,"th",3),d._uU(10,"Alimento"),d.qZA(),d.TgZ(11,"th",3),d._uU(12,"Quantidade"),d.qZA(),d.TgZ(13,"th",3),d._uU(14,"Valor"),d.qZA()()(),d.TgZ(15,"tbody",10),d.YNc(16,CV,7,3,"tr",4),d.qZA(),d.TgZ(17,"table",11)(18,"thead")(19,"tr")(20,"th"),d._uU(21,"Valor Total:"),d.qZA(),d.TgZ(22,"td"),d._uU(23),d.qZA()()()()()()(),d.TgZ(24,"td",12),d._uU(25),d.qZA(),d.TgZ(26,"td",13)(27,"div",14)(28,"mat-form-field")(29,"mat-select",15,16),d.NdJ("valueChange",function(s){const p=d.CHM(e).$implicit;return d.KtG(p.datas.status=s)})("selectionChange",function(s){const p=d.CHM(e).$implicit,g=d.oxw();return d.KtG(g.valueCheck(s,p.id))}),d.TgZ(31,"mat-option",17),d._uU(32," Pedido Realizado "),d.qZA(),d.TgZ(33,"mat-option",17),d._uU(34," Preparando "),d.qZA(),d.TgZ(35,"mat-option",17),d._uU(36," Entregue "),d.qZA()()()()()()}if(2&t){const e=n.$implicit,r=d.oxw();d.xp6(4),d.hij("",e.id," "),d.xp6(1),d.s9C("id",e.id),d.xp6(11),d.Q6J("ngForOf",e.datas.nameAdm),d.xp6(7),d.hij("R$ ",r.convert(e.datas.finalValueAdm),""),d.xp6(2),d.Oqu(e.datas.dateAndHour),d.xp6(4),d.Q6J("value",e.datas.status),d.xp6(2),d.Q6J("value",1),d.xp6(2),d.Q6J("value",2),d.xp6(2),d.Q6J("value",3)}}const SV=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",loadChildren:()=>M.e(777).then(M.bind(M,6777)).then(t=>t.SignInModule)},{path:"register-user",loadChildren:()=>M.e(870).then(M.bind(M,8870)).then(t=>t.SignUpModule)},{path:"dashboard",component:_V,canActivate:[yS]},{path:"forgot-password",loadChildren:()=>M.e(237).then(M.bind(M,5237)).then(t=>t.ForgotPasswordModule)},{path:"verify-email-adress",loadChildren:()=>M.e(125).then(M.bind(M,2125)).then(t=>t.VerifyEmailModule)},{path:"loader",loadChildren:()=>Promise.resolve().then(M.bind(M,1737)).then(t=>t.LoaderModule)},{path:"review",component:ik,canActivate:[yS]},{path:"to-do-list",component:(()=>{class t{constructor(e,r,s){this.formBuilder=e,this.firestore=r,this.snackBar=s,this.checked=!1,this.horizontalPosition="center",this.verticalPosition="bottom",this.durationInSeconds=3,this.myFormGroup=this.formBuilder.group({task:["",fe.kI.required],checked:["false",fe.kI.required]})}ngOnInit(){var e=this;this.firestore.collection("to-do-list").snapshotChanges().subscribe(function(){var r=(0,st.Z)(function*(s){e.taskList=s.map(c=>({id:c.payload.doc.id,datas:c.payload.doc.data()}))});return function(s){return r.apply(this,arguments)}}())}addTask(){if(""==this.task.nativeElement.value)this.snackBar.open("Por favor, informe a tarefa!","Fechar",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds});else{const s={taskValue:this.task.nativeElement.value,isChecked:this.checked};this.firestore.collection("to-do-list").add(s),this.myFormGroup.reset()}}checkTask(e){0==this.checked?(this.checked=!0,this.firestore.doc("to-do-list/"+e).update({isChecked:!0})):(this.checked=!1,this.firestore.doc("to-do-list/"+e).update({isChecked:!1}))}deleteTask(e){this.firestore.doc("to-do-list/"+e).delete()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(fe.qu),d.Y36(Xe.ST),d.Y36(lg.ux))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-to-do-list"]],viewQuery:function(e,r){if(1&e&&d.Gf(yV,5),2&e){let s;d.iGM(s=d.CRH())&&(r.task=s.first)}},decls:13,vars:2,consts:[["fxLayout","column","fxLayoutAlign","space-between center",1,"container"],[3,"formGroup"],["type","text","id","task","placeholder","Digite sua tarefa","formControlName","task"],["task",""],["type","submit","id","submit","value","Adicionar",3,"click"],["id","taskValue",1,"list-group"],["class","list-group-item","fxLayout","row","fxLayoutAlign","space-between center","id","span",4,"ngFor","ngForOf"],[1,"icon"],["routerLink","/dashboard",1,"home",2,"cursor","pointer"],["fxLayout","row","fxLayoutAlign","space-between center","id","span",1,"list-group-item"],[2,"margin-top","10px",3,"ngStyle"],["mat-button","",2,"float","right"],["id","delete",3,"click"],["id","check",3,"click"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"LISTA DE TAREFAS"),d.qZA(),d.TgZ(3,"form",1),d._UZ(4,"input",2,3),d.TgZ(6,"input",4),d.NdJ("click",function(){return r.addTask()}),d.qZA()(),d.TgZ(7,"ul",5),d.YNc(8,wV,10,4,"span",6),d.qZA(),d.TgZ(9,"footer")(10,"div",7)(11,"mat-icon",8),d._uU(12,"home"),d.qZA()()()()),2&e&&(d.xp6(3),d.Q6J("formGroup",r.myFormGroup),d.xp6(5),d.Q6J("ngForOf",r.taskList))},dependencies:[Ge.sg,Ge.PC,fe._Y,fe.Fj,fe.JJ,fe.JL,fe.sg,fe.u,Vc.xw,Vc.Wh,vV.Zl,Wu.Hw,cg.lW,kt.rH],styles:["#submit[_ngcontent-%COMP%]{margin-left:10px;width:112px;height:50px;border-radius:10px;border-color:#000;border-style:solid;font-weight:500;font-size:16px;line-height:24px}h1[_ngcontent-%COMP%]{color:#723caf;font-weight:600;font-size:48px;line-height:72px;margin-bottom:20px}.mat-icon[_ngcontent-%COMP%]{color:#723caf;height:24px;width:24px;background-repeat:no-repeat;fill:currentColor;display:inline-block}#delete[_ngcontent-%COMP%]:hover{color:red}#check[_ngcontent-%COMP%]:hover{color:#adff2f}.list-group[_ngcontent-%COMP%]{width:50%}.list-group-item[_ngcontent-%COMP%]{border-radius:20px;margin-top:10px}#task[_ngcontent-%COMP%]{width:224px;height:50px;border-radius:10px;border-color:#000;border-style:solid;padding:8px 24px;font-weight:500;font-size:16px;line-height:24px}footer[_ngcontent-%COMP%]{position:fixed;bottom:10px}mat-icon[_ngcontent-%COMP%]{font-size:28px}form[_ngcontent-%COMP%]{margin-bottom:10px}"]}),t})(),canActivate:[yS]},{path:"request",component:(()=>{class t{constructor(e){this.firestore=e,this.select="",this.selected=1}ngOnInit(){var e=this;this.firestore.collection("requests").snapshotChanges().subscribe(function(){var r=(0,st.Z)(function*(s){e.requestList=s.map(c=>({id:c.payload.doc.id,datas:c.payload.doc.data()}))});return function(s){return r.apply(this,arguments)}}())}convert(e){return Number(e).toFixed(2).replace(".",",")}convert2(e){return Number(e).toFixed(2).replace(".",",")}valueCheck(e,r){this.select=e.value,(1==this.select||2==this.select||3==this.select)&&this.firestore.doc("requests/"+r).update({status:this.select})}rotate(e){let r=document.getElementById(e);r.style.display="block"==r.style.display?"none":"block"}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(Xe.ST))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-payment-form"]],viewQuery:function(e,r){if(1&e&&d.Gf(bV,5),2&e){let s;d.iGM(s=d.CRH())&&(r.selectOption=s.first)}},decls:15,vars:1,consts:[["fxLayout","column","fxLayoutAlign","space-around center",1,"container"],[1,"table","table-striped","table-bordered"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["routerLink","/dashboard",2,"color","black"],["scope","row",1,"caret"],["id","arrowDown",3,"click"],[2,"display","none",3,"id"],[1,"table","table-light"],[1,"tbody"],[1,"table","table-light","table-bordered"],["scope","row",1,"date"],["scope","row",1,"td"],[1,"select"],[3,"value","valueChange","selectionChange"],["select",""],[3,"value"],["scope","row"]],template:function(e,r){1&e&&(d.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr")(4,"th",3),d._uU(5,"Pedido"),d.qZA(),d.TgZ(6,"th",3),d._uU(7,"Realizado em"),d.qZA(),d.TgZ(8,"th",3),d._uU(9,"Status"),d.qZA()()(),d.TgZ(10,"tbody"),d.YNc(11,DV,37,9,"tr",4),d.qZA()(),d.TgZ(12,"footer")(13,"mat-icon",5),d._uU(14,"arrow_back"),d.qZA()()()),2&e&&(d.xp6(11),d.Q6J("ngForOf",r.requestList))},dependencies:[Ge.sg,Vc.xw,Vc.Wh,Wu.Hw,RA,u2,Pe.ey,kt.rH],styles:['table[_ngcontent-%COMP%]{width:100%;max-height:100vh}mat-select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;outline:0;box-shadow:none;border:0!important;background:#5c6664;background-image:none;flex:1;padding:0 .5em;color:#fff;cursor:pointer;font-size:1em;font-family:Open Sans,sans-serif}mat-select[_ngcontent-%COMP%]::-ms-expand{display:none}mat-select[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;height:3em;line-height:3;background:rgb(228,225,225);overflow:hidden;border-radius:.25em;align-items:center}mat-select[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;top:0;right:0;padding:.3em;background:#2b2e2e;cursor:pointer;pointer-events:none;transition:.25s all ease}mat-select[_ngcontent-%COMP%]:hover:after{color:#723caf}  .mat-form-field-appearance-legacy .mat-form-field-underline{background-color:transparent!important}footer[_ngcontent-%COMP%]{bottom:10px;cursor:pointer}#arrowDown[_ngcontent-%COMP%]{padding-top:5px;cursor:pointer;color:#2b2e2e}#arrowUp[_ngcontent-%COMP%]{cursor:pointer;color:#fff;transform:rotate(180deg);padding:0}.date[_ngcontent-%COMP%]{padding-top:15px}.tbody[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{margin-bottom:15px}']}),t})(),canActivate:[yS]}];let TV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[kt.Bz.forRoot(SV),kt.Bz]}),t})();M(576);let HV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[Db.Cl]}),t})(),iU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[HV,Pe.BQ,Pe.BQ]}),t})(),uU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({}),t})(),vU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[uU,Pe.BQ,Pe.BQ]}),t})();var yU=M(1737);let xU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t,bootstrap:[Rt]}),t.\u0275inj=d.cJS({providers:[Kf.e,ZE],imports:[_.b2,Yt,fe.u5,fe.UX,Ge.ez,_P.o9,Cb,Wu.Ps,cg.ot,mP,AM,AM,VT,lg.ZX,SD,A2,I2,gg.hO.initializeApp(oF_firebase),K3,Xe.yb,V6,U6.rP,vg.ww,TM,eV,TV,iU,yU.LoaderModule,vU]}),t})();d.B6R(Yx,function(){return[Ge.sg,Ge.O5,fe.Fj,fe.JJ,fe.On,Vc.xw,Vc.Wh,Wu.Hw,cg.lW,RA,UP,MM,FC]},function(){return[RM]}),d.B6R(qx,function(){return[Ge.sg,Ge.O5,fe.Fj,fe.JJ,fe.On,Vc.xw,Wu.Hw,RA,VP,MM,BC]},function(){return[RM]}),(0,d.G48)(),_.q6().bootstrapModule(xU).catch(t=>console.error(t))},5867:(Zn,St,M)=>{M.d(St,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=M(9681);(0,_.registerVersion)("firebase","9.9.2","app")},127:(Zn,St,M)=>{M.d(St,{Z:()=>_.Z});var _=M(3942);_.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(Zn,St,M)=>{M.r(St);var _=M(5861),d=M(3942),H=M(6457),ge=M(2090),Ge=(M(9681),M(1877),M(4859));function Oe(){return window}function xe(){return(xe=(0,_.Z)(function*(de,ke,ve){var tt;const{BuildInfo:Tt}=Oe();(0,H.aq)(ke.sessionId,"AuthEvent did not contain a session ID");const Ut=yield At(ke.sessionId),Fn={};return(0,H.ar)()?Fn.ibi=Tt.packageName:(0,H.as)()?Fn.apn=Tt.packageName:(0,H.at)(de,"operation-not-supported-in-this-environment"),Tt.displayName&&(Fn.appDisplayName=Tt.displayName),Fn.sessionId=Ut,(0,H.au)(de,ve,ke.type,void 0,null!==(tt=ke.eventId)&&void 0!==tt?tt:void 0,Fn)})).apply(this,arguments)}function pt(){return(pt=(0,_.Z)(function*(de){const{BuildInfo:ke}=Oe(),ve={};(0,H.ar)()?ve.iosBundleId=ke.packageName:(0,H.as)()?ve.androidPackageName=ke.packageName:(0,H.at)(de,"operation-not-supported-in-this-environment"),yield(0,H.av)(de,ve)})).apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(de,ke,ve){const{cordova:tt}=Oe();let Tt=()=>{};try{yield new Promise((Ut,Fn)=>{let Nn=null;function bt(){var ce;Ut();const le=null===(ce=tt.plugins.browsertab)||void 0===ce?void 0:ce.close;"function"==typeof le&&le(),"function"==typeof ve?.close&&ve.close()}function ut(){Nn||(Nn=window.setTimeout(()=>{Fn((0,H.aw)(de,"redirect-cancelled-by-user"))},2e3))}function _e(){"visible"===document?.visibilityState&&ut()}ke.addPassiveListener(bt),document.addEventListener("resume",ut,!1),(0,H.as)()&&document.addEventListener("visibilitychange",_e,!1),Tt=()=>{ke.removePassiveListener(bt),document.removeEventListener("resume",ut,!1),document.removeEventListener("visibilitychange",_e,!1),Nn&&window.clearTimeout(Nn)}})}finally{Tt()}})).apply(this,arguments)}function At(de){return en.apply(this,arguments)}function en(){return(en=(0,_.Z)(function*(de){const ke=gn(de),ve=yield crypto.subtle.digest("SHA-256",ke);return Array.from(new Uint8Array(ve)).map(Tt=>Tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gn(de){if((0,H.aq)(/[0-9a-zA-Z]+/.test(de),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(de);const ke=new ArrayBuffer(de.length),ve=new Uint8Array(ke);for(let tt=0;tt<de.length;tt++)ve[tt]=de.charCodeAt(tt);return ve}class Ue extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ke=>{this.resolveInialized=ke})}addPassiveListener(ke){this.passiveListeners.add(ke)}removePassiveListener(ke){this.passiveListeners.delete(ke)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ke){return this.resolveInialized(),this.passiveListeners.forEach(ve=>ve(ke)),super.onEvent(ke)}initialized(){var ke=this;return(0,_.Z)(function*(){yield ke.initPromise})()}}function ze(de){return nt.apply(this,arguments)}function nt(){return(nt=(0,_.Z)(function*(de){const ke=yield ae()._get(_t(de));return ke&&(yield ae()._remove(_t(de))),ke})).apply(this,arguments)}function Pe(){const de=[],ke="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ve=0;ve<20;ve++){const tt=Math.floor(Math.random()*ke.length);de.push(ke.charAt(tt))}return de.join("")}function ae(){return(0,H.ay)(H.b)}function _t(de){return(0,H.az)("authEvent",de.config.apiKey,de.name)}function Gt(de){if(!de?.includes("?"))return{};const[ke,...ve]=de.split("?");return(0,ge.zd)(ve.join("?"))}function sn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function mn(){var de;return(null===(de=self?.location)||void 0===de?void 0:de.protocol)||null}function An(de=(0,ge.z$)()){return!("file:"!==mn()&&"ionic:"!==mn()&&"capacitor:"!==mn()||!de.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mr(){try{const de=self.localStorage,ke=H.aI();if(de)return de.setItem(ke,"1"),de.removeItem(ke),!function ui(de=(0,ge.z$)()){return function dr(){return(0,ge.w1)()&&11===document?.documentMode}()||function Lr(de=(0,ge.z$)()){return/Edge\/\d+/.test(de)}(de)}()||(0,ge.hl)()}catch{return di()&&(0,ge.hl)()}return!1}function di(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jr(){return(function Wt(){return"http:"===mn()||"https:"===mn()}()||(0,ge.ru)()||An())&&!function Kn(){return(0,ge.b$)()||(0,ge.UG)()}()&&Mr()&&!di()}function xi(){return An()&&typeof document<"u"}function Hr(){return(Hr=(0,_.Z)(function*(){return!!xi()&&new Promise(de=>{const ke=setTimeout(()=>{de(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ke),de(!0)})})})).apply(this,arguments)}const Yt={LOCAL:"local",NONE:"none",SESSION:"session"},fe=H.ax,Xe="persistence";function tn(de){return pn.apply(this,arguments)}function pn(){return(pn=(0,_.Z)(function*(de){yield de._initializationPromise;const ke=Rt(),ve=H.az(Xe,de.config.apiKey,de.name);ke&&ke.setItem(ve,de._getPersistence())})).apply(this,arguments)}function Rt(){var de;try{return(null===(de=function hi(){return typeof window<"u"?window:null}())||void 0===de?void 0:de.sessionStorage)||null}catch{return null}}const st=H.ax;class Ye{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Pn{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ke){var ve=this;return(0,_.Z)(function*(){const tt=ke._key();let Tt=ve.eventManagers.get(tt);return Tt||(Tt=new Ue(ke),ve.eventManagers.set(tt,Tt),ve.attachCallbackListeners(ke,Tt)),Tt})()}_openPopup(ke){(0,H.at)(ke,"operation-not-supported-in-this-environment")}_openRedirect(ke,ve,tt,Tt){var Ut=this;return(0,_.Z)(function*(){!function Ft(de){var ke,ve,tt,Tt,Ut,Fn,Nn,bt,ut,_e;const ce=Oe();(0,H.ax)("function"==typeof(null===(ke=ce?.universalLinks)||void 0===ke?void 0:ke.subscribe),de,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(ve=ce?.BuildInfo)||void 0===ve?void 0:ve.packageName)<"u",de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(Ut=null===(Tt=null===(tt=ce?.cordova)||void 0===tt?void 0:tt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===Ut?void 0:Ut.openUrl),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(bt=null===(Nn=null===(Fn=ce?.cordova)||void 0===Fn?void 0:Fn.plugins)||void 0===Nn?void 0:Nn.browsertab)||void 0===bt?void 0:bt.isAvailable),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(_e=null===(ut=ce?.cordova)||void 0===ut?void 0:ut.InAppBrowser)||void 0===_e?void 0:_e.open),de,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ke);const Fn=yield Ut._initialize(ke);yield Fn.initialized(),Fn.resetRedirect(),(0,H.aD)(),yield Ut._originValidation(ke);const Nn=function Ve(de,ke,ve=null){return{type:ke,eventId:ve,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:de.tenantId,error:(0,H.aw)(de,"no-auth-event")}}(ke,tt,Tt);yield function at(de,ke){return ae()._set(_t(de),ke)}(ke,Nn);const bt=yield function Ce(de,ke,ve){return xe.apply(this,arguments)}(ke,Nn,ve),ut=yield function Et(de){const{cordova:ke}=Oe();return new Promise(ve=>{ke.plugins.browsertab.isAvailable(tt=>{let Tt=null;tt?ke.plugins.browsertab.openUrl(de):Tt=ke.InAppBrowser.open(de,(0,H.ap)()?"_blank":"_system","location=yes"),ve(Tt)})})}(bt);return function ct(de,ke,ve){return jt.apply(this,arguments)}(ke,Fn,ut)})()}_isIframeWebStorageSupported(ke,ve){throw new Error("Method not implemented.")}_originValidation(ke){const ve=ke._key();return this.originValidationPromises[ve]||(this.originValidationPromises[ve]=function Fe(de){return pt.apply(this,arguments)}(ke)),this.originValidationPromises[ve]}attachCallbackListeners(ke,ve){const{universalLinks:tt,handleOpenURL:Tt,BuildInfo:Ut}=Oe(),Fn=setTimeout((0,_.Z)(function*(){yield ze(ke),ve.onEvent(sn())}),500),Nn=function(){var _e=(0,_.Z)(function*(ce){clearTimeout(Fn);const le=yield ze(ke);let dt=null;le&&ce?.url&&(dt=function Qe(de,ke){var ve,tt;const Tt=function Je(de){const ke=Gt(de),ve=ke.link?decodeURIComponent(ke.link):void 0,tt=Gt(ve).link,Tt=ke.deep_link_id?decodeURIComponent(ke.deep_link_id):void 0;return Gt(Tt).link||Tt||tt||ve||de}(ke);if(Tt.includes("/__/auth/callback")){const Ut=Gt(Tt),Fn=Ut.firebaseError?function Ne(de){try{return JSON.parse(de)}catch{return null}}(decodeURIComponent(Ut.firebaseError)):null,Nn=null===(tt=null===(ve=Fn?.code)||void 0===ve?void 0:ve.split("auth/"))||void 0===tt?void 0:tt[1],bt=Nn?(0,H.aw)(Nn):null;return bt?{type:de.type,eventId:de.eventId,tenantId:de.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:de.type,eventId:de.eventId,tenantId:de.tenantId,sessionId:de.sessionId,urlResponse:Tt,postBody:null}}return null}(le,ce.url)),ve.onEvent(dt||sn())});return function(le){return _e.apply(this,arguments)}}();typeof tt<"u"&&"function"==typeof tt.subscribe&&tt.subscribe(null,Nn);const bt=Tt,ut=`${Ut.packageName.toLowerCase()}://`;Oe().handleOpenURL=function(){var _e=(0,_.Z)(function*(ce){if(ce.toLowerCase().startsWith(ut)&&Nn({url:ce}),"function"==typeof bt)try{bt(ce)}catch(le){console.error(le)}});return function(ce){return _e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(ke){var ve=this;return(0,_.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._initialize(ke)})()}_openPopup(ke,ve,tt,Tt){var Ut=this;return(0,_.Z)(function*(){return yield Ut.selectUnderlyingResolver(),Ut.assertedUnderlyingResolver._openPopup(ke,ve,tt,Tt)})()}_openRedirect(ke,ve,tt,Tt){var Ut=this;return(0,_.Z)(function*(){return yield Ut.selectUnderlyingResolver(),Ut.assertedUnderlyingResolver._openRedirect(ke,ve,tt,Tt)})()}_isIframeWebStorageSupported(ke,ve){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ke,ve)}_originValidation(ke){return this.assertedUnderlyingResolver._originValidation(ke)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return st(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ke=this;return(0,_.Z)(function*(){if(ke.underlyingResolver)return;const ve=yield function mr(){return Hr.apply(this,arguments)}();ke.underlyingResolver=ve?ke.cordovaResolver:ke.browserResolver})()}}function Ht(de){return de.unwrap()}function Dn(de){return Xt(de)}function Xt(de){const{_tokenResponse:ke}=de instanceof ge.ZR?de.customData:de;if(!ke)return null;if(!(de instanceof ge.ZR)&&"temporaryProof"in ke&&"phoneNumber"in ke)return H.P.credentialFromResult(de);const ve=ke.providerId;if(!ve||ve===H.o.PASSWORD)return null;let tt;switch(ve){case H.o.GOOGLE:tt=H.Q;break;case H.o.FACEBOOK:tt=H.N;break;case H.o.GITHUB:tt=H.T;break;case H.o.TWITTER:tt=H.W;break;default:const{oauthIdToken:Tt,oauthAccessToken:Ut,oauthTokenSecret:Fn,pendingToken:Nn,nonce:bt}=ke;return Ut||Fn||Tt||Nn?Nn?ve.startsWith("saml.")?H.aL._create(ve,Nn):H.J._fromParams({providerId:ve,signInMethod:ve,pendingToken:Nn,idToken:Tt,accessToken:Ut}):new H.U(ve).credential({idToken:Tt,accessToken:Ut,rawNonce:bt}):null}return de instanceof ge.ZR?tt.credentialFromError(de):tt.credentialFromResult(de)}function gt(de,ke){return ke.catch(ve=>{throw ve instanceof ge.ZR&&function vr(de,ke){var ve,tt;const Tt=null===(ve=ke.customData)||void 0===ve?void 0:ve._tokenResponse;if("auth/multi-factor-auth-required"===(null===(tt=ke)||void 0===tt?void 0:tt.code))ke.resolver=new V(de,H.an(de,ke));else if(Tt){const Ut=Xt(ke),Fn=ke;Ut&&(Fn.credential=Ut,Fn.tenantId=Tt.tenantId||void 0,Fn.email=Tt.email||void 0,Fn.phoneNumber=Tt.phoneNumber||void 0)}}(de,ve),ve}).then(ve=>{const Tt=ve.user;return{operationType:ve.operationType,credential:Dn(ve),additionalUserInfo:H.al(ve),user:ne.getOrCreate(Tt)}})}function Ke(de,ke){return Y.apply(this,arguments)}function Y(){return(Y=(0,_.Z)(function*(de,ke){const ve=yield ke;return{verificationId:ve.verificationId,confirm:tt=>gt(de,ve.confirm(tt))}})).apply(this,arguments)}class V{constructor(ke,ve){this.resolver=ve,this.auth=function vn(de){return de.wrapped()}(ke)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ke){return gt(Ht(this.auth),this.resolver.resolveSignIn(ke))}}class ne{constructor(ke){this._delegate=ke,this.multiFactor=H.ao(ke)}static getOrCreate(ke){return ne.USER_MAP.has(ke)||ne.USER_MAP.set(ke,new ne(ke)),ne.USER_MAP.get(ke)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ke){return this._delegate.getIdTokenResult(ke)}getIdToken(ke){return this._delegate.getIdToken(ke)}linkAndRetrieveDataWithCredential(ke){return this.linkWithCredential(ke)}linkWithCredential(ke){var ve=this;return(0,_.Z)(function*(){return gt(ve.auth,H.Z(ve._delegate,ke))})()}linkWithPhoneNumber(ke,ve){var tt=this;return(0,_.Z)(function*(){return Ke(tt.auth,H.l(tt._delegate,ke,ve))})()}linkWithPopup(ke){var ve=this;return(0,_.Z)(function*(){return gt(ve.auth,H.d(ve._delegate,ke,Ye))})()}linkWithRedirect(ke){var ve=this;return(0,_.Z)(function*(){return yield tn(H.aE(ve.auth)),H.g(ve._delegate,ke,Ye)})()}reauthenticateAndRetrieveDataWithCredential(ke){return this.reauthenticateWithCredential(ke)}reauthenticateWithCredential(ke){var ve=this;return(0,_.Z)(function*(){return gt(ve.auth,H._(ve._delegate,ke))})()}reauthenticateWithPhoneNumber(ke,ve){return Ke(this.auth,H.r(this._delegate,ke,ve))}reauthenticateWithPopup(ke){return gt(this.auth,H.e(this._delegate,ke,Ye))}reauthenticateWithRedirect(ke){var ve=this;return(0,_.Z)(function*(){return yield tn(H.aE(ve.auth)),H.h(ve._delegate,ke,Ye)})()}sendEmailVerification(ke){return H.ab(this._delegate,ke)}unlink(ke){var ve=this;return(0,_.Z)(function*(){return yield H.ak(ve._delegate,ke),ve})()}updateEmail(ke){return H.ag(this._delegate,ke)}updatePassword(ke){return H.ah(this._delegate,ke)}updatePhoneNumber(ke){return H.u(this._delegate,ke)}updateProfile(ke){return H.af(this._delegate,ke)}verifyBeforeUpdateEmail(ke,ve){return H.ac(this._delegate,ke,ve)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ne.USER_MAP=new WeakMap;const pe=H.ax;let ue=(()=>{class de{constructor(ve,tt){if(this.app=ve,tt.isInitialized())return this._delegate=tt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Tt}=ve.options;pe(Tt,"invalid-api-key",{appName:ve.name}),pe(Tt,"invalid-api-key",{appName:ve.name});const Ut=typeof window<"u"?Ye:void 0;this._delegate=tt.initialize({options:{persistence:be(Tt,ve.name),popupRedirectResolver:Ut}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ve){this._delegate.languageCode=ve}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ve){this._delegate.tenantId=ve}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ve,tt){H.G(this._delegate,ve,tt)}applyActionCode(ve){return H.a2(this._delegate,ve)}checkActionCode(ve){return H.a3(this._delegate,ve)}confirmPasswordReset(ve,tt){return H.a1(this._delegate,ve,tt)}createUserWithEmailAndPassword(ve,tt){var Tt=this;return(0,_.Z)(function*(){return gt(Tt._delegate,H.a5(Tt._delegate,ve,tt))})()}fetchProvidersForEmail(ve){return this.fetchSignInMethodsForEmail(ve)}fetchSignInMethodsForEmail(ve){return H.aa(this._delegate,ve)}isSignInWithEmailLink(ve){return H.a8(this._delegate,ve)}getRedirectResult(){var ve=this;return(0,_.Z)(function*(){pe(jr(),ve._delegate,"operation-not-supported-in-this-environment");const tt=yield H.j(ve._delegate,Ye);return tt?gt(ve._delegate,Promise.resolve(tt)):{credential:null,user:null}})()}addFrameworkForLogging(ve){!function Kt(de,ke){(0,H.aE)(de)._logFramework(ke)}(this._delegate,ve)}onAuthStateChanged(ve,tt,Tt){const{next:Ut,error:Fn,complete:Nn}=se(ve,tt,Tt);return this._delegate.onAuthStateChanged(Ut,Fn,Nn)}onIdTokenChanged(ve,tt,Tt){const{next:Ut,error:Fn,complete:Nn}=se(ve,tt,Tt);return this._delegate.onIdTokenChanged(Ut,Fn,Nn)}sendSignInLinkToEmail(ve,tt){return H.a7(this._delegate,ve,tt)}sendPasswordResetEmail(ve,tt){return H.a0(this._delegate,ve,tt||void 0)}setPersistence(ve){var tt=this;return(0,_.Z)(function*(){let Tt;switch(function kt(de,ke){fe(Object.values(Yt).includes(ke),de,"invalid-persistence-type"),(0,ge.b$)()?fe(ke!==Yt.SESSION,de,"unsupported-persistence-type"):(0,ge.UG)()?fe(ke===Yt.NONE,de,"unsupported-persistence-type"):di()?fe(ke===Yt.NONE||ke===Yt.LOCAL&&(0,ge.hl)(),de,"unsupported-persistence-type"):fe(ke===Yt.NONE||Mr(),de,"unsupported-persistence-type")}(tt._delegate,ve),ve){case Yt.SESSION:Tt=H.a;break;case Yt.LOCAL:Tt=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case Yt.NONE:Tt=H.L;break;default:return H.at("argument-error",{appName:tt._delegate.name})}return tt._delegate.setPersistence(Tt)})()}signInAndRetrieveDataWithCredential(ve){return this.signInWithCredential(ve)}signInAnonymously(){return gt(this._delegate,H.X(this._delegate))}signInWithCredential(ve){return gt(this._delegate,H.Y(this._delegate,ve))}signInWithCustomToken(ve){return gt(this._delegate,H.$(this._delegate,ve))}signInWithEmailAndPassword(ve,tt){return gt(this._delegate,H.a6(this._delegate,ve,tt))}signInWithEmailLink(ve,tt){return gt(this._delegate,H.a9(this._delegate,ve,tt))}signInWithPhoneNumber(ve,tt){return Ke(this._delegate,H.s(this._delegate,ve,tt))}signInWithPopup(ve){var tt=this;return(0,_.Z)(function*(){return pe(jr(),tt._delegate,"operation-not-supported-in-this-environment"),gt(tt._delegate,H.c(tt._delegate,ve,Ye))})()}signInWithRedirect(ve){var tt=this;return(0,_.Z)(function*(){return pe(jr(),tt._delegate,"operation-not-supported-in-this-environment"),yield tn(tt._delegate),H.f(tt._delegate,ve,Ye)})()}updateCurrentUser(ve){return this._delegate.updateCurrentUser(ve)}verifyPasswordResetCode(ve){return H.a4(this._delegate,ve)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return de.Persistence=Yt,de})();function se(de,ke,ve){let tt=de;"function"!=typeof de&&({next:tt,error:ke,complete:ve}=de);const Tt=tt;return{next:Fn=>Tt(Fn&&ne.getOrCreate(Fn)),error:ke,complete:ve}}function be(de,ke){const ve=function Hn(de,ke){const ve=Rt();if(!ve)return[];const tt=H.az(Xe,de,ke);switch(ve.getItem(tt)){case Yt.NONE:return[H.L];case Yt.LOCAL:return[H.i,H.a];case Yt.SESSION:return[H.a];default:return[]}}(de,ke);if(typeof self<"u"&&!ve.includes(H.i)&&ve.push(H.i),typeof window<"u")for(const tt of[H.b,H.a])ve.includes(tt)||ve.push(tt);return ve.includes(H.L)||ve.push(H.L),ve}class ot{constructor(){this.providerId="phone",this._delegate=new H.P(Ht(d.Z.auth()))}static credential(ke,ve){return H.P.credential(ke,ve)}verifyPhoneNumber(ke,ve){return this._delegate.verifyPhoneNumber(ke,ve)}unwrap(){return this._delegate}}ot.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,ot.PROVIDER_ID=H.P.PROVIDER_ID;const Dt=H.ax;class jn{constructor(ke,ve,tt=d.Z.app()){var Tt;Dt(null===(Tt=tt.options)||void 0===Tt?void 0:Tt.apiKey,"invalid-api-key",{appName:tt.name}),this._delegate=new H.R(ke,ve,tt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Un(de){de.INTERNAL.registerComponent(new Ge.wA("auth-compat",ke=>{const ve=ke.getProvider("app-compat").getImmediate(),tt=ke.getProvider("auth");return new ue(ve,tt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:ot,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:jn,TwitterAuthProvider:H.W,Auth:ue,AuthCredential:H.H,Error:ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),de.registerVersion("@firebase/auth-compat","0.2.18")}(d.Z)},6533:(Zn,St,M)=>{var me,_=M(3942),d=M(5861),H=M(9681),ge=M(4859),Re=M(1877),Ae=M(2090),Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={},Ce=Ce||{},xe=Ge||self;function Fe(){}function pt(u){var i=typeof u;return"array"==(i="object"!=i?i:u?Array.isArray(u)?"array":i:"null")||"object"==i&&"number"==typeof u.length}function Et(u){var i=typeof u;return"object"==i&&null!=u||"function"==i}var jt="closure_uid_"+(1e9*Math.random()>>>0),Ft=0;function At(u,i,o){return u.call.apply(u.bind,arguments)}function en(u,i,o){if(!u)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,f),u.apply(i,v)}}return function(){return u.apply(i,arguments)}}function gn(u,i,o){return(gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?At:en).apply(null,arguments)}function xt(u,i){var o=Array.prototype.slice.call(arguments,1);return function(){var f=o.slice();return f.push.apply(f,arguments),u.apply(this,f)}}function Ue(u,i){function o(){}o.prototype=i.prototype,u.Z=i.prototype,u.prototype=new o,u.prototype.constructor=u,u.Vb=function(f,v,w){for(var T=Array(arguments.length-2),L=2;L<arguments.length;L++)T[L-2]=arguments[L];return i.prototype[v].apply(f,T)}}function Ve(){this.s=this.s,this.o=this.o}var ze={};Ve.prototype.s=!1,Ve.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function ct(u){return Object.prototype.hasOwnProperty.call(u,jt)&&u[jt]||(u[jt]=++Ft)}(this);delete ze[u]}},Ve.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nt=Array.prototype.indexOf?function(u,i){return Array.prototype.indexOf.call(u,i,void 0)}:function(u,i){if("string"==typeof u)return"string"!=typeof i||1!=i.length?-1:u.indexOf(i,0);for(let o=0;o<u.length;o++)if(o in u&&u[o]===i)return o;return-1},Qe=Array.prototype.forEach?function(u,i,o){Array.prototype.forEach.call(u,i,o)}:function(u,i,o){const f=u.length,v="string"==typeof u?u.split(""):u;for(let w=0;w<f;w++)w in v&&i.call(o,v[w],w,u)};function ae(u){return Array.prototype.concat.apply([],arguments)}function _t(u){const i=u.length;if(0<i){const o=Array(i);for(let f=0;f<i;f++)o[f]=u[f];return o}return[]}function Ne(u){return/^[\s\xa0]*$/.test(u)}var Pn,Je=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function Gt(u,i){return-1!=u.indexOf(i)}function qt(u,i){return u<i?-1:u>i?1:0}e:{var Vn=xe.navigator;if(Vn){var sn=Vn.userAgent;if(sn){Pn=sn;break e}}Pn=""}function Kt(u,i,o){for(const f in u)i.call(o,u[f],f,u)}function kn(u){const i={};for(const o in u)i[o]=u[o];return i}var fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(u,i){let o,f;for(let v=1;v<arguments.length;v++){for(o in f=arguments[v],f)u[o]=f[o];for(let w=0;w<fn.length;w++)o=fn[w],Object.prototype.hasOwnProperty.call(f,o)&&(u[o]=f[o])}}function mn(u){return mn[" "](u),u}mn[" "]=Fe;var jr,u,An=Gt(Pn,"Opera"),Kn=Gt(Pn,"Trident")||Gt(Pn,"MSIE"),dr=Gt(Pn,"Edge"),Lr=dr||Kn,ui=Gt(Pn,"Gecko")&&!(Gt(Pn.toLowerCase(),"webkit")&&!Gt(Pn,"Edge"))&&!(Gt(Pn,"Trident")||Gt(Pn,"MSIE"))&&!Gt(Pn,"Edge"),Mr=Gt(Pn.toLowerCase(),"webkit")&&!Gt(Pn,"Edge");function di(){var u=xe.document;return u?u.documentMode:void 0}e:{var xi="",mr=(u=Pn,ui?/rv:([^\);]+)(\)|;)/.exec(u):dr?/Edge\/([\d\.]+)/.exec(u):Kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Mr?/WebKit\/(\S+)/.exec(u):An?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(mr&&(xi=mr?mr[1]:""),Kn){var Hr=di();if(null!=Hr&&Hr>parseFloat(xi)){jr=String(Hr);break e}}jr=xi}var hi={};var kt=xe.document&&Kn&&(di()||parseInt(jr,10))||void 0,tn=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var u=!1,i=Object.defineProperty({},"passive",{get:function(){u=!0}});try{xe.addEventListener("test",Fe,i),xe.removeEventListener("test",Fe,i)}catch{}return u}();function pn(u,i){this.type=u,this.g=this.target=i,this.defaultPrevented=!1}function Hn(u,i){if(pn.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var o=this.type=u.type,f=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=i,i=u.relatedTarget){if(ui){e:{try{mn(i.nodeName);var v=!0;break e}catch{}v=!1}v||(i=null)}}else"mouseover"==o?i=u.fromElement:"mouseout"==o&&(i=u.toElement);this.relatedTarget=i,f?(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Hn.Z.h.call(this)}}pn.prototype.h=function(){this.defaultPrevented=!0},Ue(Hn,pn);var Rt={2:"touch",3:"pen",4:"mouse"};Hn.prototype.h=function(){Hn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ht(u,i,o,f,v){this.listener=u,this.proxy=null,this.src=i,this.type=o,this.capture=!!f,this.ia=v,this.key=++Ye,this.ca=this.fa=!1}function vn(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function Dn(u){this.src=u,this.g={},this.h=0}function vr(u,i){var o=i.type;if(o in u.g){var w,f=u.g[o],v=nt(f,i);(w=0<=v)&&Array.prototype.splice.call(f,v,1),w&&(vn(i),0==u.g[o].length&&(delete u.g[o],u.h--))}}function Xt(u,i,o,f){for(var v=0;v<u.length;++v){var w=u[v];if(!w.ca&&w.listener==i&&w.capture==!!o&&w.ia==f)return v}return-1}Dn.prototype.add=function(u,i,o,f,v){var w=u.toString();(u=this.g[w])||(u=this.g[w]=[],this.h++);var T=Xt(u,i,f,v);return-1<T?(i=u[T],o||(i.fa=!1)):((i=new Ht(i,this.src,w,!!f,v)).fa=o,u.push(i)),i};var gt="closure_lm_"+(1e6*Math.random()|0),Ke={};function Y(u,i,o,f,v){if(f&&f.once)return pe(u,i,o,f,v);if(Array.isArray(i)){for(var w=0;w<i.length;w++)Y(u,i[w],o,f,v);return null}return o=tr(o),u&&u[st]?u.N(i,o,Et(f)?!!f.capture:!!f,v):V(u,i,o,!1,f,v)}function V(u,i,o,f,v,w){if(!i)throw Error("Invalid event type");var T=Et(v)?!!v.capture:!!v,L=Dt(u);if(L||(u[gt]=L=new Dn(u)),(o=L.add(i,o,f,T,w)).proxy)return o;if(f=function ne(){var i=ot;return function u(o){return i.call(u.src,u.listener,o)}}(),o.proxy=f,f.src=u,f.listener=o,u.addEventListener)tn||(v=T),void 0===v&&(v=!1),u.addEventListener(i.toString(),f,v);else if(u.attachEvent)u.attachEvent(be(i.toString()),f);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(f)}return o}function pe(u,i,o,f,v){if(Array.isArray(i)){for(var w=0;w<i.length;w++)pe(u,i[w],o,f,v);return null}return o=tr(o),u&&u[st]?u.O(i,o,Et(f)?!!f.capture:!!f,v):V(u,i,o,!0,f,v)}function ue(u,i,o,f,v){if(Array.isArray(i))for(var w=0;w<i.length;w++)ue(u,i[w],o,f,v);else f=Et(f)?!!f.capture:!!f,o=tr(o),u&&u[st]?(u=u.i,(i=String(i).toString())in u.g&&-1<(o=Xt(w=u.g[i],o,f,v))&&(vn(w[o]),Array.prototype.splice.call(w,o,1),0==w.length&&(delete u.g[i],u.h--))):u&&(u=Dt(u))&&(i=u.g[i.toString()],u=-1,i&&(u=Xt(i,o,f,v)),(o=-1<u?i[u]:null)&&se(o))}function se(u){if("number"!=typeof u&&u&&!u.ca){var i=u.src;if(i&&i[st])vr(i.i,u);else{var o=u.type,f=u.proxy;i.removeEventListener?i.removeEventListener(o,f,u.capture):i.detachEvent?i.detachEvent(be(o),f):i.addListener&&i.removeListener&&i.removeListener(f),(o=Dt(i))?(vr(o,u),0==o.h&&(o.src=null,i[gt]=null)):vn(u)}}}function be(u){return u in Ke?Ke[u]:Ke[u]="on"+u}function ot(u,i){if(u.ca)u=!0;else{i=new Hn(i,this);var o=u.listener,f=u.ia||u.src;u.fa&&se(u),u=o.call(f,i)}return u}function Dt(u){return(u=u[gt])instanceof Dn?u:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(u){return"function"==typeof u?u:(u[jn]||(u[jn]=function(i){return u.handleEvent(i)}),u[jn])}function Un(){Ve.call(this),this.i=new Dn(this),this.P=this,this.I=null}function de(u,i){var o,f=u.I;if(f)for(o=[];f;f=f.I)o.push(f);if(u=u.P,f=i.type||i,"string"==typeof i)i=new pn(i,u);else if(i instanceof pn)i.target=i.target||u;else{var v=i;cn(i=new pn(f,u),v)}if(v=!0,o)for(var w=o.length-1;0<=w;w--){var T=i.g=o[w];v=ke(T,f,!0,i)&&v}if(v=ke(T=i.g=u,f,!0,i)&&v,v=ke(T,f,!1,i)&&v,o)for(w=0;w<o.length;w++)v=ke(T=i.g=o[w],f,!1,i)&&v}function ke(u,i,o,f){if(!(i=u.i.g[String(i)]))return!0;i=i.concat();for(var v=!0,w=0;w<i.length;++w){var T=i[w];if(T&&!T.ca&&T.capture==o){var L=T.listener,re=T.ia||T.src;T.fa&&vr(u.i,T),v=!1!==L.call(re,f)&&v}}return v&&!f.defaultPrevented}Ue(Un,Ve),Un.prototype[st]=!0,Un.prototype.removeEventListener=function(u,i,o,f){ue(this,u,i,o,f)},Un.prototype.M=function(){if(Un.Z.M.call(this),this.i){var i,u=this.i;for(i in u.g){for(var o=u.g[i],f=0;f<o.length;f++)vn(o[f]);delete u.g[i],u.h--}}this.I=null},Un.prototype.N=function(u,i,o,f){return this.i.add(String(u),i,!1,o,f)},Un.prototype.O=function(u,i,o,f){return this.i.add(String(u),i,!0,o,f)};var ve=xe.JSON.stringify;function tt(){var u=le;let i=null;return u.g&&(i=u.g,u.g=u.g.next,u.g||(u.h=null),i.next=null),i}var ut,Ut=new class{constructor(u,i){this.i=u,this.j=i,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}(()=>new Fn,u=>u.reset());class Fn{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function Nn(u){xe.setTimeout(()=>{throw u},0)}function bt(u,i){ut||function _e(){var u=xe.Promise.resolve(void 0);ut=function(){u.then(dt)}}(),ce||(ut(),ce=!0),le.add(u,i)}var ce=!1,le=new class Tt{constructor(){this.h=this.g=null}add(i,o){const f=Ut.get();f.set(i,o),this.h?this.h.next=f:this.g=f,this.h=f}};function dt(){for(var u;u=tt();){try{u.h.call(u.g)}catch(o){Nn(o)}var i=Ut;i.j(u),100>i.h&&(i.h++,u.next=i.g,i.g=u)}ce=!1}function Vt(u,i){Un.call(this),this.h=u||1,this.g=i||xe,this.j=gn(this.kb,this),this.l=Date.now()}function Zt(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function sr(u,i,o){if("function"==typeof u)o&&(u=gn(u,o));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=gn(u.handleEvent,u)}return 2147483647<Number(i)?-1:xe.setTimeout(u,i||0)}function nr(u){u.g=sr(()=>{u.g=null,u.i&&(u.i=!1,nr(u))},u.j);const i=u.h;u.h=null,u.m.apply(null,i)}Ue(Vt,Un),(me=Vt.prototype).da=!1,me.S=null,me.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),de(this,"tick"),this.da&&(Zt(this),this.start()))}},me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){Vt.Z.M.call(this),Zt(this),delete this.g};class Xr extends Ve{constructor(i,o){super(),this.m=i,this.j=o,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:nr(this)}M(){super.M(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(u){Ve.call(this),this.h=u,this.g={}}Ue(Ar,Ve);var $e=[];function Jt(u,i,o,f){Array.isArray(o)||(o&&($e[0]=o.toString()),o=$e);for(var v=0;v<o.length;v++){var w=Y(i,o[v],f||u.handleEvent,!1,u.h||u);if(!w)break;u.g[w.key]=w}}function nn(u){Kt(u.g,function(i,o){this.g.hasOwnProperty(o)&&se(i)},u),u.g={}}function Gn(){this.g=!0}function ni(u,i,o,f){u.info(function(){return"XMLHTTP TEXT ("+i+"): "+function ai(u,i){if(!u.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o)for(u=0;u<o.length;u++)if(Array.isArray(o[u])){var f=o[u];if(!(2>f.length)){var v=f[1];if(Array.isArray(v)&&!(1>v.length)){var w=v[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var T=1;T<v.length;T++)v[T]=""}}}return ve(o)}catch{return i}}(u,o)+(f?" "+f:"")})}Ar.prototype.M=function(){Ar.Z.M.call(this),nn(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gn.prototype.Aa=function(){this.g=!1},Gn.prototype.info=function(){};var lo={},co=null;function Ks(){return co=co||new Un}function Ns(u){pn.call(this,lo.Ma,u)}function ns(u){const i=Ks();de(i,new Ns(i,u))}function Zi(u,i){pn.call(this,lo.STAT_EVENT,u),this.stat=i}function ps(u){const i=Ks();de(i,new Zi(i,u))}function Ki(u,i){pn.call(this,lo.Na,u),this.size=i}function Ds(u,i){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){u()},i)}lo.Ma="serverreachability",Ue(Ns,pn),lo.STAT_EVENT="statevent",Ue(Zi,pn),lo.Na="timingevent",Ue(Ki,pn);var Po={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ol={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function aa(){}function la(){}aa.prototype.h=null;var ba,Ra={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Za(){pn.call(this,"d")}function Xo(){pn.call(this,"c")}function pa(){}function Jo(u,i,o,f){this.l=u,this.j=i,this.m=o,this.X=f||1,this.V=new Ar(this),this.P=zt,this.W=new Vt(u=Lr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new to}function to(){this.i=null,this.g="",this.h=!1}Ue(Za,pn),Ue(Xo,pn),Ue(pa,aa),pa.prototype.g=function(){return new XMLHttpRequest},pa.prototype.i=function(){return{}},ba=new pa;var zt=45e3,Pt={},yn={};function zn(u,i,o){u.K=1,u.v=ua(ho(i)),u.s=o,u.U=!0,fr(u,null)}function fr(u,i){u.F=Date.now(),Hi(u),u.A=ho(u.v);var o=u.A,f=u.X;Array.isArray(f)||(f=[String(f)]),X(o.h,"t",f),u.C=0,o=u.l.H,u.h=new to,u.g=Na(u.l,o?i:null,!u.s),0<u.O&&(u.L=new Xr(gn(u.Ia,u,u.g),u.O)),Jt(u.V,u.g,"readystatechange",u.gb),i=u.H?kn(u.H):{},u.s?(u.u||(u.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,i)):(u.u="GET",u.g.ea(u.A,u.u,null,i)),ns(1),function Qr(u,i,o,f,v,w){u.info(function(){if(u.g)if(w)for(var T="",L=w.split("&"),re=0;re<L.length;re++){var he=L[re].split("=");if(1<he.length){var Be=he[0];he=he[1];var Ct=Be.split("_");T=2<=Ct.length&&"type"==Ct[1]?T+(Be+"=")+he+"&":T+(Be+"=redacted&")}}else T=null;else T=w;return"XMLHTTP REQ ("+f+") [attempt "+v+"]: "+i+"\n"+o+"\n"+T})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Br(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function si(u,i,o){let v,f=!0;for(;!u.I&&u.C<o.length;){if(v=Ls(u,o),v==yn){4==i&&(u.o=4,ps(14),f=!1),ni(u.j,u.m,null,"[Incomplete Response]");break}if(v==Pt){u.o=4,ps(15),ni(u.j,u.m,o,"[Invalid Chunk]"),f=!1;break}ni(u.j,u.m,v,null),ca(u,v)}Br(u)&&v!=yn&&v!=Pt&&(u.h.g="",u.C=0),4!=i||0!=o.length||u.h.h||(u.o=1,ps(16),f=!1),u.i=u.i&&f,f?0<o.length&&!u.aa&&(u.aa=!0,(i=u.l).g==u&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Qi(i),i.L=!0,ps(11))):(ni(u.j,u.m,o,"[Invalid Chunked Response]"),ea(u),rs(u))}function Ls(u,i){var o=u.C,f=i.indexOf("\n",o);return-1==f?yn:(o=Number(i.substring(o,f)),isNaN(o)?Pt:(f+=1)+o>i.length?yn:(i=i.substr(f,o),u.C=f+o,i))}function Hi(u){u.Y=Date.now()+u.P,no(u,u.P)}function no(u,i){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Ds(gn(u.eb,u),i)}function Go(u){u.B&&(xe.clearTimeout(u.B),u.B=null)}function rs(u){0==u.l.G||u.I||Uc(u.l,u)}function ea(u){Go(u);var i=u.L;i&&"function"==typeof i.na&&i.na(),u.L=null,Zt(u.W),nn(u.V),u.g&&(i=u.g,u.g=null,i.abort(),i.na())}function ca(u,i){try{var o=u.l;if(0!=o.G&&(o.g==u||hs(o.i,u)))if(o.I=u.N,!u.J&&hs(o.i,u)&&3==o.G){try{var f=o.Ca.g.parse(i)}catch{f=null}if(Array.isArray(f)&&3==f.length){var v=f;if(0==v[0]){e:if(!o.u){if(o.g){if(!(o.g.F+3e3<u.F))break e;Ms(o),ll(o)}Pa(o),ps(18)}}else o.ta=v[1],0<o.ta-o.U&&37500>v[2]&&o.N&&0==o.A&&!o.v&&(o.v=Ds(gn(o.ab,o),6e3));if(1>=ji(o.i)&&o.ka){try{o.ka()}catch{}o.ka=void 0}}else Ll(o,11)}else if((u.J||o.g==u)&&Ms(o),!Ne(i))for(v=o.Ca.g.parse(i),i=0;i<v.length;i++){let he=v[i];if(o.U=he[0],he=he[1],2==o.G)if("c"==he[0]){o.J=he[1],o.la=he[2];const Be=he[3];null!=Be&&(o.ma=Be,o.h.info("VER="+o.ma));const Ct=he[4];null!=Ct&&(o.za=Ct,o.h.info("SVER="+o.za));const bn=he[5];null!=bn&&"number"==typeof bn&&0<bn&&(o.K=f=1.5*bn,o.h.info("backChannelRequestTimeoutMs_="+f)),f=o;const Yn=u.g;if(Yn){const er=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var w=f.i;!w.g&&(Gt(er,"spdy")||Gt(er,"quic")||Gt(er,"h2"))&&(w.j=w.l,w.g=new Set,w.h&&(ki(w,w.h),w.h=null))}if(f.D){const Yr=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yr&&(f.sa=Yr,Ni(f.F,f.D,Yr))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-u.F,o.h.info("Handshake RTT: "+o.O+"ms"));var T=u;if((f=o).oa=us(f,f.H?f.la:null,f.W),T.J){Ts(f.i,T);var L=T,re=f.K;re&&L.setTimeout(re),L.B&&(Go(L),Hi(L)),f.g=T}else Ys(f);0<o.l.length&&nc(o)}else"stop"!=he[0]&&"close"!=he[0]||Ll(o,7);else 3==o.G&&("stop"==he[0]||"close"==he[0]?"stop"==he[0]?Ll(o,7):na(o):"noop"!=he[0]&&o.j&&o.j.wa(he),o.A=0)}ns(4)}catch{}}function js(u,i){if(u.forEach&&"function"==typeof u.forEach)u.forEach(i,void 0);else if(pt(u)||"string"==typeof u)Qe(u,i,void 0);else{if(u.T&&"function"==typeof u.T)var o=u.T();else if(u.R&&"function"==typeof u.R)o=void 0;else if(pt(u)||"string"==typeof u){o=[];for(var f=u.length,v=0;v<f;v++)o.push(v)}else for(v in o=[],f=0,u)o[f++]=v;f=function Ca(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(pt(u)){for(var i=[],o=u.length,f=0;f<o;f++)i.push(u[f]);return i}for(f in i=[],o=0,u)i[o++]=u[f];return i}(u),v=f.length;for(var w=0;w<v;w++)i.call(void 0,f[w],o&&o[w],u)}}function Bs(u,i){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var f=0;f<o;f+=2)this.set(arguments[f],arguments[f+1])}else if(u)if(u instanceof Bs)for(o=u.T(),f=0;f<o.length;f++)this.set(o[f],u.get(o[f]));else for(f in u)this.set(f,u[f])}function wo(u){if(u.i!=u.g.length){for(var i=0,o=0;i<u.g.length;){var f=u.g[i];Eo(u.h,f)&&(u.g[o++]=f),i++}u.g.length=o}if(u.i!=u.g.length){var v={};for(o=i=0;i<u.g.length;)Eo(v,f=u.g[i])||(u.g[o++]=f,v[f]=1),i++;u.g.length=o}}function Eo(u,i){return Object.prototype.hasOwnProperty.call(u,i)}(me=Jo.prototype).setTimeout=function(u){this.P=u},me.gb=function(u){u=u.target;const i=this.L;i&&3==Fa(u)?i.l():this.Ia(u)},me.Ia=function(u){try{if(u==this.g)e:{const Be=Fa(this.g);var i=this.g.Da();const Ct=this.g.ba();if(!(3>Be)&&(3!=Be||Lr||this.g&&(this.h.h||this.g.ga()||tc(this.g)))){this.I||4!=Be||7==i||ns(8==i||0>=Ct?3:2),Go(this);var o=this.g.ba();this.N=o;t:if(Br(this)){var f=tc(this.g);u="";var v=f.length,w=4==Fa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ea(this),rs(this);var T="";break t}this.h.i=new xe.TextDecoder}for(i=0;i<v;i++)this.h.h=!0,u+=this.h.i.decode(f[i],{stream:w&&i==v-1});f.splice(0,v),this.h.g+=u,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==o,function Di(u,i,o,f,v,w,T){u.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+v+"]: "+i+"\n"+o+"\n"+w+" "+T})}(this.j,this.u,this.A,this.m,this.X,Be,o),this.i){if(this.$&&!this.J){t:{if(this.g){var L,re=this.g;if((L=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ne(L)){var he=L;break t}}he=null}if(!(o=he)){this.i=!1,this.o=3,ps(12),ea(this),rs(this);break e}ni(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ca(this,o)}this.U?(si(this,Be,T),Lr&&this.i&&3==Be&&(Jt(this.V,this.W,"tick",this.fb),this.W.start())):(ni(this.j,this.m,T,null),ca(this,T)),4==Be&&ea(this),this.i&&!this.I&&(4==Be?Uc(this.l,this):(this.i=!1,Hi(this)))}else 400==o&&0<T.indexOf("Unknown SID")?(this.o=3,ps(12)):(this.o=0,ps(13)),ea(this),rs(this)}}}catch{}},me.fb=function(){if(this.g){var u=Fa(this.g),i=this.g.ga();this.C<i.length&&(Go(this),si(this,u,i),this.i&&4!=u&&Hi(this))}},me.cancel=function(){this.I=!0,ea(this)},me.eb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(function Qo(u,i){u.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(ns(3),ps(17)),ea(this),this.o=2,rs(this)):no(this,this.Y-u)},(me=Bs.prototype).R=function(){wo(this);for(var u=[],i=0;i<this.g.length;i++)u.push(this.h[this.g[i]]);return u},me.T=function(){return wo(this),this.g.concat()},me.get=function(u,i){return Eo(this.h,u)?this.h[u]:i},me.set=function(u,i){Eo(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=i},me.forEach=function(u,i){for(var o=this.T(),f=0;f<o.length;f++){var v=o[f],w=this.get(v);u.call(i,w,v,this)}};var bo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ta(u,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof ta){this.g=void 0!==i?i:u.g,_l(this,u.j),this.s=u.s,Ss(this,u.i),No(this,u.m),this.l=u.l,i=u.h;var o=new fo;o.i=i.i,i.g&&(o.g=new Bs(i.g),o.h=i.h),cs(this,o),this.o=u.o}else u&&(o=String(u).match(bo))?(this.g=!!i,_l(this,o[1]||"",!0),this.s=Qa(o[2]||""),Ss(this,o[3]||"",!0),No(this,o[4]),this.l=Qa(o[5]||"",!0),cs(this,o[6]||"",!0),this.o=Qa(o[7]||"")):(this.g=!!i,this.h=new fo(null,this.g))}function ho(u){return new ta(u)}function _l(u,i,o){u.j=o?Qa(i,!0):i,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,i,o){u.i=o?Qa(i,!0):i}function No(u,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);u.m=i}else u.m=null}function cs(u,i,o){i instanceof fo?(u.h=i,function Ot(u,i){i&&!u.j&&(Ei(u),u.i=null,u.g.forEach(function(o,f){var v=f.toLowerCase();f!=v&&(Q(this,f),X(this,v,o))},u)),u.j=i}(u.h,u.g)):(o||(i=is(i,Xa)),u.h=new fo(i,u.g))}function Ni(u,i,o){u.h.set(i,o)}function ua(u){return Ni(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Qa(u,i){return u?i?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function is(u,i,o){return"string"==typeof u?(u=encodeURI(u).replace(i,vl),o&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vl(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}ta.prototype.toString=function(){var u=[],i=this.j;i&&u.push(is(i,ti,!0),":");var o=this.i;return(o||"file"==i)&&(u.push("//"),(i=this.s)&&u.push(is(i,ti,!0),"@"),u.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&u.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&u.push("/"),u.push(is(o,"/"==o.charAt(0)?jo:da,!0))),(o=this.h.toString())&&u.push("?",o),(o=this.o)&&u.push("#",is(o,ma)),u.join("")};var ti=/[#\/\?@]/g,da=/[#\?:]/g,jo=/[#\?]/g,Xa=/[#\?@]/g,ma=/#/g;function fo(u,i){this.h=this.g=null,this.i=u||null,this.j=!!i}function Ei(u){u.g||(u.g=new Bs,u.h=0,u.i&&function _c(u,i){if(u){u=u.split("&");for(var o=0;o<u.length;o++){var f=u[o].indexOf("="),v=null;if(0<=f){var w=u[o].substring(0,f);v=u[o].substring(f+1)}else w=u[o];i(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}(u.i,function(i,o){u.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}function Q(u,i){Ei(u),i=Ie(u,i),Eo(u.g.h,i)&&(u.i=null,u.h-=u.g.get(i).length,Eo((u=u.g).h,i)&&(delete u.h[i],u.i--,u.g.length>2*u.i&&wo(u)))}function De(u,i){return Ei(u),i=Ie(u,i),Eo(u.g.h,i)}function X(u,i,o){Q(u,i),0<o.length&&(u.i=null,u.g.set(Ie(u,i),_t(o)),u.h+=o.length)}function Ie(u,i){return i=String(i),u.j&&(i=i.toLowerCase()),i}function En(u){this.l=u||kr,u=xe.PerformanceNavigationTiming?0<(u=xe.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(xe.g&&xe.g.Ea&&xe.g.Ea()&&xe.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=fo.prototype).add=function(u,i){Ei(this),this.i=null,u=Ie(this,u);var o=this.g.get(u);return o||this.g.set(u,o=[]),o.push(i),this.h+=1,this},me.forEach=function(u,i){Ei(this),this.g.forEach(function(o,f){Qe(o,function(v){u.call(i,v,f,this)},this)},this)},me.T=function(){Ei(this);for(var u=this.g.R(),i=this.g.T(),o=[],f=0;f<i.length;f++)for(var v=u[f],w=0;w<v.length;w++)o.push(i[f]);return o},me.R=function(u){Ei(this);var i=[];if("string"==typeof u)De(this,u)&&(i=ae(i,this.g.get(Ie(this,u))));else{u=this.g.R();for(var o=0;o<u.length;o++)i=ae(i,u[o])}return i},me.set=function(u,i){return Ei(this),this.i=null,De(this,u=Ie(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[i]),this.h+=1,this},me.get=function(u,i){return u&&0<(u=this.R(u)).length?String(u[0]):i},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],i=this.g.T(),o=0;o<i.length;o++){var f=i[o],v=encodeURIComponent(String(f));f=this.R(f);for(var w=0;w<f.length;w++){var T=v;""!==f[w]&&(T+="="+encodeURIComponent(String(f[w]))),u.push(T)}}return this.i=u.join("&")};var kr=10;function ds(u){return!!u.h||!!u.g&&u.g.size>=u.j}function ji(u){return u.h?1:u.g?u.g.size:0}function hs(u,i){return u.h?u.h==i:!!u.g&&u.g.has(i)}function ki(u,i){u.g?u.g.add(i):u.h=i}function Ts(u,i){u.h&&u.h==i?u.h=null:u.g&&u.g.has(i)&&u.g.delete(i)}function zi(u){if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){let i=u.i;for(const o of u.g.values())i=i.concat(o.D);return i}return _t(u.i)}function Ti(){}function Wn(){this.g=new Ti}function Or(u,i,o){const f=o||"";try{js(u,function(v,w){let T=v;Et(v)&&(T=ve(v)),i.push(f+w+"="+encodeURIComponent(T))})}catch(v){throw i.push(f+"type="+encodeURIComponent("_badmap")),v}}function As(u,i,o,f,v){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,v(f)}catch{}}function Is(u){this.l=u.$b||null,this.j=u.ib||!1}function Io(u,i){Un.call(this),this.D=u,this.u=i,this.m=void 0,this.readyState=Oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En.prototype.cancel=function(){if(this.i=zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const u of this.g.values())u.cancel();this.g.clear()}},Ti.prototype.stringify=function(u){return xe.JSON.stringify(u,void 0)},Ti.prototype.parse=function(u){return xe.JSON.parse(u,void 0)},Ue(Is,aa),Is.prototype.g=function(){return new Io(this.l,this.j)},Is.prototype.i=function(u){return function(){return u}}({}),Ue(Io,Un);var Oa=0;function J(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function q(u){u.readyState=4,u.l=null,u.j=null,u.A=null,j(u)}function j(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(me=Io.prototype).open=function(u,i){if(this.readyState!=Oa)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=i,this.readyState=1,j(this)},me.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(i.body=u),(this.D||xe).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q(this)),this.readyState=Oa},me.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,j(this)),this.g&&(this.readyState=3,j(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;J(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},me.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var i=u.value?u.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!u.done}))&&(this.response=this.responseText+=i)}u.done?q(this):j(this),3==this.readyState&&J(this)}},me.Ua=function(u){this.g&&(this.response=this.responseText=u,q(this))},me.Ta=function(u){this.g&&(this.response=u,q(this))},me.ha=function(){this.g&&q(this)},me.setRequestHeader=function(u,i){this.v.append(u,i)},me.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],i=this.h.entries();for(var o=i.next();!o.done;)u.push((o=o.value)[0]+": "+o[1]),o=i.next();return u.join("\r\n")},Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Te=xe.JSON.parse;function un(u){Un.call(this),this.headers=new Bs,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wr,this.K=this.L=!1}Ue(un,Un);var wr="",Fi=/^https?$/i,zs=["POST","PUT"];function Ai(u){return"content-type"==u.toLowerCase()}function yl(u,i){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=i,u.m=5,Da(u),ks(u)}function Da(u){u.D||(u.D=!0,de(u,"complete"),de(u,"error"))}function vc(u){if(u.h&&typeof Ce<"u"&&(!u.C[1]||4!=Fa(u)||2!=u.ba()))if(u.v&&4==Fa(u))sr(u.Fa,0,u);else if(de(u,"readystatechange"),4==Fa(u)){u.h=!1;try{const L=u.ba();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var f;if(f=0===L){var v=String(u.H).match(bo)[1]||null;if(!v&&xe.self&&xe.self.location){var w=xe.self.location.protocol;v=w.substr(0,w.length-1)}f=!Fi.test(v?v.toLowerCase():"")}o=f}if(o)de(u,"complete"),de(u,"success");else{u.m=6;try{var T=2<Fa(u)?u.g.statusText:""}catch{T=""}u.j=T+" ["+u.ba()+"]",Da(u)}}finally{ks(u)}}}function ks(u,i){if(u.g){pu(u);const o=u.g,f=u.C[0]?Fe:null;u.g=null,u.C=null,i||de(u,"ready");try{o.onreadystatechange=f}catch{}}}function pu(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(xe.clearTimeout(u.A),u.A=null)}function Fa(u){return u.g?u.g.readyState:0}function tc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case wr:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function al(u,i,o){e:{for(f in o){var f=!1;break e}f=!0}f||(o=function ko(u){let i="";return Kt(u,function(o,f){i+=f,i+=":",i+=o,i+="\r\n"}),i}(o),"string"==typeof u?null!=o&&encodeURIComponent(String(o)):Ni(u,i,o))}function Nl(u,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[u]||i}function bi(u){this.za=0,this.l=[],this.h=new Gn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nl("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nl("baseRetryDelayMs",5e3,u),this.$a=Nl("retryDelaySeedMs",1e4,u),this.Ya=Nl("forwardChannelMaxRetries",2,u),this.ra=Nl("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new En(u&&u.concurrentRequestLimit),this.Ca=new Wn,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function na(u){if(yc(u),3==u.G){var i=u.V++,o=ho(u.F);Ni(o,"SID",u.J),Ni(o,"RID",i),Ni(o,"TYPE","terminate"),rc(u,o),(i=new Jo(u,u.h,i,void 0)).K=2,i.v=ua(ho(o)),o=!1,xe.navigator&&xe.navigator.sendBeacon&&(o=xe.navigator.sendBeacon(i.v.toString(),"")),!o&&xe.Image&&((new Image).src=i.v,o=!0),o||(i.g=Na(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Hi(i)}ic(u)}function ll(u){u.g&&(Qi(u),u.g.cancel(),u.g=null)}function yc(u){ll(u),u.u&&(xe.clearTimeout(u.u),u.u=null),Ms(u),u.i.cancel(),u.m&&("number"==typeof u.m&&xe.clearTimeout(u.m),u.m=null)}function Yi(u,i){u.l.push(new class{constructor(u,i){this.h=u,this.g=i}}(u.Za++,i)),3==u.G&&nc(u)}function nc(u){ds(u.i)||u.m||(u.m=!0,bt(u.Ha,u),u.C=0)}function ss(u,i){var o;o=i?i.m:u.V++;const f=ho(u.F);Ni(f,"SID",u.J),Ni(f,"RID",o),Ni(f,"AID",u.U),rc(u,f),u.o&&u.s&&al(f,u.o,u.s),o=new Jo(u,u.h,o,u.C+1),null===u.o&&(o.H=u.s),i&&(u.l=i.D.concat(u.l)),i=wl(u,o,1e3),o.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),ki(u.i,o),zn(o,f,i)}function rc(u,i){u.j&&js({},function(o,f){Ni(i,f,o)})}function wl(u,i,o){o=Math.min(u.l.length,o);var f=u.j?gn(u.j.Oa,u.j,u):null;e:{var v=u.l;let w=-1;for(;;){const T=["count="+o];-1==w?0<o?(w=v[0].h,T.push("ofs="+w)):w=0:T.push("ofs="+w);let L=!0;for(let re=0;re<o;re++){let he=v[re].h;const Be=v[re].g;if(he-=w,0>he)w=Math.max(0,v[re].h-100),L=!1;else try{Or(Be,T,"req"+he+"_")}catch{f&&f(Be)}}if(L){f=T.join("&");break e}}}return u=u.l.splice(0,o),i.D=u,f}function Ys(u){u.g||u.u||(u.Y=1,bt(u.Ga,u),u.A=0)}function Pa(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Ds(gn(u.Ga,u),Hc(u,u.A)),u.A++,0))}function Qi(u){null!=u.B&&(xe.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Jo(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var i=ho(u.oa);Ni(i,"RID","rpc"),Ni(i,"SID",u.J),Ni(i,"CI",u.N?"0":"1"),Ni(i,"AID",u.U),rc(u,i),Ni(i,"TYPE","xmlhttp"),u.o&&u.s&&al(i,u.o,u.s),u.K&&u.g.setTimeout(u.K);var o=u.g;u=u.la,o.K=1,o.v=ua(ho(i)),o.s=null,o.U=!0,fr(o,u)}function Ms(u){null!=u.v&&(xe.clearTimeout(u.v),u.v=null)}function Uc(u,i){var o=null;if(u.g==i){Ms(u),Qi(u),u.g=null;var f=2}else{if(!hs(u.i,i))return;o=i.D,Ts(u.i,i),f=1}if(u.I=i.N,0!=u.G)if(i.i)if(1==f){o=i.s?i.s.length:0,i=Date.now()-i.F;var v=u.C;de(f=Ks(),new Ki(f,o,i,v)),nc(u)}else Ys(u);else if(3==(v=i.o)||0==v&&0<u.I||!(1==f&&function xl(u,i){return!(ji(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=i.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Ds(gn(u.Ha,u,i),Hc(u,u.C)),u.C++,0)))}(u,i)||2==f&&Pa(u)))switch(o&&0<o.length&&(i=u.i,i.i=i.i.concat(o)),v){case 1:Ll(u,5);break;case 4:Ll(u,10);break;case 3:Ll(u,6);break;default:Ll(u,2)}}function Hc(u,i){let o=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(o*=2),o*i}function Ll(u,i){if(u.h.info("Error code "+i),2==i){var o=null;u.j&&(o=null);var f=gn(u.jb,u);o||(o=new ta("//www.google.com/images/cleardot.gif"),xe.location&&"http"==xe.location.protocol||_l(o,"https"),ua(o)),function Gi(u,i){const o=new Gn;if(xe.Image){const f=new Image;f.onload=xt(As,o,f,"TestLoadImage: loaded",!0,i),f.onerror=xt(As,o,f,"TestLoadImage: error",!1,i),f.onabort=xt(As,o,f,"TestLoadImage: abort",!1,i),f.ontimeout=xt(As,o,f,"TestLoadImage: timeout",!1,i),xe.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=u}else i(!1)}(o.toString(),f)}else ps(2);u.G=0,u.j&&u.j.va(i),ic(u),yc(u)}function ic(u){u.G=0,u.I=-1,u.j&&((0!=zi(u.i).length||0!=u.l.length)&&(u.i.i.length=0,_t(u.l),u.l.length=0),u.j.ua())}function us(u,i,o){let f=function ga(u){return u instanceof ta?ho(u):new ta(u,void 0)}(o);if(""!=f.i)i&&Ss(f,i+"."+f.i),No(f,f.m);else{const v=xe.location;f=function Co(u,i,o,f){var v=new ta(null,void 0);return u&&_l(v,u),i&&Ss(v,i),o&&No(v,o),f&&(v.l=f),v}(v.protocol,i?i+"."+v.hostname:v.hostname,+v.port,o)}return u.aa&&Kt(u.aa,function(v,w){Ni(f,w,v)}),o=u.sa,(i=u.D)&&o&&Ni(f,i,o),Ni(f,"VER",u.ma),rc(u,f),f}function Na(u,i,o){if(i&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new un(o&&u.Ba&&!u.qa?new Is({ib:!0}):u.qa)).L=u.H,i}function Xu(){}function Bl(){if(Kn&&!(10<=Number(kt)))throw Error("Environmental error: no available transport.")}function La(u,i){Un.call(this),this.g=new bi(i),this.l=u,this.h=i&&i.messageUrlParams||null,u=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(u?u["X-WebChannel-Content-Type"]=i.messageContentType:u={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(u?u["X-WebChannel-Client-Profile"]=i.ya:u={"X-WebChannel-Client-Profile":i.ya}),this.g.P=u,(u=i&&i.httpHeadersOverwriteParam)&&!Ne(u)&&(this.g.o=u),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Ne(i)&&(this.g.D=i,null!==(u=this.h)&&i in u&&i in(u=this.h)&&delete u[i]),this.j=new cl(this)}function rf(u){Za.call(this);var i=u.__sm__;if(i){e:{for(const o in i){u=o;break e}u=void 0}(this.i=u)&&(u=this.i,i=null!==i&&u in i?i[u]:void 0),this.data=i}else this.data=u}function Ja(){Xo.call(this),this.status=1}function cl(u){this.g=u}(me=un.prototype).ea=function(u,i,o,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);i=i?i.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ba.g(),this.C=function uo(u){return u.h||(u.h=u.i())}(this.u?this.u:ba),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(i,String(u),!0),this.F=!1}catch(w){return void yl(this,w)}u=o||"";const v=new Bs(this.headers);f&&js(f,function(w,T){v.set(T,w)}),f=function Pe(u){e:{var i=Ai;const o=u.length,f="string"==typeof u?u.split(""):u;for(let v=0;v<o;v++)if(v in f&&i.call(void 0,f[v],v,u)){i=v;break e}i=-1}return 0>i?null:"string"==typeof u?u.charAt(i):u[i]}(v.T()),o=xe.FormData&&u instanceof xe.FormData,!(0<=nt(zs,i))||f||o||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),v.forEach(function(w,T){this.g.setRequestHeader(T,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pu(this),0<this.B&&((this.K=function Lo(u){return Kn&&function Yt(){return function Wt(u){var i=hi;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=u(9)}(function(){let u=0;const i=Je(String(jr)).split("."),o=Je("9").split("."),f=Math.max(i.length,o.length);for(let T=0;0==u&&T<f;T++){var v=i[T]||"",w=o[T]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==v[0].length&&0==w[0].length)break;u=qt(0==v[1].length?0:parseInt(v[1],10),0==w[1].length?0:parseInt(w[1],10))||qt(0==v[2].length,0==w[2].length)||qt(v[2],w[2]),v=v[3],w=w[3]}while(0==u)}return 0<=u})}()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=sr(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(w){yl(this,w)}},me.pa=function(){typeof Ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,de(this,"timeout"),this.abort(8))},me.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,de(this,"complete"),de(this,"abort"),ks(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ks(this,!0)),un.Z.M.call(this)},me.Fa=function(){this.s||(this.F||this.v||this.l?vc(this):this.cb())},me.cb=function(){vc(this)},me.ba=function(){try{return 2<Fa(this)?this.g.status:-1}catch{return-1}},me.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Qa=function(u){if(this.g){var i=this.g.responseText;return u&&0==i.indexOf(u)&&(i=i.substring(u.length)),Te(i)}},me.Da=function(){return this.m},me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=bi.prototype).ma=8,me.G=1,me.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch{}},me.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;const v=new Jo(this,this.h,u,void 0);let w=this.s;if(this.P&&(w?(w=kn(w),cn(w,this.P)):w=this.P),null===this.o&&(v.H=w),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){var f=this.l[o];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(i+=f)){i=o;break e}if(4096===i||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=wl(this,v,i),Ni(o=ho(this.F),"RID",u),Ni(o,"CVER",22),this.D&&Ni(o,"X-HTTP-Session-Id",this.D),rc(this,o),this.o&&w&&al(o,this.o,w),ki(this.i,v),this.Ra&&Ni(o,"TYPE","init"),this.ja?(Ni(o,"$req",i),Ni(o,"SID","null"),v.$=!0,zn(v,o,null)):zn(v,o,i),this.G=2}}else 3==this.G&&(u?ss(this,u):0==this.l.length||ds(this.i)||ss(this))},me.Ga=function(){if(this.u=null,gu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Ds(gn(this.bb,this),u)}},me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ps(10),ll(this),gu(this))},me.ab=function(){null!=this.v&&(this.v=null,ll(this),Pa(this),ps(19))},me.jb=function(u){u?(this.h.info("Successfully pinged google.com"),ps(2)):(this.h.info("Failed to ping google.com"),ps(1))},(me=Xu.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Oa=function(){},Bl.prototype.g=function(u,i){return new La(u,i)},Ue(La,Un),La.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,i=this.l,o=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),bt(gn(u.hb,u,i))),ps(0),u.W=i,u.aa=o||{},u.N=u.X,u.F=us(u,null,u.W),nc(u)},La.prototype.close=function(){na(this.g)},La.prototype.u=function(u){if("string"==typeof u){var i={};i.__data__=u,Yi(this.g,i)}else this.v?((i={}).__data__=ve(u),Yi(this.g,i)):Yi(this.g,u)},La.prototype.M=function(){this.g.j=null,delete this.j,na(this.g),delete this.g,La.Z.M.call(this)},Ue(rf,Za),Ue(Ja,Xo),Ue(cl,Xu),cl.prototype.xa=function(){de(this.g,"a")},cl.prototype.wa=function(u){de(this.g,new rf(u))},cl.prototype.va=function(u){de(this.g,new Ja(u))},cl.prototype.ua=function(){de(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,La.prototype.send=La.prototype.u,La.prototype.open=La.prototype.m,La.prototype.close=La.prototype.close,Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,ol.COMPLETE="complete",la.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",Un.prototype.listen=Un.prototype.N,un.prototype.listenOnce=un.prototype.O,un.prototype.getLastError=un.prototype.La,un.prototype.getLastErrorCode=un.prototype.Da,un.prototype.getStatus=un.prototype.ba,un.prototype.getResponseJson=un.prototype.Qa,un.prototype.getResponseText=un.prototype.ga,un.prototype.send=un.prototype.ea;var Gc=Oe.createWebChannelTransport=function(){return new Bl},qs=Oe.getStatEventTarget=function(){return Ks()},_a=Oe.ErrorCode=Po,_r=Oe.EventType=ol,Do=Oe.Event=lo,mu=Oe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ju=Oe.FetchXmlHttpFactory=Is,El=Oe.WebChannel=la,Rs=Oe.XhrIo=un;const Ba="@firebase/firestore";class Xi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let Va="9.9.2";const bl=new Re.Yd("@firebase/firestore");function jc(){return bl.logLevel}function hr(u,...i){if(bl.logLevel<=Re.in.DEBUG){const o=i.map(Ul);bl.debug(`Firestore (${Va}): ${u}`,...o)}}function Pi(u,...i){if(bl.logLevel<=Re.in.ERROR){const o=i.map(Ul);bl.error(`Firestore (${Va}): ${u}`,...o)}}function ul(u,...i){if(bl.logLevel<=Re.in.WARN){const o=i.map(Ul);bl.warn(`Firestore (${Va}): ${u}`,...o)}}function Ul(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Jr(u="Unexpected state"){const i=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+u;throw Pi(i),new Error(i)}function gi(u,i){u||Jr()}function Fr(u,i){return u}const on={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ir extends Ae.ZR{constructor(i,o){super(i,o),this.code=i,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise((i,o)=>{this.resolve=i,this.reject=o})}}class Cl{constructor(i,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class Hl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,o){i.enqueueRetryable(()=>o(Xi.UNAUTHENTICATED))}shutdown(){}}class xc{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,o){this.changeListener=o,i.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Gl{constructor(i){this.t=i,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,o){var f=this;let v=this.i;const w=he=>this.i!==v?(v=this.i,o(he)):Promise.resolve();let T=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),T.resolve(),T=new gs,i.enqueueRetryable(()=>w(this.currentUser))};const L=()=>{const he=T;i.enqueueRetryable((0,d.Z)(function*(){yield he.promise,yield w(f.currentUser)}))},re=he=>{hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=he,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(he=>re(he)),setTimeout(()=>{if(!this.auth){const he=this.t.getImmediate({optional:!0});he?re(he):(hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),T.resolve(),T=new gs)}},0),L()}getToken(){const i=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(f=>this.i!==i?(hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):f?(gi("string"==typeof f.accessToken),new Cl(f.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return gi(null===i||"string"==typeof i),new Xi(i)}}class _u{constructor(i,o,f){this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",o);const v=i.auth.getAuthHeaderValueForFirstParty([]);v&&this.headers.set("Authorization",v),f&&this.headers.set("X-Goog-Iam-Authorization-Token",f)}}class zc{constructor(i,o,f){this.h=i,this.l=o,this.m=f}getToken(){return Promise.resolve(new _u(this.h,this.l,this.m))}start(i,o){i.enqueueRetryable(()=>o(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dl{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oc{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,o){const f=w=>{null!=w.error&&hr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);const T=w.token!==this.p;return this.p=w.token,hr("FirebaseAppCheckTokenProvider",`Received ${T?"new":"existing"} token.`),T?o(w.token):Promise.resolve()};this.o=w=>{i.enqueueRetryable(()=>f(w))};const v=w=>{hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.appCheck.addTokenListener(this.o)};this.g.onInit(w=>v(w)),setTimeout(()=>{if(!this.appCheck){const w=this.g.getImmediate({optional:!0});w?v(w):hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(o=>o?(gi("string"==typeof o.token),this.p=o.token,new Dl(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ua(u){const i=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(u);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(o);else for(let f=0;f<u;f++)o[f]=Math.floor(256*Math.random());return o}class ys{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/i.length)*i.length;let f="";for(;f.length<20;){const v=Ua(40);for(let w=0;w<v.length;++w)f.length<20&&v[w]<o&&(f+=i.charAt(v[w]%i.length))}return f}}function _i(u,i){return u<i?-1:u>i?1:0}function Vs(u,i,o){return u.length===i.length&&u.every((f,v)=>o(f,i[v]))}function ra(u){return u+"\0"}class xs{constructor(i,o){if(this.seconds=i,this.nanoseconds=o,o<0)throw new ir(on.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new ir(on.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(i<-62135596800)throw new ir(on.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new ir(on.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return xs.fromMillis(Date.now())}static fromDate(i){return xs.fromMillis(i.getTime())}static fromMillis(i){const o=Math.floor(i/1e3),f=Math.floor(1e6*(i-1e3*o));return new xs(o,f)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?_i(this.nanoseconds,i.nanoseconds):_i(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ri{constructor(i){this.timestamp=i}static fromTimestamp(i){return new ri(i)}static min(){return new ri(new xs(0,0))}static max(){return new ri(new xs(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jl{constructor(i,o,f){void 0===o?o=0:o>i.length&&Jr(),void 0===f?f=i.length-o:f>i.length-o&&Jr(),this.segments=i,this.offset=o,this.len=f}get length(){return this.len}isEqual(i){return 0===jl.comparator(this,i)}child(i){const o=this.segments.slice(this.offset,this.limit());return i instanceof jl?i.forEach(f=>{o.push(f)}):o.push(i),this.construct(o)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==i.get(o))return!1;return!0}forEach(i){for(let o=this.offset,f=this.limit();o<f;o++)i(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,o){const f=Math.min(i.length,o.length);for(let v=0;v<f;v++){const w=i.get(v),T=o.get(v);if(w<T)return-1;if(w>T)return 1}return i.length<o.length?-1:i.length>o.length?1:0}}class Wi extends jl{construct(i,o,f){return new Wi(i,o,f)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const o=[];for(const f of i){if(f.indexOf("//")>=0)throw new ir(on.INVALID_ARGUMENT,`Invalid segment (${f}). Paths must not contain // in them.`);o.push(...f.split("/").filter(v=>v.length>0))}return new Wi(o)}static emptyPath(){return new Wi([])}}const ed=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class So extends jl{construct(i,o,f){return new So(i,o,f)}static isValidIdentifier(i){return ed.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),So.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new So(["__name__"])}static fromServerFormat(i){const o=[];let f="",v=0;const w=()=>{if(0===f.length)throw new ir(on.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(f),f=""};let T=!1;for(;v<i.length;){const L=i[v];if("\\"===L){if(v+1===i.length)throw new ir(on.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const re=i[v+1];if("\\"!==re&&"."!==re&&"`"!==re)throw new ir(on.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);f+=re,v+=2}else"`"===L?(T=!T,v++):"."!==L||T?(f+=L,v++):(w(),v++)}if(w(),T)throw new ir(on.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new So(o)}static emptyPath(){return new So([])}}class br{constructor(i){this.path=i}static fromPath(i){return new br(Wi.fromString(i))}static fromName(i){return new br(Wi.fromString(i).popFirst(5))}static empty(){return new br(Wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Wi.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,o){return Wi.comparator(i.path,o.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new br(new Wi(i.slice()))}}class Zs{constructor(i,o,f,v){this.indexId=i,this.collectionGroup=o,this.fields=f,this.indexState=v}}function Us(u){return u.fields.find(i=>2===i.kind)}function Sn(u){return u.fields.filter(i=>2!==i.kind)}Zs.UNKNOWN_ID=-1;class po{constructor(i,o){this.fieldPath=i,this.kind=o}}class Bo{constructor(i,o){this.sequenceNumber=i,this.offset=o}static empty(){return new Bo(0,vi.min())}}function td(u,i){const o=u.toTimestamp().seconds,f=u.toTimestamp().nanoseconds+1,v=ri.fromTimestamp(1e9===f?new xs(o+1,0):new xs(o,f));return new vi(v,br.empty(),i)}function ac(u){return new vi(u.readTime,u.key,-1)}class vi{constructor(i,o,f){this.readTime=i,this.documentKey=o,this.largestBatchId=f}static min(){return new vi(ri.min(),br.empty(),-1)}static max(){return new vi(ri.max(),br.empty(),-1)}}function Ec(u,i){let o=u.readTime.compareTo(i.readTime);return 0!==o?o:(o=br.comparator(u.documentKey,i.documentKey),0!==o?o:_i(u.largestBatchId,i.largestBatchId))}const go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ph{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}function Sl(u){return vu.apply(this,arguments)}function vu(){return vu=(0,d.Z)(function*(u){if(u.code!==on.FAILED_PRECONDITION||u.message!==go)throw u;hr("LocalStore","Unexpectedly lost primary lease")}),vu.apply(this,arguments)}class rn{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(i){return this.next(void 0,i)}next(i,o){return this.callbackAttached&&Jr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(i,this.result):new rn((f,v)=>{this.nextCallback=w=>{this.wrapSuccess(i,w).next(f,v)},this.catchCallback=w=>{this.wrapFailure(o,w).next(f,v)}})}toPromise(){return new Promise((i,o)=>{this.next(i,o)})}wrapUserFunction(i){try{const o=i();return o instanceof rn?o:rn.resolve(o)}catch(o){return rn.reject(o)}}wrapSuccess(i,o){return i?this.wrapUserFunction(()=>i(o)):rn.resolve(o)}wrapFailure(i,o){return i?this.wrapUserFunction(()=>i(o)):rn.reject(o)}static resolve(i){return new rn((o,f)=>{o(i)})}static reject(i){return new rn((o,f)=>{f(i)})}static waitFor(i){return new rn((o,f)=>{let v=0,w=0,T=!1;i.forEach(L=>{++v,L.next(()=>{++w,T&&w===v&&o()},re=>f(re))}),T=!0,w===v&&o()})}static or(i){let o=rn.resolve(!1);for(const f of i)o=o.next(v=>v?rn.resolve(v):f());return o}static forEach(i,o){const f=[];return i.forEach((v,w)=>{f.push(o.call(this,v,w))}),this.waitFor(f)}static mapArray(i,o){return new rn((f,v)=>{const w=i.length,T=new Array(w);let L=0;for(let re=0;re<w;re++){const he=re;o(i[he]).next(Be=>{T[he]=Be,++L,L===w&&f(T)},Be=>v(Be))}})}static doWhile(i,o){return new rn((f,v)=>{const w=()=>{!0===i()?o().next(()=>{w()},v):f()};w()})}}class yu{constructor(i,o){this.action=i,this.transaction=o,this.aborted=!1,this.T=new gs,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{o.error?this.T.reject(new Hs(i,o.error)):this.T.resolve()},this.transaction.onerror=f=>{const v=nd(f.target.error);this.T.reject(new Hs(i,v))}}static open(i,o,f,v){try{return new yu(o,i.transaction(v,f))}catch(w){throw new Hs(o,w)}}get A(){return this.T.promise}abort(i){i&&this.T.reject(i),this.aborted||(hr("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const i=this.transaction;this.aborted||"function"!=typeof i.commit||i.commit()}store(i){const o=this.transaction.objectStore(i);return new Vo(o)}}class zo{constructor(i,o,f){this.name=i,this.version=o,this.P=f,12.2===zo.v((0,Ae.z$)())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return hr("SimpleDb","Removing database:",i),wi(window.indexedDB.deleteDatabase(i)).toPromise()}static V(){if(!(0,Ae.hl)())return!1;if(zo.S())return!0;const i=(0,Ae.z$)(),o=zo.v(i),f=0<o&&o<10,v=zo.D(i),w=0<v&&v<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||f||w)}static S(){var i;return typeof process<"u"&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.C)}static N(i,o){return i.store(o)}static v(i){const o=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),f=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(f)}static D(i){const o=i.match(/Android ([\d.]+)/i),f=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(f)}k(i){var o=this;return(0,d.Z)(function*(){return o.db||(hr("SimpleDb","Opening database:",o.name),o.db=yield new Promise((f,v)=>{const w=indexedDB.open(o.name,o.version);w.onsuccess=T=>{f(T.target.result)},w.onblocked=()=>{v(new Hs(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=T=>{const L=T.target.error;v("VersionError"===L.name?new ir(on.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===L.name?new ir(on.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+L):new Hs(i,L))},w.onupgradeneeded=T=>{hr("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',T.oldVersion),o.P.M(T.target.result,w.transaction,T.oldVersion,o.version).next(()=>{hr("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.O&&(o.db.onversionchange=f=>o.O(f)),o.db})()}F(i){this.O=i,this.db&&(this.db.onversionchange=o=>i(o))}runTransaction(i,o,f,v){var w=this;return(0,d.Z)(function*(){const T="readonly"===o;let L=0;for(;;){++L;try{w.db=yield w.k(i);const re=yu.open(w.db,i,T?"readonly":"readwrite",f),he=v(re).next(Be=>(re.R(),Be)).catch(Be=>(re.abort(Be),rn.reject(Be))).toPromise();return he.catch(()=>{}),yield re.A,he}catch(re){const he=re,Be="FirebaseError"!==he.name&&L<3;if(hr("SimpleDb","Transaction failed with error:",he.message,"Retrying:",Be),w.close(),!Be)return Promise.reject(he)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sp{constructor(i){this.$=i,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(i){this.$=i}done(){this.B=!0}q(i){this.L=i}delete(){return wi(this.$.delete())}}class Hs extends ir{constructor(i,o){super(on.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Kr(u){return"IndexedDbTransactionError"===u.name}class Vo{constructor(i){this.store=i}put(i,o){let f;return void 0!==o?(hr("SimpleDb","PUT",this.store.name,i,o),f=this.store.put(o,i)):(hr("SimpleDb","PUT",this.store.name,"<auto-key>",i),f=this.store.put(i)),wi(f)}add(i){return hr("SimpleDb","ADD",this.store.name,i,i),wi(this.store.add(i))}get(i){return wi(this.store.get(i)).next(o=>(void 0===o&&(o=null),hr("SimpleDb","GET",this.store.name,i,o),o))}delete(i){return hr("SimpleDb","DELETE",this.store.name,i),wi(this.store.delete(i))}count(){return hr("SimpleDb","COUNT",this.store.name),wi(this.store.count())}K(i,o){const f=this.options(i,o);if(f.index||"function"!=typeof this.store.getAll){const v=this.cursor(f),w=[];return this.G(v,(T,L)=>{w.push(L)}).next(()=>w)}{const v=this.store.getAll(f.range);return new rn((w,T)=>{v.onerror=L=>{T(L.target.error)},v.onsuccess=L=>{w(L.target.result)}})}}j(i,o){const f=this.store.getAll(i,null===o?void 0:o);return new rn((v,w)=>{f.onerror=T=>{w(T.target.error)},f.onsuccess=T=>{v(T.target.result)}})}W(i,o){hr("SimpleDb","DELETE ALL",this.store.name);const f=this.options(i,o);f.H=!1;const v=this.cursor(f);return this.G(v,(w,T,L)=>L.delete())}J(i,o){let f;o?f=i:(f={},o=i);const v=this.cursor(f);return this.G(v,o)}Y(i){const o=this.cursor({});return new rn((f,v)=>{o.onerror=w=>{const T=nd(w.target.error);v(T)},o.onsuccess=w=>{const T=w.target.result;T?i(T.primaryKey,T.value).next(L=>{L?T.continue():f()}):f()}})}G(i,o){const f=[];return new rn((v,w)=>{i.onerror=T=>{w(T.target.error)},i.onsuccess=T=>{const L=T.target.result;if(!L)return void v();const re=new sp(L),he=o(L.primaryKey,L.value,re);if(he instanceof rn){const Be=he.catch(Ct=>(re.done(),rn.reject(Ct)));f.push(Be)}re.isDone?v():null===re.U?L.continue():L.continue(re.U)}}).next(()=>rn.waitFor(f))}options(i,o){let f;return void 0!==i&&("string"==typeof i?f=i:o=i),{index:f,range:o}}cursor(i){let o="next";if(i.reverse&&(o="prev"),i.index){const f=this.store.index(i.index);return i.H?f.openKeyCursor(i.range,o):f.openCursor(i.range,o)}return this.store.openCursor(i.range,o)}}function wi(u){return new rn((i,o)=>{u.onsuccess=f=>{i(f.target.result)},u.onerror=f=>{const v=nd(f.target.error);o(v)}})}let $i=!1;function nd(u){const i=zo.v((0,Ae.z$)());if(i>=12.2&&i<13){const o="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(o)>=0){const f=new ir("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $i||($i=!0,setTimeout(()=>{throw f},0)),f}}return u}class Ws{constructor(i,o){this.asyncQueue=i,this.X=o,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(i){var o=this;hr("IndexBackiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,(0,d.Z)(function*(){o.task=null;try{hr("IndexBackiller",`Documents written: ${yield o.X.tt()}`)}catch(f){Kr(f)?hr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",f):yield Sl(f)}yield o.Z(1)}))}}class k{constructor(i,o){this.localStore=i,this.persistence=o}tt(i=50){var o=this;return(0,d.Z)(function*(){return o.persistence.runTransaction("Backfill Indexes","readwrite-primary",f=>o.et(f,i))})()}et(i,o){const f=new Set;let v=o,w=!0;return rn.doWhile(()=>!0===w&&v>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(T=>{if(null!==T&&!f.has(T))return hr("IndexBackiller",`Processing collection: ${T}`),this.nt(i,T,v).next(L=>{v-=L,f.add(T)});w=!1})).next(()=>o-v)}nt(i,o,f){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,o).next(v=>this.localStore.localDocuments.getNextDocuments(i,o,v,f).next(w=>{const T=w.changes;return this.localStore.indexManager.updateIndexEntries(i,T).next(()=>this.st(v,w)).next(L=>(hr("IndexBackiller",`Updating offset: ${L}`),this.localStore.indexManager.updateCollectionGroup(i,o,L))).next(()=>T.size)}))}st(i,o){let f=i;return o.changes.forEach((v,w)=>{const T=ac(w);Ec(T,f)>0&&(f=T)}),new vi(f.readTime,f.documentKey,Math.max(o.batchId,i.largestBatchId))}}class O{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=f=>this.it(f),this.rt=f=>o.writeSequenceNumber(f))}it(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.rt&&this.rt(i),i}}function I(u){let i=0;for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&i++;return i}function G(u,i){for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&i(o,u[o])}function Z(u){for(const i in u)if(Object.prototype.hasOwnProperty.call(u,i))return!1;return!0}O.ot=-1;class ye{constructor(i,o){this.comparator=i,this.root=o||yt.EMPTY}insert(i,o){return new ye(this.comparator,this.root.insert(i,o,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(i){return new ye(this.comparator,this.root.remove(i,this.comparator).copy(null,null,yt.BLACK,null,null))}get(i){let o=this.root;for(;!o.isEmpty();){const f=this.comparator(i,o.key);if(0===f)return o.value;f<0?o=o.left:f>0&&(o=o.right)}return null}indexOf(i){let o=0,f=this.root;for(;!f.isEmpty();){const v=this.comparator(i,f.key);if(0===v)return o+f.left.size;v<0?f=f.left:(o+=f.left.size+1,f=f.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((o,f)=>(i(o,f),!1))}toString(){const i=[];return this.inorderTraversal((o,f)=>(i.push(`${o}:${f}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new qe(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new qe(this.root,i,this.comparator,!1)}getReverseIterator(){return new qe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new qe(this.root,i,this.comparator,!0)}}class qe{constructor(i,o,f,v){this.isReverse=v,this.nodeStack=[];let w=1;for(;!i.isEmpty();)if(w=o?f(i.key,o):1,o&&v&&(w*=-1),w<0)i=this.isReverse?i.left:i.right;else{if(0===w){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const o={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class yt{constructor(i,o,f,v,w){this.key=i,this.value=o,this.color=f??yt.RED,this.left=v??yt.EMPTY,this.right=w??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,o,f,v,w){return new yt(i??this.key,o??this.value,f??this.color,v??this.left,w??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,o,f){let v=this;const w=f(i,v.key);return v=w<0?v.copy(null,null,null,v.left.insert(i,o,f),null):0===w?v.copy(null,o,null,null,null):v.copy(null,null,null,null,v.right.insert(i,o,f)),v.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,o){let f,v=this;if(o(i,v.key)<0)v.left.isEmpty()||v.left.isRed()||v.left.left.isRed()||(v=v.moveRedLeft()),v=v.copy(null,null,null,v.left.remove(i,o),null);else{if(v.left.isRed()&&(v=v.rotateRight()),v.right.isEmpty()||v.right.isRed()||v.right.left.isRed()||(v=v.moveRedRight()),0===o(i,v.key)){if(v.right.isEmpty())return yt.EMPTY;f=v.right.min(),v=v.copy(f.key,f.value,null,null,v.right.removeMin())}v=v.copy(null,null,null,null,v.right.remove(i,o))}return v.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,o)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jr();const i=this.left.check();if(i!==this.right.check())throw Jr();return i+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1,yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Jr()}get value(){throw Jr()}get color(){throw Jr()}get left(){throw Jr()}get right(){throw Jr()}copy(u,i,o,f,v){return this}insert(u,i,o){return new yt(u,i)}remove(u,i){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(i){this.comparator=i,this.data=new ye(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((o,f)=>(i(o),!1))}forEachInRange(i,o){const f=this.data.getIteratorFrom(i[0]);for(;f.hasNext();){const v=f.getNext();if(this.comparator(v.key,i[1])>=0)return;o(v.key)}}forEachWhile(i,o){let f;for(f=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();f.hasNext();)if(!i(f.getNext().key))return}firstAfterOrEqual(i){const o=this.data.getIteratorFrom(i);return o.hasNext()?o.getNext().key:null}getIterator(){return new Er(this.data.getIterator())}getIteratorFrom(i){return new Er(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let o=this;return o.size<i.size&&(o=i,i=this),i.forEach(f=>{o=o.add(f)}),o}isEqual(i){if(!(i instanceof xn)||this.size!==i.size)return!1;const o=this.data.getIterator(),f=i.data.getIterator();for(;o.hasNext();){const v=o.getNext().key,w=f.getNext().key;if(0!==this.comparator(v,w))return!1}return!0}toArray(){const i=[];return this.forEach(o=>{i.push(o)}),i}toString(){const i=[];return this.forEach(o=>i.push(o)),"SortedSet("+i.toString()+")"}copy(i){const o=new xn(this.comparator);return o.data=i,o}}class Er{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fi(u){return u.hasNext()?u.getNext():void 0}class Pr{constructor(i){this.fields=i,i.sort(So.comparator)}static empty(){return new Pr([])}unionWith(i){let o=new xn(So.comparator);for(const f of this.fields)o=o.add(f);for(const f of i)o=o.add(f);return new Pr(o.toArray())}covers(i){for(const o of this.fields)if(o.isPrefixOf(i))return!0;return!1}isEqual(i){return Vs(this.fields,i.fields,(o,f)=>o.isEqual(f))}}class Mi{constructor(i){this.binaryString=i}static fromBase64String(i){const o=atob(i);return new Mi(o)}static fromUint8Array(i){const o=function(f){let v="";for(let w=0;w<f.length;++w)v+=String.fromCharCode(f[w]);return v}(i);return new Mi(o)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let f=0;f<i.length;f++)o[f]=i.charCodeAt(f);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return _i(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const To=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(u){if(gi(!!u),"string"==typeof u){let i=0;const o=To.exec(u);if(gi(!!o),o[1]){let v=o[1];v=(v+"000000000").substr(0,9),i=Number(v)}const f=new Date(u);return{seconds:Math.floor(f.getTime()/1e3),nanos:i}}return{seconds:Ui(u.seconds),nanos:Ui(u.nanos)}}function Ui(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function dl(u){return"string"==typeof u?Mi.fromBase64String(u):Mi.fromUint8Array(u)}function Ha(u){var i,o;return"server_timestamp"===(null===(o=((null===(i=u?.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function bc(u){const i=u.mapValue.fields.__previous_value__;return Ha(i)?bc(i):i}function lc(u){const i=Xs(u.mapValue.fields.__local_write_time__.timestampValue);return new xs(i.seconds,i.nanos)}class sf{constructor(i,o,f,v,w,T,L,re){this.databaseId=i,this.appId=o,this.persistenceKey=f,this.host=v,this.ssl=w,this.forceLongPolling=T,this.autoDetectLongPolling=L,this.useFetchStreams=re}}class Sa{constructor(i,o){this.projectId=i,this.database=o||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Sa&&i.projectId===this.projectId&&i.database===this.database}}function Cc(u){return null==u}function Tl(u){return 0===u&&1/u==-1/0}function Ga(u){return"number"==typeof u&&Number.isInteger(u)&&!Tl(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}const el={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kd={nullValue:"NULL_VALUE"};function Ta(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Ha(u)?4:$t(u)?9007199254740991:10:Jr()}function mo(u,i){if(u===i)return!0;const o=Ta(u);if(o!==Ta(i))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===i.booleanValue;case 4:return lc(u).isEqual(lc(i));case 3:return function(f,v){if("string"==typeof f.timestampValue&&"string"==typeof v.timestampValue&&f.timestampValue.length===v.timestampValue.length)return f.timestampValue===v.timestampValue;const w=Xs(f.timestampValue),T=Xs(v.timestampValue);return w.seconds===T.seconds&&w.nanos===T.nanos}(u,i);case 5:return u.stringValue===i.stringValue;case 6:return v=i,dl(u.bytesValue).isEqual(dl(v.bytesValue));case 7:return u.referenceValue===i.referenceValue;case 8:return function(f,v){return Ui(f.geoPointValue.latitude)===Ui(v.geoPointValue.latitude)&&Ui(f.geoPointValue.longitude)===Ui(v.geoPointValue.longitude)}(u,i);case 2:return function(f,v){if("integerValue"in f&&"integerValue"in v)return Ui(f.integerValue)===Ui(v.integerValue);if("doubleValue"in f&&"doubleValue"in v){const w=Ui(f.doubleValue),T=Ui(v.doubleValue);return w===T?Tl(w)===Tl(T):isNaN(w)&&isNaN(T)}return!1}(u,i);case 9:return Vs(u.arrayValue.values||[],i.arrayValue.values||[],mo);case 10:return function(f,v){const w=f.mapValue.fields||{},T=v.mapValue.fields||{};if(I(w)!==I(T))return!1;for(const L in w)if(w.hasOwnProperty(L)&&(void 0===T[L]||!mo(w[L],T[L])))return!1;return!0}(u,i);default:return Jr()}var v}function _o(u,i){return void 0!==(u.values||[]).find(o=>mo(o,i))}function ro(u,i){if(u===i)return 0;const o=Ta(u),f=Ta(i);if(o!==f)return _i(o,f);switch(o){case 0:case 9007199254740991:return 0;case 1:return _i(u.booleanValue,i.booleanValue);case 2:return function(v,w){const T=Ui(v.integerValue||v.doubleValue),L=Ui(w.integerValue||w.doubleValue);return T<L?-1:T>L?1:T===L?0:isNaN(T)?isNaN(L)?0:-1:1}(u,i);case 3:return Dc(u.timestampValue,i.timestampValue);case 4:return Dc(lc(u),lc(i));case 5:return _i(u.stringValue,i.stringValue);case 6:return function(v,w){const T=dl(v),L=dl(w);return T.compareTo(L)}(u.bytesValue,i.bytesValue);case 7:return function(v,w){const T=v.split("/"),L=w.split("/");for(let re=0;re<T.length&&re<L.length;re++){const he=_i(T[re],L[re]);if(0!==he)return he}return _i(T.length,L.length)}(u.referenceValue,i.referenceValue);case 8:return function(v,w){const T=_i(Ui(v.latitude),Ui(w.latitude));return 0!==T?T:_i(Ui(v.longitude),Ui(w.longitude))}(u.geoPointValue,i.geoPointValue);case 9:return function(v,w){const T=v.values||[],L=w.values||[];for(let re=0;re<T.length&&re<L.length;++re){const he=ro(T[re],L[re]);if(he)return he}return _i(T.length,L.length)}(u.arrayValue,i.arrayValue);case 10:return function(v,w){if(v===el.mapValue&&w===el.mapValue)return 0;if(v===el.mapValue)return 1;if(w===el.mapValue)return-1;const T=v.fields||{},L=Object.keys(T),re=w.fields||{},he=Object.keys(re);L.sort(),he.sort();for(let Be=0;Be<L.length&&Be<he.length;++Be){const Ct=_i(L[Be],he[Be]);if(0!==Ct)return Ct;const bn=ro(T[L[Be]],re[he[Be]]);if(0!==bn)return bn}return _i(L.length,he.length)}(u.mapValue,i.mapValue);default:throw Jr()}}function Dc(u,i){if("string"==typeof u&&"string"==typeof i&&u.length===i.length)return _i(u,i);const o=Xs(u),f=Xs(i),v=_i(o.seconds,f.seconds);return 0!==v?v:_i(o.nanos,f.nanos)}function cc(u){return io(u)}function io(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(f){const v=Xs(f);return`time(${v.seconds},${v.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?dl(u.bytesValue).toBase64():"referenceValue"in u?br.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(i=u.geoPointValue).latitude},${i.longitude})`:"arrayValue"in u?function(f){let v="[",w=!0;for(const T of f.values||[])w?w=!1:v+=",",v+=io(T);return v+"]"}(u.arrayValue):"mapValue"in u?function(f){const v=Object.keys(f.fields||{}).sort();let w="{",T=!0;for(const L of v)T?T=!1:w+=",",w+=`${L}:${io(f.fields[L])}`;return w+"}"}(u.mapValue):Jr();var i}function Sc(u,i){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${i.path.canonicalString()}`}}function rd(u){return!!u&&"integerValue"in u}function Tc(u){return!!u&&"arrayValue"in u}function z(u){return!!u&&"nullValue"in u}function te(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function we(u){return!!u&&"mapValue"in u}function lt(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const i={mapValue:{fields:{}}};return G(u.mapValue.fields,(o,f)=>i.mapValue.fields[o]=lt(f)),i}if(u.arrayValue){const i={arrayValue:{values:[]}};for(let o=0;o<(u.arrayValue.values||[]).length;++o)i.arrayValue.values[o]=lt(u.arrayValue.values[o]);return i}return Object.assign({},u)}function $t(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cn(u){return"nullValue"in u?kd:"booleanValue"in u?{booleanValue:!1}:"integerValue"in u||"doubleValue"in u?{doubleValue:NaN}:"timestampValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in u?{stringValue:""}:"bytesValue"in u?{bytesValue:""}:"referenceValue"in u?Sc(Sa.empty(),br.empty()):"geoPointValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in u?{arrayValue:{}}:"mapValue"in u?{mapValue:{}}:Jr()}function lr(u){return"nullValue"in u?{booleanValue:!1}:"booleanValue"in u?{doubleValue:NaN}:"integerValue"in u||"doubleValue"in u?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in u?{stringValue:""}:"stringValue"in u?{bytesValue:""}:"bytesValue"in u?Sc(Sa.empty(),br.empty()):"referenceValue"in u?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in u?{arrayValue:{}}:"arrayValue"in u?{mapValue:{}}:"mapValue"in u?el:Jr()}function Cr(u,i){const o=ro(u.value,i.value);return 0!==o?o:u.inclusive&&!i.inclusive?-1:!u.inclusive&&i.inclusive?1:0}function yi(u,i){const o=ro(u.value,i.value);return 0!==o?o:u.inclusive&&!i.inclusive?1:!u.inclusive&&i.inclusive?-1:0}class li{constructor(i){this.value=i}static empty(){return new li({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let o=this.value;for(let f=0;f<i.length-1;++f)if(o=(o.mapValue.fields||{})[i.get(f)],!we(o))return null;return o=(o.mapValue.fields||{})[i.lastSegment()],o||null}}set(i,o){this.getFieldsMap(i.popLast())[i.lastSegment()]=lt(o)}setAll(i){let o=So.emptyPath(),f={},v=[];i.forEach((T,L)=>{if(!o.isImmediateParentOf(L)){const re=this.getFieldsMap(o);this.applyChanges(re,f,v),f={},v=[],o=L.popLast()}T?f[L.lastSegment()]=lt(T):v.push(L.lastSegment())});const w=this.getFieldsMap(o);this.applyChanges(w,f,v)}delete(i){const o=this.field(i.popLast());we(o)&&o.mapValue.fields&&delete o.mapValue.fields[i.lastSegment()]}isEqual(i){return mo(this.value,i.value)}getFieldsMap(i){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let f=0;f<i.length;++f){let v=o.mapValue.fields[i.get(f)];we(v)&&v.mapValue.fields||(v={mapValue:{fields:{}}},o.mapValue.fields[i.get(f)]=v),o=v}return o.mapValue.fields}applyChanges(i,o,f){G(o,(v,w)=>i[v]=w);for(const v of f)delete i[v]}clone(){return new li(lt(this.value))}}function Li(u){const i=[];return G(u.fields,(o,f)=>{const v=new So([o]);if(we(f)){const w=Li(f.mapValue).fields;if(0===w.length)i.push(v);else for(const T of w)i.push(v.child(T))}else i.push(v)}),new Pr(i)}class Rr{constructor(i,o,f,v,w,T){this.key=i,this.documentType=o,this.version=f,this.readTime=v,this.data=w,this.documentState=T}static newInvalidDocument(i){return new Rr(i,0,ri.min(),ri.min(),li.empty(),0)}static newFoundDocument(i,o,f){return new Rr(i,1,o,ri.min(),f,0)}static newNoDocument(i,o){return new Rr(i,2,o,ri.min(),li.empty(),0)}static newUnknownDocument(i,o){return new Rr(i,3,o,ri.min(),li.empty(),2)}convertToFoundDocument(i,o){return this.version=i,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ri.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Rr&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ha{constructor(i,o=null,f=[],v=[],w=null,T=null,L=null){this.path=i,this.collectionGroup=o,this.orderBy=f,this.filters=v,this.limit=w,this.startAt=T,this.endAt=L,this.ut=null}}function fs(u,i=null,o=[],f=[],v=null,w=null,T=null){return new ha(u,i,o,f,v,w,T)}function hl(u){const i=Fr(u);if(null===i.ut){let o=i.path.canonicalString();null!==i.collectionGroup&&(o+="|cg:"+i.collectionGroup),o+="|f:",o+=i.filters.map(f=>{return(v=f).field.canonicalString()+v.op.toString()+cc(v.value);var v}).join(","),o+="|ob:",o+=i.orderBy.map(f=>{return(v=f).field.canonicalString()+v.dir;var v}).join(","),Cc(i.limit)||(o+="|l:",o+=i.limit),i.startAt&&(o+="|lb:",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(f=>cc(f)).join(",")),i.endAt&&(o+="|ub:",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(f=>cc(f)).join(",")),i.ut=o}return i.ut}function va(u,i){if(u.limit!==i.limit||u.orderBy.length!==i.orderBy.length)return!1;for(let v=0;v<u.orderBy.length;v++)if(!id(u.orderBy[v],i.orderBy[v]))return!1;if(u.filters.length!==i.filters.length)return!1;for(let v=0;v<u.filters.length;v++)if((o=u.filters[v]).op!==(f=i.filters[v]).op||!o.field.isEqual(f.field)||!mo(o.value,f.value))return!1;var o,f;return u.collectionGroup===i.collectionGroup&&!!u.path.isEqual(i.path)&&!!ws(u.startAt,i.startAt)&&ws(u.endAt,i.endAt)}function Wc(u){return br.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}function Ac(u,i){return u.filters.filter(o=>o instanceof Mo&&o.field.isEqual(i))}function $c(u,i,o){let f=kd,v=!0;for(const w of Ac(u,i)){let T=kd,L=!0;switch(w.op){case"<":case"<=":T=Cn(w.value);break;case"==":case"in":case">=":T=w.value;break;case">":T=w.value,L=!1;break;case"!=":case"not-in":T=kd}Cr({value:f,inclusive:v},{value:T,inclusive:L})<0&&(f=T,v=L)}if(null!==o)for(let w=0;w<u.orderBy.length;++w)if(u.orderBy[w].field.isEqual(i)){const T=o.position[w];Cr({value:f,inclusive:v},{value:T,inclusive:o.inclusive})<0&&(f=T,v=o.inclusive);break}return{value:f,inclusive:v}}function Ic(u,i,o){let f=el,v=!0;for(const w of Ac(u,i)){let T=el,L=!0;switch(w.op){case">=":case">":T=lr(w.value),L=!1;break;case"==":case"in":case"<=":T=w.value;break;case"<":T=w.value,L=!1;break;case"!=":case"not-in":T=el}yi({value:f,inclusive:v},{value:T,inclusive:L})>0&&(f=T,v=L)}if(null!==o)for(let w=0;w<u.orderBy.length;++w)if(u.orderBy[w].field.isEqual(i)){const T=o.position[w];yi({value:f,inclusive:v},{value:T,inclusive:o.inclusive})>0&&(f=T,v=o.inclusive);break}return{value:f,inclusive:v}}class Mo extends class{}{constructor(i,o,f){super(),this.field=i,this.op=o,this.value=f}static create(i,o,f){return i.isKeyField()?"in"===o||"not-in"===o?this.ct(i,o,f):new zl(i,o,f):"array-contains"===o?new gh(i,f):"in"===o?new Md(i,f):"not-in"===o?new Tg(i,f):"array-contains-any"===o?new y0(i,f):new Mo(i,o,f)}static ct(i,o,f){return"in"===o?new Kc(i,f):new v0(i,f)}matches(i){const o=i.data.field(this.field);return"!="===this.op?null!==o&&this.at(ro(o,this.value)):null!==o&&Ta(this.value)===Ta(o)&&this.at(ro(o,this.value))}at(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Jr()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zl extends Mo{constructor(i,o,f){super(i,o,f),this.key=br.fromName(f.referenceValue)}matches(i){const o=br.comparator(i.key,this.key);return this.at(o)}}class Kc extends Mo{constructor(i,o){super(i,"in",o),this.keys=xu(0,o)}matches(i){return this.keys.some(o=>o.isEqual(i.key))}}class v0 extends Mo{constructor(i,o){super(i,"not-in",o),this.keys=xu(0,o)}matches(i){return!this.keys.some(o=>o.isEqual(i.key))}}function xu(u,i){var o;return((null===(o=i.arrayValue)||void 0===o?void 0:o.values)||[]).map(f=>br.fromName(f.referenceValue))}class gh extends Mo{constructor(i,o){super(i,"array-contains",o)}matches(i){const o=i.data.field(this.field);return Tc(o)&&_o(o.arrayValue,this.value)}}class Md extends Mo{constructor(i,o){super(i,"in",o)}matches(i){const o=i.data.field(this.field);return null!==o&&_o(this.value.arrayValue,o)}}class Tg extends Mo{constructor(i,o){super(i,"not-in",o)}matches(i){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=i.data.field(this.field);return null!==o&&!_o(this.value.arrayValue,o)}}class y0 extends Mo{constructor(i,o){super(i,"array-contains-any",o)}matches(i){const o=i.data.field(this.field);return!(!Tc(o)||!o.arrayValue.values)&&o.arrayValue.values.some(f=>_o(this.value.arrayValue,f))}}class Ii{constructor(i,o){this.position=i,this.inclusive=o}}class Yc{constructor(i,o="asc"){this.field=i,this.dir=o}}function id(u,i){return u.dir===i.dir&&u.field.isEqual(i.field)}function sd(u,i,o){let f=0;for(let v=0;v<u.position.length;v++){const w=i[v],T=u.position[v];if(f=w.field.isKeyField()?br.comparator(br.fromName(T.referenceValue),o.key):ro(T,o.data.field(w.field)),"desc"===w.dir&&(f*=-1),0!==f)break}return f}function ws(u,i){if(null===u)return null===i;if(null===i||u.inclusive!==i.inclusive||u.position.length!==i.position.length)return!1;for(let o=0;o<u.position.length;o++)if(!mo(u.position[o],i.position[o]))return!1;return!0}class Wl{constructor(i,o=null,f=[],v=[],w=null,T="F",L=null,re=null){this.path=i,this.collectionGroup=o,this.explicitOrderBy=f,this.filters=v,this.limit=w,this.limitType=T,this.startAt=L,this.endAt=re,this.lt=null,this.ft=null}}function Rd(u,i,o,f,v,w,T,L){return new Wl(u,i,o,f,v,w,T,L)}function uc(u){return new Wl(u)}function op(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function ap(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function Ag(u){for(const i of u.filters)if(i.ht())return i.field;return null}function od(u){return null!==u.collectionGroup}function Aa(u){const i=Fr(u);if(null===i.lt){i.lt=[];const o=Ag(i),f=ap(i);if(null!==o&&null===f)o.isKeyField()||i.lt.push(new Yc(o)),i.lt.push(new Yc(So.keyField(),"asc"));else{let v=!1;for(const w of i.explicitOrderBy)i.lt.push(w),w.field.isKeyField()&&(v=!0);if(!v){const w=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.lt.push(new Yc(So.keyField(),w))}}}return i.lt}function tl(u){const i=Fr(u);if(!i.ft)if("F"===i.limitType)i.ft=fs(i.path,i.collectionGroup,Aa(i),i.filters,i.limit,i.startAt,i.endAt);else{const o=[];for(const w of Aa(i))o.push(new Yc(w.field,"desc"===w.dir?"asc":"desc"));const f=i.endAt?new Ii(i.endAt.position,i.endAt.inclusive):null,v=i.startAt?new Ii(i.startAt.position,i.startAt.inclusive):null;i.ft=fs(i.path,i.collectionGroup,o,i.filters,i.limit,f,v)}return i.ft}function Od(u,i,o){return new Wl(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),i,o,u.startAt,u.endAt)}function wu(u,i){return va(tl(u),tl(i))&&u.limitType===i.limitType}function qc(u){return`${hl(tl(u))}|lt:${u.limitType}`}function dc(u){return`Query(target=${function Al(u){let i=u.path.canonicalString();return null!==u.collectionGroup&&(i+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(i+=`, filters: [${u.filters.map(o=>{return`${(f=o).field.canonicalString()} ${f.op} ${cc(f.value)}`;var f}).join(", ")}]`),Cc(u.limit)||(i+=", limit: "+u.limit),u.orderBy.length>0&&(i+=`, orderBy: [${u.orderBy.map(o=>{return`${(f=o).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),u.startAt&&(i+=", startAt: ",i+=u.startAt.inclusive?"b:":"a:",i+=u.startAt.position.map(o=>cc(o)).join(",")),u.endAt&&(i+=", endAt: ",i+=u.endAt.inclusive?"a:":"b:",i+=u.endAt.position.map(o=>cc(o)).join(",")),`Target(${i})`}(tl(u))}; limitType=${u.limitType})`}function af(u,i){return i.isFoundDocument()&&function(o,f){const v=f.key.path;return null!==o.collectionGroup?f.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(v):br.isDocumentKey(o.path)?o.path.isEqual(v):o.path.isImmediateParentOf(v)}(u,i)&&function(o,f){for(const v of o.explicitOrderBy)if(!v.field.isKeyField()&&null===f.data.field(v.field))return!1;return!0}(u,i)&&function(o,f){for(const v of o.filters)if(!v.matches(f))return!1;return!0}(u,i)&&(f=i,!((o=u).startAt&&!function(v,w,T){const L=sd(v,w,T);return v.inclusive?L<=0:L<0}(o.startAt,Aa(o),f)||o.endAt&&!function(v,w,T){const L=sd(v,w,T);return v.inclusive?L>=0:L>0}(o.endAt,Aa(o),f)));var o,f}function mh(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}function Ig(u){return(i,o)=>{let f=!1;for(const v of Aa(u)){const w=lp(v,i,o);if(0!==w)return w;f=f||v.field.isKeyField()}return 0}}function lp(u,i,o){const f=u.field.isKeyField()?br.comparator(i.key,o.key):function(v,w,T){const L=w.data.field(v),re=T.data.field(v);return null!==L&&null!==re?ro(L,re):Jr()}(u.field,i,o);switch(u.dir){case"asc":return f;case"desc":return-1*f;default:return Jr()}}function kc(u,i){if(u.dt){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(i)?"-0":i}}function Zc(u){return{integerValue:""+u}}function cp(u,i){return Ga(i)?Zc(i):kc(u,i)}class ad{constructor(){this._=void 0}}function lf(u,i,o){return u instanceof Fd?function(f,v){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:f.seconds,nanos:f.nanoseconds}}}};return v&&(w.fields.__previous_value__=v),{mapValue:w}}(o,i):u instanceof Qc?R(u,i):u instanceof C?S(u,i):function(f,v){const w=kg(f,v),T=Ee(w)+Ee(f._t);return rd(w)&&rd(f._t)?Zc(T):kc(f.wt,T)}(u,i)}function x0(u,i,o){return u instanceof Qc?R(u,i):u instanceof C?S(u,i):o}function kg(u,i){return u instanceof N?rd(o=i)||(f=o)&&"doubleValue"in f?i:{integerValue:0}:null;var f,o}class Fd extends ad{}class Qc extends ad{constructor(i){super(),this.elements=i}}function R(u,i){const o=je(i);for(const f of u.elements)o.some(v=>mo(v,f))||o.push(f);return{arrayValue:{values:o}}}class C extends ad{constructor(i){super(),this.elements=i}}function S(u,i){let o=je(i);for(const f of u.elements)o=o.filter(v=>!mo(v,f));return{arrayValue:{values:o}}}class N extends ad{constructor(i,o){super(),this.wt=i,this._t=o}}function Ee(u){return Ui(u.integerValue||u.doubleValue)}function je(u){return Tc(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class an{constructor(i,o){this.field=i,this.transform=o}}class Gr{constructor(i,o){this.version=i,this.transformResults=o}}class Nr{constructor(i,o){this.updateTime=i,this.exists=o}static none(){return new Nr}static exists(i){return new Nr(void 0,i)}static updateTime(i){return new Nr(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Bi(u,i){return void 0!==u.updateTime?i.isFoundDocument()&&i.version.isEqual(u.updateTime):void 0===u.exists||u.exists===i.isFoundDocument()}class Gs{}function $l(u,i){if(!u.hasLocalMutations||i&&0===i.fields.length)return null;if(null===i)return u.isNoDocument()?new bu(u.key,Nr.none()):new Xc(u.key,u.data,Nr.none());{const o=u.data,f=li.empty();let v=new xn(So.comparator);for(let w of i.fields)if(!v.has(w)){let T=o.field(w);null===T&&w.length>1&&(w=w.popLast(),T=o.field(w)),null===T?f.delete(w):f.set(w,T),v=v.add(w)}return new Il(u.key,f,new Pr(v.toArray()),Nr.none())}}function Mc(u,i,o){u instanceof Xc?function(f,v,w){const T=f.value.clone(),L=up(f.fieldTransforms,v,w.transformResults);T.setAll(L),v.convertToFoundDocument(w.version,T).setHasCommittedMutations()}(u,i,o):u instanceof Il?function(f,v,w){if(!Bi(f.precondition,v))return void v.convertToUnknownDocument(w.version);const T=up(f.fieldTransforms,v,w.transformResults),L=v.data;L.setAll(cf(f)),L.setAll(T),v.convertToFoundDocument(w.version,L).setHasCommittedMutations()}(u,i,o):i.convertToNoDocument(o.version).setHasCommittedMutations()}function Eu(u,i,o,f){return u instanceof Xc?function(v,w,T,L){if(!Bi(v.precondition,w))return T;const re=v.value.clone(),he=hc(v.fieldTransforms,L,w);return re.setAll(he),w.convertToFoundDocument(w.version,re).setHasLocalMutations(),null}(u,i,o,f):u instanceof Il?function(v,w,T,L){if(!Bi(v.precondition,w))return T;const re=hc(v.fieldTransforms,L,w),he=w.data;return he.setAll(cf(v)),he.setAll(re),w.convertToFoundDocument(w.version,he).setHasLocalMutations(),null===T?null:T.unionWith(v.fieldMask.fields).unionWith(v.fieldTransforms.map(Be=>Be.field))}(u,i,o,f):(T=o,Bi(u.precondition,w=i)?(w.convertToNoDocument(w.version).setHasLocalMutations(),null):T);var w,T}function Mg(u,i){let o=null;for(const f of u.fieldTransforms){const v=i.data.field(f.field),w=kg(f.transform,v||null);null!=w&&(null===o&&(o=li.empty()),o.set(f.field,w))}return o||null}function ld(u,i){return u.type===i.type&&!!u.key.isEqual(i.key)&&!!u.precondition.isEqual(i.precondition)&&(f=i.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===f||o&&f&&Vs(o,f,(v,w)=>function rr(u,i){return u.field.isEqual(i.field)&&(f=i.transform,(o=u.transform)instanceof Qc&&f instanceof Qc||o instanceof C&&f instanceof C?Vs(o.elements,f.elements,mo):o instanceof N&&f instanceof N?mo(o._t,f._t):o instanceof Fd&&f instanceof Fd);var o,f}(v,w))))&&(0===u.type?u.value.isEqual(i.value):1!==u.type||u.data.isEqual(i.data)&&u.fieldMask.isEqual(i.fieldMask));var o,f}class Xc extends Gs{constructor(i,o,f,v=[]){super(),this.key=i,this.value=o,this.precondition=f,this.fieldTransforms=v,this.type=0}getFieldMask(){return null}}class Il extends Gs{constructor(i,o,f,v,w=[]){super(),this.key=i,this.data=o,this.fieldMask=f,this.precondition=v,this.fieldTransforms=w,this.type=1}getFieldMask(){return this.fieldMask}}function cf(u){const i=new Map;return u.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const f=u.data.field(o);i.set(o,f)}}),i}function up(u,i,o){const f=new Map;gi(u.length===o.length);for(let v=0;v<o.length;v++){const w=u[v],T=w.transform,L=i.data.field(w.field);f.set(w.field,x0(T,L,o[v]))}return f}function hc(u,i,o){const f=new Map;for(const v of u){const w=v.transform,T=o.data.field(v.field);f.set(v.field,lf(w,T,i))}return f}class bu extends Gs{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uf extends Gs{constructor(i,o){super(),this.key=i,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wo{constructor(i){this.count=i}}var as,Ci;function fl(u){switch(u){default:return Jr();case on.CANCELLED:case on.UNKNOWN:case on.DEADLINE_EXCEEDED:case on.RESOURCE_EXHAUSTED:case on.INTERNAL:case on.UNAVAILABLE:case on.UNAUTHENTICATED:return!1;case on.INVALID_ARGUMENT:case on.NOT_FOUND:case on.ALREADY_EXISTS:case on.PERMISSION_DENIED:case on.FAILED_PRECONDITION:case on.ABORTED:case on.OUT_OF_RANGE:case on.UNIMPLEMENTED:case on.DATA_LOSS:return!0}}function Rg(u){if(void 0===u)return Pi("GRPC error has no .code"),on.UNKNOWN;switch(u){case as.OK:return on.OK;case as.CANCELLED:return on.CANCELLED;case as.UNKNOWN:return on.UNKNOWN;case as.DEADLINE_EXCEEDED:return on.DEADLINE_EXCEEDED;case as.RESOURCE_EXHAUSTED:return on.RESOURCE_EXHAUSTED;case as.INTERNAL:return on.INTERNAL;case as.UNAVAILABLE:return on.UNAVAILABLE;case as.UNAUTHENTICATED:return on.UNAUTHENTICATED;case as.INVALID_ARGUMENT:return on.INVALID_ARGUMENT;case as.NOT_FOUND:return on.NOT_FOUND;case as.ALREADY_EXISTS:return on.ALREADY_EXISTS;case as.PERMISSION_DENIED:return on.PERMISSION_DENIED;case as.FAILED_PRECONDITION:return on.FAILED_PRECONDITION;case as.ABORTED:return on.ABORTED;case as.OUT_OF_RANGE:return on.OUT_OF_RANGE;case as.UNIMPLEMENTED:return on.UNIMPLEMENTED;case as.DATA_LOSS:return on.DATA_LOSS;default:return Jr()}}(Ci=as||(as={}))[Ci.OK=0]="OK",Ci[Ci.CANCELLED=1]="CANCELLED",Ci[Ci.UNKNOWN=2]="UNKNOWN",Ci[Ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ci[Ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ci[Ci.NOT_FOUND=5]="NOT_FOUND",Ci[Ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ci[Ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ci[Ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ci[Ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ci[Ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ci[Ci.ABORTED=10]="ABORTED",Ci[Ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ci[Ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ci[Ci.INTERNAL=13]="INTERNAL",Ci[Ci.UNAVAILABLE=14]="UNAVAILABLE",Ci[Ci.DATA_LOSS=15]="DATA_LOSS";class Cu{constructor(i,o){this.mapKeyFn=i,this.equalsFn=o,this.inner={},this.innerSize=0}get(i){const o=this.mapKeyFn(i),f=this.inner[o];if(void 0!==f)for(const[v,w]of f)if(this.equalsFn(v,i))return w}has(i){return void 0!==this.get(i)}set(i,o){const f=this.mapKeyFn(i),v=this.inner[f];if(void 0===v)return this.inner[f]=[[i,o]],void this.innerSize++;for(let w=0;w<v.length;w++)if(this.equalsFn(v[w][0],i))return void(v[w]=[i,o]);v.push([i,o]),this.innerSize++}delete(i){const o=this.mapKeyFn(i),f=this.inner[o];if(void 0===f)return!1;for(let v=0;v<f.length;v++)if(this.equalsFn(f[v][0],i))return 1===f.length?delete this.inner[o]:f.splice(v,1),this.innerSize--,!0;return!1}forEach(i){G(this.inner,(o,f)=>{for(const[v,w]of f)i(v,w)})}isEmpty(){return Z(this.inner)}size(){return this.innerSize}}const Kv=new ye(br.comparator);function ls(){return Kv}const Yv=new ye(br.comparator);function dp(...u){let i=Yv;for(const o of u)i=i.insert(o.key,o);return i}function Du(u){let i=Yv;return u.forEach((o,f)=>i=i.insert(o,f.overlayedDocument)),i}function kl(){return df()}function Pd(){return df()}function df(){return new Cu(u=>u.toString(),(u,i)=>u.isEqual(i))}const kw=new ye(br.comparator),Mw=new xn(br.comparator);function qi(...u){let i=Mw;for(const o of u)i=i.add(o);return i}const m1=new xn(_i);function hf(){return m1}class Su{constructor(i,o,f,v,w){this.snapshotVersion=i,this.targetChanges=o,this.targetMismatches=f,this.documentUpdates=v,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(i,o){const f=new Map;return f.set(i,_h.createSynthesizedTargetChangeForCurrentChange(i,o)),new Su(ri.min(),f,hf(),ls(),qi())}}class _h{constructor(i,o,f,v,w){this.resumeToken=i,this.current=o,this.addedDocuments=f,this.modifiedDocuments=v,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(i,o){return new _h(Mi.EMPTY_BYTE_STRING,o,qi(),qi(),qi())}}class hp{constructor(i,o,f,v){this.gt=i,this.removedTargetIds=o,this.key=f,this.yt=v}}class Og{constructor(i,o){this.targetId=i,this.It=o}}class Fg{constructor(i,o,f=Mi.EMPTY_BYTE_STRING,v=null){this.state=i,this.targetIds=o,this.resumeToken=f,this.cause=v}}class Jc{constructor(){this.Tt=0,this.Et=Pg(),this.At=Mi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(i){i.approximateByteSize()>0&&(this.bt=!0,this.At=i)}St(){let i=qi(),o=qi(),f=qi();return this.Et.forEach((v,w)=>{switch(w){case 0:i=i.add(v);break;case 2:o=o.add(v);break;case 1:f=f.add(v);break;default:Jr()}}),new _h(this.At,this.Rt,i,o,f)}Dt(){this.bt=!1,this.Et=Pg()}Ct(i,o){this.bt=!0,this.Et=this.Et.insert(i,o)}xt(i){this.bt=!0,this.Et=this.Et.remove(i)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Nd{constructor(i){this.Ot=i,this.Ft=new Map,this.$t=ls(),this.Bt=w0(),this.Lt=new xn(_i)}Ut(i){for(const o of i.gt)i.yt&&i.yt.isFoundDocument()?this.qt(o,i.yt):this.Kt(o,i.key,i.yt);for(const o of i.removedTargetIds)this.Kt(o,i.key,i.yt)}Gt(i){this.forEachTarget(i,o=>{const f=this.Qt(o);switch(i.state){case 0:this.jt(o)&&f.Vt(i.resumeToken);break;case 1:f.kt(),f.Pt||f.Dt(),f.Vt(i.resumeToken);break;case 2:f.kt(),f.Pt||this.removeTarget(o);break;case 3:this.jt(o)&&(f.Mt(),f.Vt(i.resumeToken));break;case 4:this.jt(o)&&(this.Wt(o),f.Vt(i.resumeToken));break;default:Jr()}})}forEachTarget(i,o){i.targetIds.length>0?i.targetIds.forEach(o):this.Ft.forEach((f,v)=>{this.jt(v)&&o(v)})}zt(i){const o=i.targetId,f=i.It.count,v=this.Ht(o);if(v){const w=v.target;if(Wc(w))if(0===f){const T=new br(w.path);this.Kt(o,T,Rr.newNoDocument(T,ri.min()))}else gi(1===f);else this.Jt(o)!==f&&(this.Wt(o),this.Lt=this.Lt.add(o))}}Yt(i){const o=new Map;this.Ft.forEach((w,T)=>{const L=this.Ht(T);if(L){if(w.current&&Wc(L.target)){const re=new br(L.target.path);null!==this.$t.get(re)||this.Xt(T,re)||this.Kt(T,re,Rr.newNoDocument(re,i))}w.vt&&(o.set(T,w.St()),w.Dt())}});let f=qi();this.Bt.forEach((w,T)=>{let L=!0;T.forEachWhile(re=>{const he=this.Ht(re);return!he||2===he.purpose||(L=!1,!1)}),L&&(f=f.add(w))}),this.$t.forEach((w,T)=>T.setReadTime(i));const v=new Su(i,o,this.Lt,this.$t,f);return this.$t=ls(),this.Bt=w0(),this.Lt=new xn(_i),v}qt(i,o){if(!this.jt(i))return;const f=this.Xt(i,o.key)?2:0;this.Qt(i).Ct(o.key,f),this.$t=this.$t.insert(o.key,o),this.Bt=this.Bt.insert(o.key,this.Zt(o.key).add(i))}Kt(i,o,f){if(!this.jt(i))return;const v=this.Qt(i);this.Xt(i,o)?v.Ct(o,1):v.xt(o),this.Bt=this.Bt.insert(o,this.Zt(o).delete(i)),f&&(this.$t=this.$t.insert(o,f))}removeTarget(i){this.Ft.delete(i)}Jt(i){const o=this.Qt(i).St();return this.Ot.getRemoteKeysForTarget(i).size+o.addedDocuments.size-o.removedDocuments.size}Nt(i){this.Qt(i).Nt()}Qt(i){let o=this.Ft.get(i);return o||(o=new Jc,this.Ft.set(i,o)),o}Zt(i){let o=this.Bt.get(i);return o||(o=new xn(_i),this.Bt=this.Bt.insert(i,o)),o}jt(i){const o=null!==this.Ht(i);return o||hr("WatchChangeAggregator","Detected inactive target",i),o}Ht(i){const o=this.Ft.get(i);return o&&o.Pt?null:this.Ot.te(i)}Wt(i){this.Ft.set(i,new Jc),this.Ot.getRemoteKeysForTarget(i).forEach(o=>{this.Kt(i,o,null)})}Xt(i,o){return this.Ot.getRemoteKeysForTarget(i).has(o)}}function w0(){return new ye(br.comparator)}function Pg(){return new ye(br.comparator)}const _1={asc:"ASCENDING",desc:"DESCENDING"},qv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E0{constructor(i,o){this.databaseId=i,this.dt=o}}function cd(u,i){return u.dt?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Ng(u,i){return u.dt?i.toBase64():i.toUint8Array()}function Ld(u,i){return cd(u,i.toTimestamp())}function ja(u){return gi(!!u),ri.fromTimestamp(function(i){const o=Xs(i);return new xs(o.seconds,o.nanos)}(u))}function ff(u,i){return(o=u,new Wi(["projects",o.projectId,"databases",o.database])).child("documents").child(i).canonicalString();var o}function fp(u){const i=Wi.fromString(u);return gi(ry(i)),i}function pp(u,i){return ff(u.databaseId,i.path)}function vo(u,i){const o=fp(i);if(o.get(1)!==u.databaseId.projectId)throw new ir(on.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+u.databaseId.projectId);if(o.get(3)!==u.databaseId.database)throw new ir(on.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+u.databaseId.database);return new br(gf(o))}function pf(u,i){return ff(u.databaseId,i)}function Bd(u){const i=fp(u);return 4===i.length?Wi.emptyPath():gf(i)}function ud(u){return new Wi(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function gf(u){return gi(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function Zv(u,i,o){return{name:pp(u,i),fields:o.value.mapValue.fields}}function Qv(u,i,o){const f=vo(u,i.name),v=ja(i.updateTime),w=new li({mapValue:{fields:i.fields}}),T=Rr.newFoundDocument(f,v,w);return o&&T.setHasCommittedMutations(),o?T.setHasCommittedMutations():T}function gp(u,i){let o;if(i instanceof Xc)o={update:Zv(u,i.key,i.value)};else if(i instanceof bu)o={delete:pp(u,i.key)};else if(i instanceof Il)o={update:Zv(u,i.key,i.data),updateMask:mp(i.fieldMask)};else{if(!(i instanceof uf))return Jr();o={verify:pp(u,i.key)}}return i.fieldTransforms.length>0&&(o.updateTransforms=i.fieldTransforms.map(f=>function(v,w){const T=w.transform;if(T instanceof Fd)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof Qc)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof C)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof N)return{fieldPath:w.field.canonicalString(),increment:T._t};throw Jr()}(0,f))),i.precondition.isNone||(o.currentDocument=void 0!==(v=i.precondition).updateTime?{updateTime:Ld(u,v.updateTime)}:void 0!==v.exists?{exists:v.exists}:Jr()),o;var v}function b0(u,i){const o=i.currentDocument?void 0!==(v=i.currentDocument).updateTime?Nr.updateTime(ja(v.updateTime)):void 0!==v.exists?Nr.exists(v.exists):Nr.none():Nr.none(),f=i.updateTransforms?i.updateTransforms.map(v=>function(w,T){let L=null;"setToServerValue"in T?(gi("REQUEST_TIME"===T.setToServerValue),L=new Fd):"appendMissingElements"in T?L=new Qc(T.appendMissingElements.values||[]):"removeAllFromArray"in T?L=new C(T.removeAllFromArray.values||[]):"increment"in T?L=new N(w,T.increment):Jr();const re=So.fromServerFormat(T.fieldPath);return new an(re,L)}(u,v)):[];var v;if(i.update){const v=vo(u,i.update.name),w=new li({mapValue:{fields:i.update.fields}});if(i.updateMask){const T=new Pr((i.updateMask.fieldPaths||[]).map(he=>So.fromServerFormat(he)));return new Il(v,w,T,o,f)}return new Xc(v,w,o,f)}if(i.delete){const v=vo(u,i.delete);return new bu(v,o)}if(i.verify){const v=vo(u,i.verify);return new uf(v,o)}return Jr()}function Jv(u,i){return{documents:[pf(u,i.path)]}}function Lg(u,i){const o={structuredQuery:{}},f=i.path;null!==i.collectionGroup?(o.parent=pf(u,f),o.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o.parent=pf(u,f.popLast()),o.structuredQuery.from=[{collectionId:f.lastSegment()}]);const v=function(re){if(0===re.length)return;const he=re.map(Be=>function(Ct){if("=="===Ct.op){if(te(Ct.value))return{unaryFilter:{field:_f(Ct.field),op:"IS_NAN"}};if(z(Ct.value))return{unaryFilter:{field:_f(Ct.field),op:"IS_NULL"}}}else if("!="===Ct.op){if(te(Ct.value))return{unaryFilter:{field:_f(Ct.field),op:"IS_NOT_NAN"}};if(z(Ct.value))return{unaryFilter:{field:_f(Ct.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(Ct.field),op:v1(Ct.op),value:Ct.value}}}(Be));return 1===he.length?he[0]:{compositeFilter:{op:"AND",filters:he}}}(i.filters);v&&(o.structuredQuery.where=v);const w=function(re){if(0!==re.length)return re.map(he=>{return{field:_f((Be=he).field),direction:C0(Be.dir)};var Be})}(i.orderBy);w&&(o.structuredQuery.orderBy=w);const T=(he=i.limit,u.dt||Cc(he)?he:{value:he});var he,L,re;return null!==T&&(o.structuredQuery.limit=T),i.startAt&&(o.structuredQuery.startAt={before:(L=i.startAt).inclusive,values:L.position}),i.endAt&&(o.structuredQuery.endAt={before:!(re=i.endAt).inclusive,values:re.position}),o}function ey(u){let i=Bd(u.parent);const o=u.structuredQuery,f=o.from?o.from.length:0;let v=null;if(f>0){gi(1===f);const Be=o.from[0];Be.allDescendants?v=Be.collectionId:i=i.child(Be.collectionId)}let w=[];o.where&&(w=ny(o.where));let T=[];o.orderBy&&(T=o.orderBy.map(Be=>{return new Yc(Tu((Ct=Be).field),function(bn){switch(bn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ct.direction));var Ct}));let L=null;o.limit&&(L=function(Be){let Ct;return Ct="object"==typeof Be?Be.value:Be,Cc(Ct)?null:Ct}(o.limit));let re=null;var Be;o.startAt&&(re=new Ii((Be=o.startAt).values||[],!!Be.before));let he=null;return o.endAt&&(he=function(Be){return new Ii(Be.values||[],!Be.before)}(o.endAt)),Rd(i,v,T,w,L,"F",re,he)}function ny(u){return u?void 0!==u.unaryFilter?[vf(u)]:void 0!==u.fieldFilter?[Ow(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(i=>ny(i)).reduce((i,o)=>i.concat(o)):Jr():[]}function C0(u){return _1[u]}function v1(u){return qv[u]}function _f(u){return{fieldPath:u.canonicalString()}}function Tu(u){return So.fromServerFormat(u.fieldPath)}function Ow(u){return Mo.create(Tu(u.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jr()}}(u.fieldFilter.op),u.fieldFilter.value)}function vf(u){switch(u.unaryFilter.op){case"IS_NAN":const i=Tu(u.unaryFilter.field);return Mo.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Tu(u.unaryFilter.field);return Mo.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Tu(u.unaryFilter.field);return Mo.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Tu(u.unaryFilter.field);return Mo.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Jr()}}function mp(u){const i=[];return u.fields.forEach(o=>i.push(o.canonicalString())),{fieldPaths:i}}function ry(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function Kl(u){let i="";for(let o=0;o<u.length;o++)i.length>0&&(i=sy(i)),i=iy(u.get(o),i);return sy(i)}function iy(u,i){let o=i;const f=u.length;for(let v=0;v<f;v++){const w=u.charAt(v);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function sy(u){return u+"\x01\x01"}function Au(u){const i=u.length;if(gi(i>=2),2===i)return gi("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),Wi.emptyPath();const o=i-2,f=[];let v="";for(let w=0;w<i;){const T=u.indexOf("\x01",w);switch((T<0||T>o)&&Jr(),u.charAt(T+1)){case"\x01":const L=u.substring(w,T);let re;0===v.length?re=L:(v+=L,re=v,v=""),f.push(re);break;case"\x10":v+=u.substring(w,T),v+="\0";break;case"\x11":v+=u.substring(w,T+1);break;default:Jr()}w=T+2}return new Wi(f)}const oy=["userId","batchId"];function _p(u,i){return[u,Kl(i)]}function D0(u,i,o){return[u,Kl(i),o]}const Bg={},Fw=["prefixPath","collectionGroup","readTime","documentId"],Pw=["prefixPath","collectionGroup","documentId"],S0=["collectionGroup","readTime","prefixPath","documentId"],y1=["canonicalId","targetId"],x1=["targetId","path"],T0=["path","targetId"],Nw=["collectionId","parent"],w1=["indexId","uid"],E1=["uid","sequenceNumber"],Lw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b1=["indexId","uid","orderedDocumentKey"],Bw=["userId","collectionPath","documentId"],ay=["userId","collectionPath","largestBatchId"],Vg=["userId","collectionGroup","largestBatchId"],A0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],I0=[...A0,"documentOverlays"],k0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vp=k0,ly=[...vp,"indexConfiguration","indexState","indexEntries"];class yp extends ph{constructor(i,o){super(),this.ee=i,this.currentSequenceNumber=o}}function ia(u,i){const o=Fr(u);return zo.N(o.ee,i)}class M0{constructor(i,o,f,v){this.batchId=i,this.localWriteTime=o,this.baseMutations=f,this.mutations=v}applyToRemoteDocument(i,o){const f=o.mutationResults;for(let v=0;v<this.mutations.length;v++){const w=this.mutations[v];w.key.isEqual(i.key)&&Mc(w,i,f[v])}}applyToLocalView(i,o){for(const f of this.baseMutations)f.key.isEqual(i.key)&&(o=Eu(f,i,o,this.localWriteTime));for(const f of this.mutations)f.key.isEqual(i.key)&&(o=Eu(f,i,o,this.localWriteTime));return o}applyToLocalDocumentSet(i,o){const f=Pd();return this.mutations.forEach(v=>{const w=i.get(v.key),T=w.overlayedDocument;let L=this.applyToLocalView(T,w.mutatedFields);L=o.has(v.key)?null:L;const re=$l(T,L);null!==re&&f.set(v.key,re),T.isValidDocument()||T.convertToNoDocument(ri.min())}),f}keys(){return this.mutations.reduce((i,o)=>i.add(o.key),qi())}isEqual(i){return this.batchId===i.batchId&&Vs(this.mutations,i.mutations,(o,f)=>ld(o,f))&&Vs(this.baseMutations,i.baseMutations,(o,f)=>ld(o,f))}}class Ug{constructor(i,o,f,v){this.batch=i,this.commitVersion=o,this.mutationResults=f,this.docVersions=v}static from(i,o,f){gi(i.mutations.length===f.length);let v=kw;const w=i.mutations;for(let T=0;T<w.length;T++)v=v.insert(w[T].key,f[T].version);return new Ug(i,o,f,v)}}class R0{constructor(i,o){this.largestBatchId=i,this.mutation=o}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dd{constructor(i,o,f,v,w=ri.min(),T=ri.min(),L=Mi.EMPTY_BYTE_STRING){this.target=i,this.targetId=o,this.purpose=f,this.sequenceNumber=v,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=T,this.resumeToken=L}withSequenceNumber(i){return new dd(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,o){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class cy{constructor(i){this.ne=i}}function uy(u,i){const o=i.key,f={prefixPath:o.getCollectionPath().popLast().toArray(),collectionGroup:o.collectionGroup,documentId:o.path.lastSegment(),readTime:Hg(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())f.document={name:pp(v=u.ne,(w=i).key),fields:w.data.value.mapValue.fields,updateTime:cd(v,w.version.toTimestamp())};else if(i.isNoDocument())f.noDocument={path:o.path.toArray(),readTime:hd(i.version)};else{if(!i.isUnknownDocument())return Jr();f.unknownDocument={path:o.path.toArray(),version:hd(i.version)}}var v,w;return f}function Hg(u){const i=u.toTimestamp();return[i.seconds,i.nanoseconds]}function hd(u){const i=u.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function vh(u){const i=new xs(u.seconds,u.nanoseconds);return ri.fromTimestamp(i)}function yh(u,i){const o=(i.baseMutations||[]).map(w=>b0(u.ne,w));for(let w=0;w<i.mutations.length-1;++w){const T=i.mutations[w];w+1<i.mutations.length&&void 0!==i.mutations[w+1].transform&&(T.updateTransforms=i.mutations[w+1].transform.fieldTransforms,i.mutations.splice(w+1,1),++w)}const f=i.mutations.map(w=>b0(u.ne,w)),v=xs.fromMillis(i.localWriteTimeMs);return new M0(i.batchId,v,o,f)}function xp(u){const i=vh(u.readTime),o=void 0!==u.lastLimboFreeSnapshotVersion?vh(u.lastLimboFreeSnapshotVersion):ri.min();let f;var v;return void 0!==u.query.documents?(gi(1===(v=u.query).documents.length),f=tl(uc(Bd(v.documents[0])))):f=tl(ey(u.query)),new dd(f,u.targetId,0,u.lastListenSequenceNumber,i,o,Mi.fromBase64String(u.resumeToken))}function O0(u,i){const o=hd(i.snapshotVersion),f=hd(i.lastLimboFreeSnapshotVersion);let v;v=Wc(i.target)?Jv(u.ne,i.target):Lg(u.ne,i.target);const w=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:hl(i.target),readTime:o,resumeToken:w,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:f,query:v}}function F0(u){const i=ey({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?Od(i,i.limit,"L"):i}function P0(u,i){return new R0(i.largestBatchId,b0(u.ne,i.overlayMutation))}function pl(u,i){const o=i.path.lastSegment();return[u,Kl(i.path.popLast()),o]}function Gg(u,i,o,f){return{indexId:u,uid:i.uid||"",sequenceNumber:o,readTime:hd(f.readTime),documentKey:Kl(f.documentKey.path),largestBatchId:f.largestBatchId}}class dy{getBundleMetadata(i,o){return jg(i).get(o).next(f=>{if(f)return{id:(v=f).bundleId,createTime:vh(v.createTime),version:v.version};var v})}saveBundleMetadata(i,o){return jg(i).put({bundleId:(f=o).id,createTime:hd(ja(f.createTime)),version:f.version});var f}getNamedQuery(i,o){return nl(i).get(o).next(f=>{if(f)return{name:(v=f).name,query:F0(v.bundledQuery),readTime:vh(v.readTime)};var v})}saveNamedQuery(i,o){return nl(i).put({name:(f=o).name,readTime:hd(ja(f.readTime)),bundledQuery:f.bundledQuery});var f}}function jg(u){return ia(u,"bundles")}function nl(u){return ia(u,"namedQueries")}class fd{constructor(i,o){this.wt=i,this.userId=o}static se(i,o){return new fd(i,o.uid||"")}getOverlay(i,o){return xh(i).get(pl(this.userId,o)).next(f=>f?P0(this.wt,f):null)}getOverlays(i,o){const f=kl();return rn.forEach(o,v=>this.getOverlay(i,v).next(w=>{null!==w&&f.set(v,w)})).next(()=>f)}saveOverlays(i,o,f){const v=[];return f.forEach((w,T)=>{const L=new R0(o,T);v.push(this.ie(i,L))}),rn.waitFor(v)}removeOverlaysForBatchId(i,o,f){const v=new Set;o.forEach(T=>v.add(Kl(T.getCollectionPath())));const w=[];return v.forEach(T=>{const L=IDBKeyRange.bound([this.userId,T,f],[this.userId,T,f+1],!1,!0);w.push(xh(i).W("collectionPathOverlayIndex",L))}),rn.waitFor(w)}getOverlaysForCollection(i,o,f){const v=kl(),w=Kl(o),T=IDBKeyRange.bound([this.userId,w,f],[this.userId,w,Number.POSITIVE_INFINITY],!0);return xh(i).K("collectionPathOverlayIndex",T).next(L=>{for(const re of L){const he=P0(this.wt,re);v.set(he.getKey(),he)}return v})}getOverlaysForCollectionGroup(i,o,f,v){const w=kl();let T;const L=IDBKeyRange.bound([this.userId,o,f],[this.userId,o,Number.POSITIVE_INFINITY],!0);return xh(i).J({index:"collectionGroupOverlayIndex",range:L},(re,he,Be)=>{const Ct=P0(this.wt,he);w.size()<v||Ct.largestBatchId===T?(w.set(Ct.getKey(),Ct),T=Ct.largestBatchId):Be.done()}).next(()=>w)}ie(i,o){return xh(i).put(function(f,v,w){const[T,L,re]=pl(v,w.mutation.key);return{userId:v,collectionPath:L,documentId:re,collectionGroup:w.mutation.key.getCollectionGroup(),largestBatchId:w.largestBatchId,overlayMutation:gp(f.ne,w.mutation)}}(this.wt,this.userId,o))}}function xh(u){return ia(u,"documentOverlays")}class wh{constructor(){}re(i,o){this.oe(i,o),o.ue()}oe(i,o){if("nullValue"in i)this.ce(o,5);else if("booleanValue"in i)this.ce(o,10),o.ae(i.booleanValue?1:0);else if("integerValue"in i)this.ce(o,15),o.ae(Ui(i.integerValue));else if("doubleValue"in i){const f=Ui(i.doubleValue);isNaN(f)?this.ce(o,13):(this.ce(o,15),Tl(f)?o.ae(0):o.ae(f))}else if("timestampValue"in i){const f=i.timestampValue;this.ce(o,20),"string"==typeof f?o.he(f):(o.he(`${f.seconds||""}`),o.ae(f.nanos||0))}else if("stringValue"in i)this.le(i.stringValue,o),this.fe(o);else if("bytesValue"in i)this.ce(o,30),o.de(dl(i.bytesValue)),this.fe(o);else if("referenceValue"in i)this._e(i.referenceValue,o);else if("geoPointValue"in i){const f=i.geoPointValue;this.ce(o,45),o.ae(f.latitude||0),o.ae(f.longitude||0)}else"mapValue"in i?$t(i)?this.ce(o,Number.MAX_SAFE_INTEGER):(this.we(i.mapValue,o),this.fe(o)):"arrayValue"in i?(this.me(i.arrayValue,o),this.fe(o)):Jr()}le(i,o){this.ce(o,25),this.ge(i,o)}ge(i,o){o.he(i)}we(i,o){const f=i.fields||{};this.ce(o,55);for(const v of Object.keys(f))this.le(v,o),this.oe(f[v],o)}me(i,o){const f=i.values||[];this.ce(o,50);for(const v of f)this.oe(v,o)}_e(i,o){this.ce(o,37),br.fromName(i).path.forEach(f=>{this.ce(o,60),this.ge(f,o)})}ce(i,o){i.ae(o)}fe(i){i.ae(2)}}function Uw(u){if(0===u)return 8;let i=0;return u>>4==0&&(i+=4,u<<=4),u>>6==0&&(i+=2,u<<=2),u>>7==0&&(i+=1),i}function N0(u){const i=64-function(o){let f=0;for(let v=0;v<8;++v){const w=Uw(255&o[v]);if(f+=w,8!==w)break}return f}(u);return Math.ceil(i/8)}wh.ye=new wh;class Hw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(i){const o=i[Symbol.iterator]();let f=o.next();for(;!f.done;)this.Ie(f.value),f=o.next();this.Te()}Ee(i){const o=i[Symbol.iterator]();let f=o.next();for(;!f.done;)this.Ae(f.value),f=o.next();this.Re()}be(i){for(const o of i){const f=o.charCodeAt(0);if(f<128)this.Ie(f);else if(f<2048)this.Ie(960|f>>>6),this.Ie(128|63&f);else if(o<"\ud800"||"\udbff"<o)this.Ie(480|f>>>12),this.Ie(128|63&f>>>6),this.Ie(128|63&f);else{const v=o.codePointAt(0);this.Ie(240|v>>>18),this.Ie(128|63&v>>>12),this.Ie(128|63&v>>>6),this.Ie(128|63&v)}}this.Te()}Pe(i){for(const o of i){const f=o.charCodeAt(0);if(f<128)this.Ae(f);else if(f<2048)this.Ae(960|f>>>6),this.Ae(128|63&f);else if(o<"\ud800"||"\udbff"<o)this.Ae(480|f>>>12),this.Ae(128|63&f>>>6),this.Ae(128|63&f);else{const v=o.codePointAt(0);this.Ae(240|v>>>18),this.Ae(128|63&v>>>12),this.Ae(128|63&v>>>6),this.Ae(128|63&v)}}this.Re()}ve(i){const o=this.Ve(i),f=N0(o);this.Se(1+f),this.buffer[this.position++]=255&f;for(let v=o.length-f;v<o.length;++v)this.buffer[this.position++]=255&o[v]}De(i){const o=this.Ve(i),f=N0(o);this.Se(1+f),this.buffer[this.position++]=~(255&f);for(let v=o.length-f;v<o.length;++v)this.buffer[this.position++]=~(255&o[v])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(i){this.Se(i.length),this.buffer.set(i,this.position),this.position+=i.length}Me(){return this.buffer.slice(0,this.position)}Ve(i){const o=function(v){const w=new DataView(new ArrayBuffer(8));return w.setFloat64(0,v,!1),new Uint8Array(w.buffer)}(i),f=0!=(128&o[0]);o[0]^=f?255:128;for(let v=1;v<o.length;++v)o[v]^=f?255:0;return o}Ie(i){const o=255&i;0===o?(this.xe(0),this.xe(255)):255===o?(this.xe(255),this.xe(0)):this.xe(o)}Ae(i){const o=255&i;0===o?(this.ke(0),this.ke(255)):255===o?(this.ke(255),this.ke(0)):this.ke(i)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(i){this.Se(1),this.buffer[this.position++]=i}ke(i){this.Se(1),this.buffer[this.position++]=~i}Se(i){const o=i+this.position;if(o<=this.buffer.length)return;let f=2*this.buffer.length;f<o&&(f=o);const v=new Uint8Array(f);v.set(this.buffer),this.buffer=v}}class hy{constructor(i){this.Oe=i}de(i){this.Oe.pe(i)}he(i){this.Oe.be(i)}ae(i){this.Oe.ve(i)}ue(){this.Oe.Ce()}}class Gw{constructor(i){this.Oe=i}de(i){this.Oe.Ee(i)}he(i){this.Oe.Pe(i)}ae(i){this.Oe.De(i)}ue(){this.Oe.Ne()}}class yf{constructor(){this.Oe=new Hw,this.Fe=new hy(this.Oe),this.$e=new Gw(this.Oe)}seed(i){this.Oe.seed(i)}Be(i){return 0===i?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Eh{constructor(i,o,f,v){this.indexId=i,this.documentKey=o,this.arrayValue=f,this.directionalValue=v}Le(){const i=this.directionalValue.length,o=0===i||255===this.directionalValue[i-1]?i+1:i,f=new Uint8Array(o);return f.set(this.directionalValue,0),o!==i?f.set([0],this.directionalValue.length):++f[f.length-1],new Eh(this.indexId,this.documentKey,this.arrayValue,f)}}function bh(u,i){let o=u.indexId-i.indexId;return 0!==o?o:(o=fy(u.arrayValue,i.arrayValue),0!==o?o:(o=fy(u.directionalValue,i.directionalValue),0!==o?o:br.comparator(u.documentKey,i.documentKey)))}function fy(u,i){for(let o=0;o<u.length&&o<i.length;++o){const f=u[o]-i[o];if(0!==f)return f}return u.length-i.length}class jw{constructor(i){this.collectionId=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment(),this.Ue=i.orderBy,this.qe=[];for(const o of i.filters){const f=o;f.ht()?this.Ke=f:this.qe.push(f)}}Ge(i){const o=Us(i);if(void 0!==o&&!this.Qe(o))return!1;const f=Sn(i);let v=0,w=0;for(;v<f.length&&this.Qe(f[v]);++v);if(v===f.length)return!0;if(void 0!==this.Ke){const T=f[v];if(!this.je(this.Ke,T)||!this.We(this.Ue[w++],T))return!1;++v}for(;v<f.length;++v){const T=f[v];if(w>=this.Ue.length||!this.We(this.Ue[w++],T))return!1}return!0}Qe(i){for(const o of this.qe)if(this.je(o,i))return!0;return!1}je(i,o){return!(void 0===i||!i.field.isEqual(o.fieldPath))&&2===o.kind==("array-contains"===i.op||"array-contains-any"===i.op)}We(i,o){return!!i.field.isEqual(o.fieldPath)&&(0===o.kind&&"asc"===i.dir||1===o.kind&&"desc"===i.dir)}}class zw{constructor(){this.ze=new L0}addToCollectionParentIndex(i,o){return this.ze.add(o),rn.resolve()}getCollectionParents(i,o){return rn.resolve(this.ze.getEntries(o))}addFieldIndex(i,o){return rn.resolve()}deleteFieldIndex(i,o){return rn.resolve()}getDocumentsMatchingTarget(i,o){return rn.resolve(null)}getIndexType(i,o){return rn.resolve(0)}getFieldIndexes(i,o){return rn.resolve([])}getNextCollectionGroupToUpdate(i){return rn.resolve(null)}getMinOffset(i,o){return rn.resolve(vi.min())}getMinOffsetFromCollectionGroup(i,o){return rn.resolve(vi.min())}updateCollectionGroup(i,o,f){return rn.resolve()}updateIndexEntries(i,o){return rn.resolve()}}class L0{constructor(){this.index={}}add(i){const o=i.lastSegment(),f=i.popLast(),v=this.index[o]||new xn(Wi.comparator),w=!v.has(f);return this.index[o]=v.add(f),w}has(i){const o=i.lastSegment(),f=i.popLast(),v=this.index[o];return v&&v.has(f)}getEntries(i){return(this.index[i]||new xn(Wi.comparator)).toArray()}}const pd=new Uint8Array(0);class gd{constructor(i,o){this.user=i,this.databaseId=o,this.He=new L0,this.Je=new Cu(f=>hl(f),(f,v)=>va(f,v)),this.uid=i.uid||""}addToCollectionParentIndex(i,o){if(!this.He.has(o)){const f=o.lastSegment(),v=o.popLast();i.addOnCommittedListener(()=>{this.He.add(o)});const w={collectionId:f,parent:Kl(v)};return py(i).put(w)}return rn.resolve()}getCollectionParents(i,o){const f=[],v=IDBKeyRange.bound([o,""],[ra(o),""],!1,!0);return py(i).K(v).next(w=>{for(const T of w){if(T.collectionId!==o)break;f.push(Au(T.parent))}return f})}addFieldIndex(i,o){const f=zg(i),v={indexId:(T=o).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var T;delete v.indexId;const w=f.add(v);if(o.indexState){const T=wp(i);return w.next(L=>{T.put(Gg(L,this.user,o.indexState.sequenceNumber,o.indexState.offset))})}return w.next()}deleteFieldIndex(i,o){const f=zg(i),v=wp(i),w=Ch(i);return f.delete(o.indexId).next(()=>v.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0))).next(()=>w.delete(IDBKeyRange.bound([o.indexId],[o.indexId+1],!1,!0)))}getDocumentsMatchingTarget(i,o){const f=Ch(i);let v=!0;const w=new Map;return rn.forEach(this.Ye(o),T=>this.Xe(i,T).next(L=>{v&&(v=!!L),w.set(T,L)})).next(()=>{if(v){let T=qi();const L=[];return rn.forEach(w,(re,he)=>{var Be;hr("IndexedDbIndexManager",`Using index ${Be=re,`id=${Be.indexId}|cg=${Be.collectionGroup}|f=${Be.fields.map(yo=>`${yo.fieldPath}:${yo.kind}`).join(",")}`} to execute ${hl(o)}`);const Ct=function(yo,ya){const xo=Us(ya);if(void 0===xo)return null;for(const eo of Ac(yo,xo.fieldPath))switch(eo.op){case"array-contains-any":return eo.value.arrayValue.values||[];case"array-contains":return[eo.value]}return null}(he,re),bn=function(yo,ya){const xo=new Map;for(const eo of Sn(ya))for(const Ya of Ac(yo,eo.fieldPath))switch(Ya.op){case"==":case"in":xo.set(eo.fieldPath.canonicalString(),Ya.value);break;case"not-in":case"!=":return xo.set(eo.fieldPath.canonicalString(),Ya.value),Array.from(xo.values())}return null}(he,re),Yn=function(yo,ya){const xo=[];let eo=!0;for(const Ya of Sn(ya)){const Wf=0===Ya.kind?$c(yo,Ya.fieldPath,yo.startAt):Ic(yo,Ya.fieldPath,yo.startAt);xo.push(Wf.value),eo&&(eo=Wf.inclusive)}return new Ii(xo,eo)}(he,re),er=function(yo,ya){const xo=[];let eo=!0;for(const Ya of Sn(ya)){const Wf=0===Ya.kind?Ic(yo,Ya.fieldPath,yo.endAt):$c(yo,Ya.fieldPath,yo.endAt);xo.push(Wf.value),eo&&(eo=Wf.inclusive)}return new Ii(xo,eo)}(he,re),Yr=this.Ze(re,he,Yn),pi=this.Ze(re,he,er),Os=this.tn(re,he,bn),so=this.en(re.indexId,Ct,Yr,Yn.inclusive,pi,er.inclusive,Os);return rn.forEach(so,yo=>f.j(yo,o.limit).next(ya=>{ya.forEach(xo=>{const eo=br.fromSegments(xo.documentKey);T.has(eo)||(T=T.add(eo),L.push(eo))})}))}).next(()=>L)}return rn.resolve(null)})}Ye(i){let o=this.Je.get(i);return o||(o=[i],this.Je.set(i,o),o)}en(i,o,f,v,w,T,L){const re=(null!=o?o.length:1)*Math.max(f.length,w.length),he=re/(null!=o?o.length:1),Be=[];for(let Ct=0;Ct<re;++Ct){const bn=o?this.nn(o[Ct/he]):pd,Yn=this.sn(i,bn,f[Ct%he],v),er=this.rn(i,bn,w[Ct%he],T),Yr=L.map(pi=>this.sn(i,bn,pi,!0));Be.push(...this.createRange(Yn,er,Yr))}return Be}sn(i,o,f,v){const w=new Eh(i,br.empty(),o,f);return v?w:w.Le()}rn(i,o,f,v){const w=new Eh(i,br.empty(),o,f);return v?w.Le():w}Xe(i,o){const f=new jw(o),v=null!=o.collectionGroup?o.collectionGroup:o.path.lastSegment();return this.getFieldIndexes(i,v).next(w=>{let T=null;for(const L of w)f.Ge(L)&&(!T||L.fields.length>T.fields.length)&&(T=L);return T})}getIndexType(i,o){let f=2;return rn.forEach(this.Ye(o),v=>this.Xe(i,v).next(w=>{w?0!==f&&w.fields.length<function(T){let L=new xn(So.comparator),re=!1;for(const he of T.filters){const Be=he;Be.field.isKeyField()||("array-contains"===Be.op||"array-contains-any"===Be.op?re=!0:L=L.add(Be.field))}for(const he of T.orderBy)he.field.isKeyField()||(L=L.add(he.field));return L.size+(re?1:0)}(v)&&(f=1):f=0})).next(()=>f)}on(i,o){const f=new yf;for(const v of Sn(i)){const w=o.data.field(v.fieldPath);if(null==w)return null;const T=f.Be(v.kind);wh.ye.re(w,T)}return f.Me()}nn(i){const o=new yf;return wh.ye.re(i,o.Be(0)),o.Me()}un(i,o){const f=new yf;return wh.ye.re(Sc(this.databaseId,o),f.Be(function(v){const w=Sn(v);return 0===w.length?0:w[w.length-1].kind}(i))),f.Me()}tn(i,o,f){if(null===f)return[];let v=[];v.push(new yf);let w=0;for(const T of Sn(i)){const L=f[w++];for(const re of v)if(this.cn(o,T.fieldPath)&&Tc(L))v=this.an(v,T,L);else{const he=re.Be(T.kind);wh.ye.re(L,he)}}return this.hn(v)}Ze(i,o,f){return this.tn(i,o,f.position)}hn(i){const o=[];for(let f=0;f<i.length;++f)o[f]=i[f].Me();return o}an(i,o,f){const v=[...i],w=[];for(const T of f.arrayValue.values||[])for(const L of v){const re=new yf;re.seed(L.Me()),wh.ye.re(T,re.Be(o.kind)),w.push(re)}return w}cn(i,o){return!!i.filters.find(f=>f instanceof Mo&&f.field.isEqual(o)&&("in"===f.op||"not-in"===f.op))}getFieldIndexes(i,o){const f=zg(i),v=wp(i);return(o?f.K("collectionGroupIndex",IDBKeyRange.bound(o,o)):f.K()).next(w=>{const T=[];return rn.forEach(w,L=>v.get([L.indexId,this.uid]).next(re=>{T.push(function(he,Be){const Ct=Be?new Bo(Be.sequenceNumber,new vi(vh(Be.readTime),new br(Au(Be.documentKey)),Be.largestBatchId)):Bo.empty(),bn=he.fields.map(([Yn,er])=>new po(So.fromServerFormat(Yn),er));return new Zs(he.indexId,he.collectionGroup,bn,Ct)}(L,re))})).next(()=>T)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(o=>0===o.length?null:(o.sort((f,v)=>{const w=f.indexState.sequenceNumber-v.indexState.sequenceNumber;return 0!==w?w:_i(f.collectionGroup,v.collectionGroup)}),o[0].collectionGroup))}updateCollectionGroup(i,o,f){const v=zg(i),w=wp(i);return this.ln(i).next(T=>v.K("collectionGroupIndex",IDBKeyRange.bound(o,o)).next(L=>rn.forEach(L,re=>w.put(Gg(re.indexId,this.user,T,f)))))}updateIndexEntries(i,o){const f=new Map;return rn.forEach(o,(v,w)=>{const T=f.get(v.collectionGroup);return(T?rn.resolve(T):this.getFieldIndexes(i,v.collectionGroup)).next(L=>(f.set(v.collectionGroup,L),rn.forEach(L,re=>this.fn(i,v,re).next(he=>{const Be=this.dn(w,re);return he.isEqual(Be)?rn.resolve():this._n(i,w,re,he,Be)}))))})}wn(i,o,f,v){return Ch(i).put({indexId:v.indexId,uid:this.uid,arrayValue:v.arrayValue,directionalValue:v.directionalValue,orderedDocumentKey:this.un(f,o.key),documentKey:o.key.path.toArray()})}mn(i,o,f,v){return Ch(i).delete([v.indexId,this.uid,v.arrayValue,v.directionalValue,this.un(f,o.key),o.key.path.toArray()])}fn(i,o,f){const v=Ch(i);let w=new xn(bh);return v.J({index:"documentKeyIndex",range:IDBKeyRange.only([f.indexId,this.uid,this.un(f,o)])},(T,L)=>{w=w.add(new Eh(f.indexId,o,L.arrayValue,L.directionalValue))}).next(()=>w)}dn(i,o){let f=new xn(bh);const v=this.on(o,i);if(null==v)return f;const w=Us(o);if(null!=w){const T=i.data.field(w.fieldPath);if(Tc(T))for(const L of T.arrayValue.values||[])f=f.add(new Eh(o.indexId,i.key,this.nn(L),v))}else f=f.add(new Eh(o.indexId,i.key,pd,v));return f}_n(i,o,f,v,w){hr("IndexedDbIndexManager","Updating index entries for document '%s'",o.key);const T=[];return function(L,re,he,Be,Ct){const bn=L.getIterator(),Yn=re.getIterator();let er=fi(bn),Yr=fi(Yn);for(;er||Yr;){let pi=!1,Os=!1;if(er&&Yr){const so=he(er,Yr);so<0?Os=!0:so>0&&(pi=!0)}else null!=er?Os=!0:pi=!0;pi?(Be(Yr),Yr=fi(Yn)):Os?(Ct(er),er=fi(bn)):(er=fi(bn),Yr=fi(Yn))}}(v,w,bh,L=>{T.push(this.wn(i,o,f,L))},L=>{T.push(this.mn(i,o,f,L))}),rn.waitFor(T)}ln(i){let o=1;return wp(i).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(f,v,w)=>{w.done(),o=v.sequenceNumber+1}).next(()=>o)}createRange(i,o,f){f=f.sort((T,L)=>bh(T,L)).filter((T,L,re)=>!L||0!==bh(T,re[L-1]));const v=[];v.push(i);for(const T of f){const L=bh(T,i),re=bh(T,o);if(0===L)v[0]=i.Le();else if(L>0&&re<0)v.push(T),v.push(T.Le());else if(re>0)break}v.push(o);const w=[];for(let T=0;T<v.length;T+=2)w.push(IDBKeyRange.bound([v[T].indexId,this.uid,v[T].arrayValue,v[T].directionalValue,pd,[]],[v[T+1].indexId,this.uid,v[T+1].arrayValue,v[T+1].directionalValue,pd,[]]));return w}getMinOffsetFromCollectionGroup(i,o){return this.getFieldIndexes(i,o).next(Wg)}getMinOffset(i,o){return rn.mapArray(this.Ye(o),f=>this.Xe(i,f).next(v=>v||Jr())).next(Wg)}}function py(u){return ia(u,"collectionParents")}function Ch(u){return ia(u,"indexEntries")}function zg(u){return ia(u,"indexConfiguration")}function wp(u){return ia(u,"indexState")}function Wg(u){gi(0!==u.length);let i=u[0].indexState.offset,o=i.largestBatchId;for(let f=1;f<u.length;f++){const v=u[f].indexState.offset;Ec(v,i)<0&&(i=v),o<v.largestBatchId&&(o=v.largestBatchId)}return new vi(i.readTime,i.documentKey,o)}const xf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $o{constructor(i,o,f){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=f}static withCacheSize(i){return new $o(i,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Iu(u,i,o){const f=u.store("mutations"),v=u.store("documentMutations"),w=[],T=IDBKeyRange.only(o.batchId);let L=0;const re=f.J({range:T},(Be,Ct,bn)=>(L++,bn.delete()));w.push(re.next(()=>{gi(1===L)}));const he=[];for(const Be of o.mutations){const Ct=D0(i,Be.key.path,o.batchId);w.push(v.delete(Ct)),he.push(Be.key)}return rn.waitFor(w).next(()=>he)}function Ep(u){if(!u)return 0;let i;if(u.document)i=u.document;else if(u.unknownDocument)i=u.unknownDocument;else{if(!u.noDocument)throw Jr();i=u.noDocument}return JSON.stringify(i).length}$o.DEFAULT_COLLECTION_PERCENTILE=10,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$o.DEFAULT=new $o(41943040,$o.DEFAULT_COLLECTION_PERCENTILE,$o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$o.DISABLED=new $o(-1,0,0);class $g{constructor(i,o,f,v){this.userId=i,this.wt=o,this.indexManager=f,this.referenceDelegate=v,this.gn={}}static se(i,o,f,v){gi(""!==i.uid);const w=i.isAuthenticated()?i.uid:"";return new $g(w,o,f,v)}checkEmpty(i){let o=!0;const f=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vd(i).J({index:"userMutationsIndex",range:f},(v,w,T)=>{o=!1,T.done()}).next(()=>o)}addMutationBatch(i,o,f,v){const w=ku(i),T=Vd(i);return T.add({}).next(L=>{gi("number"==typeof L);const re=new M0(L,o,f,v),he=function(bn,Yn,er){const Yr=er.baseMutations.map(Os=>gp(bn.ne,Os)),pi=er.mutations.map(Os=>gp(bn.ne,Os));return{userId:Yn,batchId:er.batchId,localWriteTimeMs:er.localWriteTime.toMillis(),baseMutations:Yr,mutations:pi}}(this.wt,this.userId,re),Be=[];let Ct=new xn((bn,Yn)=>_i(bn.canonicalString(),Yn.canonicalString()));for(const bn of v){const Yn=D0(this.userId,bn.key.path,L);Ct=Ct.add(bn.key.path.popLast()),Be.push(T.put(he)),Be.push(w.put(Yn,Bg))}return Ct.forEach(bn=>{Be.push(this.indexManager.addToCollectionParentIndex(i,bn))}),i.addOnCommittedListener(()=>{this.gn[L]=re.keys()}),rn.waitFor(Be).next(()=>re)})}lookupMutationBatch(i,o){return Vd(i).get(o).next(f=>f?(gi(f.userId===this.userId),yh(this.wt,f)):null)}yn(i,o){return this.gn[o]?rn.resolve(this.gn[o]):this.lookupMutationBatch(i,o).next(f=>{if(f){const v=f.keys();return this.gn[o]=v,v}return null})}getNextMutationBatchAfterBatchId(i,o){const f=o+1,v=IDBKeyRange.lowerBound([this.userId,f]);let w=null;return Vd(i).J({index:"userMutationsIndex",range:v},(T,L,re)=>{L.userId===this.userId&&(gi(L.batchId>=f),w=yh(this.wt,L)),re.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(i){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let f=-1;return Vd(i).J({index:"userMutationsIndex",range:o,reverse:!0},(v,w,T)=>{f=w.batchId,T.done()}).next(()=>f)}getAllMutationBatches(i){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vd(i).K("userMutationsIndex",o).next(f=>f.map(v=>yh(this.wt,v)))}getAllMutationBatchesAffectingDocumentKey(i,o){const f=_p(this.userId,o.path),v=IDBKeyRange.lowerBound(f),w=[];return ku(i).J({range:v},(T,L,re)=>{const[he,Be,Ct]=T,bn=Au(Be);if(he===this.userId&&o.path.isEqual(bn))return Vd(i).get(Ct).next(Yn=>{if(!Yn)throw Jr();gi(Yn.userId===this.userId),w.push(yh(this.wt,Yn))});re.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(i,o){let f=new xn(_i);const v=[];return o.forEach(w=>{const T=_p(this.userId,w.path),L=IDBKeyRange.lowerBound(T),re=ku(i).J({range:L},(he,Be,Ct)=>{const[bn,Yn,er]=he,Yr=Au(Yn);bn===this.userId&&w.path.isEqual(Yr)?f=f.add(er):Ct.done()});v.push(re)}),rn.waitFor(v).next(()=>this.pn(i,f))}getAllMutationBatchesAffectingQuery(i,o){const f=o.path,v=f.length+1,w=_p(this.userId,f),T=IDBKeyRange.lowerBound(w);let L=new xn(_i);return ku(i).J({range:T},(re,he,Be)=>{const[Ct,bn,Yn]=re,er=Au(bn);Ct===this.userId&&f.isPrefixOf(er)?er.length===v&&(L=L.add(Yn)):Be.done()}).next(()=>this.pn(i,L))}pn(i,o){const f=[],v=[];return o.forEach(w=>{v.push(Vd(i).get(w).next(T=>{if(null===T)throw Jr();gi(T.userId===this.userId),f.push(yh(this.wt,T))}))}),rn.waitFor(v).next(()=>f)}removeMutationBatch(i,o){return Iu(i.ee,this.userId,o).next(f=>(i.addOnCommittedListener(()=>{this.In(o.batchId)}),rn.forEach(f,v=>this.referenceDelegate.markPotentiallyOrphaned(i,v))))}In(i){delete this.gn[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(o=>{if(!o)return rn.resolve();const f=IDBKeyRange.lowerBound([this.userId]),v=[];return ku(i).J({range:f},(w,T,L)=>{if(w[0]===this.userId){const re=Au(w[1]);v.push(re)}else L.done()}).next(()=>{gi(0===v.length)})})}containsKey(i,o){return B0(i,this.userId,o)}Tn(i){return gy(i).get(this.userId).next(o=>o||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function B0(u,i,o){const f=_p(i,o.path),v=f[1],w=IDBKeyRange.lowerBound(f);let T=!1;return ku(u).J({range:w,H:!0},(L,re,he)=>{const[Be,Ct,bn]=L;Be===i&&Ct===v&&(T=!0),he.done()}).next(()=>T)}function Vd(u){return ia(u,"mutations")}function ku(u){return ia(u,"documentMutations")}function gy(u){return ia(u,"mutationQueues")}class md{constructor(i){this.En=i}next(){return this.En+=2,this.En}static An(){return new md(0)}static Rn(){return new md(-1)}}class V0{constructor(i,o){this.referenceDelegate=i,this.wt=o}allocateTargetId(i){return this.bn(i).next(o=>{const f=new md(o.highestTargetId);return o.highestTargetId=f.next(),this.Pn(i,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.bn(i).next(o=>ri.fromTimestamp(new xs(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.bn(i).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(i,o,f){return this.bn(i).next(v=>(v.highestListenSequenceNumber=o,f&&(v.lastRemoteSnapshotVersion=f.toTimestamp()),o>v.highestListenSequenceNumber&&(v.highestListenSequenceNumber=o),this.Pn(i,v)))}addTargetData(i,o){return this.vn(i,o).next(()=>this.bn(i).next(f=>(f.targetCount+=1,this.Vn(o,f),this.Pn(i,f))))}updateTargetData(i,o){return this.vn(i,o)}removeTargetData(i,o){return this.removeMatchingKeysForTargetId(i,o.targetId).next(()=>Ud(i).delete(o.targetId)).next(()=>this.bn(i)).next(f=>(gi(f.targetCount>0),f.targetCount-=1,this.Pn(i,f)))}removeTargets(i,o,f){let v=0;const w=[];return Ud(i).J((T,L)=>{const re=xp(L);re.sequenceNumber<=o&&null===f.get(re.targetId)&&(v++,w.push(this.removeTargetData(i,re)))}).next(()=>rn.waitFor(w)).next(()=>v)}forEachTarget(i,o){return Ud(i).J((f,v)=>{const w=xp(v);o(w)})}bn(i){return U0(i).get("targetGlobalKey").next(o=>(gi(null!==o),o))}Pn(i,o){return U0(i).put("targetGlobalKey",o)}vn(i,o){return Ud(i).put(O0(this.wt,o))}Vn(i,o){let f=!1;return i.targetId>o.highestTargetId&&(o.highestTargetId=i.targetId,f=!0),i.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=i.sequenceNumber,f=!0),f}getTargetCount(i){return this.bn(i).next(o=>o.targetCount)}getTargetData(i,o){const f=hl(o),v=IDBKeyRange.bound([f,Number.NEGATIVE_INFINITY],[f,Number.POSITIVE_INFINITY]);let w=null;return Ud(i).J({range:v,index:"queryTargetsIndex"},(T,L,re)=>{const he=xp(L);va(o,he.target)&&(w=he,re.done())}).next(()=>w)}addMatchingKeys(i,o,f){const v=[],w=Dh(i);return o.forEach(T=>{const L=Kl(T.path);v.push(w.put({targetId:f,path:L})),v.push(this.referenceDelegate.addReference(i,f,T))}),rn.waitFor(v)}removeMatchingKeys(i,o,f){const v=Dh(i);return rn.forEach(o,w=>{const T=Kl(w.path);return rn.waitFor([v.delete([f,T]),this.referenceDelegate.removeReference(i,f,w)])})}removeMatchingKeysForTargetId(i,o){const f=Dh(i),v=IDBKeyRange.bound([o],[o+1],!1,!0);return f.delete(v)}getMatchingKeysForTargetId(i,o){const f=IDBKeyRange.bound([o],[o+1],!1,!0),v=Dh(i);let w=qi();return v.J({range:f,H:!0},(T,L,re)=>{const he=Au(T[1]),Be=new br(he);w=w.add(Be)}).next(()=>w)}containsKey(i,o){const f=Kl(o.path),v=IDBKeyRange.bound([f],[ra(f)],!1,!0);let w=0;return Dh(i).J({index:"documentTargetsIndex",H:!0,range:v},([T,L],re,he)=>{0!==T&&(w++,he.done())}).next(()=>w>0)}te(i,o){return Ud(i).get(o).next(f=>f?xp(f):null)}}function Ud(u){return ia(u,"targets")}function U0(u){return ia(u,"targetGlobal")}function Dh(u){return ia(u,"targetDocuments")}function Sh([u,i],[o,f]){const v=_i(u,o);return 0===v?_i(i,f):v}class Kg{constructor(i){this.Sn=i,this.buffer=new xn(Sh),this.Dn=0}Cn(){return++this.Dn}xn(i){const o=[i,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(o);else{const f=this.buffer.last();Sh(o,f)<0&&(this.buffer=this.buffer.delete(f).add(o))}}get maxValue(){return this.buffer.last()[0]}}class my{constructor(i,o,f){this.garbageCollector=i,this.asyncQueue=o,this.localStore=f,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(i){var o=this;hr("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,d.Z)(function*(){o.Nn=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(f){Kr(f)?hr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f):yield Sl(f)}yield o.kn(3e5)}))}}class Ww{constructor(i,o){this.Mn=i,this.params=o}calculateTargetCount(i,o){return this.Mn.On(i).next(f=>Math.floor(o/100*f))}nthSequenceNumber(i,o){if(0===o)return rn.resolve(O.ot);const f=new Kg(o);return this.Mn.forEachTarget(i,v=>f.xn(v.sequenceNumber)).next(()=>this.Mn.Fn(i,v=>f.xn(v))).next(()=>f.maxValue)}removeTargets(i,o,f){return this.Mn.removeTargets(i,o,f)}removeOrphanedDocuments(i,o){return this.Mn.removeOrphanedDocuments(i,o)}collect(i,o){return-1===this.params.cacheSizeCollectionThreshold?(hr("LruGarbageCollector","Garbage collection skipped; disabled"),rn.resolve(xf)):this.getCacheSize(i).next(f=>f<this.params.cacheSizeCollectionThreshold?(hr("LruGarbageCollector",`Garbage collection skipped; Cache size ${f} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xf):this.$n(i,o))}getCacheSize(i){return this.Mn.getCacheSize(i)}$n(i,o){let f,v,w,T,L,re,he;const Be=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(Ct=>(Ct>this.params.maximumSequenceNumbersToCollect?(hr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ct}`),v=this.params.maximumSequenceNumbersToCollect):v=Ct,T=Date.now(),this.nthSequenceNumber(i,v))).next(Ct=>(f=Ct,L=Date.now(),this.removeTargets(i,f,o))).next(Ct=>(w=Ct,re=Date.now(),this.removeOrphanedDocuments(i,f))).next(Ct=>(he=Date.now(),jc()<=Re.in.DEBUG&&hr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${T-Be}ms\n\tDetermined least recently used ${v} in `+(L-T)+`ms\n\tRemoved ${w} targets in `+(re-L)+`ms\n\tRemoved ${Ct} documents in `+(he-re)+`ms\nTotal Duration: ${he-Be}ms`),rn.resolve({didRun:!0,sequenceNumbersCollected:v,targetsRemoved:w,documentsRemoved:Ct})))}}class H0{constructor(i,o){this.db=i,this.garbageCollector=new Ww(this,o)}On(i){const o=this.Bn(i);return this.db.getTargetCache().getTargetCount(i).next(f=>o.next(v=>f+v))}Bn(i){let o=0;return this.Fn(i,f=>{o++}).next(()=>o)}forEachTarget(i,o){return this.db.getTargetCache().forEachTarget(i,o)}Fn(i,o){return this.Ln(i,(f,v)=>o(v))}addReference(i,o,f){return Yg(i,f)}removeReference(i,o,f){return Yg(i,f)}removeTargets(i,o,f){return this.db.getTargetCache().removeTargets(i,o,f)}markPotentiallyOrphaned(i,o){return Yg(i,o)}Un(i,o){return function(f,v){let w=!1;return gy(f).Y(T=>B0(f,T,v).next(L=>(L&&(w=!0),rn.resolve(!L)))).next(()=>w)}(i,o)}removeOrphanedDocuments(i,o){const f=this.db.getRemoteDocumentCache().newChangeBuffer(),v=[];let w=0;return this.Ln(i,(T,L)=>{if(L<=o){const re=this.Un(i,T).next(he=>{if(!he)return w++,f.getEntry(i,T).next(()=>(f.removeEntry(T,ri.min()),Dh(i).delete([0,Kl(T.path)])))});v.push(re)}}).next(()=>rn.waitFor(v)).next(()=>f.apply(i)).next(()=>w)}removeTarget(i,o){const f=o.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,f)}updateLimboDocument(i,o){return Yg(i,o)}Ln(i,o){const f=Dh(i);let v,w=O.ot;return f.J({index:"documentTargetsIndex"},([T,L],{path:re,sequenceNumber:he})=>{0===T?(w!==O.ot&&o(new br(Au(v)),w),w=he,v=re):w=O.ot}).next(()=>{w!==O.ot&&o(new br(Au(v)),w)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Yg(u,i){return Dh(u).put((f=u.currentSequenceNumber,{targetId:0,path:Kl(i.path),sequenceNumber:f}));var f}class _y{constructor(){this.changes=new Cu(i=>i.toString(),(i,o)=>i.isEqual(o)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,o){this.assertNotApplied(),this.changes.set(i,Rr.newInvalidDocument(i).setReadTime(o))}getEntry(i,o){this.assertNotApplied();const f=this.changes.get(o);return void 0!==f?rn.resolve(f):this.getFromCache(i,o)}getEntries(i,o){return this.getAllFromCache(i,o)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class vy{constructor(i){this.wt=i}setIndexManager(i){this.indexManager=i}addEntry(i,o,f){return Hd(i).put(f)}removeEntry(i,o,f){return Hd(i).delete(function(v,w){const T=v.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Hg(w),T[T.length-1]]}(o,f))}updateMetadata(i,o){return this.getMetadata(i).next(f=>(f.byteSize+=o,this.qn(i,f)))}getEntry(i,o){let f=Rr.newInvalidDocument(o);return Hd(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Th(o))},(v,w)=>{f=this.Kn(o,w)}).next(()=>f)}Gn(i,o){let f={size:0,document:Rr.newInvalidDocument(o)};return Hd(i).J({index:"documentKeyIndex",range:IDBKeyRange.only(Th(o))},(v,w)=>{f={document:this.Kn(o,w),size:Ep(w)}}).next(()=>f)}getEntries(i,o){let f=ls();return this.Qn(i,o,(v,w)=>{const T=this.Kn(v,w);f=f.insert(v,T)}).next(()=>f)}jn(i,o){let f=ls(),v=new ye(br.comparator);return this.Qn(i,o,(w,T)=>{const L=this.Kn(w,T);f=f.insert(w,L),v=v.insert(w,Ep(T))}).next(()=>({documents:f,Wn:v}))}Qn(i,o,f){if(o.isEmpty())return rn.resolve();let v=new xn(qg);o.forEach(re=>v=v.add(re));const w=IDBKeyRange.bound(Th(v.first()),Th(v.last())),T=v.getIterator();let L=T.getNext();return Hd(i).J({index:"documentKeyIndex",range:w},(re,he,Be)=>{const Ct=br.fromSegments([...he.prefixPath,he.collectionGroup,he.documentId]);for(;L&&qg(L,Ct)<0;)f(L,null),L=T.getNext();L&&L.isEqual(Ct)&&(f(L,he),L=T.hasNext()?T.getNext():null),L?Be.q(Th(L)):Be.done()}).next(()=>{for(;L;)f(L,null),L=T.hasNext()?T.getNext():null})}getAllFromCollection(i,o,f){const v=[o.popLast().toArray(),o.lastSegment(),Hg(f.readTime),f.documentKey.path.isEmpty()?"":f.documentKey.path.lastSegment()],w=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hd(i).K(IDBKeyRange.bound(v,w,!0)).next(T=>{let L=ls();for(const re of T){const he=this.Kn(br.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);L=L.insert(he.key,he)}return L})}getAllFromCollectionGroup(i,o,f,v){let w=ls();const T=G0(o,f),L=G0(o,vi.max());return Hd(i).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(T,L,!0)},(re,he,Be)=>{const Ct=this.Kn(br.fromSegments(he.prefixPath.concat(he.collectionGroup,he.documentId)),he);w=w.insert(Ct.key,Ct),w.size===v&&Be.done()}).next(()=>w)}newChangeBuffer(i){return new $w(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(o=>o.byteSize)}getMetadata(i){return yy(i).get("remoteDocumentGlobalKey").next(o=>(gi(!!o),o))}qn(i,o){return yy(i).put("remoteDocumentGlobalKey",o)}Kn(i,o){if(o){const f=function Vw(u,i){let o;if(i.document)o=Qv(u.ne,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const f=br.fromSegments(i.noDocument.path),v=vh(i.noDocument.readTime);o=Rr.newNoDocument(f,v),i.hasCommittedMutations&&o.setHasCommittedMutations()}else{if(!i.unknownDocument)return Jr();{const f=br.fromSegments(i.unknownDocument.path),v=vh(i.unknownDocument.version);o=Rr.newUnknownDocument(f,v)}}return i.readTime&&o.setReadTime(function(f){const v=new xs(f[0],f[1]);return ri.fromTimestamp(v)}(i.readTime)),o}(this.wt,o);if(!f.isNoDocument()||!f.version.isEqual(ri.min()))return f}return Rr.newInvalidDocument(i)}}function Mu(u){return new vy(u)}class $w extends _y{constructor(i,o){super(),this.zn=i,this.trackRemovals=o,this.Hn=new Cu(f=>f.toString(),(f,v)=>f.isEqual(v))}applyChanges(i){const o=[];let f=0,v=new xn((w,T)=>_i(w.canonicalString(),T.canonicalString()));return this.changes.forEach((w,T)=>{const L=this.Hn.get(w);if(o.push(this.zn.removeEntry(i,w,L.readTime)),T.isValidDocument()){const re=uy(this.zn.wt,T);v=v.add(w.path.popLast()),f+=Ep(re)-L.size,o.push(this.zn.addEntry(i,w,re))}else if(f-=L.size,this.trackRemovals){const re=uy(this.zn.wt,T.convertToNoDocument(ri.min()));o.push(this.zn.addEntry(i,w,re))}}),v.forEach(w=>{o.push(this.zn.indexManager.addToCollectionParentIndex(i,w))}),o.push(this.zn.updateMetadata(i,f)),rn.waitFor(o)}getFromCache(i,o){return this.zn.Gn(i,o).next(f=>(this.Hn.set(o,{size:f.size,readTime:f.document.readTime}),f.document))}getAllFromCache(i,o){return this.zn.jn(i,o).next(({documents:f,Wn:v})=>(v.forEach((w,T)=>{this.Hn.set(w,{size:T,readTime:f.get(w).readTime})}),f))}}function yy(u){return ia(u,"remoteDocumentGlobal")}function Hd(u){return ia(u,"remoteDocumentsV14")}function Th(u){const i=u.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function G0(u,i){const o=i.documentKey.path.toArray();return[u,Hg(i.readTime),o.slice(0,o.length-2),o.length>0?o[o.length-1]:""]}function qg(u,i){const o=u.path.toArray(),f=i.path.toArray();let v=0;for(let w=0;w<o.length-2&&w<f.length-2;++w)if(v=_i(o[w],f[w]),v)return v;return v=_i(o.length,f.length),v||(v=_i(o[o.length-2],f[f.length-2]),v||_i(o[o.length-1],f[f.length-1]))}class xy{constructor(i,o){this.overlayedDocument=i,this.mutatedFields=o}}class j0{constructor(i,o,f,v){this.remoteDocumentCache=i,this.mutationQueue=o,this.documentOverlayCache=f,this.indexManager=v}getDocument(i,o){let f=null;return this.documentOverlayCache.getOverlay(i,o).next(v=>(f=v,this.getBaseDocument(i,o,f))).next(v=>(null!==f&&Eu(f.mutation,v,Pr.empty(),xs.now()),v))}getDocuments(i,o){return this.remoteDocumentCache.getEntries(i,o).next(f=>this.getLocalViewOfDocuments(i,f,qi()).next(()=>f))}getLocalViewOfDocuments(i,o,f=qi()){const v=kl();return this.populateOverlays(i,v,o).next(()=>this.computeViews(i,o,v,f).next(w=>{let T=dp();return w.forEach((L,re)=>{T=T.insert(L,re.overlayedDocument)}),T}))}getOverlayedDocuments(i,o){const f=kl();return this.populateOverlays(i,f,o).next(()=>this.computeViews(i,o,f,qi()))}populateOverlays(i,o,f){const v=[];return f.forEach(w=>{o.has(w)||v.push(w)}),this.documentOverlayCache.getOverlays(i,v).next(w=>{w.forEach((T,L)=>{o.set(T,L)})})}computeViews(i,o,f,v){let w=ls();const T=df(),L=df();return o.forEach((re,he)=>{const Be=f.get(he.key);v.has(he.key)&&(void 0===Be||Be.mutation instanceof Il)?w=w.insert(he.key,he):void 0!==Be&&(T.set(he.key,Be.mutation.getFieldMask()),Eu(Be.mutation,he,Be.mutation.getFieldMask(),xs.now()))}),this.recalculateAndSaveOverlays(i,w).next(re=>(re.forEach((he,Be)=>T.set(he,Be)),o.forEach((he,Be)=>{var Ct;return L.set(he,new xy(Be,null!==(Ct=T.get(he))&&void 0!==Ct?Ct:null))}),L))}recalculateAndSaveOverlays(i,o){const f=df();let v=new ye((T,L)=>T-L),w=qi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,o).next(T=>{for(const L of T)L.keys().forEach(re=>{const he=o.get(re);if(null===he)return;let Be=f.get(re)||Pr.empty();Be=L.applyToLocalView(he,Be),f.set(re,Be);const Ct=(v.get(L.batchId)||qi()).add(re);v=v.insert(L.batchId,Ct)})}).next(()=>{const T=[],L=v.getReverseIterator();for(;L.hasNext();){const re=L.getNext(),he=re.key,Be=re.value,Ct=Pd();Be.forEach(bn=>{if(!w.has(bn)){const Yn=$l(o.get(bn),f.get(bn));null!==Yn&&Ct.set(bn,Yn),w=w.add(bn)}}),T.push(this.documentOverlayCache.saveOverlays(i,he,Ct))}return rn.waitFor(T)}).next(()=>f)}recalculateAndSaveOverlaysForDocumentKeys(i,o){return this.remoteDocumentCache.getEntries(i,o).next(f=>this.recalculateAndSaveOverlays(i,f))}getDocumentsMatchingQuery(i,o,f){return br.isDocumentKey((v=o).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(i,o.path):od(o)?this.getDocumentsMatchingCollectionGroupQuery(i,o,f):this.getDocumentsMatchingCollectionQuery(i,o,f);var v}getNextDocuments(i,o,f,v){return this.remoteDocumentCache.getAllFromCollectionGroup(i,o,f,v).next(w=>{const T=v-w.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,o,f.largestBatchId,v-w.size):rn.resolve(kl());let L=-1,re=w;return T.next(he=>rn.forEach(he,(Be,Ct)=>(L<Ct.largestBatchId&&(L=Ct.largestBatchId),w.get(Be)?rn.resolve():this.getBaseDocument(i,Be,Ct).next(bn=>{re=re.insert(Be,bn)}))).next(()=>this.populateOverlays(i,he,w)).next(()=>this.computeViews(i,re,he,qi())).next(Be=>({batchId:L,changes:Du(Be)})))})}getDocumentsMatchingDocumentQuery(i,o){return this.getDocument(i,new br(o)).next(f=>{let v=dp();return f.isFoundDocument()&&(v=v.insert(f.key,f)),v})}getDocumentsMatchingCollectionGroupQuery(i,o,f){const v=o.collectionGroup;let w=dp();return this.indexManager.getCollectionParents(i,v).next(T=>rn.forEach(T,L=>{const re=(he=o,Be=L.child(v),new Wl(Be,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,Be;return this.getDocumentsMatchingCollectionQuery(i,re,f).next(he=>{he.forEach((Be,Ct)=>{w=w.insert(Be,Ct)})})}).next(()=>w))}getDocumentsMatchingCollectionQuery(i,o,f){let v;return this.remoteDocumentCache.getAllFromCollection(i,o.path,f).next(w=>(v=w,this.documentOverlayCache.getOverlaysForCollection(i,o.path,f.largestBatchId))).next(w=>{w.forEach((L,re)=>{const he=re.getKey();null===v.get(he)&&(v=v.insert(he,Rr.newInvalidDocument(he)))});let T=dp();return v.forEach((L,re)=>{const he=w.get(L);void 0!==he&&Eu(he.mutation,re,Pr.empty(),xs.now()),af(o,re)&&(T=T.insert(L,re))}),T})}getBaseDocument(i,o,f){return null===f||1===f.mutation.type?this.remoteDocumentCache.getEntry(i,o):rn.resolve(Rr.newInvalidDocument(o))}}class wy{constructor(i){this.wt=i,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(i,o){return rn.resolve(this.Jn.get(o))}saveBundleMetadata(i,o){var f;return this.Jn.set(o.id,{id:(f=o).id,version:f.version,createTime:ja(f.createTime)}),rn.resolve()}getNamedQuery(i,o){return rn.resolve(this.Yn.get(o))}saveNamedQuery(i,o){return this.Yn.set(o.name,{name:(f=o).name,query:F0(f.bundledQuery),readTime:ja(f.readTime)}),rn.resolve();var f}}class Ey{constructor(){this.overlays=new ye(br.comparator),this.Xn=new Map}getOverlay(i,o){return rn.resolve(this.overlays.get(o))}getOverlays(i,o){const f=kl();return rn.forEach(o,v=>this.getOverlay(i,v).next(w=>{null!==w&&f.set(v,w)})).next(()=>f)}saveOverlays(i,o,f){return f.forEach((v,w)=>{this.ie(i,o,w)}),rn.resolve()}removeOverlaysForBatchId(i,o,f){const v=this.Xn.get(f);return void 0!==v&&(v.forEach(w=>this.overlays=this.overlays.remove(w)),this.Xn.delete(f)),rn.resolve()}getOverlaysForCollection(i,o,f){const v=kl(),w=o.length+1,T=new br(o.child("")),L=this.overlays.getIteratorFrom(T);for(;L.hasNext();){const re=L.getNext().value,he=re.getKey();if(!o.isPrefixOf(he.path))break;he.path.length===w&&re.largestBatchId>f&&v.set(re.getKey(),re)}return rn.resolve(v)}getOverlaysForCollectionGroup(i,o,f,v){let w=new ye((he,Be)=>he-Be);const T=this.overlays.getIterator();for(;T.hasNext();){const he=T.getNext().value;if(he.getKey().getCollectionGroup()===o&&he.largestBatchId>f){let Be=w.get(he.largestBatchId);null===Be&&(Be=kl(),w=w.insert(he.largestBatchId,Be)),Be.set(he.getKey(),he)}}const L=kl(),re=w.getIterator();for(;re.hasNext()&&(re.getNext().value.forEach((he,Be)=>L.set(he,Be)),!(L.size()>=v)););return rn.resolve(L)}ie(i,o,f){const v=this.overlays.get(f.key);if(null!==v){const T=this.Xn.get(v.largestBatchId).delete(f.key);this.Xn.set(v.largestBatchId,T)}this.overlays=this.overlays.insert(f.key,new R0(o,f));let w=this.Xn.get(o);void 0===w&&(w=qi(),this.Xn.set(o,w)),this.Xn.set(o,w.add(f.key))}}class _d{constructor(){this.Zn=new xn(Ia.ts),this.es=new xn(Ia.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,o){const f=new Ia(i,o);this.Zn=this.Zn.add(f),this.es=this.es.add(f)}ss(i,o){i.forEach(f=>this.addReference(f,o))}removeReference(i,o){this.rs(new Ia(i,o))}os(i,o){i.forEach(f=>this.removeReference(f,o))}us(i){const o=new br(new Wi([])),f=new Ia(o,i),v=new Ia(o,i+1),w=[];return this.es.forEachInRange([f,v],T=>{this.rs(T),w.push(T.key)}),w}cs(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const o=new br(new Wi([])),f=new Ia(o,i),v=new Ia(o,i+1);let w=qi();return this.es.forEachInRange([f,v],T=>{w=w.add(T.key)}),w}containsKey(i){const o=new Ia(i,0),f=this.Zn.firstAfterOrEqual(o);return null!==f&&i.isEqual(f.key)}}class Ia{constructor(i,o){this.key=i,this.ls=o}static ts(i,o){return br.comparator(i.key,o.key)||_i(i.ls,o.ls)}static ns(i,o){return _i(i.ls,o.ls)||br.comparator(i.key,o.key)}}class by{constructor(i,o){this.indexManager=i,this.referenceDelegate=o,this.mutationQueue=[],this.fs=1,this.ds=new xn(Ia.ts)}checkEmpty(i){return rn.resolve(0===this.mutationQueue.length)}addMutationBatch(i,o,f,v){const w=this.fs;this.fs++;const T=new M0(w,o,f,v);this.mutationQueue.push(T);for(const L of v)this.ds=this.ds.add(new Ia(L.key,w)),this.indexManager.addToCollectionParentIndex(i,L.key.path.popLast());return rn.resolve(T)}lookupMutationBatch(i,o){return rn.resolve(this._s(o))}getNextMutationBatchAfterBatchId(i,o){const v=this.ws(o+1),w=v<0?0:v;return rn.resolve(this.mutationQueue.length>w?this.mutationQueue[w]:null)}getHighestUnacknowledgedBatchId(){return rn.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(i){return rn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,o){const f=new Ia(o,0),v=new Ia(o,Number.POSITIVE_INFINITY),w=[];return this.ds.forEachInRange([f,v],T=>{const L=this._s(T.ls);w.push(L)}),rn.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(i,o){let f=new xn(_i);return o.forEach(v=>{const w=new Ia(v,0),T=new Ia(v,Number.POSITIVE_INFINITY);this.ds.forEachInRange([w,T],L=>{f=f.add(L.ls)})}),rn.resolve(this.gs(f))}getAllMutationBatchesAffectingQuery(i,o){const f=o.path,v=f.length+1;let w=f;br.isDocumentKey(w)||(w=w.child(""));const T=new Ia(new br(w),0);let L=new xn(_i);return this.ds.forEachWhile(re=>{const he=re.key.path;return!!f.isPrefixOf(he)&&(he.length===v&&(L=L.add(re.ls)),!0)},T),rn.resolve(this.gs(L))}gs(i){const o=[];return i.forEach(f=>{const v=this._s(f);null!==v&&o.push(v)}),o}removeMutationBatch(i,o){gi(0===this.ys(o.batchId,"removed")),this.mutationQueue.shift();let f=this.ds;return rn.forEach(o.mutations,v=>{const w=new Ia(v.key,o.batchId);return f=f.delete(w),this.referenceDelegate.markPotentiallyOrphaned(i,v.key)}).next(()=>{this.ds=f})}In(i){}containsKey(i,o){const f=new Ia(o,0),v=this.ds.firstAfterOrEqual(f);return rn.resolve(o.isEqual(v&&v.key))}performConsistencyCheck(i){return rn.resolve()}ys(i,o){return this.ws(i)}ws(i){return 0===this.mutationQueue.length?0:i-this.mutationQueue[0].batchId}_s(i){const o=this.ws(i);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class Kw{constructor(i){this.ps=i,this.docs=new ye(br.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,o){const f=o.key,v=this.docs.get(f),w=v?v.size:0,T=this.ps(o);return this.docs=this.docs.insert(f,{document:o.mutableCopy(),size:T}),this.size+=T-w,this.indexManager.addToCollectionParentIndex(i,f.path.popLast())}removeEntry(i){const o=this.docs.get(i);o&&(this.docs=this.docs.remove(i),this.size-=o.size)}getEntry(i,o){const f=this.docs.get(o);return rn.resolve(f?f.document.mutableCopy():Rr.newInvalidDocument(o))}getEntries(i,o){let f=ls();return o.forEach(v=>{const w=this.docs.get(v);f=f.insert(v,w?w.document.mutableCopy():Rr.newInvalidDocument(v))}),rn.resolve(f)}getAllFromCollection(i,o,f){let v=ls();const w=new br(o.child("")),T=this.docs.getIteratorFrom(w);for(;T.hasNext();){const{key:L,value:{document:re}}=T.getNext();if(!o.isPrefixOf(L.path))break;L.path.length>o.length+1||Ec(ac(re),f)<=0||(v=v.insert(re.key,re.mutableCopy()))}return rn.resolve(v)}getAllFromCollectionGroup(i,o,f,v){Jr()}Is(i,o){return rn.forEach(this.docs,f=>o(f))}newChangeBuffer(i){return new Cy(this)}getSize(i){return rn.resolve(this.size)}}class Cy extends _y{constructor(i){super(),this.zn=i}applyChanges(i){const o=[];return this.changes.forEach((f,v)=>{v.isValidDocument()?o.push(this.zn.addEntry(i,v)):this.zn.removeEntry(f)}),rn.waitFor(o)}getFromCache(i,o){return this.zn.getEntry(i,o)}getAllFromCache(i,o){return this.zn.getEntries(i,o)}}class bp{constructor(i){this.persistence=i,this.Ts=new Cu(o=>hl(o),va),this.lastRemoteSnapshotVersion=ri.min(),this.highestTargetId=0,this.Es=0,this.As=new _d,this.targetCount=0,this.Rs=md.An()}forEachTarget(i,o){return this.Ts.forEach((f,v)=>o(v)),rn.resolve()}getLastRemoteSnapshotVersion(i){return rn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return rn.resolve(this.Es)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),rn.resolve(this.highestTargetId)}setTargetsMetadata(i,o,f){return f&&(this.lastRemoteSnapshotVersion=f),o>this.Es&&(this.Es=o),rn.resolve()}vn(i){this.Ts.set(i.target,i);const o=i.targetId;o>this.highestTargetId&&(this.Rs=new md(o),this.highestTargetId=o),i.sequenceNumber>this.Es&&(this.Es=i.sequenceNumber)}addTargetData(i,o){return this.vn(o),this.targetCount+=1,rn.resolve()}updateTargetData(i,o){return this.vn(o),rn.resolve()}removeTargetData(i,o){return this.Ts.delete(o.target),this.As.us(o.targetId),this.targetCount-=1,rn.resolve()}removeTargets(i,o,f){let v=0;const w=[];return this.Ts.forEach((T,L)=>{L.sequenceNumber<=o&&null===f.get(L.targetId)&&(this.Ts.delete(T),w.push(this.removeMatchingKeysForTargetId(i,L.targetId)),v++)}),rn.waitFor(w).next(()=>v)}getTargetCount(i){return rn.resolve(this.targetCount)}getTargetData(i,o){const f=this.Ts.get(o)||null;return rn.resolve(f)}addMatchingKeys(i,o,f){return this.As.ss(o,f),rn.resolve()}removeMatchingKeys(i,o,f){this.As.os(o,f);const v=this.persistence.referenceDelegate,w=[];return v&&o.forEach(T=>{w.push(v.markPotentiallyOrphaned(i,T))}),rn.waitFor(w)}removeMatchingKeysForTargetId(i,o){return this.As.us(o),rn.resolve()}getMatchingKeysForTargetId(i,o){const f=this.As.hs(o);return rn.resolve(f)}containsKey(i,o){return rn.resolve(this.As.containsKey(o))}}class Dy{constructor(i,o){this.bs={},this.overlays={},this.Ps=new O(0),this.vs=!1,this.vs=!0,this.referenceDelegate=i(this),this.Vs=new bp(this),this.indexManager=new zw,this.remoteDocumentCache=new Kw(f=>this.referenceDelegate.Ss(f)),this.wt=new cy(o),this.Ds=new wy(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let o=this.overlays[i.toKey()];return o||(o=new Ey,this.overlays[i.toKey()]=o),o}getMutationQueue(i,o){let f=this.bs[i.toKey()];return f||(f=new by(o,this.referenceDelegate),this.bs[i.toKey()]=f),f}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(i,o,f){hr("MemoryPersistence","Starting transaction:",i);const v=new Sy(this.Ps.next());return this.referenceDelegate.Cs(),f(v).next(w=>this.referenceDelegate.xs(v).next(()=>w)).toPromise().then(w=>(v.raiseOnCommittedEvent(),w))}Ns(i,o){return rn.or(Object.values(this.bs).map(f=>()=>f.containsKey(i,o)))}}class Sy extends ph{constructor(i){super(),this.currentSequenceNumber=i}}class Cp{constructor(i){this.persistence=i,this.ks=new _d,this.Ms=null}static Os(i){return new Cp(i)}get Fs(){if(this.Ms)return this.Ms;throw Jr()}addReference(i,o,f){return this.ks.addReference(f,o),this.Fs.delete(f.toString()),rn.resolve()}removeReference(i,o,f){return this.ks.removeReference(f,o),this.Fs.add(f.toString()),rn.resolve()}markPotentiallyOrphaned(i,o){return this.Fs.add(o.toString()),rn.resolve()}removeTarget(i,o){this.ks.us(o.targetId).forEach(v=>this.Fs.add(v.toString()));const f=this.persistence.getTargetCache();return f.getMatchingKeysForTargetId(i,o.targetId).next(v=>{v.forEach(w=>this.Fs.add(w.toString()))}).next(()=>f.removeTargetData(i,o))}Cs(){this.Ms=new Set}xs(i){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rn.forEach(this.Fs,f=>{const v=br.fromPath(f);return this.$s(i,v).next(w=>{w||o.removeEntry(v,ri.min())})}).next(()=>(this.Ms=null,o.apply(i)))}updateLimboDocument(i,o){return this.$s(i,o).next(f=>{f?this.Fs.delete(o.toString()):this.Fs.add(o.toString())})}Ss(i){return 0}$s(i,o){return rn.or([()=>rn.resolve(this.ks.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(i,o),()=>this.persistence.Ns(i,o)])}}class Ty{constructor(i){this.wt=i}M(i,o,f,v){const w=new yu("createOrUpgrade",o);var L;f<1&&v>=1&&(i.createObjectStore("owner"),(L=i).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oy,{unique:!0}),L.createObjectStore("documentMutations"),Zg(i),function(L){L.createObjectStore("remoteDocuments")}(i));let T=rn.resolve();return f<3&&v>=3&&(0!==f&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(i),Zg(i)),T=T.next(()=>function(L){const re=L.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ri.min().toTimestamp(),targetCount:0};return re.put("targetGlobalKey",he)}(w))),f<4&&v>=4&&(0!==f&&(T=T.next(()=>function(L,re){return re.store("mutations").K().next(he=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oy,{unique:!0});const Be=re.store("mutations"),Ct=he.map(bn=>Be.put(bn));return rn.waitFor(Ct)})}(i,w))),T=T.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(i)})),f<5&&v>=5&&(T=T.next(()=>this.Bs(w))),f<6&&v>=6&&(T=T.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(i),this.Ls(w)))),f<7&&v>=7&&(T=T.next(()=>this.Us(w))),f<8&&v>=8&&(T=T.next(()=>this.qs(i,w))),f<9&&v>=9&&(T=T.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(i)})),f<10&&v>=10&&(T=T.next(()=>this.Ks(w))),f<11&&v>=11&&(T=T.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),f<12&&v>=12&&(T=T.next(()=>{!function(L){const re=L.createObjectStore("documentOverlays",{keyPath:Bw});re.createIndex("collectionPathOverlayIndex",ay,{unique:!1}),re.createIndex("collectionGroupOverlayIndex",Vg,{unique:!1})}(i)})),f<13&&v>=13&&(T=T.next(()=>function(L){const re=L.createObjectStore("remoteDocumentsV14",{keyPath:Fw});re.createIndex("documentKeyIndex",Pw),re.createIndex("collectionGroupIndex",S0)}(i)).next(()=>this.Gs(i,w)).next(()=>i.deleteObjectStore("remoteDocuments"))),f<14&&v>=14&&(T=T.next(()=>this.Qs(i,w))),f<15&&v>=15&&(T=T.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:w1}).createIndex("sequenceNumberIndex",E1,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Lw}).createIndex("documentKeyIndex",b1,{unique:!1})}(i))),T}Ls(i){let o=0;return i.store("remoteDocuments").J((f,v)=>{o+=Ep(v)}).next(()=>{const f={byteSize:o};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",f)})}Bs(i){const o=i.store("mutationQueues"),f=i.store("mutations");return o.K().next(v=>rn.forEach(v,w=>{const T=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return f.K("userMutationsIndex",T).next(L=>rn.forEach(L,re=>{gi(re.userId===w.userId);const he=yh(this.wt,re);return Iu(i,w.userId,he).next(()=>{})}))}))}Us(i){const o=i.store("targetDocuments"),f=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(v=>{const w=[];return f.J((T,L)=>{const re=new Wi(T),he=[0,Kl(re)];w.push(o.get(he).next(Be=>Be?rn.resolve():o.put({targetId:0,path:Kl(re),sequenceNumber:v.highestListenSequenceNumber})))}).next(()=>rn.waitFor(w))})}qs(i,o){i.createObjectStore("collectionParents",{keyPath:Nw});const f=o.store("collectionParents"),v=new L0,w=T=>{if(v.add(T)){const L=T.lastSegment(),re=T.popLast();return f.put({collectionId:L,parent:Kl(re)})}};return o.store("remoteDocuments").J({H:!0},(T,L)=>{const re=new Wi(T);return w(re.popLast())}).next(()=>o.store("documentMutations").J({H:!0},([T,L,re],he)=>{const Be=Au(L);return w(Be.popLast())}))}Ks(i){const o=i.store("targets");return o.J((f,v)=>{const w=xp(v),T=O0(this.wt,w);return o.put(T)})}Gs(i,o){const f=o.store("remoteDocuments"),v=[];return f.J((w,T)=>{const L=o.store("remoteDocumentsV14"),re=(he=T,he.document?new br(Wi.fromString(he.document.name).popFirst(5)):he.noDocument?br.fromSegments(he.noDocument.path):he.unknownDocument?br.fromSegments(he.unknownDocument.path):Jr()).path.toArray();var he;const Be={prefixPath:re.slice(0,re.length-2),collectionGroup:re[re.length-2],documentId:re[re.length-1],readTime:T.readTime||[0,0],unknownDocument:T.unknownDocument,noDocument:T.noDocument,document:T.document,hasCommittedMutations:!!T.hasCommittedMutations};v.push(L.put(Be))}).next(()=>rn.waitFor(v))}Qs(i,o){const f=o.store("mutations"),v=Mu(this.wt),w=new Dy(Cp.Os,this.wt.ne);return f.K().next(T=>{const L=new Map;return T.forEach(re=>{var he;let Be=null!==(he=L.get(re.userId))&&void 0!==he?he:qi();yh(this.wt,re).keys().forEach(Ct=>Be=Be.add(Ct)),L.set(re.userId,Be)}),rn.forEach(L,(re,he)=>{const Be=new Xi(he),Ct=fd.se(this.wt,Be),bn=w.getIndexManager(Be),Yn=$g.se(Be,this.wt,bn,w.referenceDelegate);return new j0(v,Yn,Ct,bn).recalculateAndSaveOverlaysForDocumentKeys(new yp(o,O.ot),re).next()})})}}function Zg(u){u.createObjectStore("targetDocuments",{keyPath:x1}).createIndex("documentTargetsIndex",T0,{unique:!0}),u.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",y1,{unique:!0}),u.createObjectStore("targetGlobal")}const Dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wf{constructor(i,o,f,v,w,T,L,re,he,Be,Ct=15){if(this.allowTabSynchronization=i,this.persistenceKey=o,this.clientId=f,this.js=w,this.window=T,this.document=L,this.Ws=he,this.zs=Be,this.Hs=Ct,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=bn=>Promise.resolve(),!wf.V())throw new ir(on.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H0(this,v),this.ei=o+"main",this.wt=new cy(re),this.ni=new zo(this.ei,this.Hs,new Ty(this.wt)),this.Vs=new V0(this.referenceDelegate,this.wt),this.remoteDocumentCache=Mu(this.wt),this.Ds=new dy,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===Be&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ir(on.FAILED_PRECONDITION,Dp);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Vs.getHighestSequenceNumber(i))}).then(i=>{this.Ps=new O(i,this.Ws)}).then(()=>{this.vs=!0}).catch(i=>(this.ni&&this.ni.close(),Promise.reject(i)))}ci(i){var o=this;return this.ti=function(){var f=(0,d.Z)(function*(v){if(o.started)return i(v)});return function(v){return f.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.ni.F(function(){var o=(0,d.Z)(function*(f){null===f.newVersion&&(yield i())});return function(f){return o.apply(this,arguments)}}())}setNetworkEnabled(i){var o=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.js.enqueueAndForget((0,d.Z)(function*(){o.started&&(yield o.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Sp(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(i).next(o=>{o||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(i)).next(o=>this.isPrimary&&!o?this.li(i).next(()=>!1):!!o&&this.fi(i).next(()=>!0))).catch(i=>{if(Kr(i))return hr("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return hr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.js.enqueueRetryable(()=>this.ti(i)),this.isPrimary=i})}ai(i){return Rc(i).get("owner").next(o=>rn.resolve(this.di(o)))}_i(i){return Sp(i).delete(this.clientId)}wi(){var i=this;return(0,d.Z)(function*(){if(i.isPrimary&&!i.mi(i.Zs,18e5)){i.Zs=Date.now();const o=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",f=>{const v=ia(f,"clientMetadata");return v.K().next(w=>{const T=i.gi(w,18e5),L=w.filter(re=>-1===T.indexOf(re));return rn.forEach(L,re=>v.delete(re.clientId)).next(()=>L)})}).catch(()=>[]);if(i.si)for(const f of o)i.si.removeItem(i.yi(f.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(i){return!!i&&i.ownerId===this.clientId}hi(i){return this.zs?rn.resolve(!0):Rc(i).get("owner").next(o=>{if(null!==o&&this.mi(o.leaseTimestampMs,5e3)&&!this.pi(o.ownerId)){if(this.di(o)&&this.networkEnabled)return!0;if(!this.di(o)){if(!o.allowTabSynchronization)throw new ir(on.FAILED_PRECONDITION,Dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sp(i).K().next(f=>void 0===this.gi(f,5e3).find(v=>{if(this.clientId!==v.clientId){const T=!this.inForeground&&v.inForeground,L=this.networkEnabled===v.networkEnabled;if(!this.networkEnabled&&v.networkEnabled||T&&L)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&hr("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var i=this;return(0,d.Z)(function*(){i.vs=!1,i.Ii(),i.Xs&&(i.Xs.cancel(),i.Xs=null),i.Ti(),i.Ei(),yield i.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],o=>{const f=new yp(o,O.ot);return i.li(f).next(()=>i._i(f))}),i.ni.close(),i.Ai()})()}gi(i,o){return i.filter(f=>this.mi(f.updateTimeMs,o)&&!this.pi(f.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",i=>Sp(i).K().next(o=>this.gi(o,18e5).map(f=>f.clientId)))}get started(){return this.vs}getMutationQueue(i,o){return $g.se(i,this.wt,o,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new gd(i,this.wt.ne.databaseId)}getDocumentOverlayCache(i){return fd.se(this.wt,i)}getBundleCache(){return this.Ds}runTransaction(i,o,f){hr("IndexedDbPersistence","Starting transaction:",i);const v="readonly"===o?"readonly":"readwrite",w=15===(T=this.Hs)?ly:14===T?vp:13===T?k0:12===T?I0:11===T?A0:void Jr();var T;let L;return this.ni.runTransaction(i,v,w,re=>(L=new yp(re,this.Ps?this.Ps.next():O.ot),"readwrite-primary"===o?this.ai(L).next(he=>!!he||this.hi(L)).next(he=>{if(!he)throw Pi(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new ir(on.FAILED_PRECONDITION,go);return f(L)}).next(he=>this.fi(L).next(()=>he)):this.bi(L).next(()=>f(L)))).then(re=>(L.raiseOnCommittedEvent(),re))}bi(i){return Rc(i).get("owner").next(o=>{if(null!==o&&this.mi(o.leaseTimestampMs,5e3)&&!this.pi(o.ownerId)&&!this.di(o)&&!(this.zs||this.allowTabSynchronization&&o.allowTabSynchronization))throw new ir(on.FAILED_PRECONDITION,Dp)})}fi(i){const o={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rc(i).put("owner",o)}static V(){return zo.V()}li(i){const o=Rc(i);return o.get("owner").next(f=>this.di(f)?(hr("IndexedDbPersistence","Releasing primary lease."),o.delete("owner")):rn.resolve())}mi(i,o){const f=Date.now();return!(i<f-o||i>f&&(Pi(`Detected an update time that is in the future: ${i} > ${f}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ae.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(i){var o;try{const f=null!==(null===(o=this.si)||void 0===o?void 0:o.getItem(this.yi(i)));return hr("IndexedDbPersistence",`Client '${i}' ${f?"is":"is not"} zombied in LocalStorage`),f}catch(f){return Pi("IndexedDbPersistence","Failed to get zombied client id.",f),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(i){Pi("Failed to set zombie client id.",i)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Rc(u){return ia(u,"owner")}function Sp(u){return ia(u,"clientMetadata")}function Tp(u,i){let o=u.projectId;return u.isDefaultDatabase||(o+="."+u.database),"firestore/"+i+"/"+o+"/"}class Ah{constructor(i,o,f,v){this.targetId=i,this.fromCache=o,this.Pi=f,this.vi=v}static Vi(i,o){let f=qi(),v=qi();for(const w of o.docChanges)switch(w.type){case 0:f=f.add(w.doc.key);break;case 1:v=v.add(w.doc.key)}return new Ah(i,o.fromCache,f,v)}}class Ap{constructor(){this.Si=!1}initialize(i,o){this.Di=i,this.indexManager=o,this.Si=!0}getDocumentsMatchingQuery(i,o,f,v){return this.Ci(i,o).next(w=>w||this.xi(i,o,v,f)).next(w=>w||this.Ni(i,o))}Ci(i,o){if(op(o))return rn.resolve(null);let f=tl(o);return this.indexManager.getIndexType(i,f).next(v=>0===v?null:(null!==o.limit&&1===v&&(o=Od(o,null,"F"),f=tl(o)),this.indexManager.getDocumentsMatchingTarget(i,f).next(w=>{const T=qi(...w);return this.Di.getDocuments(i,T).next(L=>this.indexManager.getMinOffset(i,f).next(re=>{const he=this.ki(o,L);return this.Mi(o,he,T,re.readTime)?this.Ci(i,Od(o,null,"F")):this.Oi(i,he,o,re)}))})))}xi(i,o,f,v){return op(o)||v.isEqual(ri.min())?this.Ni(i,o):this.Di.getDocuments(i,f).next(w=>{const T=this.ki(o,w);return this.Mi(o,T,f,v)?this.Ni(i,o):(jc()<=Re.in.DEBUG&&hr("QueryEngine","Re-using previous result from %s to execute query: %s",v.toString(),dc(o)),this.Oi(i,T,o,td(v,-1)))})}ki(i,o){let f=new xn(Ig(i));return o.forEach((v,w)=>{af(i,w)&&(f=f.add(w))}),f}Mi(i,o,f,v){if(null===i.limit)return!1;if(f.size!==o.size)return!0;const w="F"===i.limitType?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(v)>0)}Ni(i,o){return jc()<=Re.in.DEBUG&&hr("QueryEngine","Using full collection scan to execute query:",dc(o)),this.Di.getDocumentsMatchingQuery(i,o,vi.min())}Oi(i,o,f,v){return this.Di.getDocumentsMatchingQuery(i,f,v).next(w=>(o.forEach(T=>{w=w.insert(T.key,T)}),w))}}class Ip{constructor(i,o,f,v){this.persistence=i,this.Fi=o,this.wt=v,this.$i=new ye(_i),this.Bi=new Cu(w=>hl(w),va),this.Li=new Map,this.Ui=i.getRemoteDocumentCache(),this.Vs=i.getTargetCache(),this.Ds=i.getBundleCache(),this.qi(f)}qi(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new j0(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>i.collect(o,this.$i))}}function Ay(u,i,o,f){return new Ip(u,i,o,f)}function za(u,i){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,d.Z)(function*(u,i){const o=Fr(u);return yield o.persistence.runTransaction("Handle user change","readonly",f=>{let v;return o.mutationQueue.getAllMutationBatches(f).next(w=>(v=w,o.qi(i),o.mutationQueue.getAllMutationBatches(f))).next(w=>{const T=[],L=[];let re=qi();for(const he of v){T.push(he.batchId);for(const Be of he.mutations)re=re.add(Be.key)}for(const he of w){L.push(he.batchId);for(const Be of he.mutations)re=re.add(Be.key)}return o.localDocuments.getDocuments(f,re).next(he=>({Ki:he,removedBatchIds:T,addedBatchIds:L}))})})}),Ih.apply(this,arguments)}function kp(u,i){const o=Fr(u);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",f=>{const v=i.batch.keys(),w=o.Ui.newChangeBuffer({trackRemovals:!0});return function(T,L,re,he){const Be=re.batch,Ct=Be.keys();let bn=rn.resolve();return Ct.forEach(Yn=>{bn=bn.next(()=>he.getEntry(L,Yn)).next(er=>{const Yr=re.docVersions.get(Yn);gi(null!==Yr),er.version.compareTo(Yr)<0&&(Be.applyToRemoteDocument(er,re),er.isValidDocument()&&(er.setReadTime(re.commitVersion),he.addEntry(er)))})}),bn.next(()=>T.mutationQueue.removeMutationBatch(L,Be))}(o,f,i,w).next(()=>w.apply(f)).next(()=>o.mutationQueue.performConsistencyCheck(f)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(f,v,i.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,function(T){let L=qi();for(let re=0;re<T.mutationResults.length;++re)T.mutationResults[re].transformResults.length>0&&(L=L.add(T.batch.mutations[re].key));return L}(i))).next(()=>o.localDocuments.getDocuments(f,v))})}function Ef(u){const i=Fr(u);return i.persistence.runTransaction("Get last remote snapshot version","readonly",o=>i.Vs.getLastRemoteSnapshotVersion(o))}function Mp(u,i){const o=Fr(u),f=i.snapshotVersion;let v=o.$i;return o.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const T=o.Ui.newChangeBuffer({trackRemovals:!0});v=o.$i;const L=[];i.targetChanges.forEach((Be,Ct)=>{const bn=v.get(Ct);if(!bn)return;L.push(o.Vs.removeMatchingKeys(w,Be.removedDocuments,Ct).next(()=>o.Vs.addMatchingKeys(w,Be.addedDocuments,Ct)));let Yn=bn.withSequenceNumber(w.currentSequenceNumber);var er,Yr,pi;i.targetMismatches.has(Ct)?Yn=Yn.withResumeToken(Mi.EMPTY_BYTE_STRING,ri.min()).withLastLimboFreeSnapshotVersion(ri.min()):Be.resumeToken.approximateByteSize()>0&&(Yn=Yn.withResumeToken(Be.resumeToken,f)),v=v.insert(Ct,Yn),Yr=Yn,pi=Be,(0===(er=bn).resumeToken.approximateByteSize()||Yr.snapshotVersion.toMicroseconds()-er.snapshotVersion.toMicroseconds()>=3e8||pi.addedDocuments.size+pi.modifiedDocuments.size+pi.removedDocuments.size>0)&&L.push(o.Vs.updateTargetData(w,Yn))});let re=ls(),he=qi();if(i.documentUpdates.forEach(Be=>{i.resolvedLimboDocuments.has(Be)&&L.push(o.persistence.referenceDelegate.updateLimboDocument(w,Be))}),L.push(Rp(w,T,i.documentUpdates).next(Be=>{re=Be.Gi,he=Be.Qi})),!f.isEqual(ri.min())){const Be=o.Vs.getLastRemoteSnapshotVersion(w).next(Ct=>o.Vs.setTargetsMetadata(w,w.currentSequenceNumber,f));L.push(Be)}return rn.waitFor(L).next(()=>T.apply(w)).next(()=>o.localDocuments.getLocalViewOfDocuments(w,re,he)).next(()=>re)}).then(w=>(o.$i=v,w))}function Rp(u,i,o){let f=qi(),v=qi();return o.forEach(w=>f=f.add(w)),i.getEntries(u,f).next(w=>{let T=ls();return o.forEach((L,re)=>{const he=w.get(L);re.isFoundDocument()!==he.isFoundDocument()&&(v=v.add(L)),re.isNoDocument()&&re.version.isEqual(ri.min())?(i.removeEntry(L,re.readTime),T=T.insert(L,re)):!he.isValidDocument()||re.version.compareTo(he.version)>0||0===re.version.compareTo(he.version)&&he.hasPendingWrites?(i.addEntry(re),T=T.insert(L,re)):hr("LocalStore","Ignoring outdated watch update for ",L,". Current version:",he.version," Watch version:",re.version)}),{Gi:T,Qi:v}})}function kh(u,i){const o=Fr(u);return o.persistence.runTransaction("Get next mutation batch","readonly",f=>(void 0===i&&(i=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(f,i)))}function Mh(u,i){const o=Fr(u);return o.persistence.runTransaction("Allocate target","readwrite",f=>{let v;return o.Vs.getTargetData(f,i).next(w=>w?(v=w,rn.resolve(v)):o.Vs.allocateTargetId(f).next(T=>(v=new dd(i,T,0,f.currentSequenceNumber),o.Vs.addTargetData(f,v).next(()=>v))))}).then(f=>{const v=o.$i.get(f.targetId);return(null===v||f.snapshotVersion.compareTo(v.snapshotVersion)>0)&&(o.$i=o.$i.insert(f.targetId,f),o.Bi.set(i,f.targetId)),f})}function Rh(u,i,o){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,d.Z)(function*(u,i,o){const f=Fr(u),v=f.$i.get(i),w=o?"readwrite":"readwrite-primary";try{o||(yield f.persistence.runTransaction("Release target",w,T=>f.persistence.referenceDelegate.removeTarget(T,v)))}catch(T){if(!Kr(T))throw T;hr("LocalStore",`Failed to update sequence numbers for target ${i}: ${T}`)}f.$i=f.$i.remove(i),f.Bi.delete(v.target)}),Gd.apply(this,arguments)}function Oh(u,i,o){const f=Fr(u);let v=ri.min(),w=qi();return f.persistence.runTransaction("Execute query","readonly",T=>function(L,re,he){const Be=Fr(L),Ct=Be.Bi.get(he);return void 0!==Ct?rn.resolve(Be.$i.get(Ct)):Be.Vs.getTargetData(re,he)}(f,T,tl(i)).next(L=>{if(L)return v=L.lastLimboFreeSnapshotVersion,f.Vs.getMatchingKeysForTargetId(T,L.targetId).next(re=>{w=re})}).next(()=>f.Fi.getDocumentsMatchingQuery(T,i,o?v:ri.min(),o?w:qi())).next(L=>(Yw(f,mh(i),L),{documents:L,ji:w})))}function Iy(u,i){const o=Fr(u),f=Fr(o.Vs),v=o.$i.get(i);return v?Promise.resolve(v.target):o.persistence.runTransaction("Get target data","readonly",w=>f.te(w,i).next(T=>T?T.target:null))}function eu(u,i){const o=Fr(u),f=o.Li.get(i)||ri.min();return o.persistence.runTransaction("Get new document changes","readonly",v=>o.Ui.getAllFromCollectionGroup(v,i,td(f,-1),Number.MAX_SAFE_INTEGER)).then(v=>(Yw(o,i,v),v))}function Yw(u,i,o){let f=ri.min();o.forEach((v,w)=>{w.readTime.compareTo(f)>0&&(f=w.readTime)}),u.Li.set(i,f)}function ky(){return ky=(0,d.Z)(function*(u,i,o,f){const v=Fr(u);let w=qi(),T=ls();for(const he of o){const Be=i.Wi(he.metadata.name);he.document&&(w=w.add(Be));const Ct=i.zi(he);Ct.setReadTime(i.Hi(he.metadata.readTime)),T=T.insert(Be,Ct)}const L=v.Ui.newChangeBuffer({trackRemovals:!0}),re=yield Mh(v,(he=f,tl(uc(Wi.fromString(`__bundle__/docs/${he}`)))));var he;return v.persistence.runTransaction("Apply bundle documents","readwrite",he=>Rp(he,L,T).next(Be=>(L.apply(he),Be)).next(Be=>v.Vs.removeMatchingKeysForTargetId(he,re.targetId).next(()=>v.Vs.addMatchingKeys(he,w,re.targetId)).next(()=>v.localDocuments.getLocalViewOfDocuments(he,Be.Gi,Be.Qi)).next(()=>Be.Gi)))}),ky.apply(this,arguments)}function Zw(u,i){return bf.apply(this,arguments)}function bf(){return bf=(0,d.Z)(function*(u,i,o=qi()){const f=yield Mh(u,tl(F0(i.bundledQuery))),v=Fr(u);return v.persistence.runTransaction("Save named query","readwrite",w=>{const T=ja(i.readTime);if(f.snapshotVersion.compareTo(T)>=0)return v.Ds.saveNamedQuery(w,i);const L=f.withResumeToken(Mi.EMPTY_BYTE_STRING,T);return v.$i=v.$i.insert(L.targetId,L),v.Vs.updateTargetData(w,L).next(()=>v.Vs.removeMatchingKeysForTargetId(w,f.targetId)).next(()=>v.Vs.addMatchingKeys(w,o,f.targetId)).next(()=>v.Ds.saveNamedQuery(w,i))})}),bf.apply(this,arguments)}function Op(u,i){return`firestore_clients_${u}_${i}`}function My(u,i,o){let f=`firestore_mutations_${u}_${o}`;return i.isAuthenticated()&&(f+=`_${i.uid}`),f}function z0(u,i){return`firestore_targets_${u}_${i}`}class Qg{constructor(i,o,f,v){this.user=i,this.batchId=o,this.state=f,this.error=v}static Ji(i,o,f){const v=JSON.parse(f);let w,T="object"==typeof v&&-1!==["pending","acknowledged","rejected"].indexOf(v.state)&&(void 0===v.error||"object"==typeof v.error);return T&&v.error&&(T="string"==typeof v.error.message&&"string"==typeof v.error.code,T&&(w=new ir(v.error.code,v.error.message))),T?new Qg(i,o,v.state,w):(Pi("SharedClientState",`Failed to parse mutation state for ID '${o}': ${f}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Cf{constructor(i,o,f){this.targetId=i,this.state=o,this.error=f}static Ji(i,o){const f=JSON.parse(o);let v,w="object"==typeof f&&-1!==["not-current","current","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return w&&f.error&&(w="string"==typeof f.error.message&&"string"==typeof f.error.code,w&&(v=new ir(f.error.code,f.error.message))),w?new Cf(i,f.state,v):(Pi("SharedClientState",`Failed to parse target state for ID '${i}': ${o}`),null)}Yi(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Vi{constructor(i,o){this.clientId=i,this.activeTargetIds=o}static Ji(i,o){const f=JSON.parse(o);let v="object"==typeof f&&f.activeTargetIds instanceof Array,w=hf();for(let T=0;v&&T<f.activeTargetIds.length;++T)v=Ga(f.activeTargetIds[T]),w=w.add(f.activeTargetIds[T]);return v?new Vi(i,w):(Pi("SharedClientState",`Failed to parse client data for instance '${i}': ${o}`),null)}}class Xg{constructor(i,o){this.clientId=i,this.onlineState=o}static Ji(i){const o=JSON.parse(i);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Xg(o.clientId,o.onlineState):(Pi("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Jg{constructor(){this.activeTargetIds=hf()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class em{constructor(i,o,f,v,w){this.window=i,this.js=o,this.persistenceKey=f,this.tr=v,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ye(_i),this.started=!1,this.ir=[];const T=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.rr=Op(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Jg),this.cr=new RegExp(`^firestore_clients_${T}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${T}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${T}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,d.Z)(function*(){const o=yield i.syncEngine.Ri();for(const v of o){if(v===i.tr)continue;const w=i.getItem(Op(i.persistenceKey,v));if(w){const T=Vi.Ji(v,w);T&&(i.sr=i.sr.insert(T.clientId,T))}}i._r();const f=i.storage.getItem(i.lr);if(f){const v=i.wr(f);v&&i.mr(v)}for(const v of i.ir)i.nr(v);i.ir=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.ur,JSON.stringify(i))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(i){let o=!1;return this.sr.forEach((f,v)=>{v.activeTargetIds.has(i)&&(o=!0)}),o}addPendingMutation(i){this.yr(i,"pending")}updateMutationState(i,o,f){this.yr(i,o,f),this.pr(i)}addLocalQueryTarget(i){let o="not-current";if(this.isActiveQueryTarget(i)){const f=this.storage.getItem(z0(this.persistenceKey,i));if(f){const v=Cf.Ji(i,f);v&&(o=v.state)}}return this.Ir.Xi(i),this._r(),o}removeLocalQueryTarget(i){this.Ir.Zi(i),this._r()}isLocalQueryTarget(i){return this.Ir.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(z0(this.persistenceKey,i))}updateQueryState(i,o,f){this.Tr(i,o,f)}handleUserChange(i,o,f){o.forEach(v=>{this.pr(v)}),this.currentUser=i,f.forEach(v=>{this.addPendingMutation(v)})}setOnlineState(i){this.Er(i)}notifyBundleLoaded(i){this.Ar(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(i){const o=this.storage.getItem(i);return hr("SharedClientState","READ",i,o),o}setItem(i,o){hr("SharedClientState","SET",i,o),this.storage.setItem(i,o)}removeItem(i){hr("SharedClientState","REMOVE",i),this.storage.removeItem(i)}nr(i){var o=this;const f=i;if(f.storageArea===this.storage){if(hr("SharedClientState","EVENT",f.key,f.newValue),f.key===this.rr)return void Pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,d.Z)(function*(){if(o.started){if(null!==f.key)if(o.cr.test(f.key)){if(null==f.newValue){const v=o.Rr(f.key);return o.br(v,null)}{const v=o.Pr(f.key,f.newValue);if(v)return o.br(v.clientId,v)}}else if(o.ar.test(f.key)){if(null!==f.newValue){const v=o.vr(f.key,f.newValue);if(v)return o.Vr(v)}}else if(o.hr.test(f.key)){if(null!==f.newValue){const v=o.Sr(f.key,f.newValue);if(v)return o.Dr(v)}}else if(f.key===o.lr){if(null!==f.newValue){const v=o.wr(f.newValue);if(v)return o.mr(v)}}else if(f.key===o.ur){const v=function(w){let T=O.ot;if(null!=w)try{const L=JSON.parse(w);gi("number"==typeof L),T=L}catch(L){Pi("SharedClientState","Failed to read sequence number from WebStorage",L)}return T}(f.newValue);v!==O.ot&&o.sequenceNumberHandler(v)}else if(f.key===o.dr){const v=o.Cr(f.newValue);yield Promise.all(v.map(w=>o.syncEngine.Nr(w)))}}else o.ir.push(f)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(i,o,f){const v=new Qg(this.currentUser,i,o,f),w=My(this.persistenceKey,this.currentUser,i);this.setItem(w,v.Yi())}pr(i){const o=My(this.persistenceKey,this.currentUser,i);this.removeItem(o)}Er(i){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:i}))}Tr(i,o,f){const v=z0(this.persistenceKey,i),w=new Cf(i,o,f);this.setItem(v,w.Yi())}Ar(i){const o=JSON.stringify(Array.from(i));this.setItem(this.dr,o)}Rr(i){const o=this.cr.exec(i);return o?o[1]:null}Pr(i,o){const f=this.Rr(i);return Vi.Ji(f,o)}vr(i,o){const f=this.ar.exec(i),v=Number(f[1]);return Qg.Ji(new Xi(void 0!==f[2]?f[2]:null),v,o)}Sr(i,o){const f=this.hr.exec(i),v=Number(f[1]);return Cf.Ji(v,o)}wr(i){return Xg.Ji(i)}Cr(i){return JSON.parse(i)}Vr(i){var o=this;return(0,d.Z)(function*(){if(i.user.uid===o.currentUser.uid)return o.syncEngine.kr(i.batchId,i.state,i.error);hr("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}Dr(i){return this.syncEngine.Mr(i.targetId,i.state,i.error)}br(i,o){const f=o?this.sr.insert(i,o):this.sr.remove(i),v=this.gr(this.sr),w=this.gr(f),T=[],L=[];return w.forEach(re=>{v.has(re)||T.push(re)}),v.forEach(re=>{w.has(re)||L.push(re)}),this.syncEngine.Or(T,L).then(()=>{this.sr=f})}mr(i){this.sr.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}gr(i){let o=hf();return i.forEach((f,v)=>{o=o.unionWith(v.activeTargetIds)}),o}}class Ry{constructor(){this.Fr=new Jg,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,o,f){}addLocalQueryTarget(i){return this.Fr.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,o,f){this.$r[i]=o}removeLocalQueryTarget(i){this.Fr.Zi(i)}isLocalQueryTarget(i){return this.Fr.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(i){return this.Fr.activeTargetIds.has(i)}start(){return this.Fr=new Jg,Promise.resolve()}handleUserChange(i,o,f){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}class W0{Br(i){}shutdown(){}}class $0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(i){this.Gr.push(i)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){hr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Gr)i(0)}Kr(){hr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Gr)i(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fy{constructor(i){this.jr=i.jr,this.Wr=i.Wr}zr(i){this.Hr=i}Jr(i){this.Yr=i}onMessage(i){this.Xr=i}close(){this.Wr()}send(i){this.jr(i)}Zr(){this.Hr()}eo(i){this.Yr(i)}no(i){this.Xr(i)}}class Py extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.so=(i.ssl?"https":"http")+"://"+i.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(i,o,f,v,w){const T=this.oo(i,o);hr("RestConnection","Sending: ",T,f);const L={};return this.uo(L,v,w),this.co(i,T,L,f).then(re=>(hr("RestConnection","Received: ",re),re),re=>{throw ul("RestConnection",`${i} failed with error: `,re,"url: ",T,"request:",f),re})}ao(i,o,f,v,w,T){return this.ro(i,o,f,v,w)}uo(i,o,f){i["X-Goog-Api-Client"]="gl-js/ fire/"+Va,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((v,w)=>i[w]=v),f&&f.headers.forEach((v,w)=>i[w]=v)}oo(i,o){return`${this.so}/v1/${o}:${Oy[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}co(i,o,f,v){return new Promise((w,T)=>{const L=new Rs;L.listenOnce(_r.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case _a.NO_ERROR:const he=L.getResponseJson();hr("Connection","XHR received:",JSON.stringify(he)),w(he);break;case _a.TIMEOUT:hr("Connection",'RPC "'+i+'" timed out'),T(new ir(on.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:const Be=L.getStatus();if(hr("Connection",'RPC "'+i+'" failed with status:',Be,"response text:",L.getResponseText()),Be>0){const Ct=L.getResponseJson().error;if(Ct&&Ct.status&&Ct.message){const bn=function(Yn){const er=Yn.toLowerCase().replace(/_/g,"-");return Object.values(on).indexOf(er)>=0?er:on.UNKNOWN}(Ct.status);T(new ir(bn,Ct.message))}else T(new ir(on.UNKNOWN,"Server responded with status "+L.getStatus()))}else T(new ir(on.UNAVAILABLE,"Connection failed."));break;default:Jr()}}finally{hr("Connection",'RPC "'+i+'" completed.')}});const re=JSON.stringify(v);L.send(o,"POST",re,f,15)})}ho(i,o,f){const v=[this.so,"/","google.firestore.v1.Firestore","/",i,"/channel"],w=Gc(),T=qs(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Ju({})),this.uo(L.initMessageHeaders,o,f),(0,Ae.uI)()||(0,Ae.b$)()||(0,Ae.d)()||(0,Ae.w1)()||(0,Ae.Mn)()||(0,Ae.ru)()||(L.httpHeadersOverwriteParam="$httpHeaders");const re=v.join("");hr("Connection","Creating WebChannel: "+re,L);const he=w.createWebChannel(re,L);let Be=!1,Ct=!1;const bn=new Fy({jr:er=>{Ct?hr("Connection","Not sending because WebChannel is closed:",er):(Be||(hr("Connection","Opening WebChannel transport."),he.open(),Be=!0),hr("Connection","WebChannel sending:",er),he.send(er))},Wr:()=>he.close()}),Yn=(er,Yr,pi)=>{er.listen(Yr,Os=>{try{pi(Os)}catch(so){setTimeout(()=>{throw so},0)}})};return Yn(he,El.EventType.OPEN,()=>{Ct||hr("Connection","WebChannel transport opened.")}),Yn(he,El.EventType.CLOSE,()=>{Ct||(Ct=!0,hr("Connection","WebChannel transport closed"),bn.eo())}),Yn(he,El.EventType.ERROR,er=>{Ct||(Ct=!0,ul("Connection","WebChannel transport errored:",er),bn.eo(new ir(on.UNAVAILABLE,"The operation could not be completed")))}),Yn(he,El.EventType.MESSAGE,er=>{var Yr;if(!Ct){const pi=er.data[0];gi(!!pi);const Os=pi,so=Os.error||(null===(Yr=Os[0])||void 0===Yr?void 0:Yr.error);if(so){hr("Connection","WebChannel received error:",so);const yo=so.status;let ya=function(eo){const Ya=as[eo];if(void 0!==Ya)return Rg(Ya)}(yo),xo=so.message;void 0===ya&&(ya=on.INTERNAL,xo="Unknown error status: "+yo+" with message "+so.message),Ct=!0,bn.eo(new ir(ya,xo)),he.close()}else hr("Connection","WebChannel received:",pi),bn.no(pi)}}),Yn(T,Do.STAT_EVENT,er=>{er.stat===mu.PROXY?hr("Connection","Detected buffering proxy"):er.stat===mu.NOPROXY&&hr("Connection","Detected no buffering proxy")}),setTimeout(()=>{bn.Zr()},0),bn}}function Df(){return typeof window<"u"?window:null}function K0(){return typeof document<"u"?document:null}function Sf(u){return new E0(u,!0)}class tm{constructor(i,o,f=1e3,v=1.5,w=6e4){this.js=i,this.timerId=o,this.lo=f,this.fo=v,this._o=w,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(i){this.cancel();const o=Math.floor(this.wo+this.To()),f=Math.max(0,Date.now()-this.yo),v=Math.max(0,o-f);v>0&&hr("ExponentialBackoff",`Backing off for ${v} ms (base delay: ${this.wo} ms, delay with jitter: ${o} ms, last attempt: ${f} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,v,()=>(this.yo=Date.now(),i())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class jd{constructor(i,o,f,v,w,T,L,re){this.js=i,this.Ao=f,this.Ro=v,this.bo=w,this.authCredentialsProvider=T,this.appCheckCredentialsProvider=L,this.listener=re,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new tm(i,o)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var i=this;return(0,d.Z)(function*(){i.Do()&&(yield i.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(i){this.Fo(),this.stream.send(i)}Mo(){var i=this;return(0,d.Z)(function*(){if(i.Co())return i.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,o){var f=this;return(0,d.Z)(function*(){f.Fo(),f.$o(),f.So.cancel(),f.Po++,4!==i?f.So.reset():o&&o.code===on.RESOURCE_EXHAUSTED?(Pi(o.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),f.So.po()):o&&o.code===on.UNAUTHENTICATED&&3!==f.state&&(f.authCredentialsProvider.invalidateToken(),f.appCheckCredentialsProvider.invalidateToken()),null!==f.stream&&(f.Bo(),f.stream.close(),f.stream=null),f.state=i,yield f.listener.Jr(o)})()}Bo(){}auth(){this.state=1;const i=this.Lo(this.Po),o=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([f,v])=>{this.Po===o&&this.Uo(f,v)},f=>{i(()=>{const v=new ir(on.UNKNOWN,"Fetching auth token failed: "+f.message);return this.qo(v)})})}Uo(i,o){const f=this.Lo(this.Po);this.stream=this.Ko(i,o),this.stream.zr(()=>{f(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(v=>{f(()=>this.qo(v))}),this.stream.onMessage(v=>{f(()=>this.onMessage(v))})}xo(){var i=this;this.state=5,this.So.Io((0,d.Z)(function*(){i.state=0,i.start()}))}qo(i){return hr("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Lo(i){return o=>{this.js.enqueueAndForget(()=>this.Po===i?o():(hr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qw extends jd{constructor(i,o,f,v,w,T){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,f,v,T),this.wt=w}Ko(i,o){return this.bo.ho("Listen",i,o)}onMessage(i){this.So.reset();const o=function mf(u,i){let o;if("targetChange"in i){const f="NO_CHANGE"===(re=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===re?1:"REMOVE"===re?2:"CURRENT"===re?3:"RESET"===re?4:Jr(),v=i.targetChange.targetIds||[],w=function(re,he){return re.dt?(gi(void 0===he||"string"==typeof he),Mi.fromBase64String(he||"")):(gi(void 0===he||he instanceof Uint8Array),Mi.fromUint8Array(he||new Uint8Array))}(u,i.targetChange.resumeToken),T=i.targetChange.cause,L=T&&function(re){const he=void 0===re.code?on.UNKNOWN:Rg(re.code);return new ir(he,re.message||"")}(T);o=new Fg(f,v,w,L||null)}else if("documentChange"in i){const f=i.documentChange,v=vo(u,f.document.name),w=ja(f.document.updateTime),T=new li({mapValue:{fields:f.document.fields}}),L=Rr.newFoundDocument(v,w,T);o=new hp(f.targetIds||[],f.removedTargetIds||[],L.key,L)}else if("documentDelete"in i){const f=i.documentDelete,v=vo(u,f.document),w=f.readTime?ja(f.readTime):ri.min(),T=Rr.newNoDocument(v,w);o=new hp([],f.removedTargetIds||[],T.key,T)}else if("documentRemove"in i){const f=i.documentRemove,v=vo(u,f.document);o=new hp([],f.removedTargetIds||[],v,null)}else{if(!("filter"in i))return Jr();{const f=i.filter,w=new Wo(f.count||0);o=new Og(f.targetId,w)}}var re;return o}(this.wt,i),f=function(v){if(!("targetChange"in v))return ri.min();const w=v.targetChange;return w.targetIds&&w.targetIds.length?ri.min():w.readTime?ja(w.readTime):ri.min()}(i);return this.listener.Go(o,f)}Qo(i){const o={};o.database=ud(this.wt),o.addTarget=function(v,w){let T;const L=w.target;return T=Wc(L)?{documents:Jv(v,L)}:{query:Lg(v,L)},T.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?T.resumeToken=Ng(v,w.resumeToken):w.snapshotVersion.compareTo(ri.min())>0&&(T.readTime=cd(v,w.snapshotVersion.toTimestamp())),T}(this.wt,i);const f=function ty(u,i){const o=function(f,v){switch(v){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jr()}}(0,i.purpose);return null==o?null:{"goog-listen-tags":o}}(0,i);f&&(o.labels=f),this.Oo(o)}jo(i){const o={};o.database=ud(this.wt),o.removeTarget=i,this.Oo(o)}}class Y0 extends jd{constructor(i,o,f,v,w,T){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,f,v,T),this.wt=w,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(i,o){return this.bo.ho("Write",i,o)}onMessage(i){if(gi(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Wo){this.So.reset();const o=function Rw(u,i){return u&&u.length>0?(gi(void 0!==i),u.map(o=>function(f,v){let w=ja(f.updateTime?f.updateTime:v);return w.isEqual(ri.min())&&(w=ja(v)),new Gr(w,f.transformResults||[])}(o,i))):[]}(i.writeResults,i.commitTime),f=ja(i.commitTime);return this.listener.Jo(f,o)}return gi(!i.writeResults||0===i.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const i={};i.database=ud(this.wt),this.Oo(i)}Ho(i){const o={streamToken:this.lastStreamToken,writes:i.map(f=>gp(this.wt,f))};this.Oo(o)}}class q0 extends class{}{constructor(i,o,f,v){super(),this.authCredentials=i,this.appCheckCredentials=o,this.bo=f,this.wt=v,this.Zo=!1}tu(){if(this.Zo)throw new ir(on.FAILED_PRECONDITION,"The client has already been terminated.")}ro(i,o,f){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,w])=>this.bo.ro(i,o,f,v,w)).catch(v=>{throw"FirebaseError"===v.name?(v.code===on.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new ir(on.UNKNOWN,v.toString())})}ao(i,o,f,v){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([w,T])=>this.bo.ao(i,o,f,w,T,v)).catch(w=>{throw"FirebaseError"===w.name?(w.code===on.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),w):new ir(on.UNKNOWN,w.toString())})}terminate(){this.Zo=!0}}class Xw{constructor(i,o){this.asyncQueue=i,this.onlineStateHandler=o,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(i){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ru("Offline")))}set(i){this.cu(),this.eu=0,"Online"===i&&(this.su=!1),this.ru(i)}ru(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ou(i){const o=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Pi(o),this.su=!1):hr("OnlineStateTracker",o)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class C1{constructor(i,o,f,v,w){var T=this;this.localStore=i,this.datastore=o,this.asyncQueue=f,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=w,this.du.Br(L=>{f.enqueueAndForget((0,d.Z)(function*(){var re;Wd(T)&&(hr("RemoteStore","Restarting streams for network reachability change."),yield(re=(0,d.Z)(function*(he){const Be=Fr(he);Be.lu.add(4),yield Tf(Be),Be._u.set("Unknown"),Be.lu.delete(4),yield nm(Be)}),function(he){return re.apply(this,arguments)})(T))}))}),this._u=new Xw(f,v)}}function nm(u){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,d.Z)(function*(u){if(Wd(u))for(const i of u.fu)yield i(!0)}),Ny.apply(this,arguments)}function Tf(u){return rm.apply(this,arguments)}function rm(){return rm=(0,d.Z)(function*(u){for(const i of u.fu)yield i(!1)}),rm.apply(this,arguments)}function Z0(u,i){const o=Fr(u);o.hu.has(i.targetId)||(o.hu.set(i.targetId,i),Af(o)?sm(o):Ph(o).Co()&&zd(o,i))}function im(u,i){const o=Fr(u),f=Ph(o);o.hu.delete(i),f.Co()&&Ly(o,i),0===o.hu.size&&(f.Co()?f.ko():Wd(o)&&o._u.set("Unknown"))}function zd(u,i){u.wu.Nt(i.targetId),Ph(u).Qo(i)}function Ly(u,i){u.wu.Nt(i),Ph(u).jo(i)}function sm(u){u.wu=new Nd({getRemoteKeysForTarget:i=>u.remoteSyncer.getRemoteKeysForTarget(i),te:i=>u.hu.get(i)||null}),Ph(u).start(),u._u.iu()}function Af(u){return Wd(u)&&!Ph(u).Do()&&u.hu.size>0}function Wd(u){return 0===Fr(u).lu.size}function Q0(u){u.wu=void 0}function Jw(u){return X0.apply(this,arguments)}function X0(){return X0=(0,d.Z)(function*(u){u.hu.forEach((i,o)=>{zd(u,i)})}),X0.apply(this,arguments)}function eE(u,i){return J0.apply(this,arguments)}function J0(){return J0=(0,d.Z)(function*(u,i){Q0(u),Af(u)?(u._u.uu(i),sm(u)):u._u.set("Unknown")}),J0.apply(this,arguments)}function By(u,i,o){return If.apply(this,arguments)}function If(){return If=(0,d.Z)(function*(u,i,o){if(u._u.set("Online"),i instanceof Fg&&2===i.state&&i.cause)try{yield(f=(0,d.Z)(function*(v,w){const T=w.cause;for(const L of w.targetIds)v.hu.has(L)&&(yield v.remoteSyncer.rejectListen(L,T),v.hu.delete(L),v.wu.removeTarget(L))}),function(v,w){return f.apply(this,arguments)})(u,i)}catch(f){hr("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),f),yield om(u,f)}else if(i instanceof hp?u.wu.Ut(i):i instanceof Og?u.wu.zt(i):u.wu.Gt(i),!o.isEqual(ri.min()))try{const f=yield Ef(u.localStore);o.compareTo(f)>=0&&(yield function(v,w){const T=v.wu.Yt(w);return T.targetChanges.forEach((L,re)=>{if(L.resumeToken.approximateByteSize()>0){const he=v.hu.get(re);he&&v.hu.set(re,he.withResumeToken(L.resumeToken,w))}}),T.targetMismatches.forEach(L=>{const re=v.hu.get(L);if(!re)return;v.hu.set(L,re.withResumeToken(Mi.EMPTY_BYTE_STRING,re.snapshotVersion)),Ly(v,L);const he=new dd(re.target,L,1,re.sequenceNumber);zd(v,he)}),v.remoteSyncer.applyRemoteEvent(T)}(u,o))}catch(f){hr("RemoteStore","Failed to raise snapshot:",f),yield om(u,f)}var f}),If.apply(this,arguments)}function om(u,i,o){return am.apply(this,arguments)}function am(){return am=(0,d.Z)(function*(u,i,o){if(!Kr(i))throw i;u.lu.add(1),yield Tf(u),u._u.set("Offline"),o||(o=()=>Ef(u.localStore)),u.asyncQueue.enqueueRetryable((0,d.Z)(function*(){hr("RemoteStore","Retrying IndexedDB access"),yield o(),u.lu.delete(1),yield nm(u)}))}),am.apply(this,arguments)}function e_(u,i){return i().catch(o=>om(u,o,i))}function $d(u){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,d.Z)(function*(u){const i=Fr(u),o=kf(i);let f=i.au.length>0?i.au[i.au.length-1].batchId:-1;for(;t_(i);)try{const v=yield kh(i.localStore,f);if(null===v){0===i.au.length&&o.ko();break}f=v.batchId,tE(i,v)}catch(v){yield om(i,v)}nE(i)&&Fh(i)}),Vy.apply(this,arguments)}function t_(u){return Wd(u)&&u.au.length<10}function tE(u,i){u.au.push(i);const o=kf(u);o.Co()&&o.zo&&o.Ho(i.mutations)}function nE(u){return Wd(u)&&!kf(u).Do()&&u.au.length>0}function Fh(u){kf(u).start()}function Uy(u){return lm.apply(this,arguments)}function lm(){return lm=(0,d.Z)(function*(u){kf(u).Xo()}),lm.apply(this,arguments)}function cm(u){return fc.apply(this,arguments)}function fc(){return fc=(0,d.Z)(function*(u){const i=kf(u);for(const o of u.au)i.Ho(o.mutations)}),fc.apply(this,arguments)}function Hy(u,i,o){return n_.apply(this,arguments)}function n_(){return n_=(0,d.Z)(function*(u,i,o){const f=u.au.shift(),v=Ug.from(f,i,o);yield e_(u,()=>u.remoteSyncer.applySuccessfulWrite(v)),yield $d(u)}),n_.apply(this,arguments)}function r_(u,i){return tu.apply(this,arguments)}function tu(){return tu=(0,d.Z)(function*(u,i){var o;i&&kf(u).zo&&(yield(o=(0,d.Z)(function*(f,v){if(fl(w=v.code)&&w!==on.ABORTED){const T=f.au.shift();kf(f).No(),yield e_(f,()=>f.remoteSyncer.rejectFailedWrite(T.batchId,v)),yield $d(f)}var w}),function(f,v){return o.apply(this,arguments)})(u,i)),nE(u)&&Fh(u)}),tu.apply(this,arguments)}function um(u,i){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,d.Z)(function*(u,i){const o=Fr(u);o.asyncQueue.verifyOperationInProgress(),hr("RemoteStore","RemoteStore received new credentials");const f=Wd(o);o.lu.add(3),yield Tf(o),f&&o._u.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(i),o.lu.delete(3),yield nm(o)}),Fp.apply(this,arguments)}function Pp(u,i){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,d.Z)(function*(u,i){const o=Fr(u);i?(o.lu.delete(2),yield nm(o)):i||(o.lu.add(2),yield Tf(o),o._u.set("Unknown"))}),Gy.apply(this,arguments)}function Ph(u){return u.mu||(u.mu=function(i,o,f){const v=Fr(i);return v.tu(),new Qw(o,v.bo,v.authCredentials,v.appCheckCredentials,v.wt,f)}(u.datastore,u.asyncQueue,{zr:Jw.bind(null,u),Jr:eE.bind(null,u),Go:By.bind(null,u)}),u.fu.push(function(){var i=(0,d.Z)(function*(o){o?(u.mu.No(),Af(u)?sm(u):u._u.set("Unknown")):(yield u.mu.stop(),Q0(u))});return function(o){return i.apply(this,arguments)}}())),u.mu}function kf(u){return u.gu||(u.gu=function(i,o,f){const v=Fr(i);return v.tu(),new Y0(o,v.bo,v.authCredentials,v.appCheckCredentials,v.wt,f)}(u.datastore,u.asyncQueue,{zr:Uy.bind(null,u),Jr:r_.bind(null,u),Yo:cm.bind(null,u),Jo:Hy.bind(null,u)}),u.fu.push(function(){var i=(0,d.Z)(function*(o){o?(u.gu.No(),yield $d(u)):(yield u.gu.stop(),u.au.length>0&&(hr("RemoteStore",`Stopping write stream with ${u.au.length} pending writes`),u.au=[]))});return function(o){return i.apply(this,arguments)}}())),u.gu}class Mf{constructor(i,o,f,v,w){this.asyncQueue=i,this.timerId=o,this.targetTimeMs=f,this.op=v,this.removalCallback=w,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(T=>{})}static createAndSchedule(i,o,f,v,w){const T=Date.now()+f,L=new Mf(i,o,T,v,w);return L.start(f),L}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ir(on.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(u,i){if(Pi("AsyncQueue",`${i}: ${u}`),Kr(u))return new ir(on.UNAVAILABLE,`${i}: ${u}`);throw u}class pc{constructor(i){this.comparator=i?(o,f)=>i(o,f)||br.comparator(o.key,f.key):(o,f)=>br.comparator(o.key,f.key),this.keyedMap=dp(),this.sortedSet=new ye(this.comparator)}static emptySet(i){return new pc(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const o=this.keyedMap.get(i);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((o,f)=>(i(o),!1))}add(i){const o=this.delete(i.key);return o.copy(o.keyedMap.insert(i.key,i),o.sortedSet.insert(i,null))}delete(i){const o=this.get(i);return o?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(o)):this}isEqual(i){if(!(i instanceof pc)||this.size!==i.size)return!1;const o=this.sortedSet.getIterator(),f=i.sortedSet.getIterator();for(;o.hasNext();){const v=o.getNext().key,w=f.getNext().key;if(!v.isEqual(w))return!1}return!0}toString(){const i=[];return this.forEach(o=>{i.push(o.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,o){const f=new pc;return f.comparator=this.comparator,f.keyedMap=i,f.sortedSet=o,f}}class Np{constructor(){this.yu=new ye(br.comparator)}track(i){const o=i.doc.key,f=this.yu.get(o);f?0!==i.type&&3===f.type?this.yu=this.yu.insert(o,i):3===i.type&&1!==f.type?this.yu=this.yu.insert(o,{type:f.type,doc:i.doc}):2===i.type&&2===f.type?this.yu=this.yu.insert(o,{type:2,doc:i.doc}):2===i.type&&0===f.type?this.yu=this.yu.insert(o,{type:0,doc:i.doc}):1===i.type&&0===f.type?this.yu=this.yu.remove(o):1===i.type&&2===f.type?this.yu=this.yu.insert(o,{type:1,doc:f.doc}):0===i.type&&1===f.type?this.yu=this.yu.insert(o,{type:2,doc:i.doc}):Jr():this.yu=this.yu.insert(o,i)}pu(){const i=[];return this.yu.inorderTraversal((o,f)=>{i.push(f)}),i}}class yd{constructor(i,o,f,v,w,T,L,re){this.query=i,this.docs=o,this.oldDocs=f,this.docChanges=v,this.mutatedKeys=w,this.fromCache=T,this.syncStateChanged=L,this.excludesMetadataChanges=re}static fromInitialDocuments(i,o,f,v){const w=[];return o.forEach(T=>{w.push({type:0,doc:T})}),new yd(i,o,pc.emptySet(o),w,f,v,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&wu(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const o=this.docChanges,f=i.docChanges;if(o.length!==f.length)return!1;for(let v=0;v<o.length;v++)if(o[v].type!==f[v].type||!o[v].doc.isEqual(f[v].doc))return!1;return!0}}class D1{constructor(){this.Iu=void 0,this.listeners=[]}}class jy{constructor(){this.queries=new Cu(i=>qc(i),wu),this.onlineState="Unknown",this.Tu=new Set}}function i_(u,i){return s_.apply(this,arguments)}function s_(){return s_=(0,d.Z)(function*(u,i){const o=Fr(u),f=i.query;let v=!1,w=o.queries.get(f);if(w||(v=!0,w=new D1),v)try{w.Iu=yield o.onListen(f)}catch(T){const L=vd(T,`Initialization of query '${dc(i.query)}' failed`);return void i.onError(L)}o.queries.set(f,w),w.listeners.push(i),i.Eu(o.onlineState),w.Iu&&i.Au(w.Iu)&&zy(o)}),s_.apply(this,arguments)}function o_(u,i){return dm.apply(this,arguments)}function dm(){return dm=(0,d.Z)(function*(u,i){const o=Fr(u),f=i.query;let v=!1;const w=o.queries.get(f);if(w){const T=w.listeners.indexOf(i);T>=0&&(w.listeners.splice(T,1),v=0===w.listeners.length)}if(v)return o.queries.delete(f),o.onUnlisten(f)}),dm.apply(this,arguments)}function S1(u,i){const o=Fr(u);let f=!1;for(const v of i){const T=o.queries.get(v.query);if(T){for(const L of T.listeners)L.Au(v)&&(f=!0);T.Iu=v}}f&&zy(o)}function rE(u,i,o){const f=Fr(u),v=f.queries.get(i);if(v)for(const w of v.listeners)w.onError(o);f.queries.delete(i)}function zy(u){u.Tu.forEach(i=>{i.next()})}class hm{constructor(i,o,f){this.query=i,this.Ru=o,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=f||{}}Au(i){if(!this.options.includeMetadataChanges){const f=[];for(const v of i.docChanges)3!==v.type&&f.push(v);i=new yd(i.query,i.docs,i.oldDocs,f,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let o=!1;return this.bu?this.vu(i)&&(this.Ru.next(i),o=!0):this.Vu(i,this.onlineState)&&(this.Su(i),o=!0),this.Pu=i,o}onError(i){this.Ru.error(i)}Eu(i){this.onlineState=i;let o=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,i)&&(this.Su(this.Pu),o=!0),o}Vu(i,o){return!i.fromCache||!(this.options.Du&&"Offline"!==o||i.docs.isEmpty()&&"Offline"!==o)}vu(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(i){i=yd.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.bu=!0,this.Ru.next(i)}}class Wy{constructor(i,o){this.payload=i,this.byteLength=o}Cu(){return"metadata"in this.payload}}class $y{constructor(i){this.wt=i}Wi(i){return vo(this.wt,i)}zi(i){return i.metadata.exists?Qv(this.wt,i.document,!1):Rr.newNoDocument(this.Wi(i.metadata.name),this.Hi(i.metadata.readTime))}Hi(i){return ja(i)}}class a_{constructor(i,o,f){this.xu=i,this.localStore=o,this.wt=f,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iE(i)}Nu(i){this.progress.bytesLoaded+=i.byteLength;let o=this.progress.documentsLoaded;if(i.payload.namedQuery)this.queries.push(i.payload.namedQuery);else if(i.payload.documentMetadata){this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++o;const f=Wi.fromString(i.payload.documentMetadata.name);this.collectionGroups.add(f.get(f.length-2))}else i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++o);return o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}ku(i){const o=new Map,f=new $y(this.wt);for(const v of i)if(v.metadata.queries){const w=f.Wi(v.metadata.name);for(const T of v.metadata.queries){const L=(o.get(T)||qi()).add(w);o.set(T,L)}}return o}complete(){var i=this;return(0,d.Z)(function*(){const o=yield function qw(u,i,o,f){return ky.apply(this,arguments)}(i.localStore,new $y(i.wt),i.documents,i.xu.id),f=i.ku(i.documents);for(const v of i.queries)yield Zw(i.localStore,v,f.get(v.name));return i.progress.taskState="Success",{progress:i.progress,Mu:i.collectionGroups,Ou:o}})()}}function iE(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class sE{constructor(i){this.key=i}}class Ky{constructor(i){this.key=i}}class oE{constructor(i,o){this.query=i,this.Fu=o,this.$u=null,this.current=!1,this.Bu=qi(),this.mutatedKeys=qi(),this.Lu=Ig(i),this.Uu=new pc(this.Lu)}get qu(){return this.Fu}Ku(i,o){const f=o?o.Gu:new Np,v=o?o.Uu:this.Uu;let w=o?o.mutatedKeys:this.mutatedKeys,T=v,L=!1;const re="F"===this.query.limitType&&v.size===this.query.limit?v.last():null,he="L"===this.query.limitType&&v.size===this.query.limit?v.first():null;if(i.inorderTraversal((Be,Ct)=>{const bn=v.get(Be),Yn=af(this.query,Ct)?Ct:null,er=!!bn&&this.mutatedKeys.has(bn.key),Yr=!!Yn&&(Yn.hasLocalMutations||this.mutatedKeys.has(Yn.key)&&Yn.hasCommittedMutations);let pi=!1;bn&&Yn?bn.data.isEqual(Yn.data)?er!==Yr&&(f.track({type:3,doc:Yn}),pi=!0):this.Qu(bn,Yn)||(f.track({type:2,doc:Yn}),pi=!0,(re&&this.Lu(Yn,re)>0||he&&this.Lu(Yn,he)<0)&&(L=!0)):!bn&&Yn?(f.track({type:0,doc:Yn}),pi=!0):bn&&!Yn&&(f.track({type:1,doc:bn}),pi=!0,(re||he)&&(L=!0)),pi&&(Yn?(T=T.add(Yn),w=Yr?w.add(Be):w.delete(Be)):(T=T.delete(Be),w=w.delete(Be)))}),null!==this.query.limit)for(;T.size>this.query.limit;){const Be="F"===this.query.limitType?T.last():T.first();T=T.delete(Be.key),w=w.delete(Be.key),f.track({type:1,doc:Be})}return{Uu:T,Gu:f,Mi:L,mutatedKeys:w}}Qu(i,o){return i.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(i,o,f){const v=this.Uu;this.Uu=i.Uu,this.mutatedKeys=i.mutatedKeys;const w=i.Gu.pu();w.sort((he,Be)=>function(Ct,bn){const Yn=er=>{switch(er){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jr()}};return Yn(Ct)-Yn(bn)}(he.type,Be.type)||this.Lu(he.doc,Be.doc)),this.ju(f);const T=o?this.Wu():[],L=0===this.Bu.size&&this.current?1:0,re=L!==this.$u;return this.$u=L,0!==w.length||re?{snapshot:new yd(this.query,i.Uu,v,w,i.mutatedKeys,0===L,re,!1),zu:T}:{zu:T}}Eu(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Np,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(i){return!this.Fu.has(i)&&!!this.Uu.has(i)&&!this.Uu.get(i).hasLocalMutations}ju(i){i&&(i.addedDocuments.forEach(o=>this.Fu=this.Fu.add(o)),i.modifiedDocuments.forEach(o=>{}),i.removedDocuments.forEach(o=>this.Fu=this.Fu.delete(o)),this.current=i.current)}Wu(){if(!this.current)return[];const i=this.Bu;this.Bu=qi(),this.Uu.forEach(f=>{this.Hu(f.key)&&(this.Bu=this.Bu.add(f.key))});const o=[];return i.forEach(f=>{this.Bu.has(f)||o.push(new Ky(f))}),this.Bu.forEach(f=>{i.has(f)||o.push(new sE(f))}),o}Ju(i){this.Fu=i.ji,this.Bu=qi();const o=this.Ku(i.documents);return this.applyChanges(o,!0)}Yu(){return yd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class T1{constructor(i,o,f){this.query=i,this.targetId=o,this.view=f}}class A1{constructor(i){this.key=i,this.Xu=!1}}class I1{constructor(i,o,f,v,w,T){this.localStore=i,this.remoteStore=o,this.eventManager=f,this.sharedClientState=v,this.currentUser=w,this.maxConcurrentLimboResolutions=T,this.Zu={},this.tc=new Cu(L=>qc(L),wu),this.ec=new Map,this.nc=new Set,this.sc=new ye(br.comparator),this.ic=new Map,this.rc=new _d,this.oc={},this.uc=new Map,this.cc=md.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Lp(u,i){return fm.apply(this,arguments)}function fm(){return fm=(0,d.Z)(function*(u,i){const o=x_(u);let f,v;const w=o.tc.get(i);if(w)f=w.targetId,o.sharedClientState.addLocalQueryTarget(f),v=w.view.Yu();else{const T=yield Mh(o.localStore,tl(i));o.isPrimaryClient&&Z0(o.remoteStore,T);const L=o.sharedClientState.addLocalQueryTarget(T.targetId);f=T.targetId,v=yield pm(o,i,f,"current"===L)}return v}),fm.apply(this,arguments)}function pm(u,i,o,f){return nu.apply(this,arguments)}function nu(){return nu=(0,d.Z)(function*(u,i,o,f){u.hc=(Be,Ct,bn)=>{return(Yn=(0,d.Z)(function*(er,Yr,pi,Os){let so=Yr.view.Ku(pi);so.Mi&&(so=yield Oh(er.localStore,Yr.query,!1).then(({documents:xo})=>Yr.view.Ku(xo,so)));const yo=Os&&Os.targetChanges.get(Yr.targetId),ya=Yr.view.applyChanges(so,er.isPrimaryClient,yo);return Lh(er,Yr.targetId,ya.zu),ya.snapshot}),function(er,Yr,pi,Os){return Yn.apply(this,arguments)})(u,Be,Ct,bn);var Yn};const v=yield Oh(u.localStore,i,!0),w=new oE(i,v.ji),T=w.Ku(v.documents),L=_h.createSynthesizedTargetChangeForCurrentChange(o,f&&"Offline"!==u.onlineState),re=w.applyChanges(T,u.isPrimaryClient,L);Lh(u,o,re.zu);const he=new T1(i,o,w);return u.tc.set(i,he),u.ec.has(o)?u.ec.get(o).push(i):u.ec.set(o,[i]),re.snapshot}),nu.apply(this,arguments)}function Yy(u,i){return l_.apply(this,arguments)}function l_(){return l_=(0,d.Z)(function*(u,i){const o=Fr(u),f=o.tc.get(i),v=o.ec.get(f.targetId);if(v.length>1)return o.ec.set(f.targetId,v.filter(w=>!wu(w,i))),void o.tc.delete(i);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(f.targetId),o.sharedClientState.isActiveQueryTarget(f.targetId)||(yield Rh(o.localStore,f.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(f.targetId),im(o.remoteStore,f.targetId),qd(o,f.targetId)}).catch(Sl))):(qd(o,f.targetId),yield Rh(o.localStore,f.targetId,!0))}),l_.apply(this,arguments)}function Uo(){return Uo=(0,d.Z)(function*(u,i,o){const f=w_(u);try{const v=yield function(w,T){const L=Fr(w),re=xs.now(),he=T.reduce((bn,Yn)=>bn.add(Yn.key),qi());let Be,Ct;return L.persistence.runTransaction("Locally write mutations","readwrite",bn=>{let Yn=ls(),er=qi();return L.Ui.getEntries(bn,he).next(Yr=>{Yn=Yr,Yn.forEach((pi,Os)=>{Os.isValidDocument()||(er=er.add(pi))})}).next(()=>L.localDocuments.getOverlayedDocuments(bn,Yn)).next(Yr=>{Be=Yr;const pi=[];for(const Os of T){const so=Mg(Os,Be.get(Os.key).overlayedDocument);null!=so&&pi.push(new Il(Os.key,so,Li(so.value.mapValue),Nr.exists(!0)))}return L.mutationQueue.addMutationBatch(bn,re,pi,T)}).next(Yr=>{Ct=Yr;const pi=Yr.applyToLocalDocumentSet(Be,er);return L.documentOverlayCache.saveOverlays(bn,Yr.batchId,pi)})}).then(()=>({batchId:Ct.batchId,changes:Du(Be)}))}(f.localStore,i);f.sharedClientState.addPendingMutation(v.batchId),function(w,T,L){let re=w.oc[w.currentUser.toKey()];re||(re=new ye(_i)),re=re.insert(T,L),w.oc[w.currentUser.toKey()]=re}(f,v.batchId,o),yield Ou(f,v.changes),yield $d(f.remoteStore)}catch(v){const w=vd(v,"Failed to persist write");o.reject(w)}}),Uo.apply(this,arguments)}function Ru(u,i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,d.Z)(function*(u,i){const o=Fr(u);try{const f=yield Mp(o.localStore,i);i.targetChanges.forEach((v,w)=>{const T=o.ic.get(w);T&&(gi(v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size<=1),v.addedDocuments.size>0?T.Xu=!0:v.modifiedDocuments.size>0?gi(T.Xu):v.removedDocuments.size>0&&(gi(T.Xu),T.Xu=!1))}),yield Ou(o,f,i)}catch(f){yield Sl(f)}}),Rf.apply(this,arguments)}function c_(u,i,o){const f=Fr(u);if(f.isPrimaryClient&&0===o||!f.isPrimaryClient&&1===o){const v=[];f.tc.forEach((w,T)=>{const L=T.view.Eu(i);L.snapshot&&v.push(L.snapshot)}),function(w,T){const L=Fr(w);L.onlineState=T;let re=!1;L.queries.forEach((he,Be)=>{for(const Ct of Be.listeners)Ct.Eu(T)&&(re=!0)}),re&&zy(L)}(f.eventManager,i),v.length&&f.Zu.Go(v),f.onlineState=i,f.isPrimaryClient&&f.sharedClientState.setOnlineState(i)}}function Kd(u,i,o){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,d.Z)(function*(u,i,o){const f=Fr(u);f.sharedClientState.updateQueryState(i,"rejected",o);const v=f.ic.get(i),w=v&&v.key;if(w){let T=new ye(br.comparator);T=T.insert(w,Rr.newNoDocument(w,ri.min()));const L=qi().add(w),re=new Su(ri.min(),new Map,new xn(_i),T,L);yield Ru(f,re),f.sc=f.sc.remove(w),f.ic.delete(i),d_(f)}else yield Rh(f.localStore,i,!1).then(()=>qd(f,i,o)).catch(Sl)}),Bp.apply(this,arguments)}function lE(u,i){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,d.Z)(function*(u,i){const o=Fr(u),f=i.batch.batchId;try{const v=yield kp(o.localStore,i);Yd(o,f,null),Of(o,f),o.sharedClientState.updateMutationState(f,"acknowledged"),yield Ou(o,v)}catch(v){yield Sl(v)}}),Vp.apply(this,arguments)}function cE(u,i,o){return gm.apply(this,arguments)}function gm(){return gm=(0,d.Z)(function*(u,i,o){const f=Fr(u);try{const v=yield function(w,T){const L=Fr(w);return L.persistence.runTransaction("Reject batch","readwrite-primary",re=>{let he;return L.mutationQueue.lookupMutationBatch(re,T).next(Be=>(gi(null!==Be),he=Be.keys(),L.mutationQueue.removeMutationBatch(re,Be))).next(()=>L.mutationQueue.performConsistencyCheck(re)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(re,he,T)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(re,he)).next(()=>L.localDocuments.getDocuments(re,he))})}(f.localStore,i);Yd(f,i,o),Of(f,i),f.sharedClientState.updateMutationState(i,"rejected",o),yield Ou(f,v)}catch(v){yield Sl(v)}}),gm.apply(this,arguments)}function u_(){return u_=(0,d.Z)(function*(u,i){const o=Fr(u);Wd(o.remoteStore)||hr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const f=yield function(w){const T=Fr(w);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>T.mutationQueue.getHighestUnacknowledgedBatchId(L))}(o.localStore);if(-1===f)return void i.resolve();const v=o.uc.get(f)||[];v.push(i),o.uc.set(f,v)}catch(f){const v=vd(f,"Initialization of waitForPendingWrites() operation failed");i.reject(v)}}),u_.apply(this,arguments)}function Of(u,i){(u.uc.get(i)||[]).forEach(o=>{o.resolve()}),u.uc.delete(i)}function Yd(u,i,o){const f=Fr(u);let v=f.oc[f.currentUser.toKey()];if(v){const w=v.get(i);w&&(o?w.reject(o):w.resolve(),v=v.remove(i)),f.oc[f.currentUser.toKey()]=v}}function qd(u,i,o=null){u.sharedClientState.removeLocalQueryTarget(i);for(const f of u.ec.get(i))u.tc.delete(f),o&&u.Zu.lc(f,o);u.ec.delete(i),u.isPrimaryClient&&u.rc.us(i).forEach(f=>{u.rc.containsKey(f)||Nh(u,f)})}function Nh(u,i){u.nc.delete(i.path.canonicalString());const o=u.sc.get(i);null!==o&&(im(u.remoteStore,o),u.sc=u.sc.remove(i),u.ic.delete(o),d_(u))}function Lh(u,i,o){for(const f of o)f instanceof sE?(u.rc.addReference(f.key,i),Up(u,f)):f instanceof Ky?(hr("SyncEngine","Document no longer in limbo: "+f.key),u.rc.removeReference(f.key,i),u.rc.containsKey(f.key)||Nh(u,f.key)):Jr()}function Up(u,i){const o=i.key,f=o.path.canonicalString();u.sc.get(o)||u.nc.has(f)||(hr("SyncEngine","New document in limbo: "+o),u.nc.add(f),d_(u))}function d_(u){for(;u.nc.size>0&&u.sc.size<u.maxConcurrentLimboResolutions;){const i=u.nc.values().next().value;u.nc.delete(i);const o=new br(Wi.fromString(i)),f=u.cc.next();u.ic.set(f,new A1(o)),u.sc=u.sc.insert(o,f),Z0(u.remoteStore,new dd(tl(uc(o.path)),f,2,O.ot))}}function Ou(u,i,o){return mm.apply(this,arguments)}function mm(){return mm=(0,d.Z)(function*(u,i,o){const f=Fr(u),v=[],w=[],T=[];var L;f.tc.isEmpty()||(f.tc.forEach((L,re)=>{T.push(f.hc(re,i,o).then(he=>{if(he){f.isPrimaryClient&&f.sharedClientState.updateQueryState(re.targetId,he.fromCache?"not-current":"current"),v.push(he);const Be=Ah.Vi(re.targetId,he);w.push(Be)}}))}),yield Promise.all(T),f.Zu.Go(v),yield(L=(0,d.Z)(function*(re,he){const Be=Fr(re);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ct=>rn.forEach(he,bn=>rn.forEach(bn.Pi,Yn=>Be.persistence.referenceDelegate.addReference(Ct,bn.targetId,Yn)).next(()=>rn.forEach(bn.vi,Yn=>Be.persistence.referenceDelegate.removeReference(Ct,bn.targetId,Yn)))))}catch(Ct){if(!Kr(Ct))throw Ct;hr("LocalStore","Failed to update sequence numbers: "+Ct)}for(const Ct of he){const bn=Ct.targetId;if(!Ct.fromCache){const Yn=Be.$i.get(bn),Yr=Yn.withLastLimboFreeSnapshotVersion(Yn.snapshotVersion);Be.$i=Be.$i.insert(bn,Yr)}}}),function(re,he){return L.apply(this,arguments)})(f.localStore,w))}),mm.apply(this,arguments)}function h_(u,i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,d.Z)(function*(u,i){const o=Fr(u);if(!o.currentUser.isEqual(i)){hr("SyncEngine","User change. New user:",i.toKey());const f=yield za(o.localStore,i);o.currentUser=i,(v=o).uc.forEach(T=>{T.forEach(L=>{L.reject(new ir(on.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),v.uc.clear(),o.sharedClientState.handleUserChange(i,f.removedBatchIds,f.addedBatchIds),yield Ou(o,f.Ki)}var v}),Ff.apply(this,arguments)}function qy(u,i){const o=Fr(u),f=o.ic.get(i);if(f&&f.Xu)return qi().add(f.key);{let v=qi();const w=o.ec.get(i);if(!w)return v;for(const T of w){const L=o.tc.get(T);v=v.unionWith(L.view.qu)}return v}}function f_(u,i){return p_.apply(this,arguments)}function p_(){return p_=(0,d.Z)(function*(u,i){const o=Fr(u),f=yield Oh(o.localStore,i.query,!0),v=i.view.Ju(f);return o.isPrimaryClient&&Lh(o,i.targetId,v.zu),v}),p_.apply(this,arguments)}function k1(u,i){return g_.apply(this,arguments)}function g_(){return g_=(0,d.Z)(function*(u,i){const o=Fr(u);return eu(o.localStore,i).then(f=>Ou(o,f))}),g_.apply(this,arguments)}function Zy(u,i,o,f){return m_.apply(this,arguments)}function m_(){return m_=(0,d.Z)(function*(u,i,o,f){const v=Fr(u),w=yield function(T,L){const re=Fr(T),he=Fr(re.mutationQueue);return re.persistence.runTransaction("Lookup mutation documents","readonly",Be=>he.yn(Be,L).next(Ct=>Ct?re.localDocuments.getDocuments(Be,Ct):rn.resolve(null)))}(v.localStore,i);var L;null!==w?("pending"===o?yield $d(v.remoteStore):"acknowledged"===o||"rejected"===o?(Yd(v,i,f||null),Of(v,i),L=i,Fr(Fr(v.localStore).mutationQueue).In(L)):Jr(),yield Ou(v,w)):hr("SyncEngine","Cannot apply mutation batch with id: "+i)}),m_.apply(this,arguments)}function _m(){return _m=(0,d.Z)(function*(u,i){const o=Fr(u);if(x_(o),w_(o),!0===i&&!0!==o.ac){const f=o.sharedClientState.getAllActiveQueryTargets(),v=yield Xy(o,f.toArray());o.ac=!0,yield Pp(o.remoteStore,!0);for(const w of v)Z0(o.remoteStore,w)}else if(!1===i&&!1!==o.ac){const f=[];let v=Promise.resolve();o.ec.forEach((w,T)=>{o.sharedClientState.isLocalQueryTarget(T)?f.push(T):v=v.then(()=>(qd(o,T),Rh(o.localStore,T,!0))),im(o.remoteStore,T)}),yield v,yield Xy(o,f),function(w){const T=Fr(w);T.ic.forEach((L,re)=>{im(T.remoteStore,re)}),T.rc.cs(),T.ic=new Map,T.sc=new ye(br.comparator)}(o),o.ac=!1,yield Pp(o.remoteStore,!1)}}),_m.apply(this,arguments)}function Xy(u,i,o){return Ml.apply(this,arguments)}function Ml(){return Ml=(0,d.Z)(function*(u,i,o){const f=Fr(u),v=[],w=[];for(const T of i){let L;const re=f.ec.get(T);if(re&&0!==re.length){L=yield Mh(f.localStore,tl(re[0]));for(const he of re){const Be=f.tc.get(he),Ct=yield f_(f,Be);Ct.snapshot&&w.push(Ct.snapshot)}}else{const he=yield Iy(f.localStore,T);L=yield Mh(f.localStore,he),yield pm(f,__(he),T,!1)}v.push(L)}return f.Zu.Go(w),v}),Ml.apply(this,arguments)}function __(u){return Rd(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function dE(u){const i=Fr(u);return Fr(Fr(i.localStore).persistence).Ri()}function M1(u,i,o,f){return v_.apply(this,arguments)}function v_(){return v_=(0,d.Z)(function*(u,i,o,f){const v=Fr(u);if(v.ac)return void hr("SyncEngine","Ignoring unexpected query state notification.");const w=v.ec.get(i);if(w&&w.length>0)switch(o){case"current":case"not-current":{const T=yield eu(v.localStore,mh(w[0])),L=Su.createSynthesizedRemoteEventForCurrentChange(i,"current"===o);yield Ou(v,T,L);break}case"rejected":yield Rh(v.localStore,i,!0),qd(v,i,f);break;default:Jr()}}),v_.apply(this,arguments)}function y_(u,i,o){return vm.apply(this,arguments)}function vm(){return vm=(0,d.Z)(function*(u,i,o){const f=x_(u);if(f.ac){for(const v of i){if(f.ec.has(v)){hr("SyncEngine","Adding an already active target "+v);continue}const w=yield Iy(f.localStore,v),T=yield Mh(f.localStore,w);yield pm(f,__(w),T.targetId,!1),Z0(f.remoteStore,T)}for(const v of o)f.ec.has(v)&&(yield Rh(f.localStore,v,!1).then(()=>{im(f.remoteStore,v),qd(f,v)}).catch(Sl))}}),vm.apply(this,arguments)}function x_(u){const i=Fr(u);return i.remoteStore.remoteSyncer.applyRemoteEvent=Ru.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=qy.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Kd.bind(null,i),i.Zu.Go=S1.bind(null,i.eventManager),i.Zu.lc=rE.bind(null,i.eventManager),i}function w_(u){const i=Fr(u);return i.remoteStore.remoteSyncer.applySuccessfulWrite=lE.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=cE.bind(null,i),i}class E_{constructor(){this.synchronizeTabs=!1}initialize(i){var o=this;return(0,d.Z)(function*(){o.wt=Sf(i.databaseInfo.databaseId),o.sharedClientState=o.dc(i),o.persistence=o._c(i),yield o.persistence.start(),o.localStore=o.wc(i),o.gcScheduler=o.mc(i,o.localStore),o.indexBackfillerScheduler=o.gc(i,o.localStore)})()}mc(i,o){return null}gc(i,o){return null}wc(i){return Ay(this.persistence,new Ap,i.initialUser,this.wt)}_c(i){return new Dy(Cp.Os,this.wt)}dc(i){return new Ry}terminate(){var i=this;return(0,d.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Jy extends E_{constructor(i,o,f){super(),this.yc=i,this.cacheSizeBytes=o,this.forceOwnership=f,this.synchronizeTabs=!1}initialize(i){var o=()=>super.initialize,f=this;return(0,d.Z)(function*(){yield o().call(f,i),yield f.yc.initialize(f,i),yield w_(f.yc.syncEngine),yield $d(f.yc.remoteStore),yield f.persistence.ci(()=>(f.gcScheduler&&!f.gcScheduler.started&&f.gcScheduler.start(),f.indexBackfillerScheduler&&!f.indexBackfillerScheduler.started&&f.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(i){return Ay(this.persistence,new Ap,i.initialUser,this.wt)}mc(i,o){return new my(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue,o)}gc(i,o){const f=new k(o,this.persistence);return new Ws(i.asyncQueue,f)}_c(i){const o=Tp(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),f=void 0!==this.cacheSizeBytes?$o.withCacheSize(this.cacheSizeBytes):$o.DEFAULT;return new wf(this.synchronizeTabs,o,i.clientId,f,i.asyncQueue,Df(),K0(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(i){return new Ry}}class ex extends Jy{constructor(i,o){super(i,o,!1),this.yc=i,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(i){var o=()=>super.initialize,f=this;return(0,d.Z)(function*(){yield o().call(f,i);const v=f.yc.syncEngine;f.sharedClientState instanceof em&&(f.sharedClientState.syncEngine={kr:Zy.bind(null,v),Mr:M1.bind(null,v),Or:y_.bind(null,v),Ri:dE.bind(null,v),Nr:k1.bind(null,v)},yield f.sharedClientState.start()),yield f.persistence.ci(function(){var w=(0,d.Z)(function*(T){yield function Qy(u,i){return _m.apply(this,arguments)}(f.yc.syncEngine,T),f.gcScheduler&&(T&&!f.gcScheduler.started?f.gcScheduler.start():T||f.gcScheduler.stop()),f.indexBackfillerScheduler&&(T&&!f.indexBackfillerScheduler.started?f.indexBackfillerScheduler.start():T||f.indexBackfillerScheduler.stop())});return function(T){return w.apply(this,arguments)}}())})()}dc(i){const o=Df();if(!em.V(o))throw new ir(on.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const f=Tp(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new em(o,i.asyncQueue,f,i.clientId,i.initialUser)}}class b_{initialize(i,o){var f=this;return(0,d.Z)(function*(){f.localStore||(f.localStore=i.localStore,f.sharedClientState=i.sharedClientState,f.datastore=f.createDatastore(o),f.remoteStore=f.createRemoteStore(o),f.eventManager=f.createEventManager(o),f.syncEngine=f.createSyncEngine(o,!i.synchronizeTabs),f.sharedClientState.onlineStateHandler=v=>c_(f.syncEngine,v,1),f.remoteStore.remoteSyncer.handleCredentialChange=h_.bind(null,f.syncEngine),yield Pp(f.remoteStore,f.syncEngine.isPrimaryClient))})()}createEventManager(i){return new jy}createDatastore(i){const o=Sf(i.databaseInfo.databaseId),f=new Py(i.databaseInfo);return new q0(i.authCredentials,i.appCheckCredentials,f,o)}createRemoteStore(i){return o=this.localStore,f=this.datastore,v=i.asyncQueue,w=L=>c_(this.syncEngine,L,0),T=$0.V()?new $0:new W0,new C1(o,f,v,w,T);var o,f,v,w,T}createSyncEngine(i,o){return function(f,v,w,T,L,re,he){const Be=new I1(f,v,w,T,L,re);return he&&(Be.ac=!0),Be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){return(i=(0,d.Z)(function*(o){const f=Fr(o);hr("RemoteStore","RemoteStore shutting down."),f.lu.add(5),yield Tf(f),f.du.shutdown(),f._u.set("Unknown")}),function(o){return i.apply(this,arguments)})(this.remoteStore);var i}}function tx(u,i=10240){let o=0;return{read:()=>(0,d.Z)(function*(){if(o<u.byteLength){const f={value:u.slice(o,o+i),done:!1};return o+=i,f}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hp{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ic(this.observer.next,i)}error(i){this.observer.error?this.Ic(this.observer.error,i):Pi("Uncaught Error in snapshot listener:",i)}Tc(){this.muted=!0}Ic(i,o){this.muted||setTimeout(()=>{this.muted||i(o)},0)}}class nx{constructor(i,o){this.Ec=i,this.wt=o,this.metadata=new gs,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(f=>{f&&f.Cu()?this.metadata.resolve(f.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(f?.payload)}`))},f=>this.metadata.reject(f))}close(){return this.Ec.cancel()}getMetadata(){var i=this;return(0,d.Z)(function*(){return i.metadata.promise})()}fc(){var i=this;return(0,d.Z)(function*(){return yield i.getMetadata(),i.Rc()})()}Rc(){var i=this;return(0,d.Z)(function*(){const o=yield i.bc();if(null===o)return null;const f=i.Ac.decode(o),v=Number(f);isNaN(v)&&i.Pc(`length string (${f}) is not valid number`);const w=yield i.vc(v);return new Wy(JSON.parse(w),o.length+v)})()}Vc(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}bc(){var i=this;return(0,d.Z)(function*(){for(;i.Vc()<0&&!(yield i.Sc()););if(0===i.buffer.length)return null;const o=i.Vc();o<0&&i.Pc("Reached the end of bundle when a length string is expected.");const f=i.buffer.slice(0,o);return i.buffer=i.buffer.slice(o),f})()}vc(i){var o=this;return(0,d.Z)(function*(){for(;o.buffer.length<i;)(yield o.Sc())&&o.Pc("Reached the end of bundle when more is expected.");const f=o.Ac.decode(o.buffer.slice(0,i));return o.buffer=o.buffer.slice(i),f})()}Pc(i){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${i}`)}Sc(){var i=this;return(0,d.Z)(function*(){const o=yield i.Ec.read();if(!o.done){const f=new Uint8Array(i.buffer.length+o.value.length);f.set(i.buffer),f.set(o.value,i.buffer.length),i.buffer=f}return o.done})()}}class fE{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var o=this;return(0,d.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new ir(on.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const f=yield(v=(0,d.Z)(function*(w,T){const L=Fr(w),re=ud(L.wt)+"/documents",he={documents:T.map(Yn=>pp(L.wt,Yn))},Be=yield L.ao("BatchGetDocuments",re,he,T.length),Ct=new Map;Be.forEach(Yn=>{const er=function Xv(u,i){return"found"in i?function(o,f){gi(!!f.found);const v=vo(o,f.found.name),w=ja(f.found.updateTime),T=new li({mapValue:{fields:f.found.fields}});return Rr.newFoundDocument(v,w,T)}(u,i):"missing"in i?function(o,f){gi(!!f.missing),gi(!!f.readTime);const v=vo(o,f.missing),w=ja(f.readTime);return Rr.newNoDocument(v,w)}(u,i):Jr()}(L.wt,Yn);Ct.set(er.key.toString(),er)});const bn=[];return T.forEach(Yn=>{const er=Ct.get(Yn.toString());gi(!!er),bn.push(er)}),bn}),function(w,T){return v.apply(this,arguments)})(o.datastore,i);var v;return f.forEach(v=>o.recordVersion(v)),f})()}set(i,o){this.write(o.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,o){try{this.write(o.toMutation(i,this.preconditionForUpdate(i)))}catch(f){this.lastWriteError=f}this.writtenDocs.add(i.toString())}delete(i){this.write(new bu(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,d.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const o=i.readVersions;var f;i.mutations.forEach(f=>{o.delete(f.key.toString())}),o.forEach((f,v)=>{const w=br.fromPath(v);i.mutations.push(new uf(w,i.precondition(w)))}),yield(f=(0,d.Z)(function*(v,w){const T=Fr(v),L=ud(T.wt)+"/documents",re={writes:w.map(he=>gp(T.wt,he))};yield T.ro("Commit",L,re)}),function(v,w){return f.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let o;if(i.isFoundDocument())o=i.version;else{if(!i.isNoDocument())throw Jr();o=ri.min()}const f=this.readVersions.get(i.key.toString());if(f){if(!o.isEqual(f))throw new ir(on.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),o)}precondition(i){const o=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&o?Nr.updateTime(o):Nr.none()}preconditionForUpdate(i){const o=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&o){if(o.isEqual(ri.min()))throw new ir(on.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(o)}return Nr.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class Yl{constructor(i,o,f,v,w){this.asyncQueue=i,this.datastore=o,this.options=f,this.updateFunction=v,this.deferred=w,this.Dc=f.maxAttempts,this.So=new tm(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var i=this;this.So.Io((0,d.Z)(function*(){const o=new fE(i.datastore),f=i.xc(o);f&&f.then(v=>{i.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{i.deferred.resolve(v)}).catch(w=>{i.Nc(w)}))}).catch(v=>{i.Nc(v)})}))}xc(i){try{const o=this.updateFunction(i);return!Cc(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}Nc(i){this.Dc>0&&this.kc(i)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(i)}kc(i){if("FirebaseError"===i.name){const o=i.code;return"aborted"===o||"failed-precondition"===o||!fl(o)}return!1}}class Gp{constructor(i,o,f,v){var w=this;this.authCredentials=i,this.appCheckCredentials=o,this.asyncQueue=f,this.databaseInfo=v,this.user=Xi.UNAUTHENTICATED,this.clientId=ys.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(f,function(){var T=(0,d.Z)(function*(L){hr("FirestoreClient","Received user=",L.uid),yield w.authCredentialListener(L),w.user=L});return function(L){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(f,T=>(hr("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}getConfiguration(){var i=this;return(0,d.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ir(on.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const o=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),o.resolve()}catch(f){const v=vd(f,"Failed to shutdown persistence");o.reject(v)}})),o.promise}}function rx(u,i){return C_.apply(this,arguments)}function C_(){return C_=(0,d.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress(),hr("FirestoreClient","Initializing OfflineComponentProvider");const o=yield u.getConfiguration();yield i.initialize(o);let f=o.initialUser;u.setCredentialChangeListener(function(){var v=(0,d.Z)(function*(w){f.isEqual(w)||(yield za(i.localStore,w),f=w)});return function(w){return v.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=i}),C_.apply(this,arguments)}function pE(u,i){return ym.apply(this,arguments)}function ym(){return ym=(0,d.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress();const o=yield xm(u);hr("FirestoreClient","Initializing OnlineComponentProvider");const f=yield u.getConfiguration();yield i.initialize(o,f),u.setCredentialChangeListener(v=>um(i.remoteStore,v)),u.setAppCheckTokenChangeListener((v,w)=>um(i.remoteStore,w)),u.onlineComponents=i}),ym.apply(this,arguments)}function xm(u){return D_.apply(this,arguments)}function D_(){return D_=(0,d.Z)(function*(u){return u.offlineComponents||(hr("FirestoreClient","Using default OfflineComponentProvider"),yield rx(u,new E_)),u.offlineComponents}),D_.apply(this,arguments)}function wm(u){return jp.apply(this,arguments)}function jp(){return jp=(0,d.Z)(function*(u){return u.onlineComponents||(hr("FirestoreClient","Using default OnlineComponentProvider"),yield pE(u,new b_)),u.onlineComponents}),jp.apply(this,arguments)}function ix(u){return xm(u).then(i=>i.persistence)}function Em(u){return xm(u).then(i=>i.localStore)}function zp(u){return wm(u).then(i=>i.remoteStore)}function Wp(u){return wm(u).then(i=>i.syncEngine)}function Pf(u){return bm.apply(this,arguments)}function bm(){return bm=(0,d.Z)(function*(u){const i=yield wm(u),o=i.eventManager;return o.onListen=Lp.bind(null,i.syncEngine),o.onUnlisten=Yy.bind(null,i.syncEngine),o}),bm.apply(this,arguments)}function gE(u,i,o={}){const f=new gs;return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(v,w,T,L,re){const he=new Hp({next:Ct=>{w.enqueueAndForget(()=>o_(v,Be));const bn=Ct.docs.has(T);!bn&&Ct.fromCache?re.reject(new ir(on.UNAVAILABLE,"Failed to get document because the client is offline.")):bn&&Ct.fromCache&&L&&"server"===L.source?re.reject(new ir(on.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):re.resolve(Ct)},error:Ct=>re.reject(Ct)}),Be=new hm(uc(T.path),he,{includeMetadataChanges:!0,Du:!0});return i_(v,Be)}(yield Pf(u),u.asyncQueue,i,o,f)})),f.promise}function mE(u,i,o={}){const f=new gs;return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(v,w,T,L,re){const he=new Hp({next:Ct=>{w.enqueueAndForget(()=>o_(v,Be)),Ct.fromCache&&"server"===L.source?re.reject(new ir(on.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):re.resolve(Ct)},error:Ct=>re.reject(Ct)}),Be=new hm(T,he,{includeMetadataChanges:!0,Du:!0});return i_(v,Be)}(yield Pf(u),u.asyncQueue,i,o,f)})),f.promise}const T_=new Map;function $p(u,i,o){if(!o)throw new ir(on.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${i}.`)}function Fu(u,i,o,f){if(!0===i&&!0===f)throw new ir(on.INVALID_ARGUMENT,`${u} and ${o} cannot be used together.`)}function Bf(u){if(!br.isDocumentKey(u))throw new ir(on.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Vf(u){if(br.isDocumentKey(u))throw new ir(on.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Ko(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const i=(o=u).constructor?o.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var o;return"function"==typeof u?"a function":Jr()}function ms(u,i){if("_delegate"in u&&(u=u._delegate),!(u instanceof i)){if(i.name===u.constructor.name)throw new ir(on.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Ko(u);throw new ir(on.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${o}`)}}return u}function Dm(u,i){if(i<=0)throw new ir(on.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${i}.`)}class A_{constructor(i){var o;if(void 0===i.host){if(void 0!==i.ssl)throw new ir(on.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(o=i.ssl)||void 0===o||o;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new ir(on.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Fu("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Kp{constructor(i,o,f){this._authCredentials=o,this._appCheckCredentials=f,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,i instanceof Sa?this._databaseId=i:(this._app=i,this._databaseId=function(v){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ir(on.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(v.options.projectId)}(i))}get app(){if(!this._app)throw new ir(on.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new ir(on.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(i),void 0!==i.credentials&&(this._authCredentials=function(o){if(!o)return new Hl;switch(o.type){case"gapi":const f=o.client;return gi(!("object"!=typeof f||null===f||!f.auth||!f.auth.getAuthHeaderValueForFirstParty)),new zc(f,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new ir(on.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=T_.get(i);o&&(hr("ComponentProvider","Removing Datastore"),T_.delete(i),o.terminate())}(this),Promise.resolve()}}class Js{constructor(i,o,f){this.converter=o,this._key=f,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Js(this.firestore,i,this._key)}}class Wa{constructor(i,o,f){this.converter=o,this._query=f,this.type="query",this.firestore=i}withConverter(i){return new Wa(this.firestore,i,this._query)}}class xd extends Wa{constructor(i,o,f){super(i,o,uc(f)),this._path=f,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Js(this.firestore,null,new br(i))}withConverter(i){return new xd(this.firestore,i,this._path)}}function Yp(u,i,...o){if(u=(0,Ae.m9)(u),$p("collection","path",i),u instanceof Kp){const f=Wi.fromString(i,...o);return Vf(f),new xd(u,null,f)}{if(!(u instanceof Js||u instanceof xd))throw new ir(on.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const f=u._path.child(Wi.fromString(i,...o));return Vf(f),new xd(u.firestore,null,f)}}function Bh(u,i,...o){if(u=(0,Ae.m9)(u),1===arguments.length&&(i=ys.I()),$p("doc","path",i),u instanceof Kp){const f=Wi.fromString(i,...o);return Bf(f),new Js(u,null,new br(f))}{if(!(u instanceof Js||u instanceof xd))throw new ir(on.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const f=u._path.child(Wi.fromString(i,...o));return Bf(f),new Js(u.firestore,u instanceof xd?u.converter:null,new br(f))}}function ax(u,i){return u=(0,Ae.m9)(u),i=(0,Ae.m9)(i),(u instanceof Js||u instanceof xd)&&(i instanceof Js||i instanceof xd)&&u.firestore===i.firestore&&u.path===i.path&&u.converter===i.converter}function lx(u,i){return u=(0,Ae.m9)(u),i=(0,Ae.m9)(i),u instanceof Wa&&i instanceof Wa&&u.firestore===i.firestore&&wu(u._query,i._query)&&u.converter===i.converter}class yE{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new tm(this,"async_queue_retry"),this.Kc=()=>{const o=K0();o&&hr("AsyncQueue","Visibility state changed to "+o.visibilityState),this.So.Eo()};const i=K0();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Gc(),this.Qc(i)}enterRestrictedMode(i){if(!this.Fc){this.Fc=!0,this.Uc=i||!1;const o=K0();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Kc)}}enqueue(i){if(this.Gc(),this.Fc)return new Promise(()=>{});const o=new gs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(i().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Oc.push(i),this.jc()))}jc(){var i=this;return(0,d.Z)(function*(){if(0!==i.Oc.length){try{yield i.Oc[0](),i.Oc.shift(),i.So.reset()}catch(o){if(!Kr(o))throw o;hr("AsyncQueue","Operation failed with retryable error: "+o)}i.Oc.length>0&&i.So.Io(()=>i.jc())}})()}Qc(i){const o=this.Mc.then(()=>(this.Lc=!0,i().catch(f=>{throw this.Bc=f,this.Lc=!1,Pi("INTERNAL UNHANDLED ERROR: ",function(w){let T=w.message||"";return w.stack&&(T=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),T}(f)),f}).then(f=>(this.Lc=!1,f))));return this.Mc=o,o}enqueueAfterDelay(i,o,f){this.Gc(),this.qc.indexOf(i)>-1&&(o=0);const v=Mf.createAndSchedule(this,i,o,f,w=>this.Wc(w));return this.$c.push(v),v}Gc(){this.Bc&&Jr()}verifyOperationInProgress(){}zc(){var i=this;return(0,d.Z)(function*(){let o;do{o=i.Mc,yield o}while(o!==i.Mc)})()}Hc(i){for(const o of this.$c)if(o.timerId===i)return!0;return!1}Jc(i){return this.zc().then(()=>{this.$c.sort((o,f)=>o.targetTimeMs-f.targetTimeMs);for(const o of this.$c)if(o.skipDelay(),"all"!==i&&o.timerId===i)break;return this.zc()})}Yc(i){this.qc.push(i)}Wc(i){const o=this.$c.indexOf(i);this.$c.splice(o,1)}}function I_(u){return function(i,o){if("object"!=typeof i||null===i)return!1;const f=i;for(const v of["next","error","complete"])if(v in f&&"function"==typeof f[v])return!0;return!1}(u)}class cx{constructor(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,o,f){this._progressObserver={next:i,error:o,complete:f}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,o){return this._taskCompletionResolver.promise.then(i,o)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Ho extends Kp{constructor(i,o,f){super(i,o,f),this.type="firestore",this._queue=new yE,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Vh(this),this._firestoreClient.terminate()}}function Yo(u){return u._firestoreClient||Vh(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function Vh(u){var i;const o=u._freezeSettings(),f=(w=(null===(i=u._app)||void 0===i?void 0:i.options.appId)||"",new sf(u._databaseId,w,u._persistenceKey,(L=o).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var w,L;u._firestoreClient=new Gp(u._authCredentials,u._appCheckCredentials,u._queue,f)}function Zp(u,i,o){const f=new gs;return u.asyncQueue.enqueue((0,d.Z)(function*(){try{yield rx(u,o),yield pE(u,i),f.resolve()}catch(v){const w=v;if(!("FirebaseError"===(T=w).name?T.code===on.FAILED_PRECONDITION||T.code===on.UNIMPLEMENTED:!(typeof DOMException<"u"&&T instanceof DOMException)||22===T.code||20===T.code||11===T.code))throw w;ul("Error enabling offline persistence. Falling back to persistence disabled: "+w),f.reject(w)}var T})).then(()=>f.promise)}function ux(u){if(u._initialized||u._terminated)throw new ir(on.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $a{constructor(...i){for(let o=0;o<i.length;++o)if(0===i[o].length)throw new ir(on.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new So(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Ro{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Ro(Mi.fromBase64String(i))}catch(o){throw new ir(on.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(i){return new Ro(Mi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class gc{constructor(i){this._methodName=i}}class Zd{constructor(i,o){if(!isFinite(i)||i<-90||i>90)throw new ir(on.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(o)||o<-180||o>180)throw new ir(on.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=i,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return _i(this._lat,i._lat)||_i(this._long,i._long)}}const Oc=/^__.*__$/;class R_{constructor(i,o,f){this.data=i,this.fieldMask=o,this.fieldTransforms=f}toMutation(i,o){return null!==this.fieldMask?new Il(i,this.data,this.fieldMask,o,this.fieldTransforms):new Xc(i,this.data,o,this.fieldTransforms)}}class Uh{constructor(i,o,f){this.data=i,this.fieldMask=o,this.fieldTransforms=f}toMutation(i,o){return new Il(i,this.data,this.fieldMask,o,this.fieldTransforms)}}function Hh(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jr()}}class ru{constructor(i,o,f,v,w,T){this.settings=i,this.databaseId=o,this.wt=f,this.ignoreUndefinedProperties=v,void 0===w&&this.Xc(),this.fieldTransforms=w||[],this.fieldMask=T||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(i){return new ru(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(i){var o;const f=null===(o=this.path)||void 0===o?void 0:o.child(i),v=this.ta({path:f,na:!1});return v.sa(i),v}ia(i){var o;const f=null===(o=this.path)||void 0===o?void 0:o.child(i),v=this.ta({path:f,na:!1});return v.Xc(),v}ra(i){return this.ta({path:void 0,na:!0})}oa(i){return Mm(i,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(i){return void 0!==this.fieldMask.find(o=>i.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>i.isPrefixOf(o.field))}Xc(){if(this.path)for(let i=0;i<this.path.length;i++)this.sa(this.path.get(i))}sa(i){if(0===i.length)throw this.oa("Document fields must not be empty");if(Hh(this.Zc)&&Oc.test(i))throw this.oa('Document fields cannot begin and end with "__"')}}class Uf{constructor(i,o,f){this.databaseId=i,this.ignoreUndefinedProperties=o,this.wt=f||Sf(i)}aa(i,o,f,v=!1){return new ru({Zc:i,methodName:o,ca:f,path:So.emptyPath(),na:!1,ua:v},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Fc(u){const i=u._freezeSettings(),o=Sf(u._databaseId);return new Uf(u._databaseId,!!i.ignoreUndefinedProperties,o)}function wd(u,i,o,f,v,w={}){const T=u.aa(w.merge||w.mergeFields?2:0,i,o,v);N_("Data must be an object, but it was:",T,f);const L=F_(f,T);let re,he;if(w.merge)re=new Pr(T.fieldMask),he=T.fieldTransforms;else if(w.mergeFields){const Be=[];for(const Ct of w.mergeFields){const bn=L_(i,Ct,o);if(!T.contains(bn))throw new ir(on.INVALID_ARGUMENT,`Field '${bn}' is specified in your field mask but missing from your input data.`);B_(Be,bn)||Be.push(bn)}re=new Pr(Be),he=T.fieldTransforms.filter(Ct=>re.covers(Ct.field))}else re=null,he=T.fieldTransforms;return new R_(new li(L),re,he)}class Nu extends gc{_toFieldTransform(i){if(2!==i.Zc)throw i.oa(1===i.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Nu}}function Gh(u,i,o){return new ru({Zc:3,ca:i.settings.ca,methodName:u._methodName,na:o},i.databaseId,i.wt,i.ignoreUndefinedProperties)}class Qd extends gc{_toFieldTransform(i){return new an(i.path,new Fd)}isEqual(i){return i instanceof Qd}}class dx extends gc{constructor(i,o){super(i),this.ha=o}_toFieldTransform(i){const o=Gh(this,i,!0),f=this.ha.map(w=>Xd(w,o)),v=new Qc(f);return new an(i.path,v)}isEqual(i){return this===i}}class hx extends gc{constructor(i,o){super(i),this.ha=o}_toFieldTransform(i){const o=Gh(this,i,!0),f=this.ha.map(w=>Xd(w,o)),v=new C(f);return new an(i.path,v)}isEqual(i){return this===i}}class fx extends gc{constructor(i,o){super(i),this.la=o}_toFieldTransform(i){const o=new N(i.wt,cp(i.wt,this.la));return new an(i.path,o)}isEqual(i){return this===i}}function Im(u,i,o,f){const v=u.aa(1,i,o);N_("Data must be an object, but it was:",v,f);const w=[],T=li.empty();G(f,(re,he)=>{const Be=Hf(i,re,o);he=(0,Ae.m9)(he);const Ct=v.ia(Be);if(he instanceof Nu)w.push(Be);else{const bn=Xd(he,Ct);null!=bn&&(w.push(Be),T.set(Be,bn))}});const L=new Pr(w);return new Uh(T,L,v.fieldTransforms)}function km(u,i,o,f,v,w){const T=u.aa(1,i,o),L=[L_(i,f,o)],re=[v];if(w.length%2!=0)throw new ir(on.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bn=0;bn<w.length;bn+=2)L.push(L_(i,w[bn])),re.push(w[bn+1]);const he=[],Be=li.empty();for(let bn=L.length-1;bn>=0;--bn)if(!B_(he,L[bn])){const Yn=L[bn];let er=re[bn];er=(0,Ae.m9)(er);const Yr=T.ia(Yn);if(er instanceof Nu)he.push(Yn);else{const pi=Xd(er,Yr);null!=pi&&(he.push(Yn),Be.set(Yn,pi))}}const Ct=new Pr(he);return new Uh(Be,Ct,T.fieldTransforms)}function O_(u,i,o,f=!1){return Xd(o,u.aa(f?4:3,i))}function Xd(u,i){if(P_(u=(0,Ae.m9)(u)))return N_("Unsupported field value:",i,u),F_(u,i);if(u instanceof gc)return function(o,f){if(!Hh(f.Zc))throw f.oa(`${o._methodName}() can only be used with update() and set()`);if(!f.path)throw f.oa(`${o._methodName}() is not currently supported inside arrays`);const v=o._toFieldTransform(f);v&&f.fieldTransforms.push(v)}(u,i),null;if(void 0===u&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),u instanceof Array){if(i.settings.na&&4!==i.Zc)throw i.oa("Nested arrays are not supported");return function(o,f){const v=[];let w=0;for(const T of o){let L=Xd(T,f.ra(w));null==L&&(L={nullValue:"NULL_VALUE"}),v.push(L),w++}return{arrayValue:{values:v}}}(u,i)}return function(o,f){if(null===(o=(0,Ae.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return cp(f.wt,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const v=xs.fromDate(o);return{timestampValue:cd(f.wt,v)}}if(o instanceof xs){const v=new xs(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:cd(f.wt,v)}}if(o instanceof Zd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Ro)return{bytesValue:Ng(f.wt,o._byteString)};if(o instanceof Js){const v=f.databaseId,w=o.firestore._databaseId;if(!w.isEqual(v))throw f.oa(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${v.projectId}/${v.database}`);return{referenceValue:ff(o.firestore._databaseId||f.databaseId,o._key.path)}}throw f.oa(`Unsupported field value: ${Ko(o)}`)}(u,i)}function F_(u,i){const o={};return Z(u)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):G(u,(f,v)=>{const w=Xd(v,i.ea(f));null!=w&&(o[f]=w)}),{mapValue:{fields:o}}}function P_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof xs||u instanceof Zd||u instanceof Ro||u instanceof Js||u instanceof gc)}function N_(u,i,o){if(!P_(o)||"object"!=typeof(f=o)||null===f||Object.getPrototypeOf(f)!==Object.prototype&&null!==Object.getPrototypeOf(f)){const f=Ko(o);throw i.oa("an object"===f?u+" a custom object":u+" "+f)}var f}function L_(u,i,o){if((i=(0,Ae.m9)(i))instanceof $a)return i._internalPath;if("string"==typeof i)return Hf(u,i);throw Mm("Field path arguments must be of type string or ",u,!1,void 0,o)}const wE=new RegExp("[~\\*/\\[\\]]");function Hf(u,i,o){if(i.search(wE)>=0)throw Mm(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,o);try{return new $a(...i.split("."))._internalPath}catch{throw Mm(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,o)}}function Mm(u,i,o,f,v){const w=f&&!f.isEmpty(),T=void 0!==v;let L=`Function ${i}() called with invalid data`;o&&(L+=" (via `toFirestore()`)"),L+=". ";let re="";return(w||T)&&(re+=" (found",w&&(re+=` in field ${f}`),T&&(re+=` in document ${v}`),re+=")"),new ir(on.INVALID_ARGUMENT,L+u+re)}function B_(u,i){return u.some(o=>o.isEqual(i))}class jh{constructor(i,o,f,v,w){this._firestore=i,this._userDataWriter=o,this._key=f,this._document=v,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new V_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const o=this._document.data.field(Rm("DocumentSnapshot.get",i));if(null!==o)return this._userDataWriter.convertValue(o)}}}class V_ extends jh{data(){return super.data()}}function Rm(u,i){return"string"==typeof i?Hf(u,i):i instanceof $a?i._internalPath:i._delegate._internalPath}class Lu{constructor(i,o){this.hasPendingWrites=i,this.fromCache=o}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Pc extends jh{constructor(i,o,f,v,w,T){super(i,o,f,v,T),this._firestore=i,this._firestoreImpl=i,this.metadata=w}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const o=new zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,o={}){if(this._document){const f=this._document.data.field(Rm("DocumentSnapshot.get",i));if(null!==f)return this._userDataWriter.convertValue(f,o.serverTimestamps)}}}class zh extends Pc{data(i={}){return super.data(i)}}class Jd{constructor(i,o,f,v){this._firestore=i,this._userDataWriter=o,this._snapshot=v,this.metadata=new Lu(v.hasPendingWrites,v.fromCache),this.query=f}get docs(){const i=[];return this.forEach(o=>i.push(o)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,o){this._snapshot.docs.forEach(f=>{i.call(o,new zh(this._firestore,this._userDataWriter,f.key,f,new Lu(this._snapshot.mutatedKeys.has(f.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const o=!!i.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new ir(on.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(f,v){if(f._snapshot.oldDocs.isEmpty()){let w=0;return f._snapshot.docChanges.map(T=>({type:"added",doc:new zh(f._firestore,f._userDataWriter,T.doc.key,T.doc,new Lu(f._snapshot.mutatedKeys.has(T.doc.key),f._snapshot.fromCache),f.query.converter),oldIndex:-1,newIndex:w++}))}{let w=f._snapshot.oldDocs;return f._snapshot.docChanges.filter(T=>v||3!==T.type).map(T=>{const L=new zh(f._firestore,f._userDataWriter,T.doc.key,T.doc,new Lu(f._snapshot.mutatedKeys.has(T.doc.key),f._snapshot.fromCache),f.query.converter);let re=-1,he=-1;return 0!==T.type&&(re=w.indexOf(T.doc.key),w=w.delete(T.doc.key)),1!==T.type&&(w=w.add(T.doc),he=w.indexOf(T.doc.key)),{type:Om(T.type),doc:L,oldIndex:re,newIndex:he}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function Om(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jr()}}function Xp(u,i){return u instanceof Pc&&i instanceof Pc?u._firestore===i._firestore&&u._key.isEqual(i._key)&&(null===u._document?null===i._document:u._document.isEqual(i._document))&&u._converter===i._converter:u instanceof Jd&&i instanceof Jd&&u._firestore===i._firestore&&lx(u.query,i.query)&&u.metadata.isEqual(i.metadata)&&u._snapshot.isEqual(i._snapshot)}function Fm(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new ir(on.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}function Bu(u,...i){for(const o of i)u=o._apply(u);return u}class px extends Gf{constructor(i,o,f){super(),this.fa=i,this.da=o,this._a=f,this.type="where"}_apply(i){const o=Fc(i.firestore),f=function(v,w,T,L,re,he,Be){let Ct;if(re.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new ir(on.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){W_(Be,he);const Yn=[];for(const er of Be)Yn.push(z_(L,v,er));Ct={arrayValue:{values:Yn}}}else Ct=z_(L,v,Be)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||W_(Be,he),Ct=O_(T,"where",Be,"in"===he||"not-in"===he);const bn=Mo.create(re,he,Ct);return function(Yn,er){if(er.ht()){const pi=Ag(Yn);if(null!==pi&&!pi.isEqual(er.field))throw new ir(on.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pi.toString()}' and '${er.field.toString()}'`);const Os=ap(Yn);null!==Os&&$_(0,er.field,Os)}const Yr=function(pi,Os){for(const so of pi.filters)if(Os.indexOf(so.op)>=0)return so.op;return null}(Yn,function(pi){switch(pi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(er.op));if(null!==Yr)throw new ir(on.INVALID_ARGUMENT,Yr===er.op?`Invalid query. You cannot use more than one '${er.op.toString()}' filter.`:`Invalid query. You cannot use '${er.op.toString()}' filters with '${Yr.toString()}' filters.`)}(v,bn),bn}(i._query,0,o,i.firestore._databaseId,this.fa,this.da,this._a);return new Wa(i.firestore,i.converter,function(v,w){const T=v.filters.concat([w]);return new Wl(v.path,v.collectionGroup,v.explicitOrderBy.slice(),T,v.limit,v.limitType,v.startAt,v.endAt)}(i._query,f))}}class U_ extends Gf{constructor(i,o){super(),this.fa=i,this.wa=o,this.type="orderBy"}_apply(i){const o=function(f,v,w){if(null!==f.startAt)throw new ir(on.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==f.endAt)throw new ir(on.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const T=new Yc(v,w);return function(L,re){if(null===ap(L)){const he=Ag(L);null!==he&&$_(0,he,re.field)}}(f,T),T}(i._query,this.fa,this.wa);return new Wa(i.firestore,i.converter,function(f,v){const w=f.explicitOrderBy.concat([v]);return new Wl(f.path,f.collectionGroup,w,f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(i._query,o))}}class mx extends Gf{constructor(i,o,f){super(),this.type=i,this.ma=o,this.ga=f}_apply(i){return new Wa(i.firestore,i.converter,Od(i._query,this.ma,this.ga))}}class G_ extends Gf{constructor(i,o,f){super(),this.type=i,this.ya=o,this.pa=f}_apply(i){const o=Nm(i,this.type,this.ya,this.pa);return new Wa(i.firestore,i.converter,(v=o,new Wl((f=i._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,v,f.endAt)));var f,v}}class j_ extends Gf{constructor(i,o,f){super(),this.type=i,this.ya=o,this.pa=f}_apply(i){const o=Nm(i,this.type,this.ya,this.pa);return new Wa(i.firestore,i.converter,(v=o,new Wl((f=i._query).path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,v)));var f,v}}function Nm(u,i,o,f){if(o[0]=(0,Ae.m9)(o[0]),o[0]instanceof jh)return function(v,w,T,L,re){if(!L)throw new ir(on.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const he=[];for(const Be of Aa(v))if(Be.field.isKeyField())he.push(Sc(w,L.key));else{const Ct=L.data.field(Be.field);if(Ha(Ct))throw new ir(on.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ct){const bn=Be.field.canonicalString();throw new ir(on.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bn}' (used as the orderBy) does not exist.`)}he.push(Ct)}return new Ii(he,re)}(u._query,u.firestore._databaseId,i,o[0]._document,f);{const v=Fc(u.firestore);return function(w,T,L,re,he,Be){const Ct=w.explicitOrderBy;if(he.length>Ct.length)throw new ir(on.INVALID_ARGUMENT,`Too many arguments provided to ${re}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bn=[];for(let Yn=0;Yn<he.length;Yn++){const er=he[Yn];if(Ct[Yn].field.isKeyField()){if("string"!=typeof er)throw new ir(on.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${re}(), but got a ${typeof er}`);if(!od(w)&&-1!==er.indexOf("/"))throw new ir(on.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${re}() must be a plain document ID, but '${er}' contains a slash.`);const Yr=w.path.child(Wi.fromString(er));if(!br.isDocumentKey(Yr))throw new ir(on.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${re}() must result in a valid document path, but '${Yr}' is not because it contains an odd number of segments.`);const pi=new br(Yr);bn.push(Sc(T,pi))}else{const Yr=O_(L,re,er);bn.push(Yr)}}return new Ii(bn,Be)}(u._query,u.firestore._databaseId,v,i,o,f)}}function z_(u,i,o){if("string"==typeof(o=(0,Ae.m9)(o))){if(""===o)throw new ir(on.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!od(i)&&-1!==o.indexOf("/"))throw new ir(on.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const f=i.path.child(Wi.fromString(o));if(!br.isDocumentKey(f))throw new ir(on.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${f}' is not because it has an odd number of segments (${f.length}).`);return Sc(u,new br(f))}if(o instanceof Js)return Sc(u,o._key);throw new ir(on.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ko(o)}.`)}function W_(u,i){if(!Array.isArray(u)||0===u.length)throw new ir(on.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(u.length>10)throw new ir(on.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function $_(u,i,o){if(!o.isEqual(i))throw new ir(on.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}const wx={maxAttempts:5};class Lm{convertValue(i,o="none"){switch(Ta(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Ui(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,o);case 5:return i.stringValue;case 6:return this.convertBytes(dl(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,o);case 10:return this.convertObject(i.mapValue,o);default:throw Jr()}}convertObject(i,o){const f={};return G(i.fields,(v,w)=>{f[v]=this.convertValue(w,o)}),f}convertGeoPoint(i){return new Zd(Ui(i.latitude),Ui(i.longitude))}convertArray(i,o){return(i.values||[]).map(f=>this.convertValue(f,o))}convertServerTimestamp(i,o){switch(o){case"previous":const f=bc(i);return null==f?null:this.convertValue(f,o);case"estimate":return this.convertTimestamp(lc(i));default:return null}}convertTimestamp(i){const o=Xs(i);return new xs(o.seconds,o.nanos)}convertDocumentKey(i,o){const f=Wi.fromString(i);gi(ry(f));const v=new Sa(f.get(1),f.get(3)),w=new br(f.popFirst(5));return v.isEqual(o)||Pi(`Document ${w} contains a document reference within a different database (${v.projectId}/${v.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),w}}function Jp(u,i,o){let f;return f=u?o&&(o.merge||o.mergeFields)?u.toFirestore(i,o):u.toFirestore(i):i,f}class Ex extends Lm{constructor(i){super(),this.firestore=i}convertBytes(i){return new Ro(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new Js(this.firestore,null,o)}}class K_{constructor(i,o){this._firestore=i,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Fc(i)}set(i,o,f){this._verifyNotCommitted();const v=Wh(i,this._firestore),w=Jp(v.converter,o,f),T=wd(this._dataReader,"WriteBatch.set",v._key,w,null!==v.converter,f);return this._mutations.push(T.toMutation(v._key,Nr.none())),this}update(i,o,f,...v){this._verifyNotCommitted();const w=Wh(i,this._firestore);let T;return T="string"==typeof(o=(0,Ae.m9)(o))||o instanceof $a?km(this._dataReader,"WriteBatch.update",w._key,o,f,v):Im(this._dataReader,"WriteBatch.update",w._key,o),this._mutations.push(T.toMutation(w._key,Nr.exists(!0))),this}delete(i){this._verifyNotCommitted();const o=Wh(i,this._firestore);return this._mutations=this._mutations.concat(new bu(o._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ir(on.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wh(u,i){if((u=(0,Ae.m9)(u)).firestore!==i)throw new ir(on.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class $h extends Lm{constructor(i){super(),this.firestore=i}convertBytes(i){return new Ro(i)}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return new Js(this.firestore,null,o)}}function Dx(u,i,o){u=ms(u,Js);const f=ms(u.firestore,Ho),v=Jp(u.converter,i,o);return Kh(f,[wd(Fc(f),"setDoc",u._key,v,null!==u.converter,o).toMutation(u._key,Nr.none())])}function Y_(u,i,o,...f){u=ms(u,Js);const v=ms(u.firestore,Ho),w=Fc(v);let T;return T="string"==typeof(i=(0,Ae.m9)(i))||i instanceof $a?km(w,"updateDoc",u._key,i,o,f):Im(w,"updateDoc",u._key,i),Kh(v,[T.toMutation(u._key,Nr.exists(!0))])}function q_(u,...i){var o,f,v;u=(0,Ae.m9)(u);let w={includeMetadataChanges:!1},T=0;"object"!=typeof i[T]||I_(i[T])||(w=i[T],T++);const L={includeMetadataChanges:w.includeMetadataChanges};if(I_(i[T])){const Ct=i[T];i[T]=null===(o=Ct.next)||void 0===o?void 0:o.bind(Ct),i[T+1]=null===(f=Ct.error)||void 0===f?void 0:f.bind(Ct),i[T+2]=null===(v=Ct.complete)||void 0===v?void 0:v.bind(Ct)}let re,he,Be;if(u instanceof Js)he=ms(u.firestore,Ho),Be=uc(u._key.path),re={next:Ct=>{i[T]&&i[T](Z_(he,u,Ct))},error:i[T+1],complete:i[T+2]};else{const Ct=ms(u,Wa);he=ms(Ct.firestore,Ho),Be=Ct._query;const bn=new $h(he);re={next:Yn=>{i[T]&&i[T](new Jd(he,bn,Ct,Yn))},error:i[T+1],complete:i[T+2]},Fm(u._query)}return function(Ct,bn,Yn,er){const Yr=new Hp(er),pi=new hm(bn,Yr,Yn);return Ct.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return i_(yield Pf(Ct),pi)})),()=>{Yr.Tc(),Ct.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return o_(yield Pf(Ct),pi)}))}}(Yo(he),Be,L,re)}function Kh(u,i){return function(o,f){const v=new gs;return o.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function aE(u,i,o){return Uo.apply(this,arguments)}(yield Wp(o),f,v)})),v.promise}(Yo(u),i)}function Z_(u,i,o){const f=o.docs.get(i._key),v=new $h(u);return new Pc(u,v,i._key,f,new Lu(o.hasPendingWrites,o.fromCache),i.converter)}class Tx extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=Fc(i)}get(i){const o=Wh(i,this._firestore),f=new Ex(this._firestore);return this._transaction.lookup([o._key]).then(v=>{if(!v||1!==v.length)return Jr();const w=v[0];if(w.isFoundDocument())return new jh(this._firestore,f,w.key,w,o.converter);if(w.isNoDocument())return new jh(this._firestore,f,o._key,null,o.converter);throw Jr()})}set(i,o,f){const v=Wh(i,this._firestore),w=Jp(v.converter,o,f),T=wd(this._dataReader,"Transaction.set",v._key,w,null!==v.converter,f);return this._transaction.set(v._key,T),this}update(i,o,f,...v){const w=Wh(i,this._firestore);let T;return T="string"==typeof(o=(0,Ae.m9)(o))||o instanceof $a?km(this._dataReader,"Transaction.update",w._key,o,f,v):Im(this._dataReader,"Transaction.update",w._key,o),this._transaction.update(w._key,T),this}delete(i){const o=Wh(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(i,o){super(i,o),this._firestore=i}get(i){const o=Wh(i,this._firestore),f=new $h(this._firestore);return super.get(i).then(v=>new Pc(this._firestore,f,o._key,v._document,new Lu(!1,!1),o.converter))}}function Bm(u,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new ir("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return i}function J_(){if(typeof Uint8Array>"u")throw new ir("unimplemented","Uint8Arrays are not available in this environment.")}function Ix(){if(!function Ji(){return typeof atob<"u"}())throw new ir("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(u,i=!0){Va=H.SDK_VERSION,(0,H._registerComponent)(new ge.wA("firestore",(o,{options:f})=>{const v=o.getProvider("app").getImmediate(),w=new Ho(v,new Gl(o.getProvider("auth-internal")),new oc(o.getProvider("app-check-internal")));return f=Object.assign({useFetchStreams:i},f),w._setSettings(f),w},"PUBLIC")),(0,H.registerVersion)(Ba,"3.4.14",u),(0,H.registerVersion)(Ba,"3.4.14","esm2017")}();class eg{constructor(i){this._delegate=i}static fromBase64String(i){return Ix(),new eg(Ro.fromBase64String(i))}static fromUint8Array(i){return J_(),new eg(Ro.fromUint8Array(i))}toBase64(){return Ix(),this._delegate.toBase64()}toUint8Array(){return J_(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ev(u){return function U1(u,i){if("object"!=typeof u||null===u)return!1;const o=u;for(const f of i)if(f in o&&"function"==typeof o[f])return!0;return!1}(u,["next","error","complete"])}class tv{enableIndexedDbPersistence(i,o){return function qp(u,i){ux(u=ms(u,Ho));const o=Yo(u),f=u._freezeSettings(),v=new b_;return Zp(o,v,new Jy(v,f.cacheSizeBytes,i?.forceOwnership))}(i._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(i){return function k_(u){ux(u=ms(u,Ho));const i=Yo(u),o=u._freezeSettings(),f=new b_;return Zp(i,f,new ex(f,o.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function Pu(u){if(u._initialized&&!u._terminated)throw new ir(on.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new gs;return u._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(o=(0,d.Z)(function*(f){if(!zo.V())return Promise.resolve();const v=f+"main";yield zo.delete(v)}),function(f){return o.apply(this,arguments)})(Tp(u._databaseId,u._persistenceKey)),i.resolve()}catch(o){i.reject(o)}var o})),i.promise}(i._delegate)}}class zf{constructor(i,o,f){this._delegate=o,this._persistenceProvider=f,this.INTERNAL={delete:()=>this.terminate()},i instanceof Sa||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const o=this._delegate._getSettings();!i.merge&&o.host!==i.host&&ul("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},o),i)).merge,this._delegate._setSettings(i)}useEmulator(i,o,f={}){!function vE(u,i,o,f={}){var v;const w=(u=ms(u,Kp))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==i&&ul("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},w),{host:`${i}:${o}`,ssl:!1})),f.mockUserToken){let T,L;if("string"==typeof f.mockUserToken)T=f.mockUserToken,L=Xi.MOCK_USER;else{T=(0,Ae.Sg)(f.mockUserToken,null===(v=u._app)||void 0===v?void 0:v.options.projectId);const re=f.mockUserToken.sub||f.mockUserToken.user_id;if(!re)throw new ir(on.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Xi(re)}u._authCredentials=new xc(new Cl(T,L))}}(this._delegate,i,o,f)}enableNetwork(){return function P1(u){return function S_(u){return u.asyncQueue.enqueue((0,d.Z)(function*(){const i=yield ix(u),o=yield zp(u);return i.setNetworkEnabled(!0),function(f){const v=Fr(f);return v.lu.delete(0),nm(v)}(o)}))}(Yo(u=ms(u,Ho)))}(this._delegate)}disableNetwork(){return function Qp(u){return function sx(u){return u.asyncQueue.enqueue((0,d.Z)(function*(){const i=yield ix(u),o=yield zp(u);return i.setNetworkEnabled(!1),(f=(0,d.Z)(function*(v){const w=Fr(v);w.lu.add(0),yield Tf(w),w._u.set("Offline")}),function(v){return f.apply(this,arguments)})(o);var f}))}(Yo(u=ms(u,Ho)))}(this._delegate)}enablePersistence(i){let o=!1,f=!1;return i&&(o=!!i.synchronizeTabs,f=!!i.experimentalForceOwningTab,Fu("synchronizeTabs",o,"experimentalForceOwningTab",f)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,f)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ql(u){return function(i){const o=new gs;return i.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function uE(u,i){return u_.apply(this,arguments)}(yield Wp(i),o)})),o.promise}(Yo(u=ms(u,Ho)))}(this._delegate)}onSnapshotsInSync(i){return function jf(u,i){return function _E(u,i){const o=new Hp(i);return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return f=yield Pf(u),v=o,Fr(f).Tu.add(v),void v.next();var f,v})),()=>{o.Tc(),u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return f=yield Pf(u),v=o,void Fr(f).Tu.delete(v);var f,v}))}}(Yo(u=ms(u,Ho)),I_(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new ir("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new qh(this,Yp(this._delegate,i))}catch(o){throw Ol(o,"collection()","Firestore.collection()")}}doc(i){try{return new Rl(this,Bh(this._delegate,i))}catch(o){throw Ol(o,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Ka(this,function O1(u,i){if(u=ms(u,Kp),$p("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new ir(on.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wa(u,null,(o=i,new Wl(Wi.emptyPath(),o)));var o}(this._delegate,i))}catch(o){throw Ol(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function TE(u,i,o){u=ms(u,Ho);const f=Object.assign(Object.assign({},wx),o);return function(v){if(v.maxAttempts<1)throw new ir(on.INVALID_ARGUMENT,"Max attempts must be at least 1")}(f),function ox(u,i,o){const f=new gs;return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const v=yield(w=u,wm(w).then(T=>T.datastore));var w;new Yl(u.asyncQueue,v,o,i,f).run()})),f.promise}(Yo(u),v=>i(new Tx(u,v)),f)}(this._delegate,o=>i(new Mx(this,o)))}batch(){return Yo(this._delegate),new nv(new K_(this._delegate,i=>Kh(this._delegate,i)))}loadBundle(i){return function xE(u,i){const o=Yo(u=ms(u,Ho)),f=new cx;return function Nf(u,i,o,f){const v=function(w,T){let L;return L="string"==typeof w?(new TextEncoder).encode(w):w,re=function(re,he){if(re instanceof Uint8Array)return tx(re,void 0);if(re instanceof ArrayBuffer)return tx(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new nx(re,T);var re}(o,Sf(i));u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function hE(u,i,o){const f=Fr(u);var v;(v=(0,d.Z)(function*(w,T,L){try{const re=yield T.getMetadata();if(yield function(bn,Yn){const er=Fr(bn),Yr=ja(Yn.createTime);return er.persistence.runTransaction("hasNewerBundle","readonly",pi=>er.Ds.getBundleMetadata(pi,Yn.id)).then(pi=>!!pi&&pi.createTime.compareTo(Yr)>=0)}(w.localStore,re))return yield T.close(),L._completeWith({taskState:"Success",documentsLoaded:(bn=re).totalDocuments,bytesLoaded:bn.totalBytes,totalDocuments:bn.totalDocuments,totalBytes:bn.totalBytes}),Promise.resolve(new Set);L._updateProgress(iE(re));const he=new a_(re,w.localStore,T.wt);let Be=yield T.fc();for(;Be;){const bn=yield he.Nu(Be);bn&&L._updateProgress(bn),Be=yield T.fc()}const Ct=yield he.complete();return yield Ou(w,Ct.Ou,void 0),yield function(bn,Yn){const er=Fr(bn);return er.persistence.runTransaction("Save bundle","readwrite",Yr=>er.Ds.saveBundleMetadata(Yr,Yn))}(w.localStore,re),L._completeWith(Ct.progress),Promise.resolve(Ct.Mu)}catch(re){return ul("SyncEngine",`Loading bundle failed with ${re}`),L._failWith(re),Promise.resolve(new Set)}var bn}),function(w,T,L){return v.apply(this,arguments)})(f,i,o).then(v=>{f.sharedClientState.notifyBundleLoaded(v)})}(yield Wp(u),v,f)}))}(o,u._databaseId,i,f),f}(this._delegate,i)}namedQuery(i){return function M_(u,i){return function Lf(u,i){return u.asyncQueue.enqueue((0,d.Z)(function*(){return function(o,f){const v=Fr(o);return v.persistence.runTransaction("Get named query","readonly",w=>v.Ds.getNamedQuery(w,f))}(yield Em(u),i)}))}(Yo(u=ms(u,Ho)),i).then(o=>o?new Wa(u,null,o.query):null)}(this._delegate,i).then(o=>o?new Ka(this,o):null)}}class Vm extends Lm{constructor(i){super(),this.firestore=i}convertBytes(i){return new eg(new Ro(i))}convertReference(i){const o=this.convertDocumentKey(i,this.firestore._databaseId);return Rl.forKey(o,this.firestore,null)}}class Mx{constructor(i,o){this._firestore=i,this._delegate=o,this._userDataWriter=new Vm(i)}get(i){const o=nh(i);return this._delegate.get(o).then(f=>new Yh(this._firestore,new Pc(this._firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,o.converter)))}set(i,o,f){const v=nh(i);return f?(Bm("Transaction.set",f),this._delegate.set(v,o,f)):this._delegate.set(v,o),this}update(i,o,f,...v){const w=nh(i);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,f,...v),this}delete(i){const o=nh(i);return this._delegate.delete(o),this}}class nv{constructor(i){this._delegate=i}set(i,o,f){const v=nh(i);return f?(Bm("WriteBatch.set",f),this._delegate.set(v,o,f)):this._delegate.set(v,o),this}update(i,o,f,...v){const w=nh(i);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,f,...v),this}delete(i){const o=nh(i);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class eh{constructor(i,o,f){this._firestore=i,this._userDataWriter=o,this._delegate=f}fromFirestore(i,o){const f=new zh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new th(this._firestore,f),o??{})}toFirestore(i,o){return o?this._delegate.toFirestore(i,o):this._delegate.toFirestore(i)}static getInstance(i,o){const f=eh.INSTANCES;let v=f.get(i);v||(v=new WeakMap,f.set(i,v));let w=v.get(o);return w||(w=new eh(i,new Vm(i),o),v.set(o,w)),w}}eh.INSTANCES=new WeakMap;class Rl{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new Vm(i)}static forPath(i,o,f){if(i.length%2!=0)throw new ir("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new Rl(o,new Js(o._delegate,f,new br(i)))}static forKey(i,o,f){return new Rl(o,new Js(o._delegate,f,i))}get id(){return this._delegate.id}get parent(){return new qh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new qh(this.firestore,Yp(this._delegate,i))}catch(o){throw Ol(o,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Ae.m9)(i))instanceof Js&&ax(this._delegate,i)}set(i,o){o=Bm("DocumentReference.set",o);try{return o?Dx(this._delegate,i,o):Dx(this._delegate,i)}catch(f){throw Ol(f,"setDoc()","DocumentReference.set()")}}update(i,o,...f){try{return 1===arguments.length?Y_(this._delegate,i):Y_(this._delegate,i,o,...f)}catch(v){throw Ol(v,"updateDoc()","DocumentReference.update()")}}delete(){return function SE(u){return Kh(ms(u.firestore,Ho),[new bu(u._key,Nr.none())])}(this._delegate)}onSnapshot(...i){const o=tg(i),f=rv(i,v=>new Yh(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,v._key,v._document,v.metadata,this._delegate.converter)));return q_(this._delegate,o,f)}get(i){let o;return o="cache"===i?.source?function bx(u){u=ms(u,Js);const i=ms(u.firestore,Ho),o=Yo(i),f=new $h(i);return function R1(u,i){const o=new gs;return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(f=(0,d.Z)(function*(v,w,T){try{const L=yield function(re,he){const Be=Fr(re);return Be.persistence.runTransaction("read document","readonly",Ct=>Be.localDocuments.getDocument(Ct,he))}(v,w);L.isFoundDocument()?T.resolve(L):L.isNoDocument()?T.resolve(null):T.reject(new ir(on.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const re=vd(L,`Failed to get document '${w} from cache`);T.reject(re)}}),function(v,w,T){return f.apply(this,arguments)})(yield Em(u),i,o);var f})),o.promise}(o,u._key).then(v=>new Pc(i,f,u._key,v,new Lu(null!==v&&v.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===i?.source?function CE(u){u=ms(u,Js);const i=ms(u.firestore,Ho);return gE(Yo(i),u._key,{source:"server"}).then(o=>Z_(i,u,o))}(this._delegate):function bE(u){u=ms(u,Js);const i=ms(u.firestore,Ho);return gE(Yo(i),u._key).then(o=>Z_(i,u,o))}(this._delegate),o.then(f=>new Yh(this.firestore,new Pc(this.firestore._delegate,this._userDataWriter,f._key,f._document,f.metadata,this._delegate.converter)))}withConverter(i){return new Rl(this.firestore,this._delegate.withConverter(i?eh.getInstance(this.firestore,i):null))}}function Ol(u,i,o){return u.message=u.message.replace(i,o),u}function tg(u){for(const i of u)if("object"==typeof i&&!ev(i))return i;return{}}function rv(u,i){var o,f;let v;return v=ev(u[0])?u[0]:ev(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:w=>{v.next&&v.next(i(w))},error:null===(o=v.error)||void 0===o?void 0:o.bind(v),complete:null===(f=v.complete)||void 0===f?void 0:f.bind(v)}}class Yh{constructor(i,o){this._firestore=i,this._delegate=o}get ref(){return new Rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,o){return this._delegate.get(i,o)}isEqual(i){return Xp(this._delegate,i._delegate)}}class th extends Yh{data(i){const o=this._delegate.data(i);return function sc(u,i){u||Jr()}(void 0!==o),o}}class Ka{constructor(i,o){this.firestore=i,this._delegate=o,this._userDataWriter=new Vm(i)}where(i,o,f){try{return new Ka(this.firestore,Bu(this._delegate,function gx(u,i,o){const f=i,v=Rm("where",u);return new px(v,f,o)}(i,o,f)))}catch(v){throw Ol(v,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,o){try{return new Ka(this.firestore,Bu(this._delegate,function H_(u,i="asc"){const o=i,f=Rm("orderBy",u);return new U_(f,o)}(i,o)))}catch(f){throw Ol(f,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Ka(this.firestore,Bu(this._delegate,function _x(u){return Dm("limit",u),new mx("limit",u,"F")}(i)))}catch(o){throw Ol(o,"limit()","Query.limit()")}}limitToLast(i){try{return new Ka(this.firestore,Bu(this._delegate,function vx(u){return Dm("limitToLast",u),new mx("limitToLast",u,"L")}(i)))}catch(o){throw Ol(o,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Ka(this.firestore,Bu(this._delegate,function yx(...u){return new G_("startAt",u,!0)}(...i)))}catch(o){throw Ol(o,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Ka(this.firestore,Bu(this._delegate,function EE(...u){return new G_("startAfter",u,!1)}(...i)))}catch(o){throw Ol(o,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Ka(this.firestore,Bu(this._delegate,function xx(...u){return new j_("endBefore",u,!1)}(...i)))}catch(o){throw Ol(o,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Ka(this.firestore,Bu(this._delegate,function Pm(...u){return new j_("endAt",u,!0)}(...i)))}catch(o){throw Ol(o,"endAt()","Query.endAt()")}}isEqual(i){return lx(this._delegate,i._delegate)}get(i){let o;return o="cache"===i?.source?function Cx(u){u=ms(u,Wa);const i=ms(u.firestore,Ho),o=Yo(i),f=new $h(i);return function Cm(u,i){const o=new gs;return u.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(f=(0,d.Z)(function*(v,w,T){try{const L=yield Oh(v,w,!0),re=new oE(w,L.ji),he=re.Ku(L.documents),Be=re.applyChanges(he,!1);T.resolve(Be.snapshot)}catch(L){const re=vd(L,`Failed to execute query '${w} against cache`);T.reject(re)}}),function(v,w,T){return f.apply(this,arguments)})(yield Em(u),i,o);var f})),o.promise}(o,u._query).then(v=>new Jd(i,f,u,v))}(this._delegate):"server"===i?.source?function DE(u){u=ms(u,Wa);const i=ms(u.firestore,Ho),o=Yo(i),f=new $h(i);return mE(o,u._query,{source:"server"}).then(v=>new Jd(i,f,u,v))}(this._delegate):function ka(u){u=ms(u,Wa);const i=ms(u.firestore,Ho),o=Yo(i),f=new $h(i);return Fm(u._query),mE(o,u._query).then(v=>new Jd(i,f,u,v))}(this._delegate),o.then(f=>new ng(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,f._snapshot)))}onSnapshot(...i){const o=tg(i),f=rv(i,v=>new ng(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,this._delegate,v._snapshot)));return q_(this._delegate,o,f)}withConverter(i){return new Ka(this.firestore,this._delegate.withConverter(i?eh.getInstance(this.firestore,i):null))}}class iv{constructor(i,o){this._firestore=i,this._delegate=o}get type(){return this._delegate.type}get doc(){return new th(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ng{constructor(i,o){this._firestore=i,this._delegate=o}get query(){return new Ka(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new th(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(o=>new iv(this._firestore,o))}forEach(i,o){this._delegate.forEach(f=>{i.call(o,new th(this._firestore,f))})}isEqual(i){return Xp(this._delegate,i._delegate)}}class qh extends Ka{constructor(i,o){super(i,o),this.firestore=i,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new Rl(this.firestore,i):null}doc(i){try{return new Rl(this.firestore,void 0===i?Bh(this._delegate):Bh(this._delegate,i))}catch(o){throw Ol(o,"doc()","CollectionReference.doc()")}}add(i){return function Sx(u,i){const o=ms(u.firestore,Ho),f=Bh(u),v=Jp(u.converter,i);return Kh(o,[wd(Fc(u.firestore),"addDoc",f._key,v,null!==u.converter,{}).toMutation(f._key,Nr.exists(!1))]).then(()=>f)}(this._delegate,i).then(o=>new Rl(this.firestore,o))}isEqual(i){return ax(this._delegate,i._delegate)}withConverter(i){return new qh(this.firestore,this._delegate.withConverter(i?eh.getInstance(this.firestore,i):null))}}function nh(u){return ms(u,Js)}class rg{constructor(...i){this._delegate=new $a(...i)}static documentId(){return new rg(So.keyField().canonicalString())}isEqual(i){return(i=(0,Ae.m9)(i))instanceof $a&&this._delegate._internalPath.isEqual(i._internalPath)}}class rh{constructor(i){this._delegate=i}static serverTimestamp(){const i=function L1(){return new Qd("serverTimestamp")}();return i._methodName="FieldValue.serverTimestamp",new rh(i)}static delete(){const i=function Ax(){return new Nu("deleteField")}();return i._methodName="FieldValue.delete",new rh(i)}static arrayUnion(...i){const o=function Q_(...u){return new dx("arrayUnion",u)}(...i);return o._methodName="FieldValue.arrayUnion",new rh(o)}static arrayRemove(...i){const o=function X_(...u){return new hx("arrayRemove",u)}(...i);return o._methodName="FieldValue.arrayRemove",new rh(o)}static increment(i){const o=function Vu(u){return new fx("increment",u)}(i);return o._methodName="FieldValue.increment",new rh(o)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const sv={Firestore:zf,GeoPoint:Zd,Timestamp:xs,Blob:eg,Transaction:Mx,WriteBatch:nv,DocumentReference:Rl,DocumentSnapshot:Yh,Query:Ka,QueryDocumentSnapshot:th,QuerySnapshot:ng,CollectionReference:qh,FieldPath:rg,FieldValue:rh,setLogLevel:function kx(u){!function Vl(u){bl.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function AE(u){(function Rx(u,i){u.INTERNAL.registerComponent(new ge.wA("firestore-compat",o=>{const f=o.getProvider("app-compat").getImmediate(),v=o.getProvider("firestore").getImmediate();return i(f,v)},"PUBLIC").setServiceProps(Object.assign({},sv)))})(u,(i,o)=>new zf(i,o,new tv)),u.registerVersion("@firebase/firestore-compat","0.1.23")}(_.Z)},1135:(Zn,St,M)=>{M.d(St,{X:()=>d});var _=M(7579);class d extends _.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const Re=super._subscribe(ge);return!Re.closed&&ge.next(this._value),Re}getValue(){const{hasError:ge,thrownError:Re,_value:Ae}=this;if(ge)throw Re;return this._throwIfClosed(),Ae}next(ge){super.next(this._value=ge)}}},9751:(Zn,St,M)=>{M.d(St,{y:()=>Oe});var _=M(930),d=M(727),H=M(8822),ge=M(9635),Re=M(2416),Ae=M(576),Ge=M(2806);let Oe=(()=>{class Fe{constructor(Et){Et&&(this._subscribe=Et)}lift(Et){const ct=new Fe;return ct.source=this,ct.operator=Et,ct}subscribe(Et,ct,jt){const Ft=function xe(Fe){return Fe&&Fe instanceof _.Lv||function Ce(Fe){return Fe&&(0,Ae.m)(Fe.next)&&(0,Ae.m)(Fe.error)&&(0,Ae.m)(Fe.complete)}(Fe)&&(0,d.Nn)(Fe)}(Et)?Et:new _.Hp(Et,ct,jt);return(0,Ge.x)(()=>{const{operator:At,source:en}=this;Ft.add(At?At.call(Ft,en):en?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(Et){try{return this._subscribe(Et)}catch(ct){Et.error(ct)}}forEach(Et,ct){return new(ct=me(ct))((jt,Ft)=>{const At=new _.Hp({next:en=>{try{Et(en)}catch(gn){Ft(gn),At.unsubscribe()}},error:Ft,complete:jt});this.subscribe(At)})}_subscribe(Et){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Et)}[H.L](){return this}pipe(...Et){return(0,ge.U)(Et)(this)}toPromise(Et){return new(Et=me(Et))((ct,jt)=>{let Ft;this.subscribe(At=>Ft=At,At=>jt(At),()=>ct(Ft))})}}return Fe.create=pt=>new Fe(pt),Fe})();function me(Fe){var pt;return null!==(pt=Fe??Re.v.Promise)&&void 0!==pt?pt:Promise}},7579:(Zn,St,M)=>{M.d(St,{x:()=>Ge});var _=M(9751),d=M(727);const ge=(0,M(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=M(8737),Ae=M(2806);let Ge=(()=>{class me extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const Fe=new Oe(this,this);return Fe.operator=xe,Fe}_throwIfClosed(){if(this.closed)throw new ge}next(xe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(xe)}})}error(xe){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(xe)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:Fe,isStopped:pt,observers:Et}=this;return Fe||pt?d.Lc:(this.currentObservers=null,Et.push(xe),new d.w0(()=>{this.currentObservers=null,(0,Re.P)(Et,xe)}))}_checkFinalizedStatuses(xe){const{hasError:Fe,thrownError:pt,isStopped:Et}=this;Fe?xe.error(pt):Et&&xe.complete()}asObservable(){const xe=new _.y;return xe.source=this,xe}}return me.create=(Ce,xe)=>new Oe(Ce,xe),me})();class Oe extends Ge{constructor(Ce,xe){super(),this.destination=Ce,this.source=xe}next(Ce){var xe,Fe;null===(Fe=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===Fe||Fe.call(xe,Ce)}error(Ce){var xe,Fe;null===(Fe=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===Fe||Fe.call(xe,Ce)}complete(){var Ce,xe;null===(xe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===xe||xe.call(Ce)}_subscribe(Ce){var xe,Fe;return null!==(Fe=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Ce))&&void 0!==Fe?Fe:d.Lc}}},930:(Zn,St,M)=>{M.d(St,{Hp:()=>jt,Lv:()=>Fe});var _=M(576),d=M(727),H=M(2416),ge=M(7849),Re=M(5032);const Ae=me("C",void 0,void 0);function me(xt,Ue,Ve){return{kind:xt,value:Ue,error:Ve}}var Ce=M(3410),xe=M(2806);class Fe extends d.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,d.Nn)(Ue)&&Ue.add(this)):this.destination=gn}static create(Ue,Ve,at){return new jt(Ue,Ve,at)}next(Ue){this.isStopped?en(function Oe(xt){return me("N",xt,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?en(function Ge(xt){return me("E",void 0,xt)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?en(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pt=Function.prototype.bind;function Et(xt,Ue){return pt.call(xt,Ue)}class ct{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(Ue)}catch(at){Ft(at)}}error(Ue){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(Ue)}catch(at){Ft(at)}else Ft(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Ve){Ft(Ve)}}}class jt extends Fe{constructor(Ue,Ve,at){let ze;if(super(),(0,_.m)(Ue)||!Ue)ze={next:Ue??void 0,error:Ve??void 0,complete:at??void 0};else{let nt;this&&H.v.useDeprecatedNextContext?(nt=Object.create(Ue),nt.unsubscribe=()=>this.unsubscribe(),ze={next:Ue.next&&Et(Ue.next,nt),error:Ue.error&&Et(Ue.error,nt),complete:Ue.complete&&Et(Ue.complete,nt)}):ze=Ue}this.destination=new ct(ze)}}function Ft(xt){H.v.useDeprecatedSynchronousErrorHandling?(0,xe.O)(xt):(0,ge.h)(xt)}function en(xt,Ue){const{onStoppedNotification:Ve}=H.v;Ve&&Ce.z.setTimeout(()=>Ve(xt,Ue))}const gn={closed:!0,next:Re.Z,error:function At(xt){throw xt},complete:Re.Z}},727:(Zn,St,M)=>{M.d(St,{Lc:()=>Ae,w0:()=>Re,Nn:()=>Ge});var _=M(576);const H=(0,M(3888).d)(me=>function(xe){me(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((Fe,pt)=>`${pt+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var ge=M(8737);class Re{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const Et of xe)Et.remove(this);else xe.remove(this);const{initialTeardown:Fe}=this;if((0,_.m)(Fe))try{Fe()}catch(Et){Ce=Et instanceof H?Et.errors:[Et]}const{_finalizers:pt}=this;if(pt){this._finalizers=null;for(const Et of pt)try{Oe(Et)}catch(ct){Ce=Ce??[],ct instanceof H?Ce=[...Ce,...ct.errors]:Ce.push(ct)}}if(Ce)throw new H(Ce)}}add(Ce){var xe;if(Ce&&Ce!==this)if(this.closed)Oe(Ce);else{if(Ce instanceof Re){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(Ce)}}_hasParent(Ce){const{_parentage:xe}=this;return xe===Ce||Array.isArray(xe)&&xe.includes(Ce)}_addParent(Ce){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(Ce),xe):xe?[xe,Ce]:Ce}_removeParent(Ce){const{_parentage:xe}=this;xe===Ce?this._parentage=null:Array.isArray(xe)&&(0,ge.P)(xe,Ce)}remove(Ce){const{_finalizers:xe}=this;xe&&(0,ge.P)(xe,Ce),Ce instanceof Re&&Ce._removeParent(this)}}Re.EMPTY=(()=>{const me=new Re;return me.closed=!0,me})();const Ae=Re.EMPTY;function Ge(me){return me instanceof Re||me&&"closed"in me&&(0,_.m)(me.remove)&&(0,_.m)(me.add)&&(0,_.m)(me.unsubscribe)}function Oe(me){(0,_.m)(me)?me():me.unsubscribe()}},2416:(Zn,St,M)=>{M.d(St,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Zn,St,M)=>{M.d(St,{a:()=>Ce});var _=M(9751),d=M(4742),H=M(8996),ge=M(4671),Re=M(3268),Ae=M(3269),Ge=M(1810),Oe=M(5403),me=M(9672);function Ce(...pt){const Et=(0,Ae.yG)(pt),ct=(0,Ae.jO)(pt),{args:jt,keys:Ft}=(0,d.D)(pt);if(0===jt.length)return(0,H.D)([],Et);const At=new _.y(function xe(pt,Et,ct=ge.y){return jt=>{Fe(Et,()=>{const{length:Ft}=pt,At=new Array(Ft);let en=Ft,gn=Ft;for(let xt=0;xt<Ft;xt++)Fe(Et,()=>{const Ue=(0,H.D)(pt[xt],Et);let Ve=!1;Ue.subscribe((0,Oe.x)(jt,at=>{At[xt]=at,Ve||(Ve=!0,gn--),gn||jt.next(ct(At.slice()))},()=>{--en||jt.complete()}))},jt)},jt)}}(jt,Et,Ft?en=>(0,Ge.n)(Ft,en):ge.y));return ct?At.pipe((0,Re.Z)(ct)):At}function Fe(pt,Et,ct){pt?(0,me.f)(ct,pt,Et):Et()}},7272:(Zn,St,M)=>{M.d(St,{z:()=>Re});var _=M(8189),H=M(3269),ge=M(8996);function Re(...Ae){return function d(){return(0,_.J)(1)}()((0,ge.D)(Ae,(0,H.yG)(Ae)))}},9770:(Zn,St,M)=>{M.d(St,{P:()=>H});var _=M(9751),d=M(8421);function H(ge){return new _.y(Re=>{(0,d.Xf)(ge()).subscribe(Re)})}},515:(Zn,St,M)=>{M.d(St,{E:()=>d});const d=new(M(9751).y)(Re=>Re.complete())},4128:(Zn,St,M)=>{M.d(St,{D:()=>Oe});var _=M(9751),d=M(4742),H=M(8421),ge=M(3269),Re=M(5403),Ae=M(3268),Ge=M(1810);function Oe(...me){const Ce=(0,ge.jO)(me),{args:xe,keys:Fe}=(0,d.D)(me),pt=new _.y(Et=>{const{length:ct}=xe;if(!ct)return void Et.complete();const jt=new Array(ct);let Ft=ct,At=ct;for(let en=0;en<ct;en++){let gn=!1;(0,H.Xf)(xe[en]).subscribe((0,Re.x)(Et,xt=>{gn||(gn=!0,At--),jt[en]=xt},()=>Ft--,void 0,()=>{(!Ft||!gn)&&(At||Et.next(Fe?(0,Ge.n)(Fe,jt):jt),Et.complete())}))}});return Ce?pt.pipe((0,Ae.Z)(Ce)):pt}},8996:(Zn,St,M)=>{M.d(St,{D:()=>Ue});var _=M(8421),d=M(5363),H=M(9468),Ae=M(9751),Oe=M(2202),me=M(576),Ce=M(9672);function Fe(Ve,at){if(!Ve)throw new Error("Iterable cannot be null");return new Ae.y(ze=>{(0,Ce.f)(ze,at,()=>{const nt=Ve[Symbol.asyncIterator]();(0,Ce.f)(ze,at,()=>{nt.next().then(Qe=>{Qe.done?ze.complete():ze.next(Qe.value)})},0,!0)})})}var pt=M(3670),Et=M(8239),ct=M(1144),jt=M(6495),Ft=M(2206),At=M(4532),en=M(3260);function Ue(Ve,at){return at?function xt(Ve,at){if(null!=Ve){if((0,pt.c)(Ve))return function ge(Ve,at){return(0,_.Xf)(Ve).pipe((0,H.R)(at),(0,d.Q)(at))}(Ve,at);if((0,ct.z)(Ve))return function Ge(Ve,at){return new Ae.y(ze=>{let nt=0;return at.schedule(function(){nt===Ve.length?ze.complete():(ze.next(Ve[nt++]),ze.closed||this.schedule())})})}(Ve,at);if((0,Et.t)(Ve))return function Re(Ve,at){return(0,_.Xf)(Ve).pipe((0,H.R)(at),(0,d.Q)(at))}(Ve,at);if((0,Ft.D)(Ve))return Fe(Ve,at);if((0,jt.T)(Ve))return function xe(Ve,at){return new Ae.y(ze=>{let nt;return(0,Ce.f)(ze,at,()=>{nt=Ve[Oe.h](),(0,Ce.f)(ze,at,()=>{let Qe,Pe;try{({value:Qe,done:Pe}=nt.next())}catch(ae){return void ze.error(ae)}Pe?ze.complete():ze.next(Qe)},0,!0)}),()=>(0,me.m)(nt?.return)&&nt.return()})}(Ve,at);if((0,en.L)(Ve))return function gn(Ve,at){return Fe((0,en.Q)(Ve),at)}(Ve,at)}throw(0,At.z)(Ve)}(Ve,at):(0,_.Xf)(Ve)}},4968:(Zn,St,M)=>{M.d(St,{R:()=>Ce});var _=M(8421),d=M(9751),H=M(5577),ge=M(1144),Re=M(576),Ae=M(3268);const Ge=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],me=["on","off"];function Ce(ct,jt,Ft,At){if((0,Re.m)(Ft)&&(At=Ft,Ft=void 0),At)return Ce(ct,jt,Ft).pipe((0,Ae.Z)(At));const[en,gn]=function Et(ct){return(0,Re.m)(ct.addEventListener)&&(0,Re.m)(ct.removeEventListener)}(ct)?Oe.map(xt=>Ue=>ct[xt](jt,Ue,Ft)):function Fe(ct){return(0,Re.m)(ct.addListener)&&(0,Re.m)(ct.removeListener)}(ct)?Ge.map(xe(ct,jt)):function pt(ct){return(0,Re.m)(ct.on)&&(0,Re.m)(ct.off)}(ct)?me.map(xe(ct,jt)):[];if(!en&&(0,ge.z)(ct))return(0,H.z)(xt=>Ce(xt,jt,Ft))((0,_.Xf)(ct));if(!en)throw new TypeError("Invalid event target");return new d.y(xt=>{const Ue=(...Ve)=>xt.next(1<Ve.length?Ve:Ve[0]);return en(Ue),()=>gn(Ue)})}function xe(ct,jt){return Ft=>At=>ct[Ft](jt,At)}},8421:(Zn,St,M)=>{M.d(St,{Xf:()=>pt});var _=M(655),d=M(1144),H=M(8239),ge=M(9751),Re=M(3670),Ae=M(2206),Ge=M(4532),Oe=M(6495),me=M(3260),Ce=M(576),xe=M(7849),Fe=M(8822);function pt(xt){if(xt instanceof ge.y)return xt;if(null!=xt){if((0,Re.c)(xt))return function Et(xt){return new ge.y(Ue=>{const Ve=xt[Fe.L]();if((0,Ce.m)(Ve.subscribe))return Ve.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xt);if((0,d.z)(xt))return function ct(xt){return new ge.y(Ue=>{for(let Ve=0;Ve<xt.length&&!Ue.closed;Ve++)Ue.next(xt[Ve]);Ue.complete()})}(xt);if((0,H.t)(xt))return function jt(xt){return new ge.y(Ue=>{xt.then(Ve=>{Ue.closed||(Ue.next(Ve),Ue.complete())},Ve=>Ue.error(Ve)).then(null,xe.h)})}(xt);if((0,Ae.D)(xt))return At(xt);if((0,Oe.T)(xt))return function Ft(xt){return new ge.y(Ue=>{for(const Ve of xt)if(Ue.next(Ve),Ue.closed)return;Ue.complete()})}(xt);if((0,me.L)(xt))return function en(xt){return At((0,me.Q)(xt))}(xt)}throw(0,Ge.z)(xt)}function At(xt){return new ge.y(Ue=>{(function gn(xt,Ue){var Ve,at,ze,nt;return(0,_.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,_.KL)(xt);!(at=yield Ve.next()).done;)if(Ue.next(at.value),Ue.closed)return}catch(Qe){ze={error:Qe}}finally{try{at&&!at.done&&(nt=Ve.return)&&(yield nt.call(Ve))}finally{if(ze)throw ze.error}}Ue.complete()})})(xt,Ue).catch(Ve=>Ue.error(Ve))})}},6451:(Zn,St,M)=>{M.d(St,{T:()=>Ae});var _=M(8189),d=M(8421),H=M(515),ge=M(3269),Re=M(8996);function Ae(...Ge){const Oe=(0,ge.yG)(Ge),me=(0,ge._6)(Ge,1/0),Ce=Ge;return Ce.length?1===Ce.length?(0,d.Xf)(Ce[0]):(0,_.J)(me)((0,Re.D)(Ce,Oe)):H.E}},9646:(Zn,St,M)=>{M.d(St,{of:()=>H});var _=M(3269),d=M(8996);function H(...ge){const Re=(0,_.yG)(ge);return(0,d.D)(ge,Re)}},2843:(Zn,St,M)=>{M.d(St,{_:()=>H});var _=M(9751),d=M(576);function H(ge,Re){const Ae=(0,d.m)(ge)?ge:()=>ge,Ge=Oe=>Oe.error(Ae());return new _.y(Re?Oe=>Re.schedule(Ge,0,Oe):Ge)}},5403:(Zn,St,M)=>{M.d(St,{x:()=>d});var _=M(930);function d(ge,Re,Ae,Ge,Oe){return new H(ge,Re,Ae,Ge,Oe)}class H extends _.Lv{constructor(Re,Ae,Ge,Oe,me,Ce){super(Re),this.onFinalize=me,this.shouldUnsubscribe=Ce,this._next=Ae?function(xe){try{Ae(xe)}catch(Fe){Re.error(Fe)}}:super._next,this._error=Oe?function(xe){try{Oe(xe)}catch(Fe){Re.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(xe){Re.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},262:(Zn,St,M)=>{M.d(St,{K:()=>ge});var _=M(8421),d=M(5403),H=M(4482);function ge(Re){return(0,H.e)((Ae,Ge)=>{let Ce,Oe=null,me=!1;Oe=Ae.subscribe((0,d.x)(Ge,void 0,void 0,xe=>{Ce=(0,_.Xf)(Re(xe,ge(Re)(Ae))),Oe?(Oe.unsubscribe(),Oe=null,Ce.subscribe(Ge)):me=!0})),me&&(Oe.unsubscribe(),Oe=null,Ce.subscribe(Ge))})}},4351:(Zn,St,M)=>{M.d(St,{b:()=>H});var _=M(5577),d=M(576);function H(ge,Re){return(0,d.m)(Re)?(0,_.z)(ge,Re,1):(0,_.z)(ge,1)}},8372:(Zn,St,M)=>{M.d(St,{b:()=>ge});var _=M(4986),d=M(4482),H=M(5403);function ge(Re,Ae=_.z){return(0,d.e)((Ge,Oe)=>{let me=null,Ce=null,xe=null;const Fe=()=>{if(me){me.unsubscribe(),me=null;const Et=Ce;Ce=null,Oe.next(Et)}};function pt(){const Et=xe+Re,ct=Ae.now();if(ct<Et)return me=this.schedule(void 0,Et-ct),void Oe.add(me);Fe()}Ge.subscribe((0,H.x)(Oe,Et=>{Ce=Et,xe=Ae.now(),me||(me=Ae.schedule(pt,Re),Oe.add(me))},()=>{Fe(),Oe.complete()},void 0,()=>{Ce=me=null}))})}},6590:(Zn,St,M)=>{M.d(St,{d:()=>H});var _=M(4482),d=M(5403);function H(ge){return(0,_.e)((Re,Ae)=>{let Ge=!1;Re.subscribe((0,d.x)(Ae,Oe=>{Ge=!0,Ae.next(Oe)},()=>{Ge||Ae.next(ge),Ae.complete()}))})}},1884:(Zn,St,M)=>{M.d(St,{x:()=>ge});var _=M(4671),d=M(4482),H=M(5403);function ge(Ae,Ge=_.y){return Ae=Ae??Re,(0,d.e)((Oe,me)=>{let Ce,xe=!0;Oe.subscribe((0,H.x)(me,Fe=>{const pt=Ge(Fe);(xe||!Ae(Ce,pt))&&(xe=!1,Ce=pt,me.next(Fe))}))})}function Re(Ae,Ge){return Ae===Ge}},9300:(Zn,St,M)=>{M.d(St,{h:()=>H});var _=M(4482),d=M(5403);function H(ge,Re){return(0,_.e)((Ae,Ge)=>{let Oe=0;Ae.subscribe((0,d.x)(Ge,me=>ge.call(Re,me,Oe++)&&Ge.next(me)))})}},8746:(Zn,St,M)=>{M.d(St,{x:()=>d});var _=M(4482);function d(H){return(0,_.e)((ge,Re)=>{try{ge.subscribe(Re)}finally{Re.add(H)}})}},590:(Zn,St,M)=>{M.d(St,{P:()=>Ge});var _=M(6805),d=M(9300),H=M(5698),ge=M(6590),Re=M(8068),Ae=M(4671);function Ge(Oe,me){const Ce=arguments.length>=2;return xe=>xe.pipe(Oe?(0,d.h)((Fe,pt)=>Oe(Fe,pt,xe)):Ae.y,(0,H.q)(1),Ce?(0,ge.d)(me):(0,Re.T)(()=>new _.K))}},4004:(Zn,St,M)=>{M.d(St,{U:()=>H});var _=M(4482),d=M(5403);function H(ge,Re){return(0,_.e)((Ae,Ge)=>{let Oe=0;Ae.subscribe((0,d.x)(Ge,me=>{Ge.next(ge.call(Re,me,Oe++))}))})}},8189:(Zn,St,M)=>{M.d(St,{J:()=>H});var _=M(5577),d=M(4671);function H(ge=1/0){return(0,_.z)(d.y,ge)}},5577:(Zn,St,M)=>{M.d(St,{z:()=>Oe});var _=M(4004),d=M(8421),H=M(4482),ge=M(9672),Re=M(5403),Ge=M(576);function Oe(me,Ce,xe=1/0){return(0,Ge.m)(Ce)?Oe((Fe,pt)=>(0,_.U)((Et,ct)=>Ce(Fe,Et,pt,ct))((0,d.Xf)(me(Fe,pt))),xe):("number"==typeof Ce&&(xe=Ce),(0,H.e)((Fe,pt)=>function Ae(me,Ce,xe,Fe,pt,Et,ct,jt){const Ft=[];let At=0,en=0,gn=!1;const xt=()=>{gn&&!Ft.length&&!At&&Ce.complete()},Ue=at=>At<Fe?Ve(at):Ft.push(at),Ve=at=>{Et&&Ce.next(at),At++;let ze=!1;(0,d.Xf)(xe(at,en++)).subscribe((0,Re.x)(Ce,nt=>{pt?.(nt),Et?Ue(nt):Ce.next(nt)},()=>{ze=!0},void 0,()=>{if(ze)try{for(At--;Ft.length&&At<Fe;){const nt=Ft.shift();ct?(0,ge.f)(Ce,ct,()=>Ve(nt)):Ve(nt)}xt()}catch(nt){Ce.error(nt)}}))};return me.subscribe((0,Re.x)(Ce,Ue,()=>{gn=!0,xt()})),()=>{jt?.()}}(Fe,pt,me,xe)))}},5363:(Zn,St,M)=>{M.d(St,{Q:()=>ge});var _=M(9672),d=M(4482),H=M(5403);function ge(Re,Ae=0){return(0,d.e)((Ge,Oe)=>{Ge.subscribe((0,H.x)(Oe,me=>(0,_.f)(Oe,Re,()=>Oe.next(me),Ae),()=>(0,_.f)(Oe,Re,()=>Oe.complete(),Ae),me=>(0,_.f)(Oe,Re,()=>Oe.error(me),Ae)))})}},5026:(Zn,St,M)=>{M.d(St,{R:()=>ge});var _=M(4482),d=M(5403);function H(Re,Ae,Ge,Oe,me){return(Ce,xe)=>{let Fe=Ge,pt=Ae,Et=0;Ce.subscribe((0,d.x)(xe,ct=>{const jt=Et++;pt=Fe?Re(pt,ct,jt):(Fe=!0,ct),Oe&&xe.next(pt)},me&&(()=>{Fe&&xe.next(pt),xe.complete()})))}}function ge(Re,Ae){return(0,_.e)(H(Re,Ae,arguments.length>=2,!0))}},3099:(Zn,St,M)=>{M.d(St,{B:()=>Re});var _=M(8421),d=M(7579),H=M(930),ge=M(4482);function Re(Ge={}){const{connector:Oe=(()=>new d.x),resetOnError:me=!0,resetOnComplete:Ce=!0,resetOnRefCountZero:xe=!0}=Ge;return Fe=>{let pt,Et,ct,jt=0,Ft=!1,At=!1;const en=()=>{Et?.unsubscribe(),Et=void 0},gn=()=>{en(),pt=ct=void 0,Ft=At=!1},xt=()=>{const Ue=pt;gn(),Ue?.unsubscribe()};return(0,ge.e)((Ue,Ve)=>{jt++,!At&&!Ft&&en();const at=ct=ct??Oe();Ve.add(()=>{jt--,0===jt&&!At&&!Ft&&(Et=Ae(xt,xe))}),at.subscribe(Ve),!pt&&jt>0&&(pt=new H.Hp({next:ze=>at.next(ze),error:ze=>{At=!0,en(),Et=Ae(gn,me,ze),at.error(ze)},complete:()=>{Ft=!0,en(),Et=Ae(gn,Ce),at.complete()}}),(0,_.Xf)(Ue).subscribe(pt))})(Fe)}}function Ae(Ge,Oe,...me){if(!0===Oe)return void Ge();if(!1===Oe)return;const Ce=new H.Hp({next:()=>{Ce.unsubscribe(),Ge()}});return Oe(...me).subscribe(Ce)}},5684:(Zn,St,M)=>{M.d(St,{T:()=>d});var _=M(9300);function d(H){return(0,_.h)((ge,Re)=>H<=Re)}},8675:(Zn,St,M)=>{M.d(St,{O:()=>ge});var _=M(7272),d=M(3269),H=M(4482);function ge(...Re){const Ae=(0,d.yG)(Re);return(0,H.e)((Ge,Oe)=>{(Ae?(0,_.z)(Re,Ge,Ae):(0,_.z)(Re,Ge)).subscribe(Oe)})}},9468:(Zn,St,M)=>{M.d(St,{R:()=>d});var _=M(4482);function d(H,ge=0){return(0,_.e)((Re,Ae)=>{Ae.add(H.schedule(()=>Re.subscribe(Ae),ge))})}},3900:(Zn,St,M)=>{M.d(St,{w:()=>ge});var _=M(8421),d=M(4482),H=M(5403);function ge(Re,Ae){return(0,d.e)((Ge,Oe)=>{let me=null,Ce=0,xe=!1;const Fe=()=>xe&&!me&&Oe.complete();Ge.subscribe((0,H.x)(Oe,pt=>{me?.unsubscribe();let Et=0;const ct=Ce++;(0,_.Xf)(Re(pt,ct)).subscribe(me=(0,H.x)(Oe,jt=>Oe.next(Ae?Ae(pt,jt,ct,Et++):jt),()=>{me=null,Fe()}))},()=>{xe=!0,Fe()}))})}},5698:(Zn,St,M)=>{M.d(St,{q:()=>ge});var _=M(515),d=M(4482),H=M(5403);function ge(Re){return Re<=0?()=>_.E:(0,d.e)((Ae,Ge)=>{let Oe=0;Ae.subscribe((0,H.x)(Ge,me=>{++Oe<=Re&&(Ge.next(me),Re<=Oe&&Ge.complete())}))})}},2722:(Zn,St,M)=>{M.d(St,{R:()=>Re});var _=M(4482),d=M(5403),H=M(8421),ge=M(5032);function Re(Ae){return(0,_.e)((Ge,Oe)=>{(0,H.Xf)(Ae).subscribe((0,d.x)(Oe,()=>Oe.complete(),ge.Z)),!Oe.closed&&Ge.subscribe(Oe)})}},2529:(Zn,St,M)=>{M.d(St,{o:()=>H});var _=M(4482),d=M(5403);function H(ge,Re=!1){return(0,_.e)((Ae,Ge)=>{let Oe=0;Ae.subscribe((0,d.x)(Ge,me=>{const Ce=ge(me,Oe++);(Ce||Re)&&Ge.next(me),!Ce&&Ge.complete()}))})}},8505:(Zn,St,M)=>{M.d(St,{b:()=>Re});var _=M(576),d=M(4482),H=M(5403),ge=M(4671);function Re(Ae,Ge,Oe){const me=(0,_.m)(Ae)||Ge||Oe?{next:Ae,error:Ge,complete:Oe}:Ae;return me?(0,d.e)((Ce,xe)=>{var Fe;null===(Fe=me.subscribe)||void 0===Fe||Fe.call(me);let pt=!0;Ce.subscribe((0,H.x)(xe,Et=>{var ct;null===(ct=me.next)||void 0===ct||ct.call(me,Et),xe.next(Et)},()=>{var Et;pt=!1,null===(Et=me.complete)||void 0===Et||Et.call(me),xe.complete()},Et=>{var ct;pt=!1,null===(ct=me.error)||void 0===ct||ct.call(me,Et),xe.error(Et)},()=>{var Et,ct;pt&&(null===(Et=me.unsubscribe)||void 0===Et||Et.call(me)),null===(ct=me.finalize)||void 0===ct||ct.call(me)}))}):ge.y}},8068:(Zn,St,M)=>{M.d(St,{T:()=>ge});var _=M(6805),d=M(4482),H=M(5403);function ge(Ae=Re){return(0,d.e)((Ge,Oe)=>{let me=!1;Ge.subscribe((0,H.x)(Oe,Ce=>{me=!0,Oe.next(Ce)},()=>me?Oe.complete():Oe.error(Ae())))})}function Re(){return new _.K}},4408:(Zn,St,M)=>{M.d(St,{o:()=>Re});var _=M(727);class d extends _.w0{constructor(Ge,Oe){super()}schedule(Ge,Oe=0){return this}}const H={setInterval(Ae,Ge,...Oe){const{delegate:me}=H;return me?.setInterval?me.setInterval(Ae,Ge,...Oe):setInterval(Ae,Ge,...Oe)},clearInterval(Ae){const{delegate:Ge}=H;return(Ge?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ge=M(8737);class Re extends d{constructor(Ge,Oe){super(Ge,Oe),this.scheduler=Ge,this.work=Oe,this.pending=!1}schedule(Ge,Oe=0){if(this.closed)return this;this.state=Ge;const me=this.id,Ce=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Ce,me,Oe)),this.pending=!0,this.delay=Oe,this.id=this.id||this.requestAsyncId(Ce,this.id,Oe),this}requestAsyncId(Ge,Oe,me=0){return H.setInterval(Ge.flush.bind(Ge,this),me)}recycleAsyncId(Ge,Oe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Oe;H.clearInterval(Oe)}execute(Ge,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Ge,Oe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,Oe){let Ce,me=!1;try{this.work(Ge)}catch(xe){me=!0,Ce=xe||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:Oe}=this,{actions:me}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(me,this),null!=Ge&&(this.id=this.recycleAsyncId(Oe,Ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Zn,St,M)=>{M.d(St,{v:()=>H});var _=M(6063);class d{constructor(Re,Ae=d.now){this.schedulerActionCtor=Re,this.now=Ae}schedule(Re,Ae=0,Ge){return new this.schedulerActionCtor(this,Re).schedule(Ge,Ae)}}d.now=_.l.now;class H extends d{constructor(Re,Ae=d.now){super(Re,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Re){const{actions:Ae}=this;if(this._active)return void Ae.push(Re);let Ge;this._active=!0;do{if(Ge=Re.execute(Re.state,Re.delay))break}while(Re=Ae.shift());if(this._active=!1,Ge){for(;Re=Ae.shift();)Re.unsubscribe();throw Ge}}}},4986:(Zn,St,M)=>{M.d(St,{P:()=>ge,z:()=>H});var _=M(4408);const H=new(M(7565).v)(_.o),ge=H},6063:(Zn,St,M)=>{M.d(St,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(Zn,St,M)=>{M.d(St,{z:()=>_});const _={setTimeout(d,H,...ge){const{delegate:Re}=_;return Re?.setTimeout?Re.setTimeout(d,H,...ge):setTimeout(d,H,...ge)},clearTimeout(d){const{delegate:H}=_;return(H?.clearTimeout||clearTimeout)(d)},delegate:void 0}},2202:(Zn,St,M)=>{M.d(St,{h:()=>d});const d=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zn,St,M)=>{M.d(St,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Zn,St,M)=>{M.d(St,{K:()=>d});const d=(0,M(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Zn,St,M)=>{M.d(St,{_6:()=>Ae,jO:()=>ge,yG:()=>Re});var _=M(576),d=M(3532);function H(Ge){return Ge[Ge.length-1]}function ge(Ge){return(0,_.m)(H(Ge))?Ge.pop():void 0}function Re(Ge){return(0,d.K)(H(Ge))?Ge.pop():void 0}function Ae(Ge,Oe){return"number"==typeof H(Ge)?Ge.pop():Oe}},4742:(Zn,St,M)=>{M.d(St,{D:()=>Re});const{isArray:_}=Array,{getPrototypeOf:d,prototype:H,keys:ge}=Object;function Re(Ge){if(1===Ge.length){const Oe=Ge[0];if(_(Oe))return{args:Oe,keys:null};if(function Ae(Ge){return Ge&&"object"==typeof Ge&&d(Ge)===H}(Oe)){const me=ge(Oe);return{args:me.map(Ce=>Oe[Ce]),keys:me}}}return{args:Ge,keys:null}}},8737:(Zn,St,M)=>{function _(d,H){if(d){const ge=d.indexOf(H);0<=ge&&d.splice(ge,1)}}M.d(St,{P:()=>_})},3888:(Zn,St,M)=>{function _(d){const ge=d(Re=>{Error.call(Re),Re.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}M.d(St,{d:()=>_})},1810:(Zn,St,M)=>{function _(d,H){return d.reduce((ge,Re,Ae)=>(ge[Re]=H[Ae],ge),{})}M.d(St,{n:()=>_})},2806:(Zn,St,M)=>{M.d(St,{O:()=>ge,x:()=>H});var _=M(2416);let d=null;function H(Re){if(_.v.useDeprecatedSynchronousErrorHandling){const Ae=!d;if(Ae&&(d={errorThrown:!1,error:null}),Re(),Ae){const{errorThrown:Ge,error:Oe}=d;if(d=null,Ge)throw Oe}}else Re()}function ge(Re){_.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=Re)}},9672:(Zn,St,M)=>{function _(d,H,ge,Re=0,Ae=!1){const Ge=H.schedule(function(){ge(),Ae?d.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(d.add(Ge),!Ae)return Ge}M.d(St,{f:()=>_})},4671:(Zn,St,M)=>{function _(d){return d}M.d(St,{y:()=>_})},1144:(Zn,St,M)=>{M.d(St,{z:()=>_});const _=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(Zn,St,M)=>{M.d(St,{D:()=>d});var _=M(576);function d(H){return Symbol.asyncIterator&&(0,_.m)(H?.[Symbol.asyncIterator])}},576:(Zn,St,M)=>{function _(d){return"function"==typeof d}M.d(St,{m:()=>_})},3670:(Zn,St,M)=>{M.d(St,{c:()=>H});var _=M(8822),d=M(576);function H(ge){return(0,d.m)(ge[_.L])}},6495:(Zn,St,M)=>{M.d(St,{T:()=>H});var _=M(2202),d=M(576);function H(ge){return(0,d.m)(ge?.[_.h])}},8239:(Zn,St,M)=>{M.d(St,{t:()=>d});var _=M(576);function d(H){return(0,_.m)(H?.then)}},3260:(Zn,St,M)=>{M.d(St,{L:()=>ge,Q:()=>H});var _=M(655),d=M(576);function H(Re){return(0,_.FC)(this,arguments,function*(){const Ge=Re.getReader();try{for(;;){const{value:Oe,done:me}=yield(0,_.qq)(Ge.read());if(me)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(Oe)}}finally{Ge.releaseLock()}})}function ge(Re){return(0,d.m)(Re?.getReader)}},3532:(Zn,St,M)=>{M.d(St,{K:()=>d});var _=M(576);function d(H){return H&&(0,_.m)(H.schedule)}},4482:(Zn,St,M)=>{M.d(St,{A:()=>d,e:()=>H});var _=M(576);function d(ge){return(0,_.m)(ge?.lift)}function H(ge){return Re=>{if(d(Re))return Re.lift(function(Ae){try{return ge(Ae,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zn,St,M)=>{M.d(St,{Z:()=>ge});var _=M(4004);const{isArray:d}=Array;function ge(Re){return(0,_.U)(Ae=>function H(Re,Ae){return d(Ae)?Re(...Ae):Re(Ae)}(Re,Ae))}},5032:(Zn,St,M)=>{function _(){}M.d(St,{Z:()=>_})},9635:(Zn,St,M)=>{M.d(St,{U:()=>H,z:()=>d});var _=M(4671);function d(...ge){return H(ge)}function H(ge){return 0===ge.length?_.y:1===ge.length?ge[0]:function(Ae){return ge.reduce((Ge,Oe)=>Oe(Ge),Ae)}}},7849:(Zn,St,M)=>{M.d(St,{h:()=>H});var _=M(2416),d=M(3410);function H(ge){d.z.setTimeout(()=>{const{onUnhandledError:Re}=_.v;if(!Re)throw ge;Re(ge)})}},4532:(Zn,St,M)=>{function _(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(St,{z:()=>_})},655:(Zn,St,M)=>{function ge(Pe,ae){var _t={};for(var Ne in Pe)Object.prototype.hasOwnProperty.call(Pe,Ne)&&ae.indexOf(Ne)<0&&(_t[Ne]=Pe[Ne]);if(null!=Pe&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Ne=Object.getOwnPropertySymbols(Pe);Je<Ne.length;Je++)ae.indexOf(Ne[Je])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Ne[Je])&&(_t[Ne[Je]]=Pe[Ne[Je]])}return _t}function Oe(Pe,ae,_t,Ne){return new(_t||(_t=Promise))(function(Gt,qt){function Pn(Kt){try{sn(Ne.next(Kt))}catch(kn){qt(kn)}}function Vn(Kt){try{sn(Ne.throw(Kt))}catch(kn){qt(kn)}}function sn(Kt){Kt.done?Gt(Kt.value):function Je(Gt){return Gt instanceof _t?Gt:new _t(function(qt){qt(Gt)})}(Kt.value).then(Pn,Vn)}sn((Ne=Ne.apply(Pe,ae||[])).next())})}function Ft(Pe){return this instanceof Ft?(this.v=Pe,this):new Ft(Pe)}function At(Pe,ae,_t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ne=_t.apply(Pe,ae||[]),Gt=[];return Je={},qt("next"),qt("throw"),qt("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function qt(fn){Ne[fn]&&(Je[fn]=function(cn){return new Promise(function(mn,Wt){Gt.push([fn,cn,mn,Wt])>1||Pn(fn,cn)})})}function Pn(fn,cn){try{!function Vn(fn){fn.value instanceof Ft?Promise.resolve(fn.value.v).then(sn,Kt):kn(Gt[0][2],fn)}(Ne[fn](cn))}catch(mn){kn(Gt[0][3],mn)}}function sn(fn){Pn("next",fn)}function Kt(fn){Pn("throw",fn)}function kn(fn,cn){fn(cn),Gt.shift(),Gt.length&&Pn(Gt[0][0],Gt[0][1])}}function gn(Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,ae=Pe[Symbol.asyncIterator];return ae?ae.call(Pe):(Pe=function Fe(Pe){var ae="function"==typeof Symbol&&Symbol.iterator,_t=ae&&Pe[ae],Ne=0;if(_t)return _t.call(Pe);if(Pe&&"number"==typeof Pe.length)return{next:function(){return Pe&&Ne>=Pe.length&&(Pe=void 0),{value:Pe&&Pe[Ne++],done:!Pe}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Pe),_t={},Ne("next"),Ne("throw"),Ne("return"),_t[Symbol.asyncIterator]=function(){return this},_t);function Ne(Gt){_t[Gt]=Pe[Gt]&&function(qt){return new Promise(function(Pn,Vn){!function Je(Gt,qt,Pn,Vn){Promise.resolve(Vn).then(function(sn){Gt({value:sn,done:Pn})},qt)}(Pn,Vn,(qt=Pe[Gt](qt)).done,qt.value)})}}}M.d(St,{FC:()=>At,KL:()=>gn,_T:()=>ge,mG:()=>Oe,qq:()=>Ft})},7340:(Zn,St,M)=>{M.d(St,{F4:()=>Ce,IO:()=>ct,LC:()=>d,SB:()=>me,X$:()=>ge,ZE:()=>en,ZN:()=>At,_j:()=>_,eR:()=>xe,jt:()=>Re,k1:()=>gn,l3:()=>H,oB:()=>Oe,pV:()=>pt,ru:()=>Ae,vP:()=>Ge});class _{}class d{}const H="*";function ge(xt,Ue){return{type:7,name:xt,definitions:Ue,options:{}}}function Re(xt,Ue=null){return{type:4,styles:Ue,timings:xt}}function Ae(xt,Ue=null){return{type:3,steps:xt,options:Ue}}function Ge(xt,Ue=null){return{type:2,steps:xt,options:Ue}}function Oe(xt){return{type:6,styles:xt,offset:null}}function me(xt,Ue,Ve){return{type:0,name:xt,styles:Ue,options:Ve}}function Ce(xt){return{type:5,steps:xt}}function xe(xt,Ue,Ve=null){return{type:1,expr:xt,animation:Ue,options:Ve}}function pt(xt=null){return{type:9,options:xt}}function ct(xt,Ue,Ve=null){return{type:11,selector:xt,animation:Ue,options:Ve}}function Ft(xt){Promise.resolve(null).then(xt)}class At{constructor(Ue=0,Ve=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ue+Ve}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}onStart(Ue){this._originalOnStartFns.push(Ue),this._onStartFns.push(Ue)}onDone(Ue){this._originalOnDoneFns.push(Ue),this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ft(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ue){this._position=this.totalTime?Ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ue){const Ve="start"==Ue?this._onStartFns:this._onDoneFns;Ve.forEach(at=>at()),Ve.length=0}}class en{constructor(Ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ue;let Ve=0,at=0,ze=0;const nt=this.players.length;0==nt?Ft(()=>this._onFinish()):this.players.forEach(Qe=>{Qe.onDone(()=>{++Ve==nt&&this._onFinish()}),Qe.onDestroy(()=>{++at==nt&&this._onDestroy()}),Qe.onStart(()=>{++ze==nt&&this._onStart()})}),this.totalTime=this.players.reduce((Qe,Pe)=>Math.max(Qe,Pe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}init(){this.players.forEach(Ue=>Ue.init())}onStart(Ue){this._onStartFns.push(Ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[])}onDone(Ue){this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ue=>Ue.play())}pause(){this.players.forEach(Ue=>Ue.pause())}restart(){this.players.forEach(Ue=>Ue.restart())}finish(){this._onFinish(),this.players.forEach(Ue=>Ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ue=>Ue.destroy()),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this.players.forEach(Ue=>Ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ue){const Ve=Ue*this.totalTime;this.players.forEach(at=>{const ze=at.totalTime?Math.min(1,Ve/at.totalTime):1;at.setPosition(ze)})}getPosition(){const Ue=this.players.reduce((Ve,at)=>null===Ve||at.totalTime>Ve.totalTime?at:Ve,null);return null!=Ue?Ue.getPosition():0}beforeDestroy(){this.players.forEach(Ue=>{Ue.beforeDestroy&&Ue.beforeDestroy()})}triggerCallback(Ue){const Ve="start"==Ue?this._onStartFns:this._onDoneFns;Ve.forEach(at=>at()),Ve.length=0}}const gn="!"},2687:(Zn,St,M)=>{M.d(St,{Kd:()=>Ht,X6:()=>Yt,ic:()=>Pn,qV:()=>Mr,qm:()=>ne,rt:()=>pe,s1:()=>Je,tE:()=>Xt,yG:()=>fe});var _=M(6895),d=M(4650),H=M(3353),ge=M(7579),Re=M(727),Ae=M(1135),Ge=M(9646),Oe=M(9521),me=M(8505),Ce=M(8372),xe=M(9300),Fe=M(4004),pt=M(5698),Et=M(5684),ct=M(1884),jt=M(2722),Ft=M(1281),At=M(9643),en=M(2289);class Je extends class Ne{constructor(se){this._items=se,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ge.x,this._typeaheadSubscription=Re.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=be=>be.disabled,this._pressedLetters=[],this.tabOut=new ge.x,this.change=new ge.x,se instanceof d.n_E&&se.changes.subscribe(be=>{if(this._activeItem){const Dt=be.toArray().indexOf(this._activeItem);Dt>-1&&Dt!==this._activeItemIndex&&(this._activeItemIndex=Dt)}})}skipPredicate(se){return this._skipPredicateFn=se,this}withWrap(se=!0){return this._wrap=se,this}withVerticalOrientation(se=!0){return this._vertical=se,this}withHorizontalOrientation(se){return this._horizontal=se,this}withAllowedModifierKeys(se){return this._allowedModifierKeys=se,this}withTypeAhead(se=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,me.b)(be=>this._pressedLetters.push(be)),(0,Ce.b)(se),(0,xe.h)(()=>this._pressedLetters.length>0),(0,Fe.U)(()=>this._pressedLetters.join(""))).subscribe(be=>{const ot=this._getItemsArray();for(let Dt=1;Dt<ot.length+1;Dt++){const jn=(this._activeItemIndex+Dt)%ot.length,tr=ot[jn];if(!this._skipPredicateFn(tr)&&0===tr.getLabel().toUpperCase().trim().indexOf(be)){this.setActiveItem(jn);break}}this._pressedLetters=[]}),this}withHomeAndEnd(se=!0){return this._homeAndEnd=se,this}setActiveItem(se){const be=this._activeItem;this.updateActiveItem(se),this._activeItem!==be&&this.change.next(this._activeItemIndex)}onKeydown(se){const be=se.keyCode,Dt=["altKey","ctrlKey","metaKey","shiftKey"].every(jn=>!se[jn]||this._allowedModifierKeys.indexOf(jn)>-1);switch(be){case Oe.Mf:return void this.tabOut.next();case Oe.JH:if(this._vertical&&Dt){this.setNextItemActive();break}return;case Oe.LH:if(this._vertical&&Dt){this.setPreviousItemActive();break}return;case Oe.SV:if(this._horizontal&&Dt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Oe.oh:if(this._horizontal&&Dt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Oe.Sd:if(this._homeAndEnd&&Dt){this.setFirstItemActive();break}return;case Oe.uR:if(this._homeAndEnd&&Dt){this.setLastItemActive();break}return;default:return void((Dt||(0,Oe.Vb)(se,"shiftKey"))&&(se.key&&1===se.key.length?this._letterKeyStream.next(se.key.toLocaleUpperCase()):(be>=Oe.A&&be<=Oe.Z||be>=Oe.xE&&be<=Oe.aO)&&this._letterKeyStream.next(String.fromCharCode(be))))}this._pressedLetters=[],se.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(se){const be=this._getItemsArray(),ot="number"==typeof se?se:be.indexOf(se);this._activeItem=be[ot]??null,this._activeItemIndex=ot}_setActiveItemByDelta(se){this._wrap?this._setActiveInWrapMode(se):this._setActiveInDefaultMode(se)}_setActiveInWrapMode(se){const be=this._getItemsArray();for(let ot=1;ot<=be.length;ot++){const Dt=(this._activeItemIndex+se*ot+be.length)%be.length;if(!this._skipPredicateFn(be[Dt]))return void this.setActiveItem(Dt)}}_setActiveInDefaultMode(se){this._setActiveItemByIndex(this._activeItemIndex+se,se)}_setActiveItemByIndex(se,be){const ot=this._getItemsArray();if(ot[se]){for(;this._skipPredicateFn(ot[se]);)if(!ot[se+=be])return;this.setActiveItem(se)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{setActiveItem(se){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(se),this.activeItem&&this.activeItem.setActiveStyles()}}let Pn=(()=>{class ue{constructor(be){this._platform=be}isDisabled(be){return be.hasAttribute("disabled")}isVisible(be){return function sn(ue){return!!(ue.offsetWidth||ue.offsetHeight||"function"==typeof ue.getClientRects&&ue.getClientRects().length)}(be)&&"visible"===getComputedStyle(be).visibility}isTabbable(be){if(!this._platform.isBrowser)return!1;const ot=function Vn(ue){try{return ue.frameElement}catch{return null}}(function Lr(ue){return ue.ownerDocument&&ue.ownerDocument.defaultView||window}(be));if(ot&&(-1===An(ot)||!this.isVisible(ot)))return!1;let Dt=be.nodeName.toLowerCase(),jn=An(be);return be.hasAttribute("contenteditable")?-1!==jn:!("iframe"===Dt||"object"===Dt||this._platform.WEBKIT&&this._platform.IOS&&!function Kn(ue){let se=ue.nodeName.toLowerCase(),be="input"===se&&ue.type;return"text"===be||"password"===be||"select"===se||"textarea"===se}(be))&&("audio"===Dt?!!be.hasAttribute("controls")&&-1!==jn:"video"===Dt?-1!==jn&&(null!==jn||this._platform.FIREFOX||be.hasAttribute("controls")):be.tabIndex>=0)}isFocusable(be,ot){return function dr(ue){return!function kn(ue){return function cn(ue){return"input"==ue.nodeName.toLowerCase()}(ue)&&"hidden"==ue.type}(ue)&&(function Kt(ue){let se=ue.nodeName.toLowerCase();return"input"===se||"select"===se||"button"===se||"textarea"===se}(ue)||function fn(ue){return function mn(ue){return"a"==ue.nodeName.toLowerCase()}(ue)&&ue.hasAttribute("href")}(ue)||ue.hasAttribute("contenteditable")||Wt(ue))}(be)&&!this.isDisabled(be)&&(ot?.ignoreVisibility||this.isVisible(be))}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(H.t4))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function Wt(ue){if(!ue.hasAttribute("tabindex")||void 0===ue.tabIndex)return!1;let se=ue.getAttribute("tabindex");return!(!se||isNaN(parseInt(se,10)))}function An(ue){if(!Wt(ue))return null;const se=parseInt(ue.getAttribute("tabindex")||"",10);return isNaN(se)?-1:se}class ui{constructor(se,be,ot,Dt,jn=!1){this._element=se,this._checker=be,this._ngZone=ot,this._document=Dt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,jn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(se){this._enabled=se,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(se,this._startAnchor),this._toggleAnchorTabIndex(se,this._endAnchor))}destroy(){const se=this._startAnchor,be=this._endAnchor;se&&(se.removeEventListener("focus",this.startAnchorListener),se.remove()),be&&(be.removeEventListener("focus",this.endAnchorListener),be.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(se){return new Promise(be=>{this._executeOnStable(()=>be(this.focusInitialElement(se)))})}focusFirstTabbableElementWhenReady(se){return new Promise(be=>{this._executeOnStable(()=>be(this.focusFirstTabbableElement(se)))})}focusLastTabbableElementWhenReady(se){return new Promise(be=>{this._executeOnStable(()=>be(this.focusLastTabbableElement(se)))})}_getRegionBoundary(se){const be=this._element.querySelectorAll(`[cdk-focus-region-${se}], [cdkFocusRegion${se}], [cdk-focus-${se}]`);return"start"==se?be.length?be[0]:this._getFirstTabbableElement(this._element):be.length?be[be.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(se){const be=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(be){if(!this._checker.isFocusable(be)){const ot=this._getFirstTabbableElement(be);return ot?.focus(se),!!ot}return be.focus(se),!0}return this.focusFirstTabbableElement(se)}focusFirstTabbableElement(se){const be=this._getRegionBoundary("start");return be&&be.focus(se),!!be}focusLastTabbableElement(se){const be=this._getRegionBoundary("end");return be&&be.focus(se),!!be}hasAttached(){return this._hasAttached}_getFirstTabbableElement(se){if(this._checker.isFocusable(se)&&this._checker.isTabbable(se))return se;const be=se.children;for(let ot=0;ot<be.length;ot++){const Dt=be[ot].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(be[ot]):null;if(Dt)return Dt}return null}_getLastTabbableElement(se){if(this._checker.isFocusable(se)&&this._checker.isTabbable(se))return se;const be=se.children;for(let ot=be.length-1;ot>=0;ot--){const Dt=be[ot].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(be[ot]):null;if(Dt)return Dt}return null}_createAnchor(){const se=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,se),se.classList.add("cdk-visually-hidden"),se.classList.add("cdk-focus-trap-anchor"),se.setAttribute("aria-hidden","true"),se}_toggleAnchorTabIndex(se,be){se?be.setAttribute("tabindex","0"):be.removeAttribute("tabindex")}toggleAnchors(se){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(se,this._startAnchor),this._toggleAnchorTabIndex(se,this._endAnchor))}_executeOnStable(se){this._ngZone.isStable?se():this._ngZone.onStable.pipe((0,pt.q)(1)).subscribe(se)}}let Mr=(()=>{class ue{constructor(be,ot,Dt){this._checker=be,this._ngZone=ot,this._document=Dt}create(be,ot=!1){return new ui(be,this._checker,this._ngZone,this._document,ot)}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(Pn),d.LFG(d.R0b),d.LFG(_.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();function Yt(ue){return 0===ue.buttons||0===ue.offsetX&&0===ue.offsetY}function fe(ue){const se=ue.touches&&ue.touches[0]||ue.changedTouches&&ue.changedTouches[0];return!(!se||-1!==se.identifier||null!=se.radiusX&&1!==se.radiusX||null!=se.radiusY&&1!==se.radiusY)}const Xe=new d.OlP("cdk-input-modality-detector-options"),kt={ignoreKeys:[Oe.zL,Oe.jx,Oe.b2,Oe.MW,Oe.JU]},pn=(0,H.i$)({passive:!0,capture:!0});let Hn=(()=>{class ue{constructor(be,ot,Dt,jn){this._platform=be,this._mostRecentTarget=null,this._modality=new Ae.X(null),this._lastTouchMs=0,this._onKeydown=tr=>{this._options?.ignoreKeys?.some(Un=>Un===tr.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,H.sA)(tr))},this._onMousedown=tr=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Yt(tr)?"keyboard":"mouse"),this._mostRecentTarget=(0,H.sA)(tr))},this._onTouchstart=tr=>{fe(tr)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,H.sA)(tr))},this._options={...kt,...jn},this.modalityDetected=this._modality.pipe((0,Et.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ct.x)()),be.isBrowser&&ot.runOutsideAngular(()=>{Dt.addEventListener("keydown",this._onKeydown,pn),Dt.addEventListener("mousedown",this._onMousedown,pn),Dt.addEventListener("touchstart",this._onTouchstart,pn)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,pn),document.removeEventListener("mousedown",this._onMousedown,pn),document.removeEventListener("touchstart",this._onTouchstart,pn))}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(H.t4),d.LFG(d.R0b),d.LFG(_.K0),d.LFG(Xe,8))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const Rt=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function st(){return null}}),Ye=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ht=(()=>{class ue{constructor(be,ot,Dt,jn){this._ngZone=ot,this._defaultOptions=jn,this._document=Dt,this._liveElement=be||this._createLiveElement()}announce(be,...ot){const Dt=this._defaultOptions;let jn,tr;return 1===ot.length&&"number"==typeof ot[0]?tr=ot[0]:[jn,tr]=ot,this.clear(),clearTimeout(this._previousTimeout),jn||(jn=Dt&&Dt.politeness?Dt.politeness:"polite"),null==tr&&Dt&&(tr=Dt.duration),this._liveElement.setAttribute("aria-live",jn),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Un=>this._currentResolve=Un)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=be,"number"==typeof tr&&(this._previousTimeout=setTimeout(()=>this.clear(),tr)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const be="cdk-live-announcer-element",ot=this._document.getElementsByClassName(be),Dt=this._document.createElement("div");for(let jn=0;jn<ot.length;jn++)ot[jn].remove();return Dt.classList.add(be),Dt.classList.add("cdk-visually-hidden"),Dt.setAttribute("aria-atomic","true"),Dt.setAttribute("aria-live","polite"),this._document.body.appendChild(Dt),Dt}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(Rt,8),d.LFG(d.R0b),d.LFG(_.K0),d.LFG(Ye,8))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const Dn=new d.OlP("cdk-focus-monitor-default-options"),vr=(0,H.i$)({passive:!0,capture:!0});let Xt=(()=>{class ue{constructor(be,ot,Dt,jn,tr){this._ngZone=be,this._platform=ot,this._inputModalityDetector=Dt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ge.x,this._rootNodeFocusAndBlurListener=Un=>{for(let ke=(0,H.sA)(Un);ke;ke=ke.parentElement)"focus"===Un.type?this._onFocus(Un,ke):this._onBlur(Un,ke)},this._document=jn,this._detectionMode=tr?.detectionMode||0}monitor(be,ot=!1){const Dt=(0,Ft.fI)(be);if(!this._platform.isBrowser||1!==Dt.nodeType)return(0,Ge.of)(null);const jn=(0,H.kV)(Dt)||this._getDocument(),tr=this._elementInfo.get(Dt);if(tr)return ot&&(tr.checkChildren=!0),tr.subject;const Un={checkChildren:ot,subject:new ge.x,rootNode:jn};return this._elementInfo.set(Dt,Un),this._registerGlobalListeners(Un),Un.subject}stopMonitoring(be){const ot=(0,Ft.fI)(be),Dt=this._elementInfo.get(ot);Dt&&(Dt.subject.complete(),this._setClasses(ot),this._elementInfo.delete(ot),this._removeGlobalListeners(Dt))}focusVia(be,ot,Dt){const jn=(0,Ft.fI)(be);jn===this._getDocument().activeElement?this._getClosestElementsInfo(jn).forEach(([Un,de])=>this._originChanged(Un,ot,de)):(this._setOrigin(ot),"function"==typeof jn.focus&&jn.focus(Dt))}ngOnDestroy(){this._elementInfo.forEach((be,ot)=>this.stopMonitoring(ot))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(be){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(be)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:be&&this._isLastInteractionFromInputLabel(be)?"mouse":"program"}_shouldBeAttributedToTouch(be){return 1===this._detectionMode||!!be?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(be,ot){be.classList.toggle("cdk-focused",!!ot),be.classList.toggle("cdk-touch-focused","touch"===ot),be.classList.toggle("cdk-keyboard-focused","keyboard"===ot),be.classList.toggle("cdk-mouse-focused","mouse"===ot),be.classList.toggle("cdk-program-focused","program"===ot)}_setOrigin(be,ot=!1){this._ngZone.runOutsideAngular(()=>{this._origin=be,this._originFromTouchInteraction="touch"===be&&ot,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(be,ot){const Dt=this._elementInfo.get(ot),jn=(0,H.sA)(be);!Dt||!Dt.checkChildren&&ot!==jn||this._originChanged(ot,this._getFocusOrigin(jn),Dt)}_onBlur(be,ot){const Dt=this._elementInfo.get(ot);!Dt||Dt.checkChildren&&be.relatedTarget instanceof Node&&ot.contains(be.relatedTarget)||(this._setClasses(ot),this._emitOrigin(Dt,null))}_emitOrigin(be,ot){be.subject.observers.length&&this._ngZone.run(()=>be.subject.next(ot))}_registerGlobalListeners(be){if(!this._platform.isBrowser)return;const ot=be.rootNode,Dt=this._rootNodeFocusListenerCount.get(ot)||0;Dt||this._ngZone.runOutsideAngular(()=>{ot.addEventListener("focus",this._rootNodeFocusAndBlurListener,vr),ot.addEventListener("blur",this._rootNodeFocusAndBlurListener,vr)}),this._rootNodeFocusListenerCount.set(ot,Dt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,jt.R)(this._stopInputModalityDetector)).subscribe(jn=>{this._setOrigin(jn,!0)}))}_removeGlobalListeners(be){const ot=be.rootNode;if(this._rootNodeFocusListenerCount.has(ot)){const Dt=this._rootNodeFocusListenerCount.get(ot);Dt>1?this._rootNodeFocusListenerCount.set(ot,Dt-1):(ot.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vr),ot.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vr),this._rootNodeFocusListenerCount.delete(ot))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(be,ot,Dt){this._setClasses(be,ot),this._emitOrigin(Dt,ot),this._lastFocusOrigin=ot}_getClosestElementsInfo(be){const ot=[];return this._elementInfo.forEach((Dt,jn)=>{(jn===be||Dt.checkChildren&&jn.contains(be))&&ot.push([jn,Dt])}),ot}_isLastInteractionFromInputLabel(be){const{_mostRecentTarget:ot,mostRecentModality:Dt}=this._inputModalityDetector;if("mouse"!==Dt||!ot||ot===be||"INPUT"!==be.nodeName&&"TEXTAREA"!==be.nodeName||be.disabled)return!1;const jn=be.labels;if(jn)for(let tr=0;tr<jn.length;tr++)if(jn[tr].contains(ot))return!0;return!1}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(d.R0b),d.LFG(H.t4),d.LFG(Hn),d.LFG(_.K0,8),d.LFG(Dn,8))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})();const Ke="cdk-high-contrast-black-on-white",Y="cdk-high-contrast-white-on-black",V="cdk-high-contrast-active";let ne=(()=>{class ue{constructor(be,ot){this._platform=be,this._document=ot,this._breakpointSubscription=(0,d.f3M)(en.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const be=this._document.createElement("div");be.style.backgroundColor="rgb(1,2,3)",be.style.position="absolute",this._document.body.appendChild(be);const ot=this._document.defaultView||window,Dt=ot&&ot.getComputedStyle?ot.getComputedStyle(be):null,jn=(Dt&&Dt.backgroundColor||"").replace(/ /g,"");switch(be.remove(),jn){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const be=this._document.body.classList;be.remove(V,Ke,Y),this._hasCheckedHighContrastMode=!0;const ot=this.getHighContrastMode();1===ot?be.add(V,Ke):2===ot&&be.add(V,Y)}}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(H.t4),d.LFG(_.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})(),pe=(()=>{class ue{constructor(be){be._applyBodyHighContrastModeCssClasses()}}return ue.\u0275fac=function(be){return new(be||ue)(d.LFG(ne))},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({imports:[At.Q8]}),ue})()},445:(Zn,St,M)=>{M.d(St,{Is:()=>Ge,vT:()=>me});var _=M(4650),d=M(6895);const H=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function ge(){return(0,_.f3M)(d.K0)}}),Re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ge=(()=>{class Ce{constructor(Fe){if(this.value="ltr",this.change=new _.vpe,Fe){const Et=Fe.documentElement?Fe.documentElement.dir:null;this.value=function Ae(Ce){const xe=Ce?.toLowerCase()||"";return"auto"===xe&&typeof navigator<"u"&&navigator?.language?Re.test(navigator.language)?"rtl":"ltr":"rtl"===xe?"rtl":"ltr"}((Fe.body?Fe.body.dir:null)||Et||"ltr")}}ngOnDestroy(){this.change.complete()}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)(_.LFG(H,8))},Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),me=(()=>{class Ce{}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)},Ce.\u0275mod=_.oAB({type:Ce}),Ce.\u0275inj=_.cJS({}),Ce})()},1281:(Zn,St,M)=>{M.d(St,{Eq:()=>Re,HM:()=>Ae,Ig:()=>d,fI:()=>Ge,su:()=>H});var _=M(4650);function d(me){return null!=me&&"false"!=`${me}`}function H(me,Ce=0){return function ge(me){return!isNaN(parseFloat(me))&&!isNaN(Number(me))}(me)?Number(me):Ce}function Re(me){return Array.isArray(me)?me:[me]}function Ae(me){return null==me?"":"string"==typeof me?me:`${me}px`}function Ge(me){return me instanceof _.SBq?me.nativeElement:me}},9521:(Zn,St,M)=>{M.d(St,{A:()=>kn,JH:()=>gn,JU:()=>Ae,K5:()=>Re,LH:()=>At,L_:()=>Fe,MW:()=>Ye,Mf:()=>H,SV:()=>en,Sd:()=>jt,Vb:()=>ps,Z:()=>st,aO:()=>qt,b2:()=>Zi,hY:()=>xe,jx:()=>Ge,oh:()=>Ft,uR:()=>ct,xE:()=>ze,zL:()=>Oe});const H=9,Re=13,Ae=16,Ge=17,Oe=18,xe=27,Fe=32,ct=35,jt=36,Ft=37,At=38,en=39,gn=40,ze=48,qt=57,kn=65,st=90,Ye=91,Zi=224;function ps(Ki,...Ds){return Ds.length?Ds.some(Po=>Ki[Po]):Ki.altKey||Ki.shiftKey||Ki.ctrlKey||Ki.metaKey}},2289:(Zn,St,M)=>{M.d(St,{Yg:()=>gn,u3:()=>Ue});var _=M(4650),d=M(1281),H=M(7579),ge=M(9841),Re=M(7272),Ae=M(9751),Ge=M(5698),Oe=M(5684),me=M(8372),Ce=M(4004),xe=M(8675),Fe=M(2722),pt=M(3353);const ct=new Set;let jt,Ft=(()=>{class Ve{constructor(ze){this._platform=ze,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):en}matchMedia(ze){return(this._platform.WEBKIT||this._platform.BLINK)&&function At(Ve){if(!ct.has(Ve))try{jt||(jt=document.createElement("style"),jt.setAttribute("type","text/css"),document.head.appendChild(jt)),jt.sheet&&(jt.sheet.insertRule(`@media ${Ve} {body{ }}`,0),ct.add(Ve))}catch(at){console.error(at)}}(ze),this._matchMedia(ze)}}return Ve.\u0275fac=function(ze){return new(ze||Ve)(_.LFG(pt.t4))},Ve.\u0275prov=_.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})();function en(Ve){return{matches:"all"===Ve||""===Ve,media:Ve,addListener:()=>{},removeListener:()=>{}}}let gn=(()=>{class Ve{constructor(ze,nt){this._mediaMatcher=ze,this._zone=nt,this._queries=new Map,this._destroySubject=new H.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ze){return xt((0,d.Eq)(ze)).some(Qe=>this._registerQuery(Qe).mql.matches)}observe(ze){const Qe=xt((0,d.Eq)(ze)).map(ae=>this._registerQuery(ae).observable);let Pe=(0,ge.a)(Qe);return Pe=(0,Re.z)(Pe.pipe((0,Ge.q)(1)),Pe.pipe((0,Oe.T)(1),(0,me.b)(0))),Pe.pipe((0,Ce.U)(ae=>{const _t={matches:!1,breakpoints:{}};return ae.forEach(({matches:Ne,query:Je})=>{_t.matches=_t.matches||Ne,_t.breakpoints[Je]=Ne}),_t}))}_registerQuery(ze){if(this._queries.has(ze))return this._queries.get(ze);const nt=this._mediaMatcher.matchMedia(ze),Pe={observable:new Ae.y(ae=>{const _t=Ne=>this._zone.run(()=>ae.next(Ne));return nt.addListener(_t),()=>{nt.removeListener(_t)}}).pipe((0,xe.O)(nt),(0,Ce.U)(({matches:ae})=>({query:ze,matches:ae})),(0,Fe.R)(this._destroySubject)),mql:nt};return this._queries.set(ze,Pe),Pe}}return Ve.\u0275fac=function(ze){return new(ze||Ve)(_.LFG(Ft),_.LFG(_.R0b))},Ve.\u0275prov=_.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})();function xt(Ve){return Ve.map(at=>at.split(",")).reduce((at,ze)=>at.concat(ze)).map(at=>at.trim())}const Ue={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(Zn,St,M)=>{M.d(St,{Q8:()=>me,wD:()=>Oe});var _=M(1281),d=M(4650),H=M(9751),ge=M(7579),Re=M(8372);let Ae=(()=>{class Ce{create(Fe){return typeof MutationObserver>"u"?null:new MutationObserver(Fe)}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)},Ce.\u0275prov=d.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Ge=(()=>{class Ce{constructor(Fe){this._mutationObserverFactory=Fe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Fe,pt)=>this._cleanupObserver(pt))}observe(Fe){const pt=(0,_.fI)(Fe);return new H.y(Et=>{const jt=this._observeElement(pt).subscribe(Et);return()=>{jt.unsubscribe(),this._unobserveElement(pt)}})}_observeElement(Fe){if(this._observedElements.has(Fe))this._observedElements.get(Fe).count++;else{const pt=new ge.x,Et=this._mutationObserverFactory.create(ct=>pt.next(ct));Et&&Et.observe(Fe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Fe,{observer:Et,stream:pt,count:1})}return this._observedElements.get(Fe).stream}_unobserveElement(Fe){this._observedElements.has(Fe)&&(this._observedElements.get(Fe).count--,this._observedElements.get(Fe).count||this._cleanupObserver(Fe))}_cleanupObserver(Fe){if(this._observedElements.has(Fe)){const{observer:pt,stream:Et}=this._observedElements.get(Fe);pt&&pt.disconnect(),Et.complete(),this._observedElements.delete(Fe)}}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)(d.LFG(Ae))},Ce.\u0275prov=d.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Oe=(()=>{class Ce{constructor(Fe,pt,Et){this._contentObserver=Fe,this._elementRef=pt,this._ngZone=Et,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(Fe){this._disabled=(0,_.Ig)(Fe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Fe){this._debounce=(0,_.su)(Fe),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Fe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Fe.pipe((0,Re.b)(this.debounce)):Fe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)(d.Y36(Ge),d.Y36(d.SBq),d.Y36(d.R0b))},Ce.\u0275dir=d.lG2({type:Ce,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Ce})(),me=(()=>{class Ce{}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[Ae]}),Ce})()},8184:(Zn,St,M)=>{M.d(St,{Iu:()=>qt,U8:()=>Hr,X_:()=>at,Xj:()=>Gt,aV:()=>Lr,pI:()=>jr,xu:()=>di});var _=M(1218),d=M(6895),H=M(4650),ge=M(1281),Re=M(3353),Ae=M(445),Ge=M(4080),Oe=M(7579),me=M(727),Ce=M(6451),xe=M(5698),Fe=M(2722),pt=M(2529),Et=M(9521);const ct=(0,Re.Mq)();class jt{constructor(fe,Xe){this._viewportRuler=fe,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Xe}attach(){}enable(){if(this._canBeEnabled()){const fe=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=fe.style.left||"",this._previousHTMLStyles.top=fe.style.top||"",fe.style.left=(0,ge.HM)(-this._previousScrollPosition.left),fe.style.top=(0,ge.HM)(-this._previousScrollPosition.top),fe.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const fe=this._document.documentElement,kt=fe.style,tn=this._document.body.style,pn=kt.scrollBehavior||"",Hn=tn.scrollBehavior||"";this._isEnabled=!1,kt.left=this._previousHTMLStyles.left,kt.top=this._previousHTMLStyles.top,fe.classList.remove("cdk-global-scrollblock"),ct&&(kt.scrollBehavior=tn.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ct&&(kt.scrollBehavior=pn,tn.scrollBehavior=Hn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Xe=this._document.body,kt=this._viewportRuler.getViewportSize();return Xe.scrollHeight>kt.height||Xe.scrollWidth>kt.width}}class At{constructor(fe,Xe,kt,tn){this._scrollDispatcher=fe,this._ngZone=Xe,this._viewportRuler=kt,this._config=tn,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(fe){this._overlayRef=fe}enable(){if(this._scrollSubscription)return;const fe=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=fe.subscribe(()=>{const Xe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Xe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=fe.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class en{enable(){}disable(){}attach(){}}function gn(Yt,fe){return fe.some(Xe=>Yt.bottom<Xe.top||Yt.top>Xe.bottom||Yt.right<Xe.left||Yt.left>Xe.right)}function xt(Yt,fe){return fe.some(Xe=>Yt.top<Xe.top||Yt.bottom>Xe.bottom||Yt.left<Xe.left||Yt.right>Xe.right)}class Ue{constructor(fe,Xe,kt,tn){this._scrollDispatcher=fe,this._viewportRuler=Xe,this._ngZone=kt,this._config=tn,this._scrollSubscription=null}attach(fe){this._overlayRef=fe}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Xe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:kt,height:tn}=this._viewportRuler.getViewportSize();gn(Xe,[{width:kt,height:tn,bottom:tn,right:kt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ve=(()=>{class Yt{constructor(Xe,kt,tn,pn){this._scrollDispatcher=Xe,this._viewportRuler=kt,this._ngZone=tn,this.noop=()=>new en,this.close=Hn=>new At(this._scrollDispatcher,this._ngZone,this._viewportRuler,Hn),this.block=()=>new jt(this._viewportRuler,this._document),this.reposition=Hn=>new Ue(this._scrollDispatcher,this._viewportRuler,this._ngZone,Hn),this._document=pn}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(_.mF),H.LFG(_.rL),H.LFG(H.R0b),H.LFG(d.K0))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();class at{constructor(fe){if(this.scrollStrategy=new en,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,fe){const Xe=Object.keys(fe);for(const kt of Xe)void 0!==fe[kt]&&(this[kt]=fe[kt])}}}class Qe{constructor(fe,Xe){this.connectionPair=fe,this.scrollableViewProperties=Xe}}let _t=(()=>{class Yt{constructor(Xe){this._attachedOverlays=[],this._document=Xe}ngOnDestroy(){this.detach()}add(Xe){this.remove(Xe),this._attachedOverlays.push(Xe)}remove(Xe){const kt=this._attachedOverlays.indexOf(Xe);kt>-1&&this._attachedOverlays.splice(kt,1),0===this._attachedOverlays.length&&this.detach()}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(d.K0))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),Ne=(()=>{class Yt extends _t{constructor(Xe,kt){super(Xe),this._ngZone=kt,this._keydownListener=tn=>{const pn=this._attachedOverlays;for(let Hn=pn.length-1;Hn>-1;Hn--)if(pn[Hn]._keydownEvents.observers.length>0){const Rt=pn[Hn]._keydownEvents;this._ngZone?this._ngZone.run(()=>Rt.next(tn)):Rt.next(tn);break}}}add(Xe){super.add(Xe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(d.K0),H.LFG(H.R0b,8))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),Je=(()=>{class Yt extends _t{constructor(Xe,kt,tn){super(Xe),this._platform=kt,this._ngZone=tn,this._cursorStyleIsSet=!1,this._pointerDownListener=pn=>{this._pointerDownEventTarget=(0,Re.sA)(pn)},this._clickListener=pn=>{const Hn=(0,Re.sA)(pn),Rt="click"===pn.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Hn;this._pointerDownEventTarget=null;const st=this._attachedOverlays.slice();for(let Ye=st.length-1;Ye>-1;Ye--){const Ht=st[Ye];if(Ht._outsidePointerEvents.observers.length<1||!Ht.hasAttached())continue;if(Ht.overlayElement.contains(Hn)||Ht.overlayElement.contains(Rt))break;const vn=Ht._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>vn.next(pn)):vn.next(pn)}}}add(Xe){if(super.add(Xe),!this._isAttached){const kt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(kt)):this._addEventListeners(kt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=kt.style.cursor,kt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Xe=this._document.body;Xe.removeEventListener("pointerdown",this._pointerDownListener,!0),Xe.removeEventListener("click",this._clickListener,!0),Xe.removeEventListener("auxclick",this._clickListener,!0),Xe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Xe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Xe){Xe.addEventListener("pointerdown",this._pointerDownListener,!0),Xe.addEventListener("click",this._clickListener,!0),Xe.addEventListener("auxclick",this._clickListener,!0),Xe.addEventListener("contextmenu",this._clickListener,!0)}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(d.K0),H.LFG(Re.t4),H.LFG(H.R0b,8))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),Gt=(()=>{class Yt{constructor(Xe,kt){this._platform=kt,this._document=Xe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Xe="cdk-overlay-container";if(this._platform.isBrowser||(0,Re.Oy)()){const tn=this._document.querySelectorAll(`.${Xe}[platform="server"], .${Xe}[platform="test"]`);for(let pn=0;pn<tn.length;pn++)tn[pn].remove()}const kt=this._document.createElement("div");kt.classList.add(Xe),(0,Re.Oy)()?kt.setAttribute("platform","test"):this._platform.isBrowser||kt.setAttribute("platform","server"),this._document.body.appendChild(kt),this._containerElement=kt}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(d.K0),H.LFG(Re.t4))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})();class qt{constructor(fe,Xe,kt,tn,pn,Hn,Rt,st,Ye,Ht=!1){this._portalOutlet=fe,this._host=Xe,this._pane=kt,this._config=tn,this._ngZone=pn,this._keyboardDispatcher=Hn,this._document=Rt,this._location=st,this._outsideClickDispatcher=Ye,this._animationsDisabled=Ht,this._backdropElement=null,this._backdropClick=new Oe.x,this._attachments=new Oe.x,this._detachments=new Oe.x,this._locationChanges=me.w0.EMPTY,this._backdropClickHandler=vn=>this._backdropClick.next(vn),this._backdropTransitionendHandler=vn=>{this._disposeBackdrop(vn.target)},this._keydownEvents=new Oe.x,this._outsidePointerEvents=new Oe.x,tn.scrollStrategy&&(this._scrollStrategy=tn.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=tn.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(fe){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Xe=this._portalOutlet.attach(fe);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,xe.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Xe?.onDestroy&&Xe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Xe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const fe=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),fe}dispose(){const fe=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,fe&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(fe){fe!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=fe,this.hasAttached()&&(fe.attach(this),this.updatePosition()))}updateSize(fe){this._config={...this._config,...fe},this._updateElementSize()}setDirection(fe){this._config={...this._config,direction:fe},this._updateElementDirection()}addPanelClass(fe){this._pane&&this._toggleClasses(this._pane,fe,!0)}removePanelClass(fe){this._pane&&this._toggleClasses(this._pane,fe,!1)}getDirection(){const fe=this._config.direction;return fe?"string"==typeof fe?fe:fe.value:"ltr"}updateScrollStrategy(fe){fe!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=fe,this.hasAttached()&&(fe.attach(this),fe.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const fe=this._pane.style;fe.width=(0,ge.HM)(this._config.width),fe.height=(0,ge.HM)(this._config.height),fe.minWidth=(0,ge.HM)(this._config.minWidth),fe.minHeight=(0,ge.HM)(this._config.minHeight),fe.maxWidth=(0,ge.HM)(this._config.maxWidth),fe.maxHeight=(0,ge.HM)(this._config.maxHeight)}_togglePointerEvents(fe){this._pane.style.pointerEvents=fe?"":"none"}_attachBackdrop(){const fe="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(fe)})}):this._backdropElement.classList.add(fe)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const fe=this._backdropElement;if(fe){if(this._animationsDisabled)return void this._disposeBackdrop(fe);fe.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{fe.addEventListener("transitionend",this._backdropTransitionendHandler)}),fe.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(fe)},500))}}_toggleClasses(fe,Xe,kt){const tn=(0,ge.Eq)(Xe||[]).filter(pn=>!!pn);tn.length&&(kt?fe.classList.add(...tn):fe.classList.remove(...tn))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const fe=this._ngZone.onStable.pipe((0,Fe.R)((0,Ce.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),fe.unsubscribe())})})}_disposeScrollStrategy(){const fe=this._scrollStrategy;fe&&(fe.disable(),fe.detach&&fe.detach())}_disposeBackdrop(fe){fe&&(fe.removeEventListener("click",this._backdropClickHandler),fe.removeEventListener("transitionend",this._backdropTransitionendHandler),fe.remove(),this._backdropElement===fe&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Pn="cdk-overlay-connected-position-bounding-box",Vn=/([A-Za-z%]+)$/;class sn{constructor(fe,Xe,kt,tn,pn){this._viewportRuler=Xe,this._document=kt,this._platform=tn,this._overlayContainer=pn,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Oe.x,this._resizeSubscription=me.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(fe)}get positions(){return this._preferredPositions}attach(fe){this._validatePositions(),fe.hostElement.classList.add(Pn),this._overlayRef=fe,this._boundingBox=fe.hostElement,this._pane=fe.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const fe=this._originRect,Xe=this._overlayRect,kt=this._viewportRect,tn=this._containerRect,pn=[];let Hn;for(let Rt of this._preferredPositions){let st=this._getOriginPoint(fe,tn,Rt),Ye=this._getOverlayPoint(st,Xe,Rt),Ht=this._getOverlayFit(Ye,Xe,kt,Rt);if(Ht.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Rt,st);this._canFitWithFlexibleDimensions(Ht,Ye,kt)?pn.push({position:Rt,origin:st,overlayRect:Xe,boundingBoxRect:this._calculateBoundingBoxRect(st,Rt)}):(!Hn||Hn.overlayFit.visibleArea<Ht.visibleArea)&&(Hn={overlayFit:Ht,overlayPoint:Ye,originPoint:st,position:Rt,overlayRect:Xe})}if(pn.length){let Rt=null,st=-1;for(const Ye of pn){const Ht=Ye.boundingBoxRect.width*Ye.boundingBoxRect.height*(Ye.position.weight||1);Ht>st&&(st=Ht,Rt=Ye)}return this._isPushed=!1,void this._applyPosition(Rt.position,Rt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Hn.position,Hn.originPoint);this._applyPosition(Hn.position,Hn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const fe=this._lastPosition;if(fe){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Xe=this._getOriginPoint(this._originRect,this._containerRect,fe);this._applyPosition(fe,Xe)}else this.apply()}withScrollableContainers(fe){return this._scrollables=fe,this}withPositions(fe){return this._preferredPositions=fe,-1===fe.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(fe){return this._viewportMargin=fe,this}withFlexibleDimensions(fe=!0){return this._hasFlexibleDimensions=fe,this}withGrowAfterOpen(fe=!0){return this._growAfterOpen=fe,this}withPush(fe=!0){return this._canPush=fe,this}withLockedPosition(fe=!0){return this._positionLocked=fe,this}setOrigin(fe){return this._origin=fe,this}withDefaultOffsetX(fe){return this._offsetX=fe,this}withDefaultOffsetY(fe){return this._offsetY=fe,this}withTransformOriginOn(fe){return this._transformOriginSelector=fe,this}_getOriginPoint(fe,Xe,kt){let tn,pn;if("center"==kt.originX)tn=fe.left+fe.width/2;else{const Hn=this._isRtl()?fe.right:fe.left,Rt=this._isRtl()?fe.left:fe.right;tn="start"==kt.originX?Hn:Rt}return Xe.left<0&&(tn-=Xe.left),pn="center"==kt.originY?fe.top+fe.height/2:"top"==kt.originY?fe.top:fe.bottom,Xe.top<0&&(pn-=Xe.top),{x:tn,y:pn}}_getOverlayPoint(fe,Xe,kt){let tn,pn;return tn="center"==kt.overlayX?-Xe.width/2:"start"===kt.overlayX?this._isRtl()?-Xe.width:0:this._isRtl()?0:-Xe.width,pn="center"==kt.overlayY?-Xe.height/2:"top"==kt.overlayY?0:-Xe.height,{x:fe.x+tn,y:fe.y+pn}}_getOverlayFit(fe,Xe,kt,tn){const pn=fn(Xe);let{x:Hn,y:Rt}=fe,st=this._getOffset(tn,"x"),Ye=this._getOffset(tn,"y");st&&(Hn+=st),Ye&&(Rt+=Ye);let Dn=0-Rt,vr=Rt+pn.height-kt.height,Xt=this._subtractOverflows(pn.width,0-Hn,Hn+pn.width-kt.width),gt=this._subtractOverflows(pn.height,Dn,vr),Ke=Xt*gt;return{visibleArea:Ke,isCompletelyWithinViewport:pn.width*pn.height===Ke,fitsInViewportVertically:gt===pn.height,fitsInViewportHorizontally:Xt==pn.width}}_canFitWithFlexibleDimensions(fe,Xe,kt){if(this._hasFlexibleDimensions){const tn=kt.bottom-Xe.y,pn=kt.right-Xe.x,Hn=kn(this._overlayRef.getConfig().minHeight),Rt=kn(this._overlayRef.getConfig().minWidth),Ye=fe.fitsInViewportHorizontally||null!=Rt&&Rt<=pn;return(fe.fitsInViewportVertically||null!=Hn&&Hn<=tn)&&Ye}return!1}_pushOverlayOnScreen(fe,Xe,kt){if(this._previousPushAmount&&this._positionLocked)return{x:fe.x+this._previousPushAmount.x,y:fe.y+this._previousPushAmount.y};const tn=fn(Xe),pn=this._viewportRect,Hn=Math.max(fe.x+tn.width-pn.width,0),Rt=Math.max(fe.y+tn.height-pn.height,0),st=Math.max(pn.top-kt.top-fe.y,0),Ye=Math.max(pn.left-kt.left-fe.x,0);let Ht=0,vn=0;return Ht=tn.width<=pn.width?Ye||-Hn:fe.x<this._viewportMargin?pn.left-kt.left-fe.x:0,vn=tn.height<=pn.height?st||-Rt:fe.y<this._viewportMargin?pn.top-kt.top-fe.y:0,this._previousPushAmount={x:Ht,y:vn},{x:fe.x+Ht,y:fe.y+vn}}_applyPosition(fe,Xe){if(this._setTransformOrigin(fe),this._setOverlayElementStyles(Xe,fe),this._setBoundingBoxStyles(Xe,fe),fe.panelClass&&this._addPanelClasses(fe.panelClass),this._lastPosition=fe,this._positionChanges.observers.length){const kt=this._getScrollVisibility(),tn=new Qe(fe,kt);this._positionChanges.next(tn)}this._isInitialRender=!1}_setTransformOrigin(fe){if(!this._transformOriginSelector)return;const Xe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let kt,tn=fe.overlayY;kt="center"===fe.overlayX?"center":this._isRtl()?"start"===fe.overlayX?"right":"left":"start"===fe.overlayX?"left":"right";for(let pn=0;pn<Xe.length;pn++)Xe[pn].style.transformOrigin=`${kt} ${tn}`}_calculateBoundingBoxRect(fe,Xe){const kt=this._viewportRect,tn=this._isRtl();let pn,Hn,Rt,Ht,vn,Dn;if("top"===Xe.overlayY)Hn=fe.y,pn=kt.height-Hn+this._viewportMargin;else if("bottom"===Xe.overlayY)Rt=kt.height-fe.y+2*this._viewportMargin,pn=kt.height-Rt+this._viewportMargin;else{const vr=Math.min(kt.bottom-fe.y+kt.top,fe.y),Xt=this._lastBoundingBoxSize.height;pn=2*vr,Hn=fe.y-vr,pn>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(Hn=fe.y-Xt/2)}if("end"===Xe.overlayX&&!tn||"start"===Xe.overlayX&&tn)Dn=kt.width-fe.x+this._viewportMargin,Ht=fe.x-this._viewportMargin;else if("start"===Xe.overlayX&&!tn||"end"===Xe.overlayX&&tn)vn=fe.x,Ht=kt.right-fe.x;else{const vr=Math.min(kt.right-fe.x+kt.left,fe.x),Xt=this._lastBoundingBoxSize.width;Ht=2*vr,vn=fe.x-vr,Ht>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(vn=fe.x-Xt/2)}return{top:Hn,left:vn,bottom:Rt,right:Dn,width:Ht,height:pn}}_setBoundingBoxStyles(fe,Xe){const kt=this._calculateBoundingBoxRect(fe,Xe);!this._isInitialRender&&!this._growAfterOpen&&(kt.height=Math.min(kt.height,this._lastBoundingBoxSize.height),kt.width=Math.min(kt.width,this._lastBoundingBoxSize.width));const tn={};if(this._hasExactPosition())tn.top=tn.left="0",tn.bottom=tn.right=tn.maxHeight=tn.maxWidth="",tn.width=tn.height="100%";else{const pn=this._overlayRef.getConfig().maxHeight,Hn=this._overlayRef.getConfig().maxWidth;tn.height=(0,ge.HM)(kt.height),tn.top=(0,ge.HM)(kt.top),tn.bottom=(0,ge.HM)(kt.bottom),tn.width=(0,ge.HM)(kt.width),tn.left=(0,ge.HM)(kt.left),tn.right=(0,ge.HM)(kt.right),tn.alignItems="center"===Xe.overlayX?"center":"end"===Xe.overlayX?"flex-end":"flex-start",tn.justifyContent="center"===Xe.overlayY?"center":"bottom"===Xe.overlayY?"flex-end":"flex-start",pn&&(tn.maxHeight=(0,ge.HM)(pn)),Hn&&(tn.maxWidth=(0,ge.HM)(Hn))}this._lastBoundingBoxSize=kt,Kt(this._boundingBox.style,tn)}_resetBoundingBoxStyles(){Kt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(fe,Xe){const kt={},tn=this._hasExactPosition(),pn=this._hasFlexibleDimensions,Hn=this._overlayRef.getConfig();if(tn){const Ht=this._viewportRuler.getViewportScrollPosition();Kt(kt,this._getExactOverlayY(Xe,fe,Ht)),Kt(kt,this._getExactOverlayX(Xe,fe,Ht))}else kt.position="static";let Rt="",st=this._getOffset(Xe,"x"),Ye=this._getOffset(Xe,"y");st&&(Rt+=`translateX(${st}px) `),Ye&&(Rt+=`translateY(${Ye}px)`),kt.transform=Rt.trim(),Hn.maxHeight&&(tn?kt.maxHeight=(0,ge.HM)(Hn.maxHeight):pn&&(kt.maxHeight="")),Hn.maxWidth&&(tn?kt.maxWidth=(0,ge.HM)(Hn.maxWidth):pn&&(kt.maxWidth="")),Kt(this._pane.style,kt)}_getExactOverlayY(fe,Xe,kt){let tn={top:"",bottom:""},pn=this._getOverlayPoint(Xe,this._overlayRect,fe);return this._isPushed&&(pn=this._pushOverlayOnScreen(pn,this._overlayRect,kt)),"bottom"===fe.overlayY?tn.bottom=this._document.documentElement.clientHeight-(pn.y+this._overlayRect.height)+"px":tn.top=(0,ge.HM)(pn.y),tn}_getExactOverlayX(fe,Xe,kt){let Hn,tn={left:"",right:""},pn=this._getOverlayPoint(Xe,this._overlayRect,fe);return this._isPushed&&(pn=this._pushOverlayOnScreen(pn,this._overlayRect,kt)),Hn=this._isRtl()?"end"===fe.overlayX?"left":"right":"end"===fe.overlayX?"right":"left","right"===Hn?tn.right=this._document.documentElement.clientWidth-(pn.x+this._overlayRect.width)+"px":tn.left=(0,ge.HM)(pn.x),tn}_getScrollVisibility(){const fe=this._getOriginRect(),Xe=this._pane.getBoundingClientRect(),kt=this._scrollables.map(tn=>tn.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xt(fe,kt),isOriginOutsideView:gn(fe,kt),isOverlayClipped:xt(Xe,kt),isOverlayOutsideView:gn(Xe,kt)}}_subtractOverflows(fe,...Xe){return Xe.reduce((kt,tn)=>kt-Math.max(tn,0),fe)}_getNarrowedViewportRect(){const fe=this._document.documentElement.clientWidth,Xe=this._document.documentElement.clientHeight,kt=this._viewportRuler.getViewportScrollPosition();return{top:kt.top+this._viewportMargin,left:kt.left+this._viewportMargin,right:kt.left+fe-this._viewportMargin,bottom:kt.top+Xe-this._viewportMargin,width:fe-2*this._viewportMargin,height:Xe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(fe,Xe){return"x"===Xe?fe.offsetX??this._offsetX:fe.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(fe){this._pane&&(0,ge.Eq)(fe).forEach(Xe=>{""!==Xe&&-1===this._appliedPanelClasses.indexOf(Xe)&&(this._appliedPanelClasses.push(Xe),this._pane.classList.add(Xe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(fe=>{this._pane.classList.remove(fe)}),this._appliedPanelClasses=[])}_getOriginRect(){const fe=this._origin;if(fe instanceof H.SBq)return fe.nativeElement.getBoundingClientRect();if(fe instanceof Element)return fe.getBoundingClientRect();const Xe=fe.width||0,kt=fe.height||0;return{top:fe.y,bottom:fe.y+kt,left:fe.x,right:fe.x+Xe,height:kt,width:Xe}}}function Kt(Yt,fe){for(let Xe in fe)fe.hasOwnProperty(Xe)&&(Yt[Xe]=fe[Xe]);return Yt}function kn(Yt){if("number"!=typeof Yt&&null!=Yt){const[fe,Xe]=Yt.split(Vn);return Xe&&"px"!==Xe?null:parseFloat(fe)}return Yt||null}function fn(Yt){return{top:Math.floor(Yt.top),right:Math.floor(Yt.right),bottom:Math.floor(Yt.bottom),left:Math.floor(Yt.left),width:Math.floor(Yt.width),height:Math.floor(Yt.height)}}const Wt="cdk-global-overlay-wrapper";class An{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(fe){const Xe=fe.getConfig();this._overlayRef=fe,this._width&&!Xe.width&&fe.updateSize({width:this._width}),this._height&&!Xe.height&&fe.updateSize({height:this._height}),fe.hostElement.classList.add(Wt),this._isDisposed=!1}top(fe=""){return this._bottomOffset="",this._topOffset=fe,this._alignItems="flex-start",this}left(fe=""){return this._xOffset=fe,this._xPosition="left",this}bottom(fe=""){return this._topOffset="",this._bottomOffset=fe,this._alignItems="flex-end",this}right(fe=""){return this._xOffset=fe,this._xPosition="right",this}start(fe=""){return this._xOffset=fe,this._xPosition="start",this}end(fe=""){return this._xOffset=fe,this._xPosition="end",this}width(fe=""){return this._overlayRef?this._overlayRef.updateSize({width:fe}):this._width=fe,this}height(fe=""){return this._overlayRef?this._overlayRef.updateSize({height:fe}):this._height=fe,this}centerHorizontally(fe=""){return this.left(fe),this._xPosition="center",this}centerVertically(fe=""){return this.top(fe),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const fe=this._overlayRef.overlayElement.style,Xe=this._overlayRef.hostElement.style,kt=this._overlayRef.getConfig(),{width:tn,height:pn,maxWidth:Hn,maxHeight:Rt}=kt,st=!("100%"!==tn&&"100vw"!==tn||Hn&&"100%"!==Hn&&"100vw"!==Hn),Ye=!("100%"!==pn&&"100vh"!==pn||Rt&&"100%"!==Rt&&"100vh"!==Rt),Ht=this._xPosition,vn=this._xOffset,Dn="rtl"===this._overlayRef.getConfig().direction;let vr="",Xt="",gt="";st?gt="flex-start":"center"===Ht?(gt="center",Dn?Xt=vn:vr=vn):Dn?"left"===Ht||"end"===Ht?(gt="flex-end",vr=vn):("right"===Ht||"start"===Ht)&&(gt="flex-start",Xt=vn):"left"===Ht||"start"===Ht?(gt="flex-start",vr=vn):("right"===Ht||"end"===Ht)&&(gt="flex-end",Xt=vn),fe.position=this._cssPosition,fe.marginLeft=st?"0":vr,fe.marginTop=Ye?"0":this._topOffset,fe.marginBottom=this._bottomOffset,fe.marginRight=st?"0":Xt,Xe.justifyContent=gt,Xe.alignItems=Ye?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const fe=this._overlayRef.overlayElement.style,Xe=this._overlayRef.hostElement,kt=Xe.style;Xe.classList.remove(Wt),kt.justifyContent=kt.alignItems=fe.marginTop=fe.marginBottom=fe.marginLeft=fe.marginRight=fe.position="",this._overlayRef=null,this._isDisposed=!0}}let Kn=(()=>{class Yt{constructor(Xe,kt,tn,pn){this._viewportRuler=Xe,this._document=kt,this._platform=tn,this._overlayContainer=pn}global(){return new An}flexibleConnectedTo(Xe){return new sn(Xe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(_.rL),H.LFG(d.K0),H.LFG(Re.t4),H.LFG(Gt))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt})(),dr=0,Lr=(()=>{class Yt{constructor(Xe,kt,tn,pn,Hn,Rt,st,Ye,Ht,vn,Dn,vr){this.scrollStrategies=Xe,this._overlayContainer=kt,this._componentFactoryResolver=tn,this._positionBuilder=pn,this._keyboardDispatcher=Hn,this._injector=Rt,this._ngZone=st,this._document=Ye,this._directionality=Ht,this._location=vn,this._outsideClickDispatcher=Dn,this._animationsModuleType=vr}create(Xe){const kt=this._createHostElement(),tn=this._createPaneElement(kt),pn=this._createPortalOutlet(tn),Hn=new at(Xe);return Hn.direction=Hn.direction||this._directionality.value,new qt(pn,kt,tn,Hn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Xe){const kt=this._document.createElement("div");return kt.id="cdk-overlay-"+dr++,kt.classList.add("cdk-overlay-pane"),Xe.appendChild(kt),kt}_createHostElement(){const Xe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Xe),Xe}_createPortalOutlet(Xe){return this._appRef||(this._appRef=this._injector.get(H.z2F)),new Ge.u0(Xe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.LFG(Ve),H.LFG(Gt),H.LFG(H._Vd),H.LFG(Kn),H.LFG(Ne),H.LFG(H.zs3),H.LFG(H.R0b),H.LFG(d.K0),H.LFG(Ae.Is),H.LFG(d.Ye),H.LFG(Je),H.LFG(H.QbO,8))},Yt.\u0275prov=H.Yz7({token:Yt,factory:Yt.\u0275fac}),Yt})();const ui=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Mr=new H.OlP("cdk-connected-overlay-scroll-strategy");let di=(()=>{class Yt{constructor(Xe){this.elementRef=Xe}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.Y36(H.SBq))},Yt.\u0275dir=H.lG2({type:Yt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),Yt})(),jr=(()=>{class Yt{constructor(Xe,kt,tn,pn,Hn){this._overlay=Xe,this._dir=Hn,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=me.w0.EMPTY,this._attachSubscription=me.w0.EMPTY,this._detachSubscription=me.w0.EMPTY,this._positionSubscription=me.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new H.vpe,this.positionChange=new H.vpe,this.attach=new H.vpe,this.detach=new H.vpe,this.overlayKeydown=new H.vpe,this.overlayOutsideClick=new H.vpe,this._templatePortal=new Ge.UE(kt,tn),this._scrollStrategyFactory=pn,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(Xe){this._offsetX=Xe,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Xe){this._offsetY=Xe,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Xe){this._hasBackdrop=(0,ge.Ig)(Xe)}get lockPosition(){return this._lockPosition}set lockPosition(Xe){this._lockPosition=(0,ge.Ig)(Xe)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Xe){this._flexibleDimensions=(0,ge.Ig)(Xe)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Xe){this._growAfterOpen=(0,ge.Ig)(Xe)}get push(){return this._push}set push(Xe){this._push=(0,ge.Ig)(Xe)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Xe){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Xe.origin&&this.open&&this._position.apply()),Xe.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ui);const Xe=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Xe.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Xe.detachments().subscribe(()=>this.detach.emit()),Xe.keydownEvents().subscribe(kt=>{this.overlayKeydown.next(kt),kt.keyCode===Et.hY&&!this.disableClose&&!(0,Et.Vb)(kt)&&(kt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(kt=>{this.overlayOutsideClick.next(kt)})}_buildConfig(){const Xe=this._position=this.positionStrategy||this._createPositionStrategy(),kt=new at({direction:this._dir,positionStrategy:Xe,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(kt.width=this.width),(this.height||0===this.height)&&(kt.height=this.height),(this.minWidth||0===this.minWidth)&&(kt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(kt.minHeight=this.minHeight),this.backdropClass&&(kt.backdropClass=this.backdropClass),this.panelClass&&(kt.panelClass=this.panelClass),kt}_updatePositionStrategy(Xe){const kt=this.positions.map(tn=>({originX:tn.originX,originY:tn.originY,overlayX:tn.overlayX,overlayY:tn.overlayY,offsetX:tn.offsetX||this.offsetX,offsetY:tn.offsetY||this.offsetY,panelClass:tn.panelClass||void 0}));return Xe.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(kt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Xe=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Xe),Xe}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof di?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Xe=>{this.backdropClick.emit(Xe)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,pt.o)(()=>this.positionChange.observers.length>0)).subscribe(Xe=>{this.positionChange.emit(Xe),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)(H.Y36(Lr),H.Y36(H.Rgc),H.Y36(H.s_b),H.Y36(Mr),H.Y36(Ae.Is,8))},Yt.\u0275dir=H.lG2({type:Yt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[H.TTD]}),Yt})();const mr={provide:Mr,deps:[Lr],useFactory:function xi(Yt){return()=>Yt.scrollStrategies.reposition()}};let Hr=(()=>{class Yt{}return Yt.\u0275fac=function(Xe){return new(Xe||Yt)},Yt.\u0275mod=H.oAB({type:Yt}),Yt.\u0275inj=H.cJS({providers:[Lr,mr],imports:[Ae.vT,Ge.eL,_.Cl,_.Cl]}),Yt})()},3353:(Zn,St,M)=>{M.d(St,{Mq:()=>Et,Oy:()=>xt,ht:()=>en,i$:()=>xe,kV:()=>At,qK:()=>Oe,sA:()=>gn,t4:()=>ge});var _=M(4650),d=M(6895);let H;try{H=typeof Intl<"u"&&Intl.v8BreakIterator}catch{H=!1}let Ae,ge=(()=>{class Ue{constructor(at){this._platformId=at,this.isBrowser=this._platformId?(0,d.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!H)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ue.\u0275fac=function(at){return new(at||Ue)(_.LFG(_.Lbi))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const Ge=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Oe(){if(Ae)return Ae;if("object"!=typeof document||!document)return Ae=new Set(Ge),Ae;let Ue=document.createElement("input");return Ae=new Set(Ge.filter(Ve=>(Ue.setAttribute("type",Ve),Ue.type===Ve))),Ae}let me,pt,jt;function xe(Ue){return function Ce(){if(null==me&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>me=!0}))}finally{me=me||!1}return me}()?Ue:!!Ue.capture}function Et(){if(null==pt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pt=!1,pt;if("scrollBehavior"in document.documentElement.style)pt=!0;else{const Ue=Element.prototype.scrollTo;pt=!!Ue&&!/\{\s*\[native code\]\s*\}/.test(Ue.toString())}}return pt}function At(Ue){if(function Ft(){if(null==jt){const Ue=typeof document<"u"?document.head:null;jt=!(!Ue||!Ue.createShadowRoot&&!Ue.attachShadow)}return jt}()){const Ve=Ue.getRootNode?Ue.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ve instanceof ShadowRoot)return Ve}return null}function en(){let Ue=typeof document<"u"&&document?document.activeElement:null;for(;Ue&&Ue.shadowRoot;){const Ve=Ue.shadowRoot.activeElement;if(Ve===Ue)break;Ue=Ve}return Ue}function gn(Ue){return Ue.composedPath?Ue.composedPath()[0]:Ue.target}function xt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(Zn,St,M)=>{M.d(St,{C5:()=>Ce,Pl:()=>en,UE:()=>xe,eL:()=>xt,en:()=>pt,u0:()=>ct});var _=M(4650),d=M(6895);class me{attach(at){return this._attachedHost=at,at.attach(this)}detach(){let at=this._attachedHost;null!=at&&(this._attachedHost=null,at.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(at){this._attachedHost=at}}class Ce extends me{constructor(at,ze,nt,Qe){super(),this.component=at,this.viewContainerRef=ze,this.injector=nt,this.componentFactoryResolver=Qe}}class xe extends me{constructor(at,ze,nt,Qe){super(),this.templateRef=at,this.viewContainerRef=ze,this.context=nt,this.injector=Qe}get origin(){return this.templateRef.elementRef}attach(at,ze=this.context){return this.context=ze,super.attach(at)}detach(){return this.context=void 0,super.detach()}}class Fe extends me{constructor(at){super(),this.element=at instanceof _.SBq?at.nativeElement:at}}class pt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(at){return at instanceof Ce?(this._attachedPortal=at,this.attachComponentPortal(at)):at instanceof xe?(this._attachedPortal=at,this.attachTemplatePortal(at)):this.attachDomPortal&&at instanceof Fe?(this._attachedPortal=at,this.attachDomPortal(at)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(at){this._disposeFn=at}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ct extends pt{constructor(at,ze,nt,Qe,Pe){super(),this.outletElement=at,this._componentFactoryResolver=ze,this._appRef=nt,this._defaultInjector=Qe,this.attachDomPortal=ae=>{const _t=ae.element,Ne=this._document.createComment("dom-portal");_t.parentNode.insertBefore(Ne,_t),this.outletElement.appendChild(_t),this._attachedPortal=ae,super.setDisposeFn(()=>{Ne.parentNode&&Ne.parentNode.replaceChild(_t,Ne)})},this._document=Pe}attachComponentPortal(at){const nt=(at.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(at.component);let Qe;return at.viewContainerRef?(Qe=at.viewContainerRef.createComponent(nt,at.viewContainerRef.length,at.injector||at.viewContainerRef.injector),this.setDisposeFn(()=>Qe.destroy())):(Qe=nt.create(at.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(Qe.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Qe.hostView),Qe.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Qe)),this._attachedPortal=at,Qe}attachTemplatePortal(at){let ze=at.viewContainerRef,nt=ze.createEmbeddedView(at.templateRef,at.context,{injector:at.injector});return nt.rootNodes.forEach(Qe=>this.outletElement.appendChild(Qe)),nt.detectChanges(),this.setDisposeFn(()=>{let Qe=ze.indexOf(nt);-1!==Qe&&ze.remove(Qe)}),this._attachedPortal=at,nt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(at){return at.hostView.rootNodes[0]}}let en=(()=>{class Ve extends pt{constructor(ze,nt,Qe){super(),this._componentFactoryResolver=ze,this._viewContainerRef=nt,this._isInitialized=!1,this.attached=new _.vpe,this.attachDomPortal=Pe=>{const ae=Pe.element,_t=this._document.createComment("dom-portal");Pe.setAttachedHost(this),ae.parentNode.insertBefore(_t,ae),this._getRootNode().appendChild(ae),this._attachedPortal=Pe,super.setDisposeFn(()=>{_t.parentNode&&_t.parentNode.replaceChild(ae,_t)})},this._document=Qe}get portal(){return this._attachedPortal}set portal(ze){this.hasAttached()&&!ze&&!this._isInitialized||(this.hasAttached()&&super.detach(),ze&&super.attach(ze),this._attachedPortal=ze||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ze){ze.setAttachedHost(this);const nt=null!=ze.viewContainerRef?ze.viewContainerRef:this._viewContainerRef,Pe=(ze.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ze.component),ae=nt.createComponent(Pe,nt.length,ze.injector||nt.injector);return nt!==this._viewContainerRef&&this._getRootNode().appendChild(ae.hostView.rootNodes[0]),super.setDisposeFn(()=>ae.destroy()),this._attachedPortal=ze,this._attachedRef=ae,this.attached.emit(ae),ae}attachTemplatePortal(ze){ze.setAttachedHost(this);const nt=this._viewContainerRef.createEmbeddedView(ze.templateRef,ze.context,{injector:ze.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ze,this._attachedRef=nt,this.attached.emit(nt),nt}_getRootNode(){const ze=this._viewContainerRef.element.nativeElement;return ze.nodeType===ze.ELEMENT_NODE?ze:ze.parentNode}}return Ve.\u0275fac=function(ze){return new(ze||Ve)(_.Y36(_._Vd),_.Y36(_.s_b),_.Y36(d.K0))},Ve.\u0275dir=_.lG2({type:Ve,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[_.qOj]}),Ve})(),xt=(()=>{class Ve{}return Ve.\u0275fac=function(ze){return new(ze||Ve)},Ve.\u0275mod=_.oAB({type:Ve}),Ve.\u0275inj=_.cJS({}),Ve})()},1218:(Zn,St,M)=>{M.d(St,{ZD:()=>pn,mF:()=>ui,Cl:()=>Hn,rL:()=>jr});var _=M(1281),d=M(4650),H=M(4408),ge=M(727);const Re={schedule(Rt){let st=requestAnimationFrame,Ye=cancelAnimationFrame;const{delegate:Ht}=Re;Ht&&(st=Ht.requestAnimationFrame,Ye=Ht.cancelAnimationFrame);const vn=st(Dn=>{Ye=void 0,Rt(Dn)});return new ge.w0(()=>Ye?.(vn))},requestAnimationFrame(...Rt){const{delegate:st}=Re;return(st?.requestAnimationFrame||requestAnimationFrame)(...Rt)},cancelAnimationFrame(...Rt){const{delegate:st}=Re;return(st?.cancelAnimationFrame||cancelAnimationFrame)(...Rt)},delegate:void 0};var Ge=M(7565);new class Oe extends Ge.v{flush(st){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Ht}=this;let vn;st=st||Ht.shift();do{if(vn=st.execute(st.state,st.delay))break}while((st=Ht[0])&&st.id===Ye&&Ht.shift());if(this._active=!1,vn){for(;(st=Ht[0])&&st.id===Ye&&Ht.shift();)st.unsubscribe();throw vn}}}(class Ae extends H.o{constructor(st,Ye){super(st,Ye),this.scheduler=st,this.work=Ye}requestAsyncId(st,Ye,Ht=0){return null!==Ht&&Ht>0?super.requestAsyncId(st,Ye,Ht):(st.actions.push(this),st._scheduled||(st._scheduled=Re.requestAnimationFrame(()=>st.flush(void 0))))}recycleAsyncId(st,Ye,Ht=0){if(null!=Ht&&Ht>0||null==Ht&&this.delay>0)return super.recycleAsyncId(st,Ye,Ht);st.actions.some(vn=>vn.id===Ye)||(Re.cancelAnimationFrame(Ye),st._scheduled=void 0)}});let Fe,xe=1;const pt={};function Et(Rt){return Rt in pt&&(delete pt[Rt],!0)}const ct={setImmediate(Rt){const st=xe++;return pt[st]=!0,Fe||(Fe=Promise.resolve()),Fe.then(()=>Et(st)&&Rt()),st},clearImmediate(Rt){Et(Rt)}},{setImmediate:Ft,clearImmediate:At}=ct,en={setImmediate(...Rt){const{delegate:st}=en;return(st?.setImmediate||Ft)(...Rt)},clearImmediate(Rt){const{delegate:st}=en;return(st?.clearImmediate||At)(Rt)},delegate:void 0};new class xt extends Ge.v{flush(st){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Ht}=this;let vn;st=st||Ht.shift();do{if(vn=st.execute(st.state,st.delay))break}while((st=Ht[0])&&st.id===Ye&&Ht.shift());if(this._active=!1,vn){for(;(st=Ht[0])&&st.id===Ye&&Ht.shift();)st.unsubscribe();throw vn}}}(class gn extends H.o{constructor(st,Ye){super(st,Ye),this.scheduler=st,this.work=Ye}requestAsyncId(st,Ye,Ht=0){return null!==Ht&&Ht>0?super.requestAsyncId(st,Ye,Ht):(st.actions.push(this),st._scheduled||(st._scheduled=en.setImmediate(st.flush.bind(st,void 0))))}recycleAsyncId(st,Ye,Ht=0){if(null!=Ht&&Ht>0||null==Ht&&this.delay>0)return super.recycleAsyncId(st,Ye,Ht);st.actions.some(vn=>vn.id===Ye)||(en.clearImmediate(Ye),st._scheduled=void 0)}});var at=M(7579),ze=M(9646),nt=M(9751),Qe=M(4968),Pe=M(4986),ae=M(4482),_t=M(8421),Ne=M(5403),Gt=M(3532);function Vn(Rt,st=Pe.z){return function Je(Rt){return(0,ae.e)((st,Ye)=>{let Ht=!1,vn=null,Dn=null,vr=!1;const Xt=()=>{if(Dn?.unsubscribe(),Dn=null,Ht){Ht=!1;const Ke=vn;vn=null,Ye.next(Ke)}vr&&Ye.complete()},gt=()=>{Dn=null,vr&&Ye.complete()};st.subscribe((0,Ne.x)(Ye,Ke=>{Ht=!0,vn=Ke,Dn||(0,_t.Xf)(Rt(Ke)).subscribe(Dn=(0,Ne.x)(Ye,Xt,gt))},()=>{vr=!0,(!Ht||!Dn||Dn.closed)&&Ye.complete()}))})}(()=>function Pn(Rt=0,st,Ye=Pe.P){let Ht=-1;return null!=st&&((0,Gt.K)(st)?Ye=st:Ht=st),new nt.y(vn=>{let Dn=function qt(Rt){return Rt instanceof Date&&!isNaN(Rt)}(Rt)?+Rt-Ye.now():Rt;Dn<0&&(Dn=0);let vr=0;return Ye.schedule(function(){vn.closed||(vn.next(vr++),0<=Ht?this.schedule(void 0,Ht):vn.complete())},Dn)})}(Rt,st))}var sn=M(9300),Kt=M(3353),kn=M(6895),fn=M(445);let ui=(()=>{class Rt{constructor(Ye,Ht,vn){this._ngZone=Ye,this._platform=Ht,this._scrolled=new at.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=vn}register(Ye){this.scrollContainers.has(Ye)||this.scrollContainers.set(Ye,Ye.elementScrolled().subscribe(()=>this._scrolled.next(Ye)))}deregister(Ye){const Ht=this.scrollContainers.get(Ye);Ht&&(Ht.unsubscribe(),this.scrollContainers.delete(Ye))}scrolled(Ye=20){return this._platform.isBrowser?new nt.y(Ht=>{this._globalSubscription||this._addGlobalListener();const vn=Ye>0?this._scrolled.pipe(Vn(Ye)).subscribe(Ht):this._scrolled.subscribe(Ht);return this._scrolledCount++,()=>{vn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ze.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ye,Ht)=>this.deregister(Ht)),this._scrolled.complete()}ancestorScrolled(Ye,Ht){const vn=this.getAncestorScrollContainers(Ye);return this.scrolled(Ht).pipe((0,sn.h)(Dn=>!Dn||vn.indexOf(Dn)>-1))}getAncestorScrollContainers(Ye){const Ht=[];return this.scrollContainers.forEach((vn,Dn)=>{this._scrollableContainsElement(Dn,Ye)&&Ht.push(Dn)}),Ht}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ye,Ht){let vn=(0,_.fI)(Ht),Dn=Ye.getElementRef().nativeElement;do{if(vn==Dn)return!0}while(vn=vn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ye=this._getWindow();return(0,Qe.R)(Ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Rt.\u0275fac=function(Ye){return new(Ye||Rt)(d.LFG(d.R0b),d.LFG(Kt.t4),d.LFG(kn.K0,8))},Rt.\u0275prov=d.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})(),jr=(()=>{class Rt{constructor(Ye,Ht,vn){this._platform=Ye,this._change=new at.x,this._changeListener=Dn=>{this._change.next(Dn)},this._document=vn,Ht.runOutsideAngular(()=>{if(Ye.isBrowser){const Dn=this._getWindow();Dn.addEventListener("resize",this._changeListener),Dn.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ye=this._getWindow();Ye.removeEventListener("resize",this._changeListener),Ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ye}getViewportRect(){const Ye=this.getViewportScrollPosition(),{width:Ht,height:vn}=this.getViewportSize();return{top:Ye.top,left:Ye.left,bottom:Ye.top+vn,right:Ye.left+Ht,height:vn,width:Ht}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ye=this._document,Ht=this._getWindow(),vn=Ye.documentElement,Dn=vn.getBoundingClientRect();return{top:-Dn.top||Ye.body.scrollTop||Ht.scrollY||vn.scrollTop||0,left:-Dn.left||Ye.body.scrollLeft||Ht.scrollX||vn.scrollLeft||0}}change(Ye=20){return Ye>0?this._change.pipe(Vn(Ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ye.innerWidth,height:Ye.innerHeight}:{width:0,height:0}}}return Rt.\u0275fac=function(Ye){return new(Ye||Rt)(d.LFG(Kt.t4),d.LFG(d.R0b),d.LFG(kn.K0,8))},Rt.\u0275prov=d.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})(),pn=(()=>{class Rt{}return Rt.\u0275fac=function(Ye){return new(Ye||Rt)},Rt.\u0275mod=d.oAB({type:Rt}),Rt.\u0275inj=d.cJS({}),Rt})(),Hn=(()=>{class Rt{}return Rt.\u0275fac=function(Ye){return new(Ye||Rt)},Rt.\u0275mod=d.oAB({type:Rt}),Rt.\u0275inj=d.cJS({imports:[fn.vT,pn,fn.vT,pn]}),Rt})()},6895:(Zn,St,M)=>{M.d(St,{Do:()=>gn,ED:()=>la,EM:()=>da,HT:()=>Re,JF:()=>Ei,K0:()=>Ge,Mx:()=>Qo,NF:()=>Co,O5:()=>Ki,Ov:()=>fr,PC:()=>ba,PM:()=>Qa,RF:()=>aa,S$:()=>Ft,V_:()=>Ce,Ye:()=>xt,b0:()=>en,bD:()=>cs,ez:()=>No,mk:()=>ai,n9:()=>uo,p6:()=>Ye,q:()=>H,sg:()=>ns,tP:()=>pa,w_:()=>Ae});var _=M(4650);let d=null;function H(){return d}function Re(Q){d||(d=Q)}class Ae{}const Ge=new _.OlP("DocumentToken");let Oe=(()=>{class Q{historyGo(X){throw new Error("Not implemented")}}return Q.\u0275fac=function(X){return new(X||Q)},Q.\u0275prov=_.Yz7({token:Q,factory:function(){return function me(){return(0,_.LFG)(xe)}()},providedIn:"platform"}),Q})();const Ce=new _.OlP("Location Initialized");let xe=(()=>{class Q extends Oe{constructor(X){super(),this._doc=X,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(X){const Ie=H().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("popstate",X,!1),()=>Ie.removeEventListener("popstate",X)}onHashChange(X){const Ie=H().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("hashchange",X,!1),()=>Ie.removeEventListener("hashchange",X)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(X){this.location.pathname=X}pushState(X,Ie,Ot){Fe()?this._history.pushState(X,Ie,Ot):this.location.hash=Ot}replaceState(X,Ie,Ot){Fe()?this._history.replaceState(X,Ie,Ot):this.location.hash=Ot}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}}return Q.\u0275fac=function(X){return new(X||Q)(_.LFG(Ge))},Q.\u0275prov=_.Yz7({token:Q,factory:function(){return function pt(){return new xe((0,_.LFG)(Ge))}()},providedIn:"platform"}),Q})();function Fe(){return!!window.history.pushState}function Et(Q,De){if(0==Q.length)return De;if(0==De.length)return Q;let X=0;return Q.endsWith("/")&&X++,De.startsWith("/")&&X++,2==X?Q+De.substring(1):1==X?Q+De:Q+"/"+De}function ct(Q){const De=Q.match(/#|\?|$/),X=De&&De.index||Q.length;return Q.slice(0,X-("/"===Q[X-1]?1:0))+Q.slice(X)}function jt(Q){return Q&&"?"!==Q[0]?"?"+Q:Q}let Ft=(()=>{class Q{historyGo(X){throw new Error("Not implemented")}}return Q.\u0275fac=function(X){return new(X||Q)},Q.\u0275prov=_.Yz7({token:Q,factory:function(){return(0,_.f3M)(en)},providedIn:"root"}),Q})();const At=new _.OlP("appBaseHref");let en=(()=>{class Q extends Ft{constructor(X,Ie){super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=Ie??this._platformLocation.getBaseHrefFromDOM()??(0,_.f3M)(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return Et(this._baseHref,X)}path(X=!1){const Ie=this._platformLocation.pathname+jt(this._platformLocation.search),Ot=this._platformLocation.hash;return Ot&&X?`${Ie}${Ot}`:Ie}pushState(X,Ie,Ot,wn){const En=this.prepareExternalUrl(Ot+jt(wn));this._platformLocation.pushState(X,Ie,En)}replaceState(X,Ie,Ot,wn){const En=this.prepareExternalUrl(Ot+jt(wn));this._platformLocation.replaceState(X,Ie,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){this._platformLocation.historyGo?.(X)}}return Q.\u0275fac=function(X){return new(X||Q)(_.LFG(Oe),_.LFG(At,8))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})(),gn=(()=>{class Q extends Ft{constructor(X,Ie){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=Ie&&(this._baseHref=Ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){let Ie=this._platformLocation.hash;return null==Ie&&(Ie="#"),Ie.length>0?Ie.substring(1):Ie}prepareExternalUrl(X){const Ie=Et(this._baseHref,X);return Ie.length>0?"#"+Ie:Ie}pushState(X,Ie,Ot,wn){let En=this.prepareExternalUrl(Ot+jt(wn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(X,Ie,En)}replaceState(X,Ie,Ot,wn){let En=this.prepareExternalUrl(Ot+jt(wn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(X,Ie,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){this._platformLocation.historyGo?.(X)}}return Q.\u0275fac=function(X){return new(X||Q)(_.LFG(Oe),_.LFG(At,8))},Q.\u0275prov=_.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),xt=(()=>{class Q{constructor(X){this._subject=new _.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const Ie=this._locationStrategy.getBaseHref();this._baseHref=ct(at(Ie)),this._locationStrategy.onPopState(Ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ot.state,type:Ot.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,Ie=""){return this.path()==this.normalize(X+jt(Ie))}normalize(X){return Q.stripTrailingSlash(function Ve(Q,De){return Q&&De.startsWith(Q)?De.substring(Q.length):De}(this._baseHref,at(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,Ie="",Ot=null){this._locationStrategy.pushState(Ot,"",X,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+jt(Ie)),Ot)}replaceState(X,Ie="",Ot=null){this._locationStrategy.replaceState(Ot,"",X,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+jt(Ie)),Ot)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){this._locationStrategy.historyGo?.(X)}onUrlChange(X){return this._urlChangeListeners.push(X),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ie=>{this._notifyUrlChangeListeners(Ie.url,Ie.state)})),()=>{const Ie=this._urlChangeListeners.indexOf(X);this._urlChangeListeners.splice(Ie,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",Ie){this._urlChangeListeners.forEach(Ot=>Ot(X,Ie))}subscribe(X,Ie,Ot){return this._subject.subscribe({next:X,error:Ie,complete:Ot})}}return Q.normalizeQueryParams=jt,Q.joinWithSlash=Et,Q.stripTrailingSlash=ct,Q.\u0275fac=function(X){return new(X||Q)(_.LFG(Ft))},Q.\u0275prov=_.Yz7({token:Q,factory:function(){return function Ue(){return new xt((0,_.LFG)(Ft))}()},providedIn:"root"}),Q})();function at(Q){return Q.replace(/\/index.html$/,"")}var Pe=(()=>((Pe=Pe||{})[Pe.Format=0]="Format",Pe[Pe.Standalone=1]="Standalone",Pe))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),_t=(()=>((_t=_t||{})[_t.Short=0]="Short",_t[_t.Medium=1]="Medium",_t[_t.Long=2]="Long",_t[_t.Full=3]="Full",_t))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function fn(Q,De){return Hr((0,_.cg1)(Q)[_.wAp.DateFormat],De)}function cn(Q,De){return Hr((0,_.cg1)(Q)[_.wAp.TimeFormat],De)}function mn(Q,De){return Hr((0,_.cg1)(Q)[_.wAp.DateTimeFormat],De)}function Wt(Q,De){const X=(0,_.cg1)(Q),Ie=X[_.wAp.NumberSymbols][De];if(typeof Ie>"u"){if(De===Ne.CurrencyDecimal)return X[_.wAp.NumberSymbols][Ne.Decimal];if(De===Ne.CurrencyGroup)return X[_.wAp.NumberSymbols][Ne.Group]}return Ie}function di(Q){if(!Q[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${Q[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Hr(Q,De){for(let X=De;X>-1;X--)if(typeof Q[X]<"u")return Q[X];throw new Error("Locale data API: locale data undefined")}function hi(Q){const[De,X]=Q.split(":");return{hours:+De,minutes:+X}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tn={},pn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Hn=(()=>((Hn=Hn||{})[Hn.Short=0]="Short",Hn[Hn.ShortGMT=1]="ShortGMT",Hn[Hn.Long=2]="Long",Hn[Hn.Extended=3]="Extended",Hn))(),Rt=(()=>((Rt=Rt||{})[Rt.FullYear=0]="FullYear",Rt[Rt.Month=1]="Month",Rt[Rt.Date=2]="Date",Rt[Rt.Hours=3]="Hours",Rt[Rt.Minutes=4]="Minutes",Rt[Rt.Seconds=5]="Seconds",Rt[Rt.FractionalSeconds=6]="FractionalSeconds",Rt[Rt.Day=7]="Day",Rt))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function Ye(Q,De,X,Ie){let Ot=function ve(Q){if(Tt(Q))return Q;if("number"==typeof Q&&!isNaN(Q))return new Date(Q);if("string"==typeof Q){if(Q=Q.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Q)){const[Ot,wn=1,En=1]=Q.split("-").map(kr=>+kr);return Ht(Ot,wn-1,En)}const X=parseFloat(Q);if(!isNaN(Q-X))return new Date(X);let Ie;if(Ie=Q.match(kt))return function tt(Q){const De=new Date(0);let X=0,Ie=0;const Ot=Q[8]?De.setUTCFullYear:De.setFullYear,wn=Q[8]?De.setUTCHours:De.setHours;Q[9]&&(X=Number(Q[9]+Q[10]),Ie=Number(Q[9]+Q[11])),Ot.call(De,Number(Q[1]),Number(Q[2])-1,Number(Q[3]));const En=Number(Q[4]||0)-X,kr=Number(Q[5]||0)-Ie,ds=Number(Q[6]||0),ji=Math.floor(1e3*parseFloat("0."+(Q[7]||0)));return wn.call(De,En,kr,ds,ji),De}(Ie)}const De=new Date(Q);if(!Tt(De))throw new Error(`Unable to convert "${Q}" into a date`);return De}(Q);De=vn(X,De)||De;let kr,En=[];for(;De;){if(kr=pn.exec(De),!kr){En.push(De);break}{En=En.concat(kr.slice(1));const hs=En.pop();if(!hs)break;De=hs}}let ds=Ot.getTimezoneOffset();Ie&&(ds=Un(Ie,ds),Ot=function ke(Q,De,X){const Ie=X?-1:1,Ot=Q.getTimezoneOffset();return function de(Q,De){return(Q=new Date(Q.getTime())).setMinutes(Q.getMinutes()+De),Q}(Q,Ie*(Un(De,Ot)-Ot))}(Ot,Ie,!0));let ji="";return En.forEach(hs=>{const ki=function tr(Q){if(jn[Q])return jn[Q];let De;switch(Q){case"G":case"GG":case"GGG":De=Y(st.Eras,ae.Abbreviated);break;case"GGGG":De=Y(st.Eras,ae.Wide);break;case"GGGGG":De=Y(st.Eras,ae.Narrow);break;case"y":De=gt(Rt.FullYear,1,0,!1,!0);break;case"yy":De=gt(Rt.FullYear,2,0,!0,!0);break;case"yyy":De=gt(Rt.FullYear,3,0,!1,!0);break;case"yyyy":De=gt(Rt.FullYear,4,0,!1,!0);break;case"Y":De=Dt(1);break;case"YY":De=Dt(2,!0);break;case"YYY":De=Dt(3);break;case"YYYY":De=Dt(4);break;case"M":case"L":De=gt(Rt.Month,1,1);break;case"MM":case"LL":De=gt(Rt.Month,2,1);break;case"MMM":De=Y(st.Months,ae.Abbreviated);break;case"MMMM":De=Y(st.Months,ae.Wide);break;case"MMMMM":De=Y(st.Months,ae.Narrow);break;case"LLL":De=Y(st.Months,ae.Abbreviated,Pe.Standalone);break;case"LLLL":De=Y(st.Months,ae.Wide,Pe.Standalone);break;case"LLLLL":De=Y(st.Months,ae.Narrow,Pe.Standalone);break;case"w":De=ot(1);break;case"ww":De=ot(2);break;case"W":De=ot(1,!0);break;case"d":De=gt(Rt.Date,1);break;case"dd":De=gt(Rt.Date,2);break;case"c":case"cc":De=gt(Rt.Day,1);break;case"ccc":De=Y(st.Days,ae.Abbreviated,Pe.Standalone);break;case"cccc":De=Y(st.Days,ae.Wide,Pe.Standalone);break;case"ccccc":De=Y(st.Days,ae.Narrow,Pe.Standalone);break;case"cccccc":De=Y(st.Days,ae.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":De=Y(st.Days,ae.Abbreviated);break;case"EEEE":De=Y(st.Days,ae.Wide);break;case"EEEEE":De=Y(st.Days,ae.Narrow);break;case"EEEEEE":De=Y(st.Days,ae.Short);break;case"a":case"aa":case"aaa":De=Y(st.DayPeriods,ae.Abbreviated);break;case"aaaa":De=Y(st.DayPeriods,ae.Wide);break;case"aaaaa":De=Y(st.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":De=Y(st.DayPeriods,ae.Abbreviated,Pe.Standalone,!0);break;case"bbbb":De=Y(st.DayPeriods,ae.Wide,Pe.Standalone,!0);break;case"bbbbb":De=Y(st.DayPeriods,ae.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":De=Y(st.DayPeriods,ae.Abbreviated,Pe.Format,!0);break;case"BBBB":De=Y(st.DayPeriods,ae.Wide,Pe.Format,!0);break;case"BBBBB":De=Y(st.DayPeriods,ae.Narrow,Pe.Format,!0);break;case"h":De=gt(Rt.Hours,1,-12);break;case"hh":De=gt(Rt.Hours,2,-12);break;case"H":De=gt(Rt.Hours,1);break;case"HH":De=gt(Rt.Hours,2);break;case"m":De=gt(Rt.Minutes,1);break;case"mm":De=gt(Rt.Minutes,2);break;case"s":De=gt(Rt.Seconds,1);break;case"ss":De=gt(Rt.Seconds,2);break;case"S":De=gt(Rt.FractionalSeconds,1);break;case"SS":De=gt(Rt.FractionalSeconds,2);break;case"SSS":De=gt(Rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":De=ne(Hn.Short);break;case"ZZZZZ":De=ne(Hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":De=ne(Hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":De=ne(Hn.Long);break;default:return null}return jn[Q]=De,De}(hs);ji+=ki?ki(Ot,X,ds):"''"===hs?"'":hs.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ji}function Ht(Q,De,X){const Ie=new Date(0);return Ie.setFullYear(Q,De,X),Ie.setHours(0,0,0),Ie}function vn(Q,De){const X=function Gt(Q){return(0,_.cg1)(Q)[_.wAp.LocaleId]}(Q);if(tn[X]=tn[X]||{},tn[X][De])return tn[X][De];let Ie="";switch(De){case"shortDate":Ie=fn(Q,_t.Short);break;case"mediumDate":Ie=fn(Q,_t.Medium);break;case"longDate":Ie=fn(Q,_t.Long);break;case"fullDate":Ie=fn(Q,_t.Full);break;case"shortTime":Ie=cn(Q,_t.Short);break;case"mediumTime":Ie=cn(Q,_t.Medium);break;case"longTime":Ie=cn(Q,_t.Long);break;case"fullTime":Ie=cn(Q,_t.Full);break;case"short":const Ot=vn(Q,"shortTime"),wn=vn(Q,"shortDate");Ie=Dn(mn(Q,_t.Short),[Ot,wn]);break;case"medium":const En=vn(Q,"mediumTime"),kr=vn(Q,"mediumDate");Ie=Dn(mn(Q,_t.Medium),[En,kr]);break;case"long":const ds=vn(Q,"longTime"),ji=vn(Q,"longDate");Ie=Dn(mn(Q,_t.Long),[ds,ji]);break;case"full":const hs=vn(Q,"fullTime"),ki=vn(Q,"fullDate");Ie=Dn(mn(Q,_t.Full),[hs,ki])}return Ie&&(tn[X][De]=Ie),Ie}function Dn(Q,De){return De&&(Q=Q.replace(/\{([^}]+)}/g,function(X,Ie){return null!=De&&Ie in De?De[Ie]:X})),Q}function vr(Q,De,X="-",Ie,Ot){let wn="";(Q<0||Ot&&Q<=0)&&(Ot?Q=1-Q:(Q=-Q,wn=X));let En=String(Q);for(;En.length<De;)En="0"+En;return Ie&&(En=En.slice(En.length-De)),wn+En}function gt(Q,De,X=0,Ie=!1,Ot=!1){return function(wn,En){let kr=function Ke(Q,De){switch(Q){case Rt.FullYear:return De.getFullYear();case Rt.Month:return De.getMonth();case Rt.Date:return De.getDate();case Rt.Hours:return De.getHours();case Rt.Minutes:return De.getMinutes();case Rt.Seconds:return De.getSeconds();case Rt.FractionalSeconds:return De.getMilliseconds();case Rt.Day:return De.getDay();default:throw new Error(`Unknown DateType value "${Q}".`)}}(Q,wn);if((X>0||kr>-X)&&(kr+=X),Q===Rt.Hours)0===kr&&-12===X&&(kr=12);else if(Q===Rt.FractionalSeconds)return function Xt(Q,De){return vr(Q,3).substring(0,De)}(kr,De);const ds=Wt(En,Ne.MinusSign);return vr(kr,De,ds,Ie,Ot)}}function Y(Q,De,X=Pe.Format,Ie=!1){return function(Ot,wn){return function V(Q,De,X,Ie,Ot,wn){switch(X){case st.Months:return function Vn(Q,De,X){const Ie=(0,_.cg1)(Q),wn=Hr([Ie[_.wAp.MonthsFormat],Ie[_.wAp.MonthsStandalone]],De);return Hr(wn,X)}(De,Ot,Ie)[Q.getMonth()];case st.Days:return function Pn(Q,De,X){const Ie=(0,_.cg1)(Q),wn=Hr([Ie[_.wAp.DaysFormat],Ie[_.wAp.DaysStandalone]],De);return Hr(wn,X)}(De,Ot,Ie)[Q.getDay()];case st.DayPeriods:const En=Q.getHours(),kr=Q.getMinutes();if(wn){const ji=function jr(Q){const De=(0,_.cg1)(Q);return di(De),(De[_.wAp.ExtraData][2]||[]).map(Ie=>"string"==typeof Ie?hi(Ie):[hi(Ie[0]),hi(Ie[1])])}(De),hs=function xi(Q,De,X){const Ie=(0,_.cg1)(Q);di(Ie);const wn=Hr([Ie[_.wAp.ExtraData][0],Ie[_.wAp.ExtraData][1]],De)||[];return Hr(wn,X)||[]}(De,Ot,Ie),ki=ji.findIndex(Ts=>{if(Array.isArray(Ts)){const[zi,Ti]=Ts,Wn=En>=zi.hours&&kr>=zi.minutes,Or=En<Ti.hours||En===Ti.hours&&kr<Ti.minutes;if(zi.hours<Ti.hours){if(Wn&&Or)return!0}else if(Wn||Or)return!0}else if(Ts.hours===En&&Ts.minutes===kr)return!0;return!1});if(-1!==ki)return hs[ki]}return function qt(Q,De,X){const Ie=(0,_.cg1)(Q),wn=Hr([Ie[_.wAp.DayPeriodsFormat],Ie[_.wAp.DayPeriodsStandalone]],De);return Hr(wn,X)}(De,Ot,Ie)[En<12?0:1];case st.Eras:return function sn(Q,De){return Hr((0,_.cg1)(Q)[_.wAp.Eras],De)}(De,Ie)[Q.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${X}`)}}(Ot,wn,Q,De,X,Ie)}}function ne(Q){return function(De,X,Ie){const Ot=-1*Ie,wn=Wt(X,Ne.MinusSign),En=Ot>0?Math.floor(Ot/60):Math.ceil(Ot/60);switch(Q){case Hn.Short:return(Ot>=0?"+":"")+vr(En,2,wn)+vr(Math.abs(Ot%60),2,wn);case Hn.ShortGMT:return"GMT"+(Ot>=0?"+":"")+vr(En,1,wn);case Hn.Long:return"GMT"+(Ot>=0?"+":"")+vr(En,2,wn)+":"+vr(Math.abs(Ot%60),2,wn);case Hn.Extended:return 0===Ie?"Z":(Ot>=0?"+":"")+vr(En,2,wn)+":"+vr(Math.abs(Ot%60),2,wn);default:throw new Error(`Unknown zone width "${Q}"`)}}}function be(Q){return Ht(Q.getFullYear(),Q.getMonth(),Q.getDate()+(4-Q.getDay()))}function ot(Q,De=!1){return function(X,Ie){let Ot;if(De){const wn=new Date(X.getFullYear(),X.getMonth(),1).getDay()-1,En=X.getDate();Ot=1+Math.floor((En+wn)/7)}else{const wn=be(X),En=function se(Q){const De=Ht(Q,0,1).getDay();return Ht(Q,0,1+(De<=4?4:11)-De)}(wn.getFullYear()),kr=wn.getTime()-En.getTime();Ot=1+Math.round(kr/6048e5)}return vr(Ot,Q,Wt(Ie,Ne.MinusSign))}}function Dt(Q,De=!1){return function(X,Ie){return vr(be(X).getFullYear(),Q,Wt(Ie,Ne.MinusSign),De)}}const jn={};function Un(Q,De){Q=Q.replace(/:/g,"");const X=Date.parse("Jan 01, 1970 00:00:00 "+Q)/6e4;return isNaN(X)?De:X}function Tt(Q){return Q instanceof Date&&!isNaN(Q.valueOf())}function Qo(Q,De){De=encodeURIComponent(De);for(const X of Q.split(";")){const Ie=X.indexOf("="),[Ot,wn]=-1==Ie?[X,""]:[X.slice(0,Ie),X.slice(Ie+1)];if(Ot.trim()===De)return decodeURIComponent(wn)}return null}let ai=(()=>{class Q{constructor(X,Ie,Ot,wn){this._iterableDiffers=X,this._keyValueDiffers=Ie,this._ngEl=Ot,this._renderer=wn,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(X){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof X?X.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(X){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof X?X.split(/\s+/):X,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const X=this._iterableDiffer.diff(this._rawClass);X&&this._applyIterableChanges(X)}else if(this._keyValueDiffer){const X=this._keyValueDiffer.diff(this._rawClass);X&&this._applyKeyValueChanges(X)}}_applyKeyValueChanges(X){X.forEachAddedItem(Ie=>this._toggleClass(Ie.key,Ie.currentValue)),X.forEachChangedItem(Ie=>this._toggleClass(Ie.key,Ie.currentValue)),X.forEachRemovedItem(Ie=>{Ie.previousValue&&this._toggleClass(Ie.key,!1)})}_applyIterableChanges(X){X.forEachAddedItem(Ie=>{if("string"!=typeof Ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(Ie.item)}`);this._toggleClass(Ie.item,!0)}),X.forEachRemovedItem(Ie=>this._toggleClass(Ie.item,!1))}_applyClasses(X){X&&(Array.isArray(X)||X instanceof Set?X.forEach(Ie=>this._toggleClass(Ie,!0)):Object.keys(X).forEach(Ie=>this._toggleClass(Ie,!!X[Ie])))}_removeClasses(X){X&&(Array.isArray(X)||X instanceof Set?X.forEach(Ie=>this._toggleClass(Ie,!1)):Object.keys(X).forEach(Ie=>this._toggleClass(Ie,!1)))}_toggleClass(X,Ie){(X=X.trim())&&X.split(/\s+/g).forEach(Ot=>{Ie?this._renderer.addClass(this._ngEl.nativeElement,Ot):this._renderer.removeClass(this._ngEl.nativeElement,Ot)})}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),Q})();class Ns{constructor(De,X,Ie,Ot){this.$implicit=De,this.ngForOf=X,this.index=Ie,this.count=Ot}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ns=(()=>{class Q{constructor(X,Ie,Ot){this._viewContainer=X,this._template=Ie,this._differs=Ot,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const Ie=this._viewContainer;X.forEachOperation((Ot,wn,En)=>{if(null==Ot.previousIndex)Ie.createEmbeddedView(this._template,new Ns(Ot.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)Ie.remove(null===wn?void 0:wn);else if(null!==wn){const kr=Ie.get(wn);Ie.move(kr,En),Zi(kr,Ot)}});for(let Ot=0,wn=Ie.length;Ot<wn;Ot++){const kr=Ie.get(Ot).context;kr.index=Ot,kr.count=wn,kr.ngForOf=this._ngForOf}X.forEachIdentityChange(Ot=>{Zi(Ie.get(Ot.currentIndex),Ot)})}static ngTemplateContextGuard(X,Ie){return!0}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Q})();function Zi(Q,De){Q.context.$implicit=De.item}let Ki=(()=>{class Q{constructor(X,Ie){this._viewContainer=X,this._context=new Ds,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ie}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){Po("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){Po("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,Ie){return!0}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.s_b),_.Y36(_.Rgc))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Q})();class Ds{constructor(){this.$implicit=null,this.ngIf=null}}function Po(Q,De){if(De&&!De.createEmbeddedView)throw new Error(`${Q} must be a TemplateRef, but received '${(0,_.AaK)(De)}'.`)}class ol{constructor(De,X){this._viewContainerRef=De,this._templateRef=X,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(De){De&&!this._created?this.create():!De&&this._created&&this.destroy()}}let aa=(()=>{class Q{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(X){this._ngSwitch=X,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(X){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(X)}_matchCase(X){const Ie=X==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ie,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ie}_updateDefaultCases(X){if(this._defaultViews&&X!==this._defaultUsed){this._defaultUsed=X;for(let Ie=0;Ie<this._defaultViews.length;Ie++)this._defaultViews[Ie].enforceState(X)}}}return Q.\u0275fac=function(X){return new(X||Q)},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),Q})(),uo=(()=>{class Q{constructor(X,Ie,Ot){this.ngSwitch=Ot,Ot._addCase(),this._view=new ol(X,Ie)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(aa,9))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),Q})(),la=(()=>{class Q{constructor(X,Ie,Ot){Ot._addDefault(new ol(X,Ie))}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(aa,9))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngSwitchDefault",""]],standalone:!0}),Q})(),ba=(()=>{class Q{constructor(X,Ie,Ot){this._ngEl=X,this._differs=Ie,this._renderer=Ot,this._ngStyle=null,this._differ=null}set ngStyle(X){this._ngStyle=X,!this._differ&&X&&(this._differ=this._differs.find(X).create())}ngDoCheck(){if(this._differ){const X=this._differ.diff(this._ngStyle);X&&this._applyChanges(X)}}_setStyle(X,Ie){const[Ot,wn]=X.split("."),En=-1===Ot.indexOf("-")?void 0:_.JOm.DashCase;null!=Ie?this._renderer.setStyle(this._ngEl.nativeElement,Ot,wn?`${Ie}${wn}`:Ie,En):this._renderer.removeStyle(this._ngEl.nativeElement,Ot,En)}_applyChanges(X){X.forEachRemovedItem(Ie=>this._setStyle(Ie.key,null)),X.forEachAddedItem(Ie=>this._setStyle(Ie.key,Ie.currentValue)),X.forEachChangedItem(Ie=>this._setStyle(Ie.key,Ie.currentValue))}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.SBq),_.Y36(_.aQg),_.Y36(_.Qsj))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),Q})(),pa=(()=>{class Q{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(X.ngTemplateOutlet||X.ngTemplateOutletInjector){const Ie=this._viewContainerRef;if(this._viewRef&&Ie.remove(Ie.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ot,ngTemplateOutletContext:wn,ngTemplateOutletInjector:En}=this;this._viewRef=Ie.createEmbeddedView(Ot,wn,En?{injector:En}:void 0)}else this._viewRef=null}else this._viewRef&&X.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.s_b))},Q.\u0275dir=_.lG2({type:Q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_.TTD]}),Q})();class zt{createSubscription(De,X){return De.subscribe({next:X,error:Ie=>{throw Ie}})}dispose(De){De.unsubscribe()}}class Pt{createSubscription(De,X){return De.then(X,Ie=>{throw Ie})}dispose(De){}}const yn=new Pt,zn=new zt;let fr=(()=>{class Q{constructor(X){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=X}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(X){return this._obj?X!==this._obj?(this._dispose(),this.transform(X)):this._latestValue:(X&&this._subscribe(X),this._latestValue)}_subscribe(X){this._obj=X,this._strategy=this._selectStrategy(X),this._subscription=this._strategy.createSubscription(X,Ie=>this._updateLatestValue(X,Ie))}_selectStrategy(X){if((0,_.QGY)(X))return yn;if((0,_.F4k)(X))return zn;throw function to(Q,De){return new _.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(X,Ie){X===this._obj&&(this._latestValue=Ie,this._ref.markForCheck())}}return Q.\u0275fac=function(X){return new(X||Q)(_.Y36(_.sBO,16))},Q.\u0275pipe=_.Yjl({name:"async",type:Q,pure:!1,standalone:!0}),Q})(),No=(()=>{class Q{}return Q.\u0275fac=function(X){return new(X||Q)},Q.\u0275mod=_.oAB({type:Q}),Q.\u0275inj=_.cJS({}),Q})();const cs="browser";function Co(Q){return Q===cs}function Qa(Q){return"server"===Q}let da=(()=>{class Q{}return Q.\u0275prov=(0,_.Yz7)({token:Q,providedIn:"root",factory:()=>new jo((0,_.LFG)(Ge),window)}),Q})();class jo{constructor(De,X){this.document=De,this.window=X,this.offset=()=>[0,0]}setOffset(De){this.offset=Array.isArray(De)?()=>De:De}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(De){this.supportsScrolling()&&this.window.scrollTo(De[0],De[1])}scrollToAnchor(De){if(!this.supportsScrolling())return;const X=function ma(Q,De){const X=Q.getElementById(De)||Q.getElementsByName(De)[0];if(X)return X;if("function"==typeof Q.createTreeWalker&&Q.body&&(Q.body.createShadowRoot||Q.body.attachShadow)){const Ie=Q.createTreeWalker(Q.body,NodeFilter.SHOW_ELEMENT);let Ot=Ie.currentNode;for(;Ot;){const wn=Ot.shadowRoot;if(wn){const En=wn.getElementById(De)||wn.querySelector(`[name="${De}"]`);if(En)return En}Ot=Ie.nextNode()}}return null}(this.document,De);X&&(this.scrollToElement(X),X.focus())}setHistoryScrollRestoration(De){if(this.supportScrollRestoration()){const X=this.window.history;X&&X.scrollRestoration&&(X.scrollRestoration=De)}}scrollToElement(De){const X=De.getBoundingClientRect(),Ie=X.left+this.window.pageXOffset,Ot=X.top+this.window.pageYOffset,wn=this.offset();this.window.scrollTo(Ie-wn[0],Ot-wn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const De=Xa(this.window.history)||Xa(Object.getPrototypeOf(this.window.history));return!(!De||!De.writable&&!De.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Xa(Q){return Object.getOwnPropertyDescriptor(Q,"scrollRestoration")}class Ei{}},4650:(Zn,St,M)=>{M.d(St,{$8M:()=>Zs,$Z:()=>Uy,AFp:()=>eb,ALo:()=>pv,AaK:()=>Oe,AsE:()=>Ka,B6R:()=>ue,BQk:()=>Xp,CHM:()=>Gi,CRH:()=>Kf,CZH:()=>Ql,CqO:()=>gx,D6c:()=>Iv,EJc:()=>nD,EiD:()=>Rg,EpF:()=>Gf,F$t:()=>j_,F4k:()=>px,FYo:()=>iy,FiY:()=>Cn,G48:()=>hA,Gf:()=>OC,GfV:()=>_p,GkF:()=>Fm,Gpc:()=>xe,Gre:()=>Rx,Hsn:()=>xx,Ikx:()=>IE,JOm:()=>$o,JVY:()=>ad,KtG:()=>As,L6k:()=>lf,LAX:()=>kg,LFG:()=>io,LSH:()=>Du,Lbi:()=>Zk,Lck:()=>lT,MAs:()=>B_,MMx:()=>Hx,NdJ:()=>U_,OlP:()=>vi,Oqu:()=>Yh,PXZ:()=>cu,Q6J:()=>jh,QGY:()=>Bu,QP$:()=>_v,QbO:()=>tD,Qsj:()=>sy,R0b:()=>Xl,RDi:()=>sd,Rgc:()=>Qm,SBq:()=>mp,Sil:()=>rA,Suo:()=>FC,TTD:()=>wo,TgZ:()=>Lu,Udp:()=>Q_,VKq:()=>WE,WFA:()=>H_,WLB:()=>wC,X6Q:()=>dA,XFs:()=>mr,Xpm:()=>pe,Xts:()=>_h,Y36:()=>Fh,YKP:()=>pC,YNc:()=>Hf,Yjl:()=>Un,Yz7:()=>cn,ZZ4:()=>_b,_Bn:()=>fC,_UZ:()=>zh,_Vd:()=>Tu,_c5:()=>Ku,_uU:()=>rv,aQg:()=>vb,c2e:()=>eA,cJS:()=>Wt,cg1:()=>Ox,d8E:()=>kE,dDg:()=>wv,dqk:()=>st,eBb:()=>x0,eFA:()=>lD,ekj:()=>X_,eoX:()=>oD,f3M:()=>rd,g9A:()=>ew,h0i:()=>Zm,hGG:()=>yb,hij:()=>th,iGM:()=>RC,ifc:()=>Rt,ip1:()=>Qx,kL8:()=>Uu,kYT:()=>Dt,l5B:()=>$E,lG2:()=>tr,lcZ:()=>$x,lqb:()=>Bd,lri:()=>Ed,mCW:()=>an,n5z:()=>Wi,n_E:()=>Kx,oAB:()=>ot,oxw:()=>yx,pB0:()=>Fd,q3G:()=>ls,q4F:()=>D0,qLn:()=>ia,qOj:()=>Sm,qZA:()=>Pc,qzn:()=>Zc,rWj:()=>Yf,s9C:()=>Pm,sBO:()=>hg,sIi:()=>Qp,s_b:()=>ag,soG:()=>tw,tb:()=>eD,tp0:()=>Cr,uIk:()=>R_,vHH:()=>ct,vpe:()=>ju,wAp:()=>Ri,xi3:()=>YE,xp6:()=>Xg,ynx:()=>Om,z2F:()=>Sv,z3N:()=>kc,zSh:()=>ff,zs3:()=>jd});var _=M(7579),d=M(727),H=M(9751),ge=M(6451),Re=M(3099);function Ae(a){for(let l in a)if(a[l]===Ae)return l;throw Error("Could not find renamed property on target object.")}function Ge(a,l){for(const h in l)l.hasOwnProperty(h)&&!a.hasOwnProperty(h)&&(a[h]=l[h])}function Oe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Oe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const h=l.indexOf("\n");return-1===h?l:l.substring(0,h)}function me(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Ce=Ae({__forward_ref__:Ae});function xe(a){return a.__forward_ref__=xe,a.toString=function(){return Oe(this())},a}function Fe(a){return pt(a)?a():a}function pt(a){return"function"==typeof a&&a.hasOwnProperty(Ce)&&a.__forward_ref__===xe}class ct extends Error{constructor(l,h){super(function jt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,h)),this.code=l}}function Ft(a){return"string"==typeof a?a:null==a?"":String(a)}function Ue(a,l){throw new ct(-201,!1)}function Vn(a,l){null==a&&function sn(a,l,h,m){throw new Error(`ASSERTION ERROR: ${a}`+(null==m?"":` [Expected=> ${h} ${m} ${l} <=Actual]`))}(l,a,null,"!=")}function cn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Wt(a){return{providers:a.providers||[],imports:a.imports||[]}}function An(a){return Kn(a,Mr)||Kn(a,jr)}function Kn(a,l){return a.hasOwnProperty(l)?a[l]:null}function ui(a){return a&&(a.hasOwnProperty(di)||a.hasOwnProperty(xi))?a[di]:null}const Mr=Ae({\u0275prov:Ae}),di=Ae({\u0275inj:Ae}),jr=Ae({ngInjectableDef:Ae}),xi=Ae({ngInjectorDef:Ae});var mr=(()=>((mr=mr||{})[mr.Default=0]="Default",mr[mr.Host=1]="Host",mr[mr.Self=2]="Self",mr[mr.SkipSelf=4]="SkipSelf",mr[mr.Optional=8]="Optional",mr))();let Hr;function Yt(a){const l=Hr;return Hr=a,l}function fe(a,l,h){const m=An(a);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:h&mr.Optional?null:void 0!==l?l:void Ue(Oe(a))}function kt(a){return{toString:a}.toString()}var tn=(()=>((tn=tn||{})[tn.OnPush=0]="OnPush",tn[tn.Default=1]="Default",tn))(),Rt=(()=>{return(a=Rt||(Rt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Rt;var a})();const st=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vn={},Dn=[],vr=Ae({\u0275cmp:Ae}),Xt=Ae({\u0275dir:Ae}),gt=Ae({\u0275pipe:Ae}),Ke=Ae({\u0275mod:Ae}),Y=Ae({\u0275fac:Ae}),V=Ae({__NG_ELEMENT_ID__:Ae});let ne=0;function pe(a){return kt(()=>{const h=!0===a.standalone,m={},y={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===tn.OnPush,directiveDefs:null,pipeDefs:null,standalone:h,dependencies:h&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Dn,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Rt.Emulated,id:"c"+ne++,styles:a.styles||Dn,_:null,setInput:null,schemas:a.schemas||null,tView:null},b=a.dependencies,A=a.features;return y.inputs=jn(a.inputs,m),y.outputs=jn(a.outputs),A&&A.forEach(P=>P(y)),y.directiveDefs=b?()=>("function"==typeof b?b():b).map(se).filter(be):null,y.pipeDefs=b?()=>("function"==typeof b?b():b).map(ve).filter(be):null,y})}function ue(a,l,h){const m=a.\u0275cmp;m.directiveDefs=()=>("function"==typeof l?l():l).map(se),m.pipeDefs=()=>("function"==typeof h?h():h).map(ve)}function se(a){return de(a)||ke(a)}function be(a){return null!==a}function ot(a){return kt(()=>({type:a.type,bootstrap:a.bootstrap||Dn,declarations:a.declarations||Dn,imports:a.imports||Dn,exports:a.exports||Dn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Dt(a,l){return kt(()=>{const h=tt(a,!0);h.declarations=l.declarations||Dn,h.imports=l.imports||Dn,h.exports=l.exports||Dn})}function jn(a,l){if(null==a)return vn;const h={};for(const m in a)if(a.hasOwnProperty(m)){let y=a[m],b=y;Array.isArray(y)&&(b=y[1],y=y[0]),h[y]=m,l&&(l[y]=b)}return h}const tr=pe;function Un(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function de(a){return a[vr]||null}function ke(a){return a[Xt]||null}function ve(a){return a[gt]||null}function tt(a,l){const h=a[Ke]||null;if(!h&&!0===l)throw new Error(`Type ${Oe(a)} does not have '\u0275mod' property.`);return h}function Ki(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ds(a){return Array.isArray(a)&&!0===a[1]}function Po(a){return 0!=(8&a.flags)}function ol(a){return 2==(2&a.flags)}function aa(a){return 1==(1&a.flags)}function uo(a){return null!==a.template}function la(a){return 0!=(256&a[2])}function js(a,l){return a.hasOwnProperty(Y)?a[Y]:null}class Bs{constructor(l,h,m){this.previousValue=l,this.currentValue=h,this.firstChange=m}isFirstChange(){return this.firstChange}}function wo(){return Eo}function Eo(a){return a.type.prototype.ngOnChanges&&(a.setInput=_c),bo}function bo(){const a=ho(this),l=a?.current;if(l){const h=a.previous;if(h===vn)a.previous=l;else for(let m in l)h[m]=l[m];a.current=null,this.ngOnChanges(l)}}function _c(a,l,h,m){const y=ho(a)||function _l(a,l){return a[ta]=l}(a,{previous:vn,current:null}),b=y.current||(y.current={}),A=y.previous,P=this.declaredInputs[h],U=A[P];b[P]=new Bs(U&&U.currentValue,l,A===vn),a[m]=l}wo.ngInherit=!0;const ta="__ngSimpleChanges__";function ho(a){return a[ta]||null}function is(a){for(;Array.isArray(a);)a=a[0];return a}function da(a,l){return is(l[a])}function jo(a,l){return is(l[a.index])}function ma(a,l){return a.data[l]}function fo(a,l){return a[l]}function Ei(a,l){const h=l[a];return Ki(h)?h:h[0]}function Q(a){return 4==(4&a[2])}function De(a){return 64==(64&a[2])}function Ie(a,l){return null==l?null:a[l]}function Ot(a){a[18]=0}function wn(a,l){a[5]+=l;let h=a,m=a[3];for(;null!==m&&(1===l&&1===h[5]||-1===l&&0===h[5]);)m[5]+=l,h=m,m=m[3]}const En={lFrame:Yi(null),bindingsEnabled:!0};function Ts(){return En.bindingsEnabled}function Wn(){return En.lFrame.lView}function Or(){return En.lFrame.tView}function Gi(a){return En.lFrame.contextLView=a,a[8]}function As(a){return En.lFrame.contextLView=null,a}function Is(){let a=Io();for(;null!==a&&64===a.type;)a=a.parent;return a}function Io(){return En.lFrame.currentTNode}function J(a,l){const h=En.lFrame;h.currentTNode=a,h.isParent=l}function q(){return En.lFrame.isParent}function j(){En.lFrame.isParent=!1}function zs(){const a=En.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function yl(){return En.lFrame.bindingIndex++}function Da(a){const l=En.lFrame,h=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,h}function pu(a,l){const h=En.lFrame;h.bindingIndex=h.bindingRootIndex=a,tc(l)}function tc(a){En.lFrame.currentDirectiveIndex=a}function ko(a){const l=En.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function al(){return En.lFrame.currentQueryIndex}function Nl(a){En.lFrame.currentQueryIndex=a}function bi(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function na(a,l,h){if(h&mr.SkipSelf){let y=l,b=a;for(;!(y=y.parent,null!==y||h&mr.Host||(y=bi(b),null===y||(b=b[15],10&y.type))););if(null===y)return!1;l=y,a=b}const m=En.lFrame=yc();return m.currentTNode=l,m.lView=a,!0}function ll(a){const l=yc(),h=a[1];En.lFrame=l,l.currentTNode=h.firstChild,l.lView=a,l.tView=h,l.contextLView=a,l.bindingIndex=h.bindingStartIndex,l.inI18n=!1}function yc(){const a=En.lFrame,l=null===a?null:a.child;return null===l?Yi(a):l}function Yi(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function nc(){const a=En.lFrame;return En.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const xl=nc;function ss(){const a=nc();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ys(){return En.lFrame.selectedIndex}function Pa(a){En.lFrame.selectedIndex=a}function Qi(){const a=En.lFrame;return ma(a.tView,a.selectedIndex)}function us(a,l){for(let h=l.directiveStart,m=l.directiveEnd;h<m;h++){const b=a.data[h].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:P,ngAfterViewInit:U,ngAfterViewChecked:ie,ngOnDestroy:Se}=b;A&&(a.contentHooks||(a.contentHooks=[])).push(-h,A),P&&((a.contentHooks||(a.contentHooks=[])).push(h,P),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(h,P)),U&&(a.viewHooks||(a.viewHooks=[])).push(-h,U),ie&&((a.viewHooks||(a.viewHooks=[])).push(h,ie),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(h,ie)),null!=Se&&(a.destroyHooks||(a.destroyHooks=[])).push(h,Se)}}function Na(a,l,h){La(a,l,3,h)}function Xu(a,l,h,m){(3&a[2])===h&&La(a,l,h,m)}function Bl(a,l){let h=a[2];(3&h)===l&&(h&=2047,h+=1,a[2]=h)}function La(a,l,h,m){const b=m??-1,A=l.length-1;let P=0;for(let U=void 0!==m?65535&a[18]:0;U<A;U++)if("number"==typeof l[U+1]){if(P=l[U],null!=m&&P>=m)break}else l[U]<0&&(a[18]+=65536),(P<b||-1==b)&&(rf(a,h,l,U),a[18]=(4294901760&a[18])+U+2),U++}function rf(a,l,h,m){const y=h[m]<0,b=h[m+1],P=a[y?-h[m]:h[m]];if(y){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{b.call(P)}finally{}}}else try{b.call(P)}finally{}}class cl{constructor(l,h,m){this.factory=l,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=m}}function Rs(a,l,h){let m=0;for(;m<h.length;){const y=h[m];if("number"==typeof y){if(0!==y)break;m++;const b=h[m++],A=h[m++],P=h[m++];a.setAttribute(l,A,P,b)}else{const b=y,A=h[++m];Xi(b)?a.setProperty(l,b,A):a.setAttribute(l,b,A),m++}}return m}function Ba(a){return 3===a||4===a||6===a}function Xi(a){return 64===a.charCodeAt(0)}function Va(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let h=-1;for(let m=0;m<l.length;m++){const y=l[m];"number"==typeof y?h=y:0===h||bl(a,h,y,null,-1===h||2===h?l[++m]:null)}}return a}function bl(a,l,h,m,y){let b=0,A=a.length;if(-1===l)A=-1;else for(;b<a.length;){const P=a[b++];if("number"==typeof P){if(P===l){A=-1;break}if(P>l){A=b-1;break}}}for(;b<a.length;){const P=a[b];if("number"==typeof P)break;if(P===h){if(null===m)return void(null!==y&&(a[b+1]=y));if(m===a[b+1])return void(a[b+2]=y)}b++,null!==m&&b++,null!==y&&b++}-1!==A&&(a.splice(A,0,l),b=A+1),a.splice(b++,0,h),null!==m&&a.splice(b++,0,m),null!==y&&a.splice(b++,0,y)}function jc(a){return-1!==a}function Vl(a){return 32767&a}function Pi(a,l){let h=function hr(a){return a>>16}(a),m=l;for(;h>0;)m=m[15],h--;return m}let ul=!0;function Ul(a){const l=ul;return ul=a,l}let Fr=0;const on={};function gs(a,l){const h=Hl(a,l);if(-1!==h)return h;const m=l[1];m.firstCreatePass&&(a.injectorIndex=l.length,Cl(m.data,a),Cl(l,null),Cl(m.blueprint,null));const y=xc(a,l),b=a.injectorIndex;if(jc(y)){const A=Vl(y),P=Pi(y,l),U=P[1].data;for(let ie=0;ie<8;ie++)l[b+ie]=P[A+ie]|U[A+ie]}return l[b+8]=y,b}function Cl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Hl(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function xc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let h=0,m=null,y=l;for(;null!==y;){if(m=br(y),null===m)return-1;if(h++,y=y[15],-1!==m.injectorIndex)return m.injectorIndex|h<<16}return-1}function Gl(a,l,h){!function ir(a,l,h){let m;"string"==typeof h?m=h.charCodeAt(0)||0:h.hasOwnProperty(V)&&(m=h[V]),null==m&&(m=h[V]=Fr++);const y=255&m;l.data[a+(y>>5)]|=1<<y}(a,l,h)}function zc(a,l,h){if(h&mr.Optional)return a;Ue()}function Dl(a,l,h,m){if(h&mr.Optional&&void 0===m&&(m=null),0==(h&(mr.Self|mr.Host))){const y=a[9],b=Yt(void 0);try{return y?y.get(l,m,h&mr.Optional):fe(l,m,h&mr.Optional)}finally{Yt(b)}}return zc(m,0,h)}function oc(a,l,h,m=mr.Default,y){if(null!==a){if(1024&l[2]){const A=function So(a,l,h,m,y){let b=a,A=l;for(;null!==b&&null!==A&&1024&A[2]&&!(256&A[2]);){const P=wc(b,A,h,m|mr.Self,on);if(P!==on)return P;let U=b.parent;if(!U){const ie=A[21];if(ie){const Se=ie.get(h,on,m);if(Se!==on)return Se}U=br(A),A=A[15]}b=U}return y}(a,l,h,m,on);if(A!==on)return A}const b=wc(a,l,h,m,on);if(b!==on)return b}return Dl(l,h,m,y)}function wc(a,l,h,m,y){const b=function Vs(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(V)?a[V]:void 0;return"number"==typeof l?l>=0?255&l:jl:l}(h);if("function"==typeof b){if(!na(l,a,m))return m&mr.Host?zc(y,0,m):Dl(l,h,m,y);try{const A=b(m);if(null!=A||m&mr.Optional)return A;Ue()}finally{xl()}}else if("number"==typeof b){let A=null,P=Hl(a,l),U=-1,ie=m&mr.Host?l[16][6]:null;for((-1===P||m&mr.SkipSelf)&&(U=-1===P?xc(a,l):l[P+8],-1!==U&&xs(m,!1)?(A=l[1],P=Vl(U),l=Pi(U,l)):P=-1);-1!==P;){const Se=l[1];if(ra(b,P,Se.data)){const et=Ua(P,l,h,A,m,ie);if(et!==on)return et}U=l[P+8],-1!==U&&xs(m,l[1].data[P+8]===ie)&&ra(b,P,l)?(A=Se,P=Vl(U),l=Pi(U,l)):P=-1}}return y}function Ua(a,l,h,m,y,b){const A=l[1],P=A.data[a+8],Se=ys(P,A,h,null==m?ol(P)&&ul:m!=A&&0!=(3&P.type),y&mr.Host&&b===P);return null!==Se?_i(l,A,Se,P):on}function ys(a,l,h,m,y){const b=a.providerIndexes,A=l.data,P=1048575&b,U=a.directiveStart,Se=b>>20,Lt=y?P+Se:a.directiveEnd;for(let _n=m?P:P+Se;_n<Lt;_n++){const Xn=A[_n];if(_n<U&&h===Xn||_n>=U&&Xn.type===h)return _n}if(y){const _n=A[U];if(_n&&uo(_n)&&_n.type===h)return U}return null}function _i(a,l,h,m){let y=a[h];const b=l.data;if(function Gc(a){return a instanceof cl}(y)){const A=y;A.resolving&&function en(a,l){const h=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ct(-200,`Circular dependency in DI detected for ${a}${h}`)}(function At(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ft(a)}(b[h]));const P=Ul(A.canSeeViewProviders);A.resolving=!0;const U=A.injectImpl?Yt(A.injectImpl):null;na(a,m,mr.Default);try{y=a[h]=A.factory(void 0,b,a,m),l.firstCreatePass&&h>=m.directiveStart&&function ic(a,l,h){const{ngOnChanges:m,ngOnInit:y,ngDoCheck:b}=l.type.prototype;if(m){const A=Eo(l);(h.preOrderHooks||(h.preOrderHooks=[])).push(a,A),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,A)}y&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-a,y),b&&((h.preOrderHooks||(h.preOrderHooks=[])).push(a,b),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(a,b))}(h,b[h],l)}finally{null!==U&&Yt(U),Ul(P),A.resolving=!1,xl()}}return y}function ra(a,l,h){return!!(h[l+(a>>5)]&1<<a)}function xs(a,l){return!(a&mr.Self||a&mr.Host&&l)}class ri{constructor(l,h){this._tNode=l,this._lView=h}get(l,h,m){return oc(this._tNode,this._lView,l,m,h)}}function jl(){return new ri(Is(),Wn())}function Wi(a){return kt(()=>{const l=a.prototype.constructor,h=l[Y]||ed(l),m=Object.prototype;let y=Object.getPrototypeOf(a.prototype).constructor;for(;y&&y!==m;){const b=y[Y]||ed(y);if(b&&b!==h)return b;y=Object.getPrototypeOf(y)}return b=>new b})}function ed(a){return pt(a)?()=>{const l=ed(Fe(a));return l&&l()}:js(a)}function br(a){const l=a[1],h=l.type;return 2===h?l.declTNode:1===h?a[6]:null}function Zs(a){return function _u(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const h=a.attrs;if(h){const m=h.length;let y=0;for(;y<m;){const b=h[y];if(Ba(b))break;if(0===b)y+=2;else if("number"==typeof b)for(y++;y<m&&"string"==typeof h[y];)y++;else{if(b===l)return h[y+1];y+=2}}}return null}(Is(),a)}const Sn="__parameters__";function Bo(a,l,h){return kt(()=>{const m=function Qn(a){return function(...h){if(a){const m=a(...h);for(const y in m)this[y]=m[y]}}}(l);function y(...b){if(this instanceof y)return m.apply(this,b),this;const A=new y(...b);return P.annotation=A,P;function P(U,ie,Se){const et=U.hasOwnProperty(Sn)?U[Sn]:Object.defineProperty(U,Sn,{value:[]})[Sn];for(;et.length<=Se;)et.push(null);return(et[Se]=et[Se]||[]).push(A),U}}return h&&(y.prototype=Object.create(h.prototype)),y.prototype.ngMetadataName=a,y.annotationCls=y,y})}class vi{constructor(l,h){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=cn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ws(a,l){void 0===l&&(l=a);for(let h=0;h<a.length;h++){let m=a[h];Array.isArray(m)?(l===a&&(l=a.slice(0,h)),Ws(m,l)):l!==a&&l.push(m)}return l}function k(a,l){a.forEach(h=>Array.isArray(h)?k(h,l):l(h))}function O(a,l,h){l>=a.length?a.push(h):a.splice(l,0,h)}function I(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function G(a,l){const h=[];for(let m=0;m<a;m++)h.push(l);return h}function fi(a,l,h){let m=Ji(a,l);return m>=0?a[1|m]=h:(m=~m,function qe(a,l,h,m){let y=a.length;if(y==l)a.push(h,m);else if(1===y)a.push(m,a[0]),a[0]=h;else{for(y--,a.push(a[y-1],a[y]);y>l;)a[y]=a[y-2],y--;a[l]=h,a[l+1]=m}}(a,m,l,h)),m}function Pr(a,l){const h=Ji(a,l);if(h>=0)return a[1|h]}function Ji(a,l){return function To(a,l,h){let m=0,y=a.length>>h;for(;y!==m;){const b=m+(y-m>>1),A=a[b<<h];if(l===A)return b<<h;A>l?y=b:m=b+1}return~(y<<h)}(a,l,1)}const Tl={},Ga="__NG_DI_FLAG__",el="ngTempTokenPath",Ta=/\n/gm,_o="__source";let ro;function Dc(a){const l=ro;return ro=a,l}function cc(a,l=mr.Default){if(void 0===ro)throw new ct(-203,!1);return null===ro?fe(a,void 0,l):ro.get(a,l&mr.Optional?null:void 0,l)}function io(a,l=mr.Default){return(function hi(){return Hr}()||cc)(Fe(a),l)}function rd(a,l=mr.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),io(a,l)}function Tc(a){const l=[];for(let h=0;h<a.length;h++){const m=Fe(a[h]);if(Array.isArray(m)){if(0===m.length)throw new ct(900,!1);let y,b=mr.Default;for(let A=0;A<m.length;A++){const P=m[A],U=te(P);"number"==typeof U?-1===U?y=P.token:b|=U:y=P}l.push(io(y,b))}else l.push(io(m))}return l}function z(a,l){return a[Ga]=l,a.prototype[Ga]=l,a}function te(a){return a[Ga]}const Cn=z(Bo("Optional"),8),Cr=z(Bo("SkipSelf"),4);let id,Wl;function sd(a){id=a}function uc(a){return function Rd(){if(void 0===Wl&&(Wl=null,st.trustedTypes))try{Wl=st.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Wl}()?.createHTML(a)||a}class qc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dc extends qc{getTypeName(){return"HTML"}}class af extends qc{getTypeName(){return"Style"}}class mh extends qc{getTypeName(){return"Script"}}class Ig extends qc{getTypeName(){return"URL"}}class lp extends qc{getTypeName(){return"ResourceURL"}}function kc(a){return a instanceof qc?a.changingThisBreaksApplicationSecurity:a}function Zc(a,l){const h=function cp(a){return a instanceof qc&&a.getTypeName()||null}(a);if(null!=h&&h!==l){if("ResourceURL"===h&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===l}function ad(a){return new dc(a)}function lf(a){return new af(a)}function x0(a){return new mh(a)}function kg(a){return new Ig(a)}function Fd(a){return new lp(a)}class R{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const h=(new window.DOMParser).parseFromString(uc(l),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(l):(h.removeChild(h.firstChild),h)}catch{return null}}}class C{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const m=this.inertDocument.createElement("body");h.appendChild(m)}}getInertBodyElement(l){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=uc(l),h;const m=this.inertDocument.createElement("body");return m.innerHTML=uc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(l){const h=l.attributes;for(let y=h.length-1;0<y;y--){const A=h.item(y).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&l.removeAttribute(A)}let m=l.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const N=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,je=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function an(a){return(a=String(a)).match(N)||a.match(je)?a:"unsafe:"+a}function Gr(a){const l={};for(const h of a.split(","))l[h]=!0;return l}function Nr(...a){const l={};for(const h of a)for(const m in h)h.hasOwnProperty(m)&&(l[m]=!0);return l}const Bi=Gr("area,br,col,hr,img,wbr"),Gs=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$l=Gr("rp,rt"),ld=Nr(Bi,Nr(Gs,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nr($l,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nr($l,Gs)),Xc=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Il=Gr("srcset"),hc=Nr(Xc,Il,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bu=Gr("script,style,template");class uf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let h=l.firstChild,m=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?m=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,m&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let y=this.checkClobberedElement(h,h.nextSibling);if(y){h=y;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(l){const h=l.nodeName.toLowerCase();if(!ld.hasOwnProperty(h))return this.sanitizedSomething=!0,!bu.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const m=l.attributes;for(let y=0;y<m.length;y++){const b=m.item(y),A=b.name,P=A.toLowerCase();if(!hc.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let U=b.value;Xc[P]&&(U=an(U)),Il[P]&&(a=U,U=(a=String(a)).split(",").map(l=>an(l.trim())).join(", ")),this.buf.push(" ",A,'="',Ci(U),'"')}var a;return this.buf.push(">"),!0}endElement(l){const h=l.nodeName.toLowerCase();ld.hasOwnProperty(h)&&!Bi.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(l){this.buf.push(Ci(l))}checkClobberedElement(l,h){if(h&&(l.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return h}}const Wo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,as=/([^\#-~ |!])/g;function Ci(a){return a.replace(/&/g,"&amp;").replace(Wo,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(as,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fl;function Rg(a,l){let h=null;try{fl=fl||function Qc(a){const l=new C(a);return function S(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch{return!1}}()?new R(l):l}(a);let m=l?String(l):"";h=fl.getInertBodyElement(m);let y=5,b=m;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,m=b,b=h.innerHTML,h=fl.getInertBodyElement(m)}while(m!==b);return uc((new uf).sanitizeChildren(Cu(h)||h))}finally{if(h){const m=Cu(h)||h;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function Cu(a){return"content"in a&&function Kv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ls=(()=>((ls=ls||{})[ls.NONE=0]="NONE",ls[ls.HTML=1]="HTML",ls[ls.STYLE=2]="STYLE",ls[ls.SCRIPT=3]="SCRIPT",ls[ls.URL=4]="URL",ls[ls.RESOURCE_URL=5]="RESOURCE_URL",ls))();function Du(a){const l=function Su(){const a=Wn();return a&&a[12]}();return l?l.sanitize(ls.URL,a)||"":Zc(a,"URL")?kc(a):an(Ft(a))}const _h=new vi("ENVIRONMENT_INITIALIZER"),hp=new vi("INJECTOR",-1),Og=new vi("INJECTOR_DEF_TYPES");class Fg{get(l,h=Tl){if(h===Tl){const m=new Error(`NullInjectorError: No provider for ${Oe(l)}!`);throw m.name="NullInjectorError",m}return h}}function Jc(...a){return{\u0275providers:Nd(0,a)}}function Nd(a,...l){const h=[],m=new Set;let y;return k(l,b=>{const A=b;Pg(A,h,[],m)&&(y||(y=[]),y.push(A))}),void 0!==y&&w0(y,h),h}function w0(a,l){for(let h=0;h<a.length;h++){const{providers:y}=a[h];k(y,b=>{l.push(b)})}}function Pg(a,l,h,m){if(!(a=Fe(a)))return!1;let y=null,b=ui(a);const A=!b&&de(a);if(b||A){if(A&&!A.standalone)return!1;y=a}else{const U=a.ngModule;if(b=ui(U),!b)return!1;y=U}const P=m.has(y);if(A){if(P)return!1;if(m.add(y),A.dependencies){const U="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const ie of U)Pg(ie,l,h,m)}}else{if(!b)return!1;{if(null!=b.imports&&!P){let ie;m.add(y);try{k(b.imports,Se=>{Pg(Se,l,h,m)&&(ie||(ie=[]),ie.push(Se))})}finally{}void 0!==ie&&w0(ie,l)}if(!P){const ie=js(y)||(()=>new y);l.push({provide:y,useFactory:ie,deps:Dn},{provide:Og,useValue:y,multi:!0},{provide:_h,useValue:()=>io(y),multi:!0})}const U=b.providers;null==U||P||k(U,Se=>{l.push(Se)})}}return y!==a&&void 0!==a.providers}const qv=Ae({provide:String,useValue:Ae});function E0(a){return null!==a&&"object"==typeof a&&qv in a}function Ld(a){return"function"==typeof a}const ff=new vi("Set Injector scope."),fp={},pp={};let vo;function pf(){return void 0===vo&&(vo=new Fg),vo}class Bd{}class ud extends Bd{constructor(l,h,m,y){super(),this.parent=h,this.source=m,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(l,A=>this.processProvider(A)),this.records.set(hp,mf(void 0,this)),y.has("environment")&&this.records.set(Bd,mf(void 0,this));const b=this.records.get(ff);null!=b&&"string"==typeof b.value&&this.scopes.add(b.value),this.injectorDefTypes=new Set(this.get(Og.multi,Dn,mr.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const h=Dc(this),m=Yt(void 0);try{return l()}finally{Dc(h),Yt(m)}}get(l,h=Tl,m=mr.Default){this.assertNotDestroyed();const y=Dc(this),b=Yt(void 0);try{if(!(m&mr.SkipSelf)){let P=this.records.get(l);if(void 0===P){const U=function Rw(a){return"function"==typeof a||"object"==typeof a&&a instanceof vi}(l)&&An(l);P=U&&this.injectableDefInScope(U)?mf(gf(l),fp):null,this.records.set(l,P)}if(null!=P)return this.hydrate(l,P)}return(m&mr.Self?pf():this.parent).get(l,h=m&mr.Optional&&h===Tl?null:h)}catch(A){if("NullInjectorError"===A.name){if((A[el]=A[el]||[]).unshift(Oe(l)),y)throw A;return function we(a,l,h,m){const y=a[el];throw l[_o]&&y.unshift(l[_o]),a.message=function lt(a,l,h,m=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let y=Oe(l);if(Array.isArray(l))y=l.map(Oe).join(" -> ");else if("object"==typeof l){let b=[];for(let A in l)if(l.hasOwnProperty(A)){let P=l[A];b.push(A+":"+("string"==typeof P?JSON.stringify(P):Oe(P)))}y=`{${b.join(", ")}}`}return`${h}${m?"("+m+")":""}[${y}]: ${a.replace(Ta,"\n  ")}`}("\n"+a.message,y,h,m),a.ngTokenPath=y,a[el]=null,a}(A,l,"R3InjectorError",this.source)}throw A}finally{Yt(b),Dc(y)}}resolveInjectorInitializers(){const l=Dc(this),h=Yt(void 0);try{const m=this.get(_h.multi,Dn,mr.Self);for(const y of m)y()}finally{Dc(l),Yt(h)}}toString(){const l=[],h=this.records;for(const m of h.keys())l.push(Oe(m));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(l){let h=Ld(l=Fe(l))?l:Fe(l&&l.provide);const m=function Qv(a){return E0(a)?mf(void 0,a.useValue):mf(Xv(a),fp)}(l);if(Ld(l)||!0!==l.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=mf(void 0,fp,!0),y.factory=()=>Tc(y.multi),this.records.set(h,y)),h=l,y.multi.push(l)}this.records.set(h,m)}hydrate(l,h){return h.value===fp&&(h.value=pp,h.value=h.factory()),"object"==typeof h.value&&h.value&&function b0(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(h.value)&&this._ngOnDestroyHooks.add(h.value),h.value}injectableDefInScope(l){if(!l.providedIn)return!1;const h=Fe(l.providedIn);return"string"==typeof h?"any"===h||this.scopes.has(h):this.injectorDefTypes.has(h)}}function gf(a){const l=An(a),h=null!==l?l.factory:js(a);if(null!==h)return h;if(a instanceof vi)throw new ct(204,!1);if(a instanceof Function)return function Zv(a){const l=a.length;if(l>0)throw G(l,"?"),new ct(204,!1);const h=function dr(a){const l=a&&(a[Mr]||a[jr]);if(l){const h=function Lr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),l}return null}(a);return null!==h?()=>h.factory(a):()=>new a}(a);throw new ct(204,!1)}function Xv(a,l,h){let m;if(Ld(a)){const y=Fe(a);return js(y)||gf(y)}if(E0(a))m=()=>Fe(a.useValue);else if(function Ng(a){return!(!a||!a.useFactory)}(a))m=()=>a.useFactory(...Tc(a.deps||[]));else if(function cd(a){return!(!a||!a.useExisting)}(a))m=()=>io(Fe(a.useExisting));else{const y=Fe(a&&(a.useClass||a.provide));if(!function gp(a){return!!a.deps}(a))return js(y)||gf(y);m=()=>new y(...Tc(a.deps))}return m}function mf(a,l,h=!1){return{factory:a,value:l,multi:h?[]:void 0}}function Jv(a){return!!a.\u0275providers}function Lg(a,l){for(const h of a)Array.isArray(h)?Lg(h,l):Jv(h)?Lg(h.\u0275providers,l):l(h)}class ty{}class _f{resolveComponentFactory(l){throw function ny(a){const l=Error(`No component factory found for ${Oe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Tu=(()=>{class a{}return a.NULL=new _f,a})();function Ow(){return vf(Is(),Wn())}function vf(a,l){return new mp(jo(a,l))}let mp=(()=>{class a{constructor(h){this.nativeElement=h}}return a.__NG_ELEMENT_ID__=Ow,a})();function ry(a){return a instanceof mp?a.nativeElement:a}class iy{}let sy=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Au(){const a=Wn(),h=Ei(Is().index,a);return(Ki(h)?h:a)[11]}(),a})(),oy=(()=>{class a{}return a.\u0275prov=cn({token:a,providedIn:"root",factory:()=>null}),a})();class _p{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const D0=new _p("14.1.3"),Bg={};function yp(a){return a.ngOriginalError}class ia{constructor(){this._console=console}handleError(l){const h=this._findOriginalError(l);this._console.error("ERROR",l),h&&this._console.error("ORIGINAL ERROR",h)}_findOriginalError(l){let h=l&&yp(l);for(;h&&yp(h);)h=yp(h);return h||null}}const hd=new Map;let vh=0;const jg="__ngContext__";function nl(a,l){Ki(l)?(a[jg]=l[20],function xp(a){hd.set(a[20],a)}(l)):a[jg]=l}function fd(a){const l=a[jg];return"number"==typeof l?function O0(a){return hd.get(a)||null}(l):l||null}function xh(a){const l=fd(a);return l?Ki(l)?l:l.lView:null}const fy=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(st))();function gd(a){return a instanceof Function?a():a}var $o=(()=>(($o=$o||{})[$o.Important=1]="Important",$o[$o.DashCase=2]="DashCase",$o))();function Ep(a,l){return undefined(a,l)}function ku(a){const l=a[3];return Ds(l)?l[3]:l}function V0(a){return U0(a[13])}function Ud(a){return U0(a[4])}function U0(a){for(;null!==a&&!Ds(a);)a=a[4];return a}function Sh(a,l,h,m,y){if(null!=m){let b,A=!1;Ds(m)?b=m:Ki(m)&&(A=!0,m=m[0]);const P=is(m);0===a&&null!==h?null==y?Ia(l,h,P):_d(l,h,P,y||null,!0):1===a&&null!==h?_d(l,h,P,y||null,!0):2===a?function Ah(a,l,h){const m=bp(a,l);m&&function Kw(a,l,h,m){a.removeChild(l,h,m)}(a,m,l,h)}(l,P,A):3===a&&l.destroyNode(P),null!=b&&function Ih(a,l,h,m,y){const b=h[7];b!==is(h)&&Sh(l,a,m,b,y);for(let P=10;P<h.length;P++){const U=h[P];Ip(U[1],U,a,l,m,b)}}(l,a,b,h,y)}}function H0(a,l,h){return a.createElement(l,h)}function Hd(a,l){const h=a[9],m=h.indexOf(l),y=l[3];512&l[2]&&(l[2]&=-513,wn(y,-1)),h.splice(m,1)}function Th(a,l){if(a.length<=10)return;const h=10+l,m=a[h];if(m){const y=m[17];null!==y&&y!==a&&Hd(y,m),l>0&&(a[h-1][4]=m[4]);const b=I(a,10+l);!function Yg(a,l){Ip(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(m[1],m);const A=b[19];null!==A&&A.detachView(b[1]),m[3]=null,m[4]=null,m[2]&=-65}return m}function G0(a,l){if(!(128&l[2])){const h=l[11];h.destroyNode&&Ip(a,l,h,3,null,null),function Mu(a){let l=a[13];if(!l)return qg(a[1],a);for(;l;){let h=null;if(Ki(l))h=l[13];else{const m=l[10];m&&(h=m)}if(!h){for(;l&&!l[4]&&l!==a;)Ki(l)&&qg(l[1],l),l=l[3];null===l&&(l=a),Ki(l)&&qg(l[1],l),h=l&&l[4]}l=h}}(l)}}function qg(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function j0(a,l){let h;if(null!=a&&null!=(h=a.destroyHooks))for(let m=0;m<h.length;m+=2){const y=l[h[m]];if(!(y instanceof cl)){const b=h[m+1];if(Array.isArray(b))for(let A=0;A<b.length;A+=2){const P=y[b[A]],U=b[A+1];try{U.call(P)}finally{}}else try{b.call(y)}finally{}}}}(a,l),function xy(a,l){const h=a.cleanup,m=l[7];let y=-1;if(null!==h)for(let b=0;b<h.length-1;b+=2)if("string"==typeof h[b]){const A=h[b+1],P="function"==typeof A?A(l):is(l[A]),U=m[y=h[b+2]],ie=h[b+3];"boolean"==typeof ie?P.removeEventListener(h[b],U,ie):ie>=0?m[y=ie]():m[y=-ie].unsubscribe(),b+=2}else{const A=m[y=h[b+1]];h[b].call(A)}if(null!==m){for(let b=y+1;b<m.length;b++)(0,m[b])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const h=l[17];if(null!==h&&Ds(l[3])){h!==l[3]&&Hd(h,l);const m=l[19];null!==m&&m.detachView(a)}!function F0(a){hd.delete(a[20])}(l)}}function wy(a,l,h){return function Ey(a,l,h){let m=l;for(;null!==m&&40&m.type;)m=(l=m).parent;if(null===m)return h[0];if(2&m.flags){const y=a.data[m.directiveStart].encapsulation;if(y===Rt.None||y===Rt.Emulated)return null}return jo(m,h)}(a,l.parent,h)}function _d(a,l,h,m,y){a.insertBefore(l,h,m,y)}function Ia(a,l,h){a.appendChild(l,h)}function by(a,l,h,m,y){null!==m?_d(a,l,h,m,y):Ia(a,l,h)}function bp(a,l){return a.parentNode(l)}function Sy(a,l,h){return Ty(a,l,h)}let Ty=function Cp(a,l,h){return 40&a.type?jo(a,h):null};function wf(a,l,h,m){const y=wy(a,m,l),b=l[11],P=Sy(m.parent||l[6],m,l);if(null!=y)if(Array.isArray(h))for(let U=0;U<h.length;U++)by(b,y,h[U],P,!1);else by(b,y,h,P,!1)}function Rc(a,l){if(null!==l){const h=l.type;if(3&h)return jo(l,a);if(4&h)return Tp(-1,a[l.index]);if(8&h){const m=l.child;if(null!==m)return Rc(a,m);{const y=a[l.index];return Ds(y)?Tp(-1,y):is(y)}}if(32&h)return Ep(l,a)()||is(a[l.index]);{const m=Sp(a,l);return null!==m?Array.isArray(m)?m[0]:Rc(ku(a[16]),m):Rc(a,l.next)}}return null}function Sp(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Tp(a,l){const h=10+a+1;if(h<l.length){const m=l[h],y=m[1].firstChild;if(null!==y)return Rc(m,y)}return l[7]}function Ap(a,l,h,m,y,b,A){for(;null!=h;){const P=m[h.index],U=h.type;if(A&&0===l&&(P&&nl(is(P),m),h.flags|=4),64!=(64&h.flags))if(8&U)Ap(a,l,h.child,m,y,b,!1),Sh(l,a,y,P,b);else if(32&U){const ie=Ep(h,m);let Se;for(;Se=ie();)Sh(l,a,y,Se,b);Sh(l,a,y,P,b)}else 16&U?za(a,l,m,h,y,b):Sh(l,a,y,P,b);h=A?h.projectionNext:h.next}}function Ip(a,l,h,m,y,b){Ap(h,m,a.firstChild,l,y,b,!1)}function za(a,l,h,m,y,b){const A=h[16],U=A[6].projection[m.projection];if(Array.isArray(U))for(let ie=0;ie<U.length;ie++)Sh(l,a,y,U[ie],b);else Ap(a,l,U,A[3],y,b,!0)}function Ef(a,l,h){a.setAttribute(l,"style",h)}function Mp(a,l,h){""===h?a.removeAttribute(l,"class"):a.setAttribute(l,"class",h)}function Rp(a,l,h){let m=a.length;for(;;){const y=a.indexOf(l,h);if(-1===y)return y;if(0===y||a.charCodeAt(y-1)<=32){const b=l.length;if(y+b===m||a.charCodeAt(y+b)<=32)return y}h=y+1}}const Mh="ng-template";function Rh(a,l,h){let m=0;for(;m<a.length;){let y=a[m++];if(h&&"class"===y){if(y=a[m],-1!==Rp(y.toLowerCase(),l,0))return!0}else if(1===y){for(;m<a.length&&"string"==typeof(y=a[m++]);)if(y.toLowerCase()===l)return!0;return!1}}return!1}function Gd(a){return 4===a.type&&a.value!==Mh}function Oh(a,l,h){return l===(4!==a.type||h?a.value:Mh)}function Iy(a,l,h){let m=4;const y=a.attrs||[],b=function Zw(a){for(let l=0;l<a.length;l++)if(Ba(a[l]))return l;return a.length}(y);let A=!1;for(let P=0;P<l.length;P++){const U=l[P];if("number"!=typeof U){if(!A)if(4&m){if(m=2|1&m,""!==U&&!Oh(a,U,h)||""===U&&1===l.length){if(eu(m))return!1;A=!0}}else{const ie=8&m?U:l[++P];if(8&m&&null!==a.attrs){if(!Rh(a.attrs,ie,h)){if(eu(m))return!1;A=!0}continue}const et=Yw(8&m?"class":U,y,Gd(a),h);if(-1===et){if(eu(m))return!1;A=!0;continue}if(""!==ie){let Lt;Lt=et>b?"":y[et+1].toLowerCase();const _n=8&m?Lt:null;if(_n&&-1!==Rp(_n,ie,0)||2&m&&ie!==Lt){if(eu(m))return!1;A=!0}}}}else{if(!A&&!eu(m)&&!eu(U))return!1;if(A&&eu(U))continue;A=!1,m=U|1&m}}return eu(m)||A}function eu(a){return 0==(1&a)}function Yw(a,l,h,m){if(null===l)return-1;let y=0;if(m||!h){let b=!1;for(;y<l.length;){const A=l[y];if(A===a)return y;if(3===A||6===A)b=!0;else{if(1===A||2===A){let P=l[++y];for(;"string"==typeof P;)P=l[++y];continue}if(4===A)break;if(0===A){y+=4;continue}}y+=b?1:2}return-1}return function bf(a,l){let h=a.indexOf(4);if(h>-1)for(h++;h<a.length;){const m=a[h];if("number"==typeof m)return-1;if(m===l)return h;h++}return-1}(l,a)}function qw(a,l,h=!1){for(let m=0;m<l.length;m++)if(Iy(a,l[m],h))return!0;return!1}function Op(a,l){e:for(let h=0;h<l.length;h++){const m=l[h];if(a.length===m.length){for(let y=0;y<a.length;y++)if(a[y]!==m[y])continue e;return!0}}return!1}function My(a,l){return a?":not("+l.trim()+")":l}function z0(a){let l=a[0],h=1,m=2,y="",b=!1;for(;h<a.length;){let A=a[h];if("string"==typeof A)if(2&m){const P=a[++h];y+="["+A+(P.length>0?'="'+P+'"':"")+"]"}else 8&m?y+="."+A:4&m&&(y+=" "+A);else""!==y&&!eu(A)&&(l+=My(b,y),y=""),m=A,b=b||!eu(m);h++}return""!==y&&(l+=My(b,y)),l}const Vi={};function Xg(a){Jg(Or(),Wn(),Ys()+a,!1)}function Jg(a,l,h,m){if(!m)if(3==(3&l[2])){const b=a.preOrderCheckHooks;null!==b&&Na(l,b,h)}else{const b=a.preOrderHooks;null!==b&&Xu(l,b,0,h)}Pa(h)}function Sf(a,l=null,h=null,m){const y=tm(a,l,h,m);return y.resolveInjectorInitializers(),y}function tm(a,l=null,h=null,m,y=new Set){const b=[h||Dn,Jc(a)];return m=m||("object"==typeof a?void 0:Oe(a)),new ud(b,l||pf(),m||null,y)}let jd=(()=>{class a{static create(h,m){if(Array.isArray(h))return Sf({name:""},m,h,"");{const y=h.name??"";return Sf({name:y},h.parent,h.providers,y)}}}return a.THROW_IF_NOT_FOUND=Tl,a.NULL=new Fg,a.\u0275prov=cn({token:a,providedIn:"any",factory:()=>io(hp)}),a.__NG_ELEMENT_ID__=-1,a})();function Fh(a,l=mr.Default){const h=Wn();return null===h?io(a,l):oc(Is(),h,Fe(a),l)}function Uy(){throw new Error("invalid")}function cm(a,l){return a<<17|l<<2}function fc(a){return a>>17&32767}function r_(a){return 2|a}function tu(a){return(131068&a)>>2}function um(a,l){return-131069&a|l<<2}function Pp(a){return 1|a}function gm(a,l){const h=a.contentQueries;if(null!==h)for(let m=0;m<h.length;m+=2){const y=h[m],b=h[m+1];if(-1!==b){const A=a.data[b];Nl(y),A.contentQueries(2,l[b],b)}}}function Of(a,l,h,m,y,b,A,P,U,ie,Se){const et=l.blueprint.slice();return et[0]=y,et[2]=76|m,(null!==Se||a&&1024&a[2])&&(et[2]|=1024),Ot(et),et[3]=et[15]=a,et[8]=h,et[10]=A||a&&a[10],et[11]=P||a&&a[11],et[12]=U||a&&a[12]||null,et[9]=ie||a&&a[9]||null,et[6]=b,et[20]=function yh(){return vh++}(),et[21]=Se,et[16]=2==l.type?a[16]:et,et}function Yd(a,l,h,m,y){let b=a.data[l];if(null===b)b=function qd(a,l,h,m,y){const b=Io(),A=q(),U=a.data[l]=function m_(a,l,h,m,y,b){return{type:h,index:m,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?b:b&&b.parent,h,l,m,y);return null===a.firstChild&&(a.firstChild=U),null!==b&&(A?null==b.child&&null!==U.parent&&(b.child=U):null===b.next&&(b.next=U)),U}(a,l,h,m,y),function vc(){return En.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=h,b.value=m,b.attrs=y;const A=function Oa(){const a=En.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();b.injectorIndex=null===A?-1:A.injectorIndex}return J(b,!0),b}function Nh(a,l,h,m){if(0===h)return-1;const y=l.length;for(let b=0;b<h;b++)l.push(m),a.blueprint.push(m),a.data.push(null);return y}function Lh(a,l,h){ll(l);try{const m=a.viewQuery;null!==m&&Cm(1,m,h);const y=a.template;null!==y&&Ou(a,l,y,1,h),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&gm(a,l),a.staticViewQueries&&Cm(2,a.viewQuery,h);const b=a.components;null!==b&&function u_(a,l){for(let h=0;h<l.length;h++)ix(a,l[h])}(l,b)}catch(m){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),m}finally{l[2]&=-5,ss()}}function Up(a,l,h,m){const y=l[2];if(128!=(128&y)){ll(l);try{Ot(l),function Ai(a){return En.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==h&&Ou(a,l,h,2,m);const A=3==(3&y);if(A){const ie=a.preOrderCheckHooks;null!==ie&&Na(l,ie,null)}else{const ie=a.preOrderHooks;null!==ie&&Xu(l,ie,0,null),Bl(l,0)}if(function D_(a){for(let l=V0(a);null!==l;l=Ud(l)){if(!l[2])continue;const h=l[9];for(let m=0;m<h.length;m++){const y=h[m],b=y[3];0==(512&y[2])&&wn(b,1),y[2]|=512}}}(l),function xm(a){for(let l=V0(a);null!==l;l=Ud(l))for(let h=10;h<l.length;h++){const m=l[h],y=m[1];De(m)&&Up(y,m,y.template,m[8])}}(l),null!==a.contentQueries&&gm(a,l),A){const ie=a.contentCheckHooks;null!==ie&&Na(l,ie)}else{const ie=a.contentHooks;null!==ie&&Xu(l,ie,1),Bl(l,1)}!function cE(a,l){const h=a.hostBindingOpCodes;if(null!==h)try{for(let m=0;m<h.length;m++){const y=h[m];if(y<0)Pa(~y);else{const b=y,A=h[++m],P=h[++m];pu(A,b),P(2,l[b])}}}finally{Pa(-1)}}(a,l);const P=a.components;null!==P&&function uE(a,l){for(let h=0;h<l.length;h++)wm(a,l[h])}(l,P);const U=a.viewQuery;if(null!==U&&Cm(2,U,m),A){const ie=a.viewCheckHooks;null!==ie&&Na(l,ie)}else{const ie=a.viewHooks;null!==ie&&Xu(l,ie,2),Bl(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,wn(l[3],-1))}finally{ss()}}}function d_(a,l,h,m){const y=l[10],A=Q(l);try{!A&&y.begin&&y.begin(),A&&Lh(a,l,m),Up(a,l,h,m)}finally{!A&&y.end&&y.end()}}function Ou(a,l,h,m,y){const b=Ys(),A=2&m;try{Pa(-1),A&&l.length>22&&Jg(a,l,22,!1),h(m,y)}finally{Pa(b)}}function mm(a,l,h){if(Po(l)){const y=l.directiveEnd;for(let b=l.directiveStart;b<y;b++){const A=a.data[b];A.contentQueries&&A.contentQueries(1,h[b],b)}}}function h_(a,l,h){!Ts()||(function w_(a,l,h,m){const y=h.directiveStart,b=h.directiveEnd;a.firstCreatePass||gs(h,l),nl(m,l);const A=h.initialInputs;for(let P=y;P<b;P++){const U=a.data[P],ie=uo(U);ie&&fE(l,h,U);const Se=_i(l,a,P,h);nl(Se,l),null!==A&&rx(0,P-y,Se,U,0,A),ie&&(Ei(h.index,l)[8]=Se)}}(a,l,h,jo(h,l)),128==(128&h.flags)&&function hE(a,l,h){const m=h.directiveStart,y=h.directiveEnd,b=h.index,A=function Fa(){return En.lFrame.currentDirectiveIndex}();try{Pa(b);for(let P=m;P<y;P++){const U=a.data[P],ie=l[P];tc(P),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&E_(U,ie)}}finally{Pa(-1),tc(A)}}(a,l,h))}function Ff(a,l,h=jo){const m=l.localNames;if(null!==m){let y=l.index+1;for(let b=0;b<m.length;b+=2){const A=m[b+1],P=-1===A?h(l,a):a[A];a[y++]=P}}}function qy(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=f_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function f_(a,l,h,m,y,b,A,P,U,ie){const Se=22+m,et=Se+y,Lt=function p_(a,l){const h=[];for(let m=0;m<l;m++)h.push(m<a?null:Vi);return h}(Se,et),_n="function"==typeof ie?ie():ie;return Lt[1]={type:a,blueprint:Lt,template:h,queries:null,viewQuery:P,declTNode:l,data:Lt.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:et,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:U,consts:_n,incompleteFirstPass:!1}}function Zy(a,l,h,m){const y=ox(l);null===h?y.push(m):(y.push(h),a.firstCreatePass&&Nf(a).push(m,y.length-1))}function Qy(a,l,h){for(let m in a)if(a.hasOwnProperty(m)){const y=a[m];(h=null===h?{}:h).hasOwnProperty(m)?h[m].push(l,y):h[m]=[l,y]}return h}function _m(a,l){const m=l.directiveEnd,y=a.data,b=l.attrs,A=[];let P=null,U=null;for(let ie=l.directiveStart;ie<m;ie++){const Se=y[ie],et=Se.inputs,Lt=null===b||Gd(l)?null:C_(et,b);A.push(Lt),P=Qy(et,ie,P),U=Qy(Se.outputs,ie,U)}null!==P&&(P.hasOwnProperty("class")&&(l.flags|=16),P.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=A,l.inputs=P,l.outputs=U}function Ml(a,l,h,m,y,b,A,P){const U=jo(l,h);let Se,ie=l.inputs;!P&&null!=ie&&(Se=ie[m])?($p(a,h,Se,m,y),ol(l)&&__(h,l.index)):3&l.type&&(m=function Xy(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(m),y=null!=A?A(y,l.value||"",m):y,b.setProperty(U,m,y))}function __(a,l){const h=Ei(l,a);16&h[2]||(h[2]|=32)}function y_(a,l,h,m){let y=!1;if(Ts()){const b=function Jy(a,l,h){const m=a.directiveRegistry;let y=null;if(m)for(let b=0;b<m.length;b++){const A=m[b];qw(h,A.selectors,!1)&&(y||(y=[]),Gl(gs(h,l),a,A.type),uo(A)?(ex(a,h),y.unshift(A)):y.push(A))}return y}(a,l,h),A=null===m?null:{"":-1};if(null!==b){y=!0,Hp(h,a.data.length,b.length);for(let Se=0;Se<b.length;Se++){const et=b[Se];et.providersResolver&&et.providersResolver(et)}let P=!1,U=!1,ie=Nh(a,l,b.length,null);for(let Se=0;Se<b.length;Se++){const et=b[Se];h.mergedAttrs=Va(h.mergedAttrs,et.hostAttrs),nx(a,h,l,ie,et),tx(ie,et,A),null!==et.contentQueries&&(h.flags|=8),(null!==et.hostBindings||null!==et.hostAttrs||0!==et.hostVars)&&(h.flags|=128);const Lt=et.type.prototype;!P&&(Lt.ngOnChanges||Lt.ngOnInit||Lt.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(h.index),P=!0),!U&&(Lt.ngOnChanges||Lt.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(h.index),U=!0),ie++}_m(a,h)}A&&function b_(a,l,h){if(l){const m=a.localNames=[];for(let y=0;y<l.length;y+=2){const b=h[l[y+1]];if(null==b)throw new ct(-301,!1);m.push(l[y],b)}}}(h,m,A)}return h.mergedAttrs=Va(h.mergedAttrs,h.attrs),y}function vm(a,l,h,m,y,b){const A=b.hostBindings;if(A){let P=a.hostBindingOpCodes;null===P&&(P=a.hostBindingOpCodes=[]);const U=~l.index;(function x_(a){let l=a.length;for(;l>0;){const h=a[--l];if("number"==typeof h&&h<0)return h}return 0})(P)!=U&&P.push(U),P.push(m,y,A)}}function E_(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ex(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function tx(a,l,h){if(h){if(l.exportAs)for(let m=0;m<l.exportAs.length;m++)h[l.exportAs[m]]=a;uo(l)&&(h[""]=a)}}function Hp(a,l,h){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+h,a.providerIndexes=l}function nx(a,l,h,m,y){a.data[m]=y;const b=y.factory||(y.factory=js(y.type)),A=new cl(b,uo(y),Fh);a.blueprint[m]=A,h[m]=A,vm(a,l,0,m,Nh(a,h,y.hostVars,Vi),y)}function fE(a,l,h){const m=jo(l,a),y=qy(h),b=a[10],A=zp(a,Of(a,y,null,h.onPush?32:16,m,l,b,b.createRenderer(m,h),null,null,null));a[l.index]=A}function Yl(a,l,h,m,y,b){const A=jo(a,l);!function Gp(a,l,h,m,y,b,A){if(null==b)a.removeAttribute(l,y,h);else{const P=null==A?Ft(b):A(b,m||"",y);a.setAttribute(l,y,P,h)}}(l[11],A,b,a.value,h,m,y)}function rx(a,l,h,m,y,b){const A=b[l];if(null!==A){const P=m.setInput;for(let U=0;U<A.length;){const ie=A[U++],Se=A[U++],et=A[U++];null!==P?m.setInput(h,et,ie,Se):h[Se]=et}}}function C_(a,l){let h=null,m=0;for(;m<l.length;){const y=l[m];if(0!==y)if(5!==y){if("number"==typeof y)break;a.hasOwnProperty(y)&&(null===h&&(h=[]),h.push(y,a[y],l[m+1])),m+=2}else m+=2;else m+=4}return h}function ym(a,l,h,m){return new Array(a,!0,!1,l,null,0,m,h,null,null)}function wm(a,l){const h=Ei(l,a);if(De(h)){const m=h[1];48&h[2]?Up(m,h,m.template,h[8]):h[5]>0&&jp(h)}}function jp(a){for(let m=V0(a);null!==m;m=Ud(m))for(let y=10;y<m.length;y++){const b=m[y];if(De(b))if(512&b[2]){const A=b[1];Up(A,b,A.template,b[8])}else b[5]>0&&jp(b)}const h=a[1].components;if(null!==h)for(let m=0;m<h.length;m++){const y=Ei(h[m],a);De(y)&&y[5]>0&&jp(y)}}function ix(a,l){const h=Ei(l,a),m=h[1];(function Em(a,l){for(let h=l.length;h<a.blueprint.length;h++)l.push(a.blueprint[h])})(m,h),Lh(m,h,h[8])}function zp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Wp(a){for(;a;){a[2]|=32;const l=ku(a);if(la(a)&&!l)return a;a=l}return null}function sx(a){!function bm(a){for(let l=0;l<a.components.length;l++){const h=a.components[l],m=xh(h);if(null!==m){const y=m[1];d_(y,m,y.template,h)}}}(a[8])}function Cm(a,l,h){Nl(0),l(a,h)}const _E=(()=>Promise.resolve(null))();function ox(a){return a[7]||(a[7]=[])}function Nf(a){return a.cleanup||(a.cleanup=[])}function Lf(a,l,h){return(null===a||uo(a))&&(h=function vl(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(h[l.index])),h[11]}function T_(a,l){const h=a[9],m=h?h.get(ia,null):null;m&&m.handleError(l)}function $p(a,l,h,m,y){for(let b=0;b<h.length;){const A=h[b++],P=h[b++],U=l[A],ie=a.data[A];null!==ie.setInput?ie.setInput(U,y,m,P):U[P]=y}}function Fu(a,l,h){const m=da(l,a);!function my(a,l,h){a.setValue(l,h)}(a[11],m,h)}function Bf(a,l,h){let m=h?a.styles:null,y=h?a.classes:null,b=0;if(null!==l)for(let A=0;A<l.length;A++){const P=l[A];"number"==typeof P?b=P:1==b?y=me(y,P):2==b&&(m=me(m,P+": "+l[++A]+";"))}h?a.styles=m:a.stylesWithoutHost=m,h?a.classes=y:a.classesWithoutHost=y}function Vf(a,l,h,m,y=!1){for(;null!==h;){const b=l[h.index];if(null!==b&&m.push(is(b)),Ds(b))for(let P=10;P<b.length;P++){const U=b[P],ie=U[1].firstChild;null!==ie&&Vf(U[1],U,ie,m)}const A=h.type;if(8&A)Vf(a,l,h.child,m);else if(32&A){const P=Ep(h,l);let U;for(;U=P();)m.push(U)}else if(16&A){const P=Sp(l,h);if(Array.isArray(P))m.push(...P);else{const U=ku(l[16]);Vf(U[1],U,P,m,!0)}}h=y?h.projectionNext:h.next}return m}class Ko{constructor(l,h){this._lView=l,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,h=l[1];return Vf(h,l,h.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ds(l)){const h=l[8],m=h?h.indexOf(this):-1;m>-1&&(Th(l,m),I(h,m))}this._attachedToViewContainer=!1}G0(this._lView[1],this._lView)}onDestroy(l){Zy(this._lView[1],this._lView,null,l)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function S_(a,l,h){const m=l[10];m.begin&&m.begin();try{Up(a,l,a.template,h)}catch(y){throw T_(l,y),y}finally{m.end&&m.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vy(a,l){Ip(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=l}}class ms extends Ko{constructor(l){super(l),this._view=l}detectChanges(){sx(this._view)}checkNoChanges(){}get context(){return null}}class Dm extends Tu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const h=de(l);return new Js(h,this.ngModule)}}function A_(a){const l=[];for(let h in a)a.hasOwnProperty(h)&&l.push({propName:a[h],templateName:h});return l}class vE{constructor(l,h){this.injector=l,this.parentInjector=h}get(l,h,m){const y=this.injector.get(l,Bg,m);return y!==Bg||h===Bg?y:this.parentInjector.get(l,h,m)}}class Js extends ty{constructor(l,h){super(),this.componentDef=l,this.ngModule=h,this.componentType=l.type,this.selector=function Qg(a){return a.map(z0).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return A_(this.componentDef.inputs)}get outputs(){return A_(this.componentDef.outputs)}create(l,h,m,y){let b=(y=y||this.ngModule)instanceof Bd?y:y?.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const A=b?new vE(l,b):l,P=A.get(iy,null);if(null===P)throw new ct(407,!1);const U=A.get(oy,null),ie=P.createRenderer(null,this.componentDef),Se=this.componentDef.selectors[0][0]||"div",et=m?function g_(a,l,h){return a.selectRootElement(l,h===Rt.ShadowDom)}(ie,m,this.componentDef.encapsulation):H0(P.createRenderer(null,this.componentDef),Se,function Kp(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(Se)),Lt=this.componentDef.onPush?288:272,_n=function lx(a,l){return{components:[],scheduler:a||fy,clean:_E,playerHandler:l||null,flags:0}}(),Xn=f_(0,null,null,1,0,null,null,null,null,null),yr=Of(null,Xn,_n,Lt,null,null,P,ie,U,A,null);let qr,ii;ll(yr);try{const Oi=function Bh(a,l,h,m,y,b){const A=h[1];h[22]=a;const U=Yd(A,22,2,"#host",null),ie=U.mergedAttrs=l.hostAttrs;null!==ie&&(Bf(U,ie,!0),null!==a&&(Rs(y,a,ie),null!==U.classes&&Mp(y,a,U.classes),null!==U.styles&&Ef(y,a,U.styles)));const Se=m.createRenderer(a,l),et=Of(h,qy(l),null,l.onPush?32:16,h[22],U,m,Se,b||null,null,null);return A.firstCreatePass&&(Gl(gs(U,h),A,l.type),ex(A,U),Hp(U,h.length,1)),zp(h,et),h[22]=et}(et,this.componentDef,yr,P,ie);if(et)if(m)Rs(ie,et,["ng-version",D0.full]);else{const{attrs:pr,classes:Si}=function Cf(a){const l=[],h=[];let m=1,y=2;for(;m<a.length;){let b=a[m];if("string"==typeof b)2===y?""!==b&&l.push(b,a[++m]):8===y&&h.push(b);else{if(!eu(y))break;y=b}m++}return{attrs:l,classes:h}}(this.componentDef.selectors[0]);pr&&Rs(ie,et,pr),Si&&Si.length>0&&Mp(ie,et,Si.join(" "))}if(ii=ma(Xn,22),void 0!==h){const pr=ii.projection=[];for(let Si=0;Si<this.ngContentSelectors.length;Si++){const Es=h[Si];pr.push(null!=Es?Array.from(Es):null)}}qr=function ax(a,l,h,m,y){const b=h[1],A=function v_(a,l,h){const m=Is();a.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),nx(a,m,l,Nh(a,l,1,null),h),_m(a,m));const y=_i(l,a,m.directiveStart,m);nl(y,l);const b=jo(m,l);return b&&nl(b,l),y}(b,h,l);if(m.components.push(A),a[8]=A,null!==y)for(const U of y)U(A,l);if(l.contentQueries){const U=Is();l.contentQueries(1,A,U.directiveStart)}const P=Is();return!b.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Pa(P.index),vm(h[1],P,0,P.directiveStart,P.directiveEnd,l),E_(l,A)),A}(Oi,this.componentDef,yr,_n,[yE]),Lh(Xn,yr,null)}finally{ss()}return new Yp(this.componentType,qr,vf(ii,yr),yr,ii)}}class Yp extends class ey{}{constructor(l,h,m,y,b){super(),this.location=m,this._rootLView=y,this._tNode=b,this.instance=h,this.hostView=this.changeDetectorRef=new ms(y),this.componentType=l}setInput(l,h){const m=this._tNode.inputs;let y;if(null!==m&&(y=m[l])){const b=this._rootLView;$p(b[1],b,y,l,h),__(b,this._tNode.index)}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function yE(){const a=Is();us(Wn()[1],a)}function Sm(a){let l=function cx(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),h=!0;const m=[a];for(;l;){let y;if(uo(a))y=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ct(903,!1);y=l.\u0275dir}if(y){if(h){m.push(y);const A=a;A.inputs=Tm(a.inputs),A.declaredInputs=Tm(a.declaredInputs),A.outputs=Tm(a.outputs);const P=y.hostBindings;P&&Vh(a,P);const U=y.viewQuery,ie=y.contentQueries;if(U&&F1(a,U),ie&&Yo(a,ie),Ge(a.inputs,y.inputs),Ge(a.declaredInputs,y.declaredInputs),Ge(a.outputs,y.outputs),uo(y)&&y.data.animation){const Se=a.data;Se.animation=(Se.animation||[]).concat(y.data.animation)}}const b=y.features;if(b)for(let A=0;A<b.length;A++){const P=b[A];P&&P.ngInherit&&P(a),P===Sm&&(h=!1)}}l=Object.getPrototypeOf(l)}!function Ho(a){let l=0,h=null;for(let m=a.length-1;m>=0;m--){const y=a[m];y.hostVars=l+=y.hostVars,y.hostAttrs=Va(y.hostAttrs,h=Va(h,y.hostAttrs))}}(m)}function Tm(a){return a===vn?{}:a===Dn?[]:a}function F1(a,l){const h=a.viewQuery;a.viewQuery=h?(m,y)=>{l(m,y),h(m,y)}:l}function Yo(a,l){const h=a.contentQueries;a.contentQueries=h?(m,y,b)=>{l(m,y,b),h(m,y,b)}:l}function Vh(a,l){const h=a.hostBindings;a.hostBindings=h?(m,y)=>{l(m,y),h(m,y)}:l}let Pu=null;function ql(){if(!Pu){const a=st.Symbol;if(a&&a.iterator)Pu=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<l.length;++h){const m=l[h];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(Pu=m)}}}return Pu}function Qp(a){return!!M_(a)&&(Array.isArray(a)||!(a instanceof Map)&&ql()in a)}function M_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $a(a,l,h){return a[l]=h}function Ro(a,l,h){return!Object.is(a[l],h)&&(a[l]=h,!0)}function gc(a,l,h,m){const y=Ro(a,l,h);return Ro(a,l+1,m)||y}function R_(a,l,h,m){const y=Wn();return Ro(y,yl(),l)&&(Or(),Yl(Qi(),y,a,l,h,m)),R_}function Hh(a,l,h,m){return Ro(a,yl(),h)?l+Ft(h)+m:Vi}function ru(a,l,h,m,y,b){const P=gc(a,function Lo(){return En.lFrame.bindingIndex}(),h,y);return Da(2),P?l+Ft(h)+m+Ft(y)+b:Vi}function Hf(a,l,h,m,y,b,A,P){const U=Wn(),ie=Or(),Se=a+22,et=ie.firstCreatePass?function wE(a,l,h,m,y,b,A,P,U){const ie=l.consts,Se=Yd(l,a,4,A||null,Ie(ie,P));y_(l,h,Se,Ie(ie,U)),us(l,Se);const et=Se.tViews=f_(2,Se,m,y,b,l.directiveRegistry,l.pipeRegistry,null,l.schemas,ie);return null!==l.queries&&(l.queries.template(l,Se),et.queries=l.queries.embeddedTView(Se)),Se}(Se,ie,U,l,h,m,y,b,A):ie.data[Se];J(et,!1);const Lt=U[11].createComment("");wf(ie,U,Lt,et),nl(Lt,U),zp(U,U[Se]=ym(Lt,U,Lt,et)),aa(et)&&h_(ie,U,et),null!=A&&Ff(U,et,P)}function B_(a){return fo(function un(){return En.lFrame.contextLView}(),22+a)}function jh(a,l,h){const m=Wn();return Ro(m,yl(),l)&&Ml(Or(),Qi(),m,a,l,m[11],h,!1),jh}function V_(a,l,h,m,y){const A=y?"class":"style";$p(a,h,l.inputs[A],A,m)}function Lu(a,l,h,m){const y=Wn(),b=Or(),A=22+a,P=y[11],U=y[A]=H0(P,l,function Ll(){return En.lFrame.currentNamespace}()),ie=b.firstCreatePass?function Rm(a,l,h,m,y,b,A){const P=l.consts,ie=Yd(l,a,2,y,Ie(P,b));return y_(l,h,ie,Ie(P,A)),null!==ie.attrs&&Bf(ie,ie.attrs,!1),null!==ie.mergedAttrs&&Bf(ie,ie.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,ie),ie}(A,b,y,0,l,h,m):b.data[A];J(ie,!0);const Se=ie.mergedAttrs;null!==Se&&Rs(P,U,Se);const et=ie.classes;null!==et&&Mp(P,U,et);const Lt=ie.styles;return null!==Lt&&Ef(P,U,Lt),64!=(64&ie.flags)&&wf(b,y,U,ie),0===function ji(){return En.lFrame.elementDepthCount}()&&nl(U,y),function hs(){En.lFrame.elementDepthCount++}(),aa(ie)&&(h_(b,y,ie),mm(b,ie,y)),null!==m&&Ff(y,ie),Lu}function Pc(){let a=Is();q()?j():(a=a.parent,J(a,!1));const l=a;!function ki(){En.lFrame.elementDepthCount--}();const h=Or();return h.firstCreatePass&&(us(h,a),Po(a)&&h.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Do(a){return 0!=(16&a.flags)}(l)&&V_(h,l,Wn(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function mu(a){return 0!=(32&a.flags)}(l)&&V_(h,l,Wn(),l.stylesWithoutHost,!1),Pc}function zh(a,l,h,m){return Lu(a,l,h,m),Pc(),zh}function Om(a,l,h){const m=Wn(),y=Or(),b=a+22,A=y.firstCreatePass?function Jd(a,l,h,m,y){const b=l.consts,A=Ie(b,m),P=Yd(l,a,8,"ng-container",A);return null!==A&&Bf(P,A,!0),y_(l,h,P,Ie(b,y)),null!==l.queries&&l.queries.elementStart(l,P),P}(b,y,m,l,h):y.data[b];J(A,!0);const P=m[b]=m[11].createComment("");return wf(y,m,P,A),nl(P,m),aa(A)&&(h_(y,m,A),mm(y,A,m)),null!=h&&Ff(m,A),Om}function Xp(){let a=Is();const l=Or();return q()?j():(a=a.parent,J(a,!1)),l.firstCreatePass&&(us(l,a),Po(a)&&l.queries.elementEnd(a)),Xp}function Fm(a,l,h){return Om(a,l,h),Xp(),Fm}function Gf(){return Wn()}function Bu(a){return!!a&&"function"==typeof a.then}function px(a){return!!a&&"function"==typeof a.subscribe}const gx=px;function U_(a,l,h,m){const y=Wn(),b=Or(),A=Is();return _x(b,y,y[11],A,a,l,0,m),U_}function H_(a,l){const h=Is(),m=Wn(),y=Or();return _x(y,m,Lf(ko(y.data),h,m),h,a,l),H_}function _x(a,l,h,m,y,b,A,P){const U=aa(m),Se=a.firstCreatePass&&Nf(a),et=l[8],Lt=ox(l);let _n=!0;if(3&m.type||P){const qr=jo(m,l),ii=P?P(qr):qr,Oi=Lt.length,pr=P?Es=>P(is(Es[m.index])):m.index;let Si=null;if(!P&&U&&(Si=function mx(a,l,h,m){const y=a.cleanup;if(null!=y)for(let b=0;b<y.length-1;b+=2){const A=y[b];if(A===h&&y[b+1]===m){const P=l[7],U=y[b+2];return P.length>U?P[U]:null}"string"==typeof A&&(b+=2)}return null}(a,l,y,m.index)),null!==Si)(Si.__ngLastListenerFn__||Si).__ngNextListenerFn__=b,Si.__ngLastListenerFn__=b,_n=!1;else{b=G_(m,l,et,b,!1);const Es=h.listen(ii,y,b);Lt.push(b,Es),Se&&Se.push(y,pr,Oi,Oi+1)}}else b=G_(m,l,et,b,!1);const Xn=m.outputs;let yr;if(_n&&null!==Xn&&(yr=Xn[y])){const qr=yr.length;if(qr)for(let ii=0;ii<qr;ii+=2){const qo=l[yr[ii]][yr[ii+1]].subscribe(b),fg=Lt.length;Lt.push(b,qo),Se&&Se.push(y,m.index,fg,-(fg+1))}}}function vx(a,l,h,m){try{return!1!==h(m)}catch(y){return T_(a,y),!1}}function G_(a,l,h,m,y){return function b(A){if(A===Function)return m;Wp(2&a.flags?Ei(a.index,l):l);let U=vx(l,0,m,A),ie=b.__ngNextListenerFn__;for(;ie;)U=vx(l,0,ie,A)&&U,ie=ie.__ngNextListenerFn__;return y&&!1===U&&(A.preventDefault(),A.returnValue=!1),U}}function yx(a=1){return function rc(a){return(En.lFrame.contextLView=function wl(a,l){for(;a>0;)l=l[15],a--;return l}(a,En.lFrame.contextLView))[8]}(a)}function EE(a,l){let h=null;const m=function ky(a){const l=a.attrs;if(null!=l){const h=l.indexOf(5);if(0==(1&h))return l[h+1]}return null}(a);for(let y=0;y<l.length;y++){const b=l[y];if("*"!==b){if(null===m?qw(a,b,!0):Op(m,b))return y}else h=y}return h}function j_(a){const l=Wn()[16][6];if(!l.projection){const m=l.projection=G(a?a.length:1,null),y=m.slice();let b=l.child;for(;null!==b;){const A=a?EE(b,a):0;null!==A&&(y[A]?y[A].projectionNext=b:m[A]=b,y[A]=b),b=b.next}}}function xx(a,l=0,h){const m=Wn(),y=Or(),b=Yd(y,22+a,16,null,h||null);null===b.projection&&(b.projection=l),j(),64!=(64&b.flags)&&function Ay(a,l,h){za(l[11],0,l,h,wy(a,h,l),Sy(h.parent||l[6],h,l))}(y,m,b)}function Pm(a,l,h){return Nm(a,"",l,"",h),Pm}function Nm(a,l,h,m,y){const b=Wn(),A=Hh(b,l,h,m);return A!==Vi&&Ml(Or(),Qi(),b,a,A,b[11],y,!1),Nm}function bx(a,l,h,m,y){const b=a[h+1],A=null===l;let P=m?fc(b):tu(b),U=!1;for(;0!==P&&(!1===U||A);){const Se=a[P+1];CE(a[P],l)&&(U=!0,a[P+1]=m?Pp(Se):r_(Se)),P=m?fc(Se):tu(Se)}U&&(a[h+1]=m?r_(b):Pp(b))}function CE(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ji(a,l)>=0}const ka={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cx(a){return a.substring(ka.key,ka.keyEnd)}function Y_(a,l){const h=ka.textEnd;return h===l?-1:(l=ka.keyEnd=function Kh(a,l,h){for(;l<h&&a.charCodeAt(l)>32;)l++;return l}(a,ka.key=l,h),jf(a,l,h))}function jf(a,l,h){for(;l<h&&a.charCodeAt(l)<=32;)l++;return l}function Q_(a,l,h){return su(a,l,h,!1),Q_}function X_(a,l){return su(a,l,null,!0),X_}function iu(a,l){for(let h=function Dx(a){return function q_(a){ka.key=0,ka.keyEnd=0,ka.value=0,ka.valueEnd=0,ka.textEnd=a.length}(a),Y_(a,jf(a,0,ka.textEnd))}(l);h>=0;h=Y_(l,h))fi(a,Cx(l),!0)}function su(a,l,h,m){const y=Wn(),b=Or(),A=Da(2);b.firstUpdatePass&&J_(b,a,A,m),l!==Vi&&Ro(y,A,l)&&nv(b,b.data[Ys()],y,y[11],a,y[A+1]=function Ol(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Oe(kc(a)))),a}(l,h),m,A)}function Bm(a,l){return l>=a.expandoStartIndex}function J_(a,l,h,m){const y=a.data;if(null===y[h+1]){const b=y[Ys()],A=Bm(a,h);tg(b,m)&&null===l&&!A&&(l=!1),l=function Ix(a,l,h,m){const y=ko(a);let b=m?l.residualClasses:l.residualStyles;if(null===y)0===(m?l.classBindings:l.styleBindings)&&(h=zf(h=tv(null,a,l,h,m),l.attrs,m),b=null);else{const A=l.directiveStylingLast;if(-1===A||a[A]!==y)if(h=tv(y,a,l,h,m),null===b){let U=function eg(a,l,h){const m=h?l.classBindings:l.styleBindings;if(0!==tu(m))return a[fc(m)]}(a,l,m);void 0!==U&&Array.isArray(U)&&(U=tv(null,a,l,U[1],m),U=zf(U,l.attrs,m),function ev(a,l,h,m){a[fc(h?l.classBindings:l.styleBindings)]=m}(a,l,m,U))}else b=function U1(a,l,h){let m;const y=l.directiveEnd;for(let b=1+l.directiveStylingLast;b<y;b++)m=zf(m,a[b].hostAttrs,h);return zf(m,l.attrs,h)}(a,l,m)}return void 0!==b&&(m?l.residualClasses=b:l.residualStyles=b),h}(y,b,l,m),function bE(a,l,h,m,y,b){let A=b?l.classBindings:l.styleBindings,P=fc(A),U=tu(A);a[m]=h;let Se,ie=!1;if(Array.isArray(h)){const et=h;Se=et[1],(null===Se||Ji(et,Se)>0)&&(ie=!0)}else Se=h;if(y)if(0!==U){const Lt=fc(a[P+1]);a[m+1]=cm(Lt,P),0!==Lt&&(a[Lt+1]=um(a[Lt+1],m)),a[P+1]=function n_(a,l){return 131071&a|l<<17}(a[P+1],m)}else a[m+1]=cm(P,0),0!==P&&(a[P+1]=um(a[P+1],m)),P=m;else a[m+1]=cm(U,0),0===P?P=m:a[U+1]=um(a[U+1],m),U=m;ie&&(a[m+1]=r_(a[m+1])),bx(a,Se,m,!0),bx(a,Se,m,!1),function $h(a,l,h,m,y){const b=y?a.residualClasses:a.residualStyles;null!=b&&"string"==typeof l&&Ji(b,l)>=0&&(h[m+1]=Pp(h[m+1]))}(l,Se,a,m,b),A=cm(P,U),b?l.classBindings=A:l.styleBindings=A}(y,b,l,h,A,m)}}function tv(a,l,h,m,y){let b=null;const A=h.directiveEnd;let P=h.directiveStylingLast;for(-1===P?P=h.directiveStart:P++;P<A&&(b=l[P],m=zf(m,b.hostAttrs,y),b!==a);)P++;return null!==a&&(h.directiveStylingLast=P),m}function zf(a,l,h){const m=h?1:2;let y=-1;if(null!==l)for(let b=0;b<l.length;b++){const A=l[b];"number"==typeof A?y=A:y===m&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),fi(a,A,!!h||l[++b]))}return void 0===a?null:a}function nv(a,l,h,m,y,b,A,P){if(!(3&l.type))return;const U=a.data,ie=U[P+1];Rl(function Fp(a){return 1==(1&a)}(ie)?eh(U,l,h,y,tu(ie),A):void 0)||(Rl(b)||function Hy(a){return 2==(2&a)}(ie)&&(b=eh(U,null,h,y,P,A)),function kp(a,l,h,m,y){if(l)y?a.addClass(h,m):a.removeClass(h,m);else{let b=-1===m.indexOf("-")?void 0:$o.DashCase;null==y?a.removeStyle(h,m,b):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),b|=$o.Important),a.setStyle(h,m,y,b))}}(m,A,da(Ys(),h),y,b))}function eh(a,l,h,m,y,b){const A=null===l;let P;for(;y>0;){const U=a[y],ie=Array.isArray(U),Se=ie?U[1]:U,et=null===Se;let Lt=h[y+1];Lt===Vi&&(Lt=et?Dn:void 0);let _n=et?Pr(Lt,m):Se===m?Lt:void 0;if(ie&&!Rl(_n)&&(_n=Pr(U,m)),Rl(_n)&&(P=_n,A))return P;const Xn=a[y+1];y=A?fc(Xn):tu(Xn)}if(null!==l){let U=b?l.residualClasses:l.residualStyles;null!=U&&(P=Pr(U,m))}return P}function Rl(a){return void 0!==a}function tg(a,l){return 0!=(a.flags&(l?16:32))}function rv(a,l=""){const h=Wn(),m=Or(),y=a+22,b=m.firstCreatePass?Yd(m,y,1,l,null):m.data[y],A=h[y]=function Kg(a,l){return a.createText(l)}(h[11],l);wf(m,h,A,b),J(b,!1)}function Yh(a){return th("",a,""),Yh}function th(a,l,h){const m=Wn(),y=Hh(m,a,l,h);return y!==Vi&&Fu(m,Ys(),y),th}function Ka(a,l,h,m,y){const b=Wn(),A=ru(b,a,l,h,m,y);return A!==Vi&&Fu(b,Ys(),A),Ka}function Rx(a,l,h){!function ou(a,l,h,m){const y=Or(),b=Da(2);y.firstUpdatePass&&J_(y,null,b,m);const A=Wn();if(h!==Vi&&Ro(A,b,h)){const P=y.data[Ys()];if(tg(P,m)&&!Bm(y,b)){let U=m?P.classesWithoutHost:P.stylesWithoutHost;null!==U&&(h=me(U,h||"")),V_(y,P,A,h,m)}else!function Mx(a,l,h,m,y,b,A,P){y===Vi&&(y=Dn);let U=0,ie=0,Se=0<y.length?y[0]:null,et=0<b.length?b[0]:null;for(;null!==Se||null!==et;){const Lt=U<y.length?y[U+1]:void 0,_n=ie<b.length?b[ie+1]:void 0;let yr,Xn=null;Se===et?(U+=2,ie+=2,Lt!==_n&&(Xn=et,yr=_n)):null===et||null!==Se&&Se<et?(U+=2,Xn=Se):(ie+=2,Xn=et,yr=_n),null!==Xn&&nv(a,l,h,m,Xn,yr,A,P),Se=U<y.length?y[U]:null,et=ie<b.length?b[ie]:null}}(y,P,A,A[11],A[b+1],A[b+1]=function Vm(a,l,h){if(null==h||""===h)return Dn;const m=[],y=kc(h);if(Array.isArray(y))for(let b=0;b<y.length;b++)a(m,y[b],!0);else if("object"==typeof y)for(const b in y)y.hasOwnProperty(b)&&a(m,b,y[b]);else"string"==typeof y&&l(m,y);return m}(a,l,h),m,b)}}(fi,iu,Hh(Wn(),a,l,h),!0)}function IE(a,l,h){const m=Wn();return Ro(m,yl(),l)&&Ml(Or(),Qi(),m,a,l,m[11],h,!0),IE}function kE(a,l,h){const m=Wn();if(Ro(m,yl(),l)){const b=Or(),A=Qi();Ml(b,A,m,a,l,Lf(ko(b.data),A,m),h,!0)}return kE}const Um=void 0;var OS=["en",[["a","p"],["AM","PM"],Um],[["AM","PM"],Um,Um],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Um,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Um,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Um,"{1} 'at' {0}",Um],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RS(a){const h=Math.floor(Math.abs(a)),m=a.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===m?1:5}];let Hm={};function Ox(a){const l=function PS(a){return a.toLowerCase().replace(/_/g,"-")}(a);let h=H1(l);if(h)return h;const m=l.split("-")[0];if(h=H1(m),h)return h;if("en"===m)return OS;throw new ct(701,!1)}function Uu(a){return Ox(a)[Ri.PluralCase]}function H1(a){return a in Hm||(Hm[a]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[a]),Hm[a]}var Ri=(()=>((Ri=Ri||{})[Ri.LocaleId=0]="LocaleId",Ri[Ri.DayPeriodsFormat=1]="DayPeriodsFormat",Ri[Ri.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ri[Ri.DaysFormat=3]="DaysFormat",Ri[Ri.DaysStandalone=4]="DaysStandalone",Ri[Ri.MonthsFormat=5]="MonthsFormat",Ri[Ri.MonthsStandalone=6]="MonthsStandalone",Ri[Ri.Eras=7]="Eras",Ri[Ri.FirstDayOfWeek=8]="FirstDayOfWeek",Ri[Ri.WeekendRange=9]="WeekendRange",Ri[Ri.DateFormat=10]="DateFormat",Ri[Ri.TimeFormat=11]="TimeFormat",Ri[Ri.DateTimeFormat=12]="DateTimeFormat",Ri[Ri.NumberSymbols=13]="NumberSymbols",Ri[Ri.NumberFormats=14]="NumberFormats",Ri[Ri.CurrencyCode=15]="CurrencyCode",Ri[Ri.CurrencySymbol=16]="CurrencySymbol",Ri[Ri.CurrencyName=17]="CurrencyName",Ri[Ri.Currencies=18]="Currencies",Ri[Ri.Directionality=19]="Directionality",Ri[Ri.PluralCase=20]="PluralCase",Ri[Ri.ExtraData=21]="ExtraData",Ri))();const Gm="en-US";let G1=Gm;function LE(a,l,h,m,y){if(a=Fe(a),Array.isArray(a))for(let b=0;b<a.length;b++)LE(a[b],l,h,m,y);else{const b=Or(),A=Wn();let P=Ld(a)?a:Fe(a.provide),U=Xv(a);const ie=Is(),Se=1048575&ie.providerIndexes,et=ie.directiveStart,Lt=ie.providerIndexes>>20;if(Ld(a)||!a.multi){const _n=new cl(U,y,Fh),Xn=BE(P,l,y?Se:Se+Lt,et);-1===Xn?(Gl(gs(ie,A),b,P),fv(b,a,l.length),l.push(P),ie.directiveStart++,ie.directiveEnd++,y&&(ie.providerIndexes+=1048576),h.push(_n),A.push(_n)):(h[Xn]=_n,A[Xn]=_n)}else{const _n=BE(P,l,Se+Lt,et),Xn=BE(P,l,Se,Se+Lt),yr=_n>=0&&h[_n],qr=Xn>=0&&h[Xn];if(y&&!qr||!y&&!yr){Gl(gs(ie,A),b,P);const ii=function aT(a,l,h,m,y){const b=new cl(a,h,Fh);return b.multi=[],b.index=l,b.componentProviders=0,Bx(b,y,m&&!h),b}(y?Ak:Zl,h.length,y,m,U);!y&&qr&&(h[Xn].providerFactory=ii),fv(b,a,l.length,0),l.push(P),ie.directiveStart++,ie.directiveEnd++,y&&(ie.providerIndexes+=1048576),h.push(ii),A.push(ii)}else fv(b,a,_n>-1?_n:Xn,Bx(h[y?Xn:_n],U,!y&&m));!y&&m&&qr&&h[Xn].componentProviders++}}}function fv(a,l,h,m){const y=Ld(l),b=function ja(a){return!!a.useClass}(l);if(y||b){const U=(b?Fe(l.useClass):l).prototype.ngOnDestroy;if(U){const ie=a.destroyHooks||(a.destroyHooks=[]);if(!y&&l.multi){const Se=ie.indexOf(h);-1===Se?ie.push(h,[m,U]):ie[Se+1].push(m,U)}else ie.push(h,U)}}}function Bx(a,l,h){return h&&a.componentProviders++,a.multi.push(l)-1}function BE(a,l,h,m){for(let y=h;y<m;y++)if(l[y]===a)return y;return-1}function Zl(a,l,h,m){return Vx(this.multi,[])}function Ak(a,l,h,m){const y=this.multi;let b;if(this.providerFactory){const A=this.providerFactory.componentProviders,P=_i(h,h[1],this.providerFactory.index,m);b=P.slice(0,A),Vx(y,b);for(let U=A;U<P.length;U++)b.push(P[U])}else b=[],Vx(y,b);return b}function Vx(a,l){for(let h=0;h<a.length;h++)l.push((0,a[h])());return l}function fC(a,l=[]){return h=>{h.providersResolver=(m,y)=>function oT(a,l,h){const m=Or();if(m.firstCreatePass){const y=uo(a);LE(h,m.data,m.blueprint,y,!0),LE(l,m.data,m.blueprint,y,!1)}}(m,y?y(a):a,l)}}class Zm{}class pC{}function lT(a,l){return new Ux(a,l??null)}class Ux extends Zm{constructor(l,h){super(),this._parent=h,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dm(this);const m=tt(l);this._bootstrapComponents=gd(m.bootstrap),this._r3Injector=tm(l,h,[{provide:Zm,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],Oe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class VE extends pC{constructor(l){super(),this.moduleType=l}create(l){return new Ux(this.moduleType,l)}}class cT extends Zm{constructor(l,h,m){super(),this.componentFactoryResolver=new Dm(this),this.instance=null;const y=new ud([...l,{provide:Zm,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],h||pf(),m,new Set(["environment"]));this.injector=y,y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Hx(a,l,h=null){return new cT(a,l,h).injector}function WE(a,l,h,m){return zx(Wn(),zs(),a,l,h,m)}function wC(a,l,h,m,y){return Wx(Wn(),zs(),a,l,h,m,y)}function $E(a,l,h,m,y,b,A){return function vT(a,l,h,m,y,b,A,P,U){const ie=l+h;return function Oc(a,l,h,m,y,b){const A=gc(a,l,h,m);return gc(a,l+2,y,b)||A}(a,ie,y,b,A,P)?$a(a,ie+4,U?m.call(U,y,b,A,P):m(y,b,A,P)):og(a,ie+4)}(Wn(),zs(),a,l,h,m,y,b,A)}function og(a,l){const h=a[l];return h===Vi?void 0:h}function zx(a,l,h,m,y,b){const A=l+h;return Ro(a,A,y)?$a(a,A+1,b?m.call(b,y):m(y)):og(a,A+1)}function Wx(a,l,h,m,y,b,A){const P=l+h;return gc(a,P,y,b)?$a(a,P+2,A?m.call(A,y,b):m(y,b)):og(a,P+2)}function pv(a,l){const h=Or();let m;const y=a+22;h.firstCreatePass?(m=function bC(a,l){if(l)for(let h=l.length-1;h>=0;h--){const m=l[h];if(a===m.name)return m}}(l,h.pipeRegistry),h.data[y]=m,m.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(y,m.onDestroy)):m=h.data[y];const b=m.factory||(m.factory=js(m.type)),A=Yt(Fh);try{const P=Ul(!1),U=b();return Ul(P),function Mm(a,l,h,m){h>=a.data.length&&(a.data[h]=null,a.blueprint[h]=null),l[h]=m}(h,Wn(),y,U),U}finally{Yt(A)}}function $x(a,l,h){const m=a+22,y=Wn(),b=fo(y,m);return Zh(y,m)?zx(y,zs(),l,b.transform,h,b):b.transform(h)}function YE(a,l,h,m){const y=a+22,b=Wn(),A=fo(b,y);return Zh(b,y)?Wx(b,zs(),l,A.transform,h,m,A):A.transform(h,m)}function Zh(a,l){return a[1].data[l].pure}function gv(a){return l=>{setTimeout(a,void 0,l)}}const ju=class ET extends _.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,h,m){let y=l,b=h||(()=>null),A=m;if(l&&"object"==typeof l){const U=l;y=U.next?.bind(U),b=U.error?.bind(U),A=U.complete?.bind(U)}this.__isAsync&&(b=gv(b),y&&(y=gv(y)),A&&(A=gv(A)));const P=super.subscribe({next:y,error:b,complete:A});return l instanceof d.w0&&l.add(P),P}};function bT(){return this._results[ql()]()}class Kx{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=ql(),m=Kx.prototype;m[h]||(m[h]=bT)}get changes(){return this._changes||(this._changes=new ju)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,h){return this._results.reduce(l,h)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,h){const m=this;m.dirty=!1;const y=Ws(l);(this._changesDetected=!function nd(a,l,h){if(a.length!==l.length)return!1;for(let m=0;m<a.length;m++){let y=a[m],b=l[m];if(h&&(y=h(y),b=h(b)),b!==y)return!1}return!0}(m._results,y,h))&&(m._results=y,m.length=y.length,m.last=y[this.length-1],m.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qm=(()=>{class a{}return a.__NG_ELEMENT_ID__=ST,a})();const CT=Qm,DT=class extends CT{constructor(l,h,m){super(),this._declarationLView=l,this._declarationTContainer=h,this.elementRef=m}createEmbeddedView(l,h){const m=this._declarationTContainer.tViews,y=Of(this._declarationLView,m,l,16,null,m.declTNode,null,null,null,null,h||null);y[17]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[19];return null!==A&&(y[19]=A.createEmbeddedView(m)),Lh(m,y,l),new Ko(y)}};function ST(){return zu(Is(),Wn())}function zu(a,l){return 4&a.type?new DT(l,a,vf(a,l)):null}let ag=(()=>{class a{}return a.__NG_ELEMENT_ID__=TT,a})();function TT(){return IT(Is(),Wn())}const AT=ag,DC=class extends AT{constructor(l,h,m){super(),this._lContainer=l,this._hostTNode=h,this._hostLView=m}get element(){return vf(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){const l=xc(this._hostTNode,this._hostLView);if(jc(l)){const h=Pi(l,this._hostLView),m=Vl(l);return new ri(h[1].data[m+8],h)}return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const h=SC(this._lContainer);return null!==h&&h[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,h,m){let y,b;"number"==typeof m?y=m:null!=m&&(y=m.index,b=m.injector);const A=l.createEmbeddedView(h||{},b);return this.insert(A,y),A}createComponent(l,h,m,y,b){const A=l&&!function wi(a){return"function"==typeof a}(l);let P;if(A)P=h;else{const et=h||{};P=et.index,m=et.injector,y=et.projectableNodes,b=et.environmentInjector||et.ngModuleRef}const U=A?l:new Js(de(l)),ie=m||this.parentInjector;if(!b&&null==U.ngModule){const Lt=(A?ie:this.parentInjector).get(Bd,null);Lt&&(b=Lt)}const Se=U.create(ie,y,void 0,b);return this.insert(Se.hostView,P),Se}insert(l,h){const m=l._lView,y=m[1];if(function X(a){return Ds(a[3])}(m)){const Se=this.indexOf(l);if(-1!==Se)this.detach(Se);else{const et=m[3],Lt=new DC(et,et[6],et[3]);Lt.detach(Lt.indexOf(l))}}const b=this._adjustIndex(h),A=this._lContainer;!function $w(a,l,h,m){const y=10+m,b=h.length;m>0&&(h[y-1][4]=l),m<b-10?(l[4]=h[y],O(h,10+m,l)):(h.push(l),l[4]=null),l[3]=h;const A=l[17];null!==A&&h!==A&&function yy(a,l){const h=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===h?a[9]=[l]:h.push(l)}(A,l);const P=l[19];null!==P&&P.insertView(a),l[2]|=64}(y,m,A,b);const P=Tp(b,A),U=m[11],ie=bp(U,A[7]);return null!==ie&&function _y(a,l,h,m,y,b){m[0]=y,m[6]=l,Ip(a,m,h,1,y,b)}(y,A[6],U,m,ie,P),l.attachToViewContainerRef(),O(TC(A),b,l),l}move(l,h){return this.insert(l,h)}indexOf(l){const h=SC(this._lContainer);return null!==h?h.indexOf(l):-1}remove(l){const h=this._adjustIndex(l,-1),m=Th(this._lContainer,h);m&&(I(TC(this._lContainer),h),G0(m[1],m))}detach(l){const h=this._adjustIndex(l,-1),m=Th(this._lContainer,h);return m&&null!=I(TC(this._lContainer),h)?new Ko(m):null}_adjustIndex(l,h=0){return l??this.length+h}};function SC(a){return a[8]}function TC(a){return a[8]||(a[8]=[])}function IT(a,l){let h;const m=l[a.index];if(Ds(m))h=m;else{let y;if(8&a.type)y=is(m);else{const b=l[11];y=b.createComment("");const A=jo(a,l);_d(b,bp(b,A),y,function Dy(a,l){return a.nextSibling(l)}(b,A),!1)}l[a.index]=h=ym(m,l,y,a),zp(l,h)}return new DC(h,a,l)}class qE{constructor(l){this.queryList=l,this.matches=null}clone(){return new qE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yx{constructor(l=[]){this.queries=l}createEmbeddedView(l){const h=l.queries;if(null!==h){const m=null!==l.contentQueries?l.contentQueries[0]:h.length,y=[];for(let b=0;b<m;b++){const A=h.getByIndex(b);y.push(this.queries[A.indexInDeclarationView].clone())}return new Yx(y)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let h=0;h<this.queries.length;h++)null!==PT(l,h).matches&&this.queries[h].setDirty()}}class AC{constructor(l,h,m=null){this.predicate=l,this.flags=h,this.read=m}}class IC{constructor(l=[]){this.queries=l}elementStart(l,h){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(l,h)}elementEnd(l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(l)}embeddedTView(l){let h=null;for(let m=0;m<this.length;m++){const y=null!==h?h.length:0,b=this.getByIndex(m).embeddedTView(l,y);b&&(b.indexInDeclarationView=m,null!==h?h.push(b):h=[b])}return null!==h?new IC(h):null}template(l,h){for(let m=0;m<this.queries.length;m++)this.queries[m].template(l,h)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class kC{constructor(l,h=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(l,h){this.isApplyingToNode(h)&&this.matchTNode(l,h)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,h){this.elementStart(l,h)}embeddedTView(l,h){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,h),new kC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let m=l.parent;for(;null!==m&&8&m.type&&m.index!==h;)m=m.parent;return h===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(l,h){const m=this.metadata.predicate;if(Array.isArray(m))for(let y=0;y<m.length;y++){const b=m[y];this.matchTNodeWithReadOption(l,h,ZE(h,b)),this.matchTNodeWithReadOption(l,h,ys(h,l,b,!1,!1))}else m===Qm?4&h.type&&this.matchTNodeWithReadOption(l,h,-1):this.matchTNodeWithReadOption(l,h,ys(h,l,m,!1,!1))}matchTNodeWithReadOption(l,h,m){if(null!==m){const y=this.metadata.read;if(null!==y)if(y===mp||y===ag||y===Qm&&4&h.type)this.addMatch(h.index,-2);else{const b=ys(h,l,y,!1,!1);null!==b&&this.addMatch(h.index,b)}else this.addMatch(h.index,m)}}addMatch(l,h){null===this.matches?this.matches=[l,h]:this.matches.push(l,h)}}function ZE(a,l){const h=a.localNames;if(null!==h)for(let m=0;m<h.length;m+=2)if(h[m]===l)return h[m+1];return null}function RT(a,l,h,m){return-1===h?function MT(a,l){return 11&a.type?vf(a,l):4&a.type?zu(a,l):null}(l,a):-2===h?function OT(a,l,h){return h===mp?vf(l,a):h===Qm?zu(l,a):h===ag?IT(l,a):void 0}(a,l,m):_i(a,a[1],h,l)}function MC(a,l,h,m){const y=l[19].queries[m];if(null===y.matches){const b=a.data,A=h.matches,P=[];for(let U=0;U<A.length;U+=2){const ie=A[U];P.push(ie<0?null:RT(l,b[ie],A[U+1],h.metadata.read))}y.matches=P}return y.matches}function qx(a,l,h,m){const y=a.queries.getByIndex(h),b=y.matches;if(null!==b){const A=MC(a,l,y,h);for(let P=0;P<b.length;P+=2){const U=b[P];if(U>0)m.push(A[P/2]);else{const ie=b[P+1],Se=l[-U];for(let et=10;et<Se.length;et++){const Lt=Se[et];Lt[17]===Lt[3]&&qx(Lt[1],Lt,ie,m)}if(null!==Se[9]){const et=Se[9];for(let Lt=0;Lt<et.length;Lt++){const _n=et[Lt];qx(_n[1],_n,ie,m)}}}}}return m}function RC(a){const l=Wn(),h=Or(),m=al();Nl(m+1);const y=PT(h,m);if(a.dirty&&Q(l)===(2==(2&y.metadata.flags))){if(null===y.matches)a.reset([]);else{const b=y.crossesNgTemplate?qx(h,l,m,[]):MC(h,l,y,m);a.reset(b,ry),a.notifyOnChanges()}return!0}return!1}function OC(a,l,h){const m=Or();m.firstCreatePass&&(PC(m,new AC(a,l,h),-1),2==(2&l)&&(m.staticViewQueries=!0)),cg(m,Wn(),l)}function FC(a,l,h,m){const y=Or();if(y.firstCreatePass){const b=Is();PC(y,new AC(l,h,m),b.index),function FT(a,l){const h=a.contentQueries||(a.contentQueries=[]);l!==(h.length?h[h.length-1]:-1)&&h.push(a.queries.length-1,l)}(y,a),2==(2&h)&&(y.staticContentQueries=!0)}cg(y,Wn(),h)}function Kf(){return function Wu(a,l){return a[19].queries[l].queryList}(Wn(),al())}function cg(a,l,h){const m=new Kx(4==(4&h));Zy(a,l,m,m.destroy),null===l[19]&&(l[19]=new Yx),l[19].queries.push(new qE(m))}function PC(a,l,h){null===a.queries&&(a.queries=new IC),a.queries.track(new kC(l,h))}function PT(a,l){return a.queries.getByIndex(l)}function _v(a){const l=de(a)||ke(a)||ve(a);return null!==l&&l.standalone}function Jm(...a){}const Qx=new vi("Application Initializer");let Ql=(()=>{class a{constructor(h){this.appInits=h,this.resolve=Jm,this.reject=Jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,y)=>{this.resolve=m,this.reject=y})}runInitializers(){if(this.initialized)return;const h=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const b=this.appInits[y]();if(Bu(b))h.push(b);else if(gx(b)){const A=new Promise((P,U)=>{b.subscribe({complete:P,error:U})});h.push(A)}}Promise.all(h).then(()=>{m()}).catch(y=>{this.reject(y)}),0===h.length&&m(),this.initialized=!0}}return a.\u0275fac=function(h){return new(h||a)(io(Qx,8))},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const eb=new vi("AppId",{providedIn:"root",factory:function Xx(){return`${Jx()}${Jx()}${Jx()}`}});function Jx(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ew=new vi("Platform Initializer"),Zk=new vi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eD=new vi("appBootstrapListener"),tD=new vi("AnimationModuleType");let eA=(()=>{class a{log(h){console.log(h)}warn(h){console.warn(h)}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const tw=new vi("LocaleId",{providedIn:"root",factory:()=>rd(tw,mr.Optional|mr.SkipSelf)||function Qk(){return typeof $localize<"u"&&$localize.locale||Gm}()}),nD=new vi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tb{constructor(l,h){this.ngModuleFactory=l,this.componentFactories=h}}let rA=(()=>{class a{compileModuleSync(h){return new VE(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const m=this.compileModuleSync(h),b=gd(tt(h).declarations).reduce((A,P)=>{const U=de(P);return U&&A.push(new Js(U)),A},[]);return new tb(m,b)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const ib=(()=>Promise.resolve(0))();function sh(a){typeof Zone>"u"?ib.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Xl{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ju(!1),this.onMicrotaskEmpty=new ju(!1),this.onStable=new ju(!1),this.onError=new ju(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const y=this;if(y._nesting=0,y._outer=y._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const b=Zone.AsyncStackTaggingZoneSpec;y._inner=y._inner.fork(new b("Angular"))}Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!m&&h,y.shouldCoalesceRunChangeDetection=m,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function sb(){let a=st.requestAnimationFrame,l=st.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h);const m=l[Zone.__symbol__("OriginalDelegate")];m&&(l=m)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function sA(a){const l=()=>{!function iD(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(st,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,nw(a),a.isCheckStableRunning=!0,dg(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),nw(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,m,y,b,A,P)=>{try{return Qh(a),h.invokeTask(y,b,A,P)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||a.shouldCoalesceRunChangeDetection)&&l(),ob(a)}},onInvoke:(h,m,y,b,A,P,U)=>{try{return Qh(a),h.invoke(y,b,A,P,U)}finally{a.shouldCoalesceRunChangeDetection&&l(),ob(a)}},onHasTask:(h,m,y,b)=>{h.hasTask(y,b),m===y&&("microTask"==b.change?(a._hasPendingMicrotasks=b.microTask,nw(a),dg(a)):"macroTask"==b.change&&(a.hasPendingMacrotasks=b.macroTask))},onHandleError:(h,m,y,b)=>(h.handleError(y,b),a.runOutsideAngular(()=>a.onError.emit(b)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xl.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(Xl.isInAngularZone())throw new ct(909,!1)}run(l,h,m){return this._inner.run(l,h,m)}runTask(l,h,m,y){const b=this._inner,A=b.scheduleEventTask("NgZoneEvent: "+y,l,iA,Jm,Jm);try{return b.runTask(A,h,m)}finally{b.cancelTask(A)}}runGuarded(l,h,m){return this._inner.runGuarded(l,h,m)}runOutsideAngular(l){return this._outer.run(l)}}const iA={};function dg(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function nw(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Qh(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function ob(a){a._nesting--,dg(a)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ju,this.onMicrotaskEmpty=new ju,this.onStable=new ju,this.onError=new ju}run(l,h,m){return l.apply(h,m)}runGuarded(l,h,m){return l.apply(h,m)}runOutsideAngular(l){return l()}runTask(l,h,m,y){return l.apply(h,m)}}const Ed=new vi(""),Yf=new vi("");let rw,wv=(()=>{class a{constructor(h,m,y){this._ngZone=h,this.registry=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rw||(function ab(a){rw=a}(y),y.addToWindow(m)),this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xl.assertNotInAngularZone(),sh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sh(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(h)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,m,y){let b=-1;m&&m>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==b),h(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:h,timeoutId:b,updateCb:y})}whenStable(h,m,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,m,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(h){this.registry.registerApplication(h,this)}unregisterApplication(h){this.registry.unregisterApplication(h)}findProviders(h,m,y){return[]}}return a.\u0275fac=function(h){return new(h||a)(io(Xl),io(oD),io(Yf))},a.\u0275prov=cn({token:a,factory:a.\u0275fac}),a})(),oD=(()=>{class a{constructor(){this._applications=new Map}registerApplication(h,m){this._applications.set(h,m)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,m=!0){return rw?.findTestabilityInTree(this,h,m)??null}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),bd=null;const Ev=new vi("AllowMultipleToken"),lb=new vi("PlatformDestroyListeners");class cu{constructor(l,h){this.name=l,this.token=h}}function lD(a,l,h=[]){const m=`Platform: ${l}`,y=new vi(m);return(b=[])=>{let A=t0();if(!A||A.injector.get(Ev,!1)){const P=[...h,...b,{provide:y,useValue:!0}];a?a(P):function aD(a){if(bd&&!bd.get(Ev,!1))throw new ct(400,!1);bd=a;const l=a.get(cD);(function bv(a){const l=a.get(ew,null);l&&l.forEach(h=>h())})(a)}(function cA(a=[],l){return jd.create({name:l,providers:[{provide:ff,useValue:"platform"},{provide:lb,useValue:new Set([()=>bd=null])},...a]})}(P,m))}return function lA(a){const l=t0();if(!l)throw new ct(401,!1);return l}()}}function t0(){return bd?.get(cD)??null}let cD=(()=>{class a{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,m){const y=function uA(a,l){let h;return h="noop"===a?new sD:("zone.js"===a?void 0:a)||new Xl(l),h}(m?.ngZone,function uD(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(m)),b=[{provide:Xl,useValue:y}];return y.run(()=>{const A=jd.create({providers:b,parent:this.injector,name:h.moduleType.name}),P=h.create(A),U=P.injector.get(ia,null);if(!U)throw new ct(402,!1);return y.runOutsideAngular(()=>{const ie=y.onError.subscribe({next:Se=>{U.handleError(Se)}});P.onDestroy(()=>{Tv(this._modules,P),ie.unsubscribe()})}),function Cv(a,l,h){try{const m=h();return Bu(m)?m.catch(y=>{throw l.runOutsideAngular(()=>a.handleError(y)),y}):m}catch(m){throw l.runOutsideAngular(()=>a.handleError(m)),m}}(U,y,()=>{const ie=P.injector.get(Ql);return ie.runInitializers(),ie.donePromise.then(()=>(function ME(a){Vn(a,"Expected localeId to be defined"),"string"==typeof a&&(G1=a.toLowerCase().replace(/_/g,"-"))}(P.injector.get(tw,Gm)||Gm),this._moduleDoBootstrap(P),P))})})}bootstrapModule(h,m=[]){const y=Dv({},m);return function oA(a,l,h){const m=new VE(h);return Promise.resolve(m)}(0,0,h).then(b=>this.bootstrapModuleFactory(b,y))}_moduleDoBootstrap(h){const m=h.injector.get(Sv);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(y=>m.bootstrap(y));else{if(!h.instance.ngDoBootstrap)throw new ct(403,!1);h.instance.ngDoBootstrap(m)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m());const h=this._injector.get(lb,null);h&&(h.forEach(m=>m()),h.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(h){return new(h||a)(io(jd))},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Dv(a,l){return Array.isArray(l)?l.reduce(Dv,a):{...a,...l}}let Sv=(()=>{class a{constructor(h,m,y){this._zone=h,this._injector=m,this._exceptionHandler=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new H.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),A=new H.y(P=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{Xl.assertNotInAngularZone(),sh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const ie=this._zone.onUnstable.subscribe(()=>{Xl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{U.unsubscribe(),ie.unsubscribe()}});this.isStable=(0,ge.T)(b,A.pipe((0,Re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(h,m){const y=h instanceof ty;if(!this._injector.get(Ql).done)throw!y&&_v(h),new ct(405,false);let A;A=y?h:this._injector.get(Tu).resolveComponentFactory(h),this.componentTypes.push(A.componentType);const P=function aA(a){return a.isBoundToModule}(A)?void 0:this._injector.get(Zm),ie=A.create(jd.NULL,[],m||A.selector,P),Se=ie.location.nativeElement,et=ie.injector.get(Ed,null);return et?.registerApplication(Se),ie.onDestroy(()=>{this.detachView(ie.hostView),Tv(this.components,ie),et?.unregisterApplication(Se)}),this._loadComponent(ie),ie}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const m=h;this._views.push(m),m.attachToAppRef(this)}detachView(h){const m=h;Tv(this._views,m),m.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(eD,[]).concat(this._bootstrapListeners).forEach(y=>y(h))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(h=>h()),this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(h){return this._destroyListeners.push(h),()=>Tv(this._destroyListeners,h)}destroy(){if(this._destroyed)throw new ct(406,!1);const h=this._injector;h.destroy&&!h.destroyed&&h.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(h){return new(h||a)(io(Xl),io(Bd),io(ia))},a.\u0275prov=cn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Tv(a,l){const h=a.indexOf(l);h>-1&&a.splice(h,1)}let ub=!0,hD=!1;function dA(){return hD=!0,ub}function hA(){if(hD)throw new Error("Cannot enable prod mode after platform setup.");ub=!1}let hg=(()=>{class a{}return a.__NG_ELEMENT_ID__=db,a})();function db(a){return function hb(a,l,h){if(ol(a)&&!h){const m=Ei(a.index,l);return new Ko(m,m)}return 47&a.type?new Ko(l[16],l):null}(Is(),Wn(),16==(16&a))}class _A{constructor(){}supports(l){return Qp(l)}create(l){return new yA(l)}}const vA=(a,l)=>l;class yA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||vA}forEachItem(l){let h;for(h=this._itHead;null!==h;h=h._next)l(h)}forEachOperation(l){let h=this._itHead,m=this._removalsHead,y=0,b=null;for(;h||m;){const A=!m||h&&h.currentIndex<vD(m,y,b)?h:m,P=vD(A,y,b),U=A.currentIndex;if(A===m)y--,m=m._nextRemoved;else if(h=h._next,null==A.previousIndex)y++;else{b||(b=[]);const ie=P-y,Se=U-y;if(ie!=Se){for(let Lt=0;Lt<ie;Lt++){const _n=Lt<b.length?b[Lt]:b[Lt]=0,Xn=_n+Lt;Se<=Xn&&Xn<ie&&(b[Lt]=_n+1)}b[A.previousIndex]=Se-ie}}P!==U&&l(A,P,U)}}forEachPreviousItem(l){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachMovedItem(l){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}forEachIdentityChange(l){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)l(h)}diff(l){if(null==l&&(l=[]),!Qp(l))throw new ct(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let y,b,A,h=this._itHead,m=!1;if(Array.isArray(l)){this.length=l.length;for(let P=0;P<this.length;P++)b=l[P],A=this._trackByFn(P,b),null!==h&&Object.is(h.trackById,A)?(m&&(h=this._verifyReinsertion(h,b,A,P)),Object.is(h.item,b)||this._addIdentityChange(h,b)):(h=this._mismatch(h,b,A,P),m=!0),h=h._next}else y=0,function xE(a,l){if(Array.isArray(a))for(let h=0;h<a.length;h++)l(a[h]);else{const h=a[ql()]();let m;for(;!(m=h.next()).done;)l(m.value)}}(l,P=>{A=this._trackByFn(y,P),null!==h&&Object.is(h.trackById,A)?(m&&(h=this._verifyReinsertion(h,P,A,y)),Object.is(h.item,P)||this._addIdentityChange(h,P)):(h=this._mismatch(h,P,A,y),m=!0),h=h._next,y++}),this.length=y;return this._truncate(h),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,h,m,y){let b;return null===l?b=this._itTail:(b=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._reinsertAfter(l,b,y)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(m,y))?(Object.is(l.item,h)||this._addIdentityChange(l,h),this._moveAfter(l,b,y)):l=this._addAfter(new xA(h,m),b,y),l}_verifyReinsertion(l,h,m,y){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==b?l=this._reinsertAfter(b,l._prev,y):l.currentIndex!=y&&(l.currentIndex=y,this._addToMoves(l,y)),l}_truncate(l){for(;null!==l;){const h=l._next;this._addToRemovals(this._unlink(l)),l=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,h,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const y=l._prevRemoved,b=l._nextRemoved;return null===y?this._removalsHead=b:y._nextRemoved=b,null===b?this._removalsTail=y:b._prevRemoved=y,this._insertAfter(l,h,m),this._addToMoves(l,m),l}_moveAfter(l,h,m){return this._unlink(l),this._insertAfter(l,h,m),this._addToMoves(l,m),l}_addAfter(l,h,m){return this._insertAfter(l,h,m),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,h,m){const y=null===h?this._itHead:h._next;return l._next=y,l._prev=h,null===y?this._itTail=l:y._prev=l,null===h?this._itHead=l:h._next=l,null===this._linkedRecords&&(this._linkedRecords=new _D),this._linkedRecords.put(l),l.currentIndex=m,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const h=l._prev,m=l._next;return null===h?this._itHead=m:h._next=m,null===m?this._itTail=h:m._prev=h,l}_addToMoves(l,h){return l.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _D),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,h){return l.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class xA{constructor(l,h){this.item=l,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wA{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,h){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===h||h<=m.currentIndex)&&Object.is(m.trackById,l))return m;return null}remove(l){const h=l._prevDup,m=l._nextDup;return null===h?this._head=m:h._nextDup=m,null===m?this._tail=h:m._prevDup=h,null===this._head}}class _D{constructor(){this.map=new Map}put(l){const h=l.trackById;let m=this.map.get(h);m||(m=new wA,this.map.set(h,m)),m.add(l)}get(l,h){const y=this.map.get(l);return y?y.get(l,h):null}remove(l){const h=l.trackById;return this.map.get(h).remove(l)&&this.map.delete(h),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vD(a,l,h){const m=a.previousIndex;if(null===m)return m;let y=0;return h&&m<h.length&&(y=h[m]),m+l+y}class gb{constructor(){}supports(l){return l instanceof Map||M_(l)}create(){return new EA}}class EA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let h;for(h=this._mapHead;null!==h;h=h._next)l(h)}forEachPreviousItem(l){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)l(h)}forEachChangedItem(l){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)l(h)}forEachAddedItem(l){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)l(h)}forEachRemovedItem(l){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)l(h)}diff(l){if(l){if(!(l instanceof Map||M_(l)))throw new ct(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(l,(m,y)=>{if(h&&h.key===y)this._maybeAddToChanges(h,m),this._appendAfter=h,h=h._next;else{const b=this._getOrCreateRecordForKey(y,m);h=this._insertBeforeOrAppend(h,b)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let m=h;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,h){if(l){const m=l._prev;return h._next=l,h._prev=m,l._prev=h,m&&(m._next=h),l===this._mapHead&&(this._mapHead=h),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(l,h){if(this._records.has(l)){const y=this._records.get(l);this._maybeAddToChanges(y,h);const b=y._prev,A=y._next;return b&&(b._next=A),A&&(A._prev=b),y._next=null,y._prev=null,y}const m=new bA(l);return this._records.set(l,m),m.currentValue=h,this._addToAdditions(m),m}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,h){Object.is(h,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=h,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,h){l instanceof Map?l.forEach(h):Object.keys(l).forEach(m=>h(l[m],m))}}class bA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mb(){return new _b([new _A])}let _b=(()=>{class a{constructor(h){this.factories=h}static create(h,m){if(null!=m){const y=m.factories.slice();h=h.concat(y)}return new a(h)}static extend(h){return{provide:a,useFactory:m=>a.create(h,m||mb()),deps:[[a,new Cr,new Cn]]}}find(h){const m=this.factories.find(y=>y.supports(h));if(null!=m)return m;throw new ct(901,!1)}}return a.\u0275prov=cn({token:a,providedIn:"root",factory:mb}),a})();function xD(){return new vb([new gb])}let vb=(()=>{class a{constructor(h){this.factories=h}static create(h,m){if(m){const y=m.factories.slice();h=h.concat(y)}return new a(h)}static extend(h){return{provide:a,useFactory:m=>a.create(h,m||xD()),deps:[[a,new Cr,new Cn]]}}find(h){const m=this.factories.find(y=>y.supports(h));if(m)return m;throw new ct(901,!1)}}return a.\u0275prov=cn({token:a,providedIn:"root",factory:xD}),a})();const Ku=lD(null,"core",[]);let yb=(()=>{class a{constructor(h){}}return a.\u0275fac=function(h){return new(h||a)(io(Sv))},a.\u0275mod=ot({type:a}),a.\u0275inj=Wt({}),a})();function Iv(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},4006:(Zn,St,M)=>{M.d(St,{Cf:()=>At,F:()=>Ks,Fj:()=>Et,JJ:()=>Hr,JL:()=>hi,JU:()=>Oe,On:()=>ba,UX:()=>zi,Zs:()=>Ei,_Y:()=>pa,a5:()=>di,kI:()=>xt,qQ:()=>jo,qu:()=>As,sg:()=>rs,u:()=>Eo,u5:()=>Ts,wV:()=>to});var _=M(4650),d=M(6895),H=M(8996),ge=M(4128),Re=M(4004);let Ae=(()=>{class J{constructor(j,Te){this._renderer=j,this._elementRef=Te,this.onChange=un=>{},this.onTouched=()=>{}}setProperty(j,Te){this._renderer.setProperty(this._elementRef.nativeElement,j,Te)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(_.Qsj),_.Y36(_.SBq))},J.\u0275dir=_.lG2({type:J}),J})(),Ge=(()=>{class J extends Ae{}return J.\u0275fac=function(){let q;return function(Te){return(q||(q=_.n5z(J)))(Te||J)}}(),J.\u0275dir=_.lG2({type:J,features:[_.qOj]}),J})();const Oe=new _.OlP("NgValueAccessor"),xe={provide:Oe,useExisting:(0,_.Gpc)(()=>Et),multi:!0},pt=new _.OlP("CompositionEventMode");let Et=(()=>{class J extends Ae{constructor(j,Te,un){super(j,Te),this._compositionMode=un,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const J=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(J.toLowerCase())}())}writeValue(j){this.setProperty("value",j??"")}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(pt,8))},J.\u0275dir=_.lG2({type:J,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,Te){1&j&&_.NdJ("input",function(wr){return Te._handleInput(wr.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(wr){return Te._compositionEnd(wr.target.value)})},features:[_._Bn([xe]),_.qOj]}),J})();function jt(J){return null==J||("string"==typeof J||Array.isArray(J))&&0===J.length}function Ft(J){return null!=J&&"number"==typeof J.length}const At=new _.OlP("NgValidators"),en=new _.OlP("NgAsyncValidators"),gn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(q){return Ue(q)}static max(q){return function Ve(J){return q=>{if(jt(q.value)||jt(J))return null;const j=parseFloat(q.value);return!isNaN(j)&&j>J?{max:{max:J,actual:q.value}}:null}}(q)}static required(q){return at(q)}static requiredTrue(q){return ze(q)}static email(q){return function nt(J){return jt(J.value)||gn.test(J.value)?null:{email:!0}}(q)}static minLength(q){return function Qe(J){return q=>jt(q.value)||!Ft(q.value)?null:q.value.length<J?{minlength:{requiredLength:J,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function Pe(J){return q=>Ft(q.value)&&q.value.length>J?{maxlength:{requiredLength:J,actualLength:q.value.length}}:null}(q)}static pattern(q){return function ae(J){if(!J)return _t;let q,j;return"string"==typeof J?(j="","^"!==J.charAt(0)&&(j+="^"),j+=J,"$"!==J.charAt(J.length-1)&&(j+="$"),q=new RegExp(j)):(j=J.toString(),q=J),Te=>{if(jt(Te.value))return null;const un=Te.value;return q.test(un)?null:{pattern:{requiredPattern:j,actualValue:un}}}}(q)}static nullValidator(q){return null}static compose(q){return sn(q)}static composeAsync(q){return kn(q)}}function Ue(J){return q=>{if(jt(q.value)||jt(J))return null;const j=parseFloat(q.value);return!isNaN(j)&&j<J?{min:{min:J,actual:q.value}}:null}}function at(J){return jt(J.value)?{required:!0}:null}function ze(J){return!0===J.value?null:{required:!0}}function _t(J){return null}function Ne(J){return null!=J}function Je(J){return(0,_.QGY)(J)?(0,H.D)(J):J}function Gt(J){let q={};return J.forEach(j=>{q=null!=j?{...q,...j}:q}),0===Object.keys(q).length?null:q}function qt(J,q){return q.map(j=>j(J))}function Vn(J){return J.map(q=>function Pn(J){return!J.validate}(q)?q:j=>q.validate(j))}function sn(J){if(!J)return null;const q=J.filter(Ne);return 0==q.length?null:function(j){return Gt(qt(j,q))}}function Kt(J){return null!=J?sn(Vn(J)):null}function kn(J){if(!J)return null;const q=J.filter(Ne);return 0==q.length?null:function(j){const Te=qt(j,q).map(Je);return(0,ge.D)(Te).pipe((0,Re.U)(Gt))}}function fn(J){return null!=J?kn(Vn(J)):null}function cn(J,q){return null===J?[q]:Array.isArray(J)?[...J,q]:[J,q]}function mn(J){return J._rawValidators}function Wt(J){return J._rawAsyncValidators}function An(J){return J?Array.isArray(J)?J:[J]:[]}function Kn(J,q){return Array.isArray(J)?J.includes(q):J===q}function dr(J,q){const j=An(q);return An(J).forEach(un=>{Kn(j,un)||j.push(un)}),j}function Lr(J,q){return An(q).filter(j=>!Kn(J,j))}class ui{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q){this.control&&this.control.reset(q)}hasError(q,j){return!!this.control&&this.control.hasError(q,j)}getError(q,j){return this.control?this.control.getError(q,j):null}}class Mr extends ui{get formDirective(){return null}get path(){return null}}class di extends ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jr{constructor(q){this._cd=q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hr=(()=>{class J extends jr{constructor(j){super(j)}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(di,2))},J.\u0275dir=_.lG2({type:J,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,Te){2&j&&_.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[_.qOj]}),J})(),hi=(()=>{class J extends jr{constructor(j){super(j)}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(Mr,10))},J.\u0275dir=_.lG2({type:J,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,Te){2&j&&_.ekj("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[_.qOj]}),J})();const V="VALID",ne="INVALID",pe="PENDING",ue="DISABLED";function se(J){return(jn(J)?J.validators:J)||null}function be(J){return Array.isArray(J)?Kt(J):J||null}function ot(J,q){return(jn(q)?q.asyncValidators:J)||null}function Dt(J){return Array.isArray(J)?fn(J):J||null}function jn(J){return null!=J&&!Array.isArray(J)&&"object"==typeof J}function tr(J,q,j){const Te=J.controls;if(!(q?Object.keys(Te):Te).length)throw new _.vHH(1e3,"");if(!Te[j])throw new _.vHH(1001,"")}function Un(J,q,j){J._forEachChild((Te,un)=>{if(void 0===j[un])throw new _.vHH(1002,"")})}class de{constructor(q,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=q,this._rawAsyncValidators=j,this._composedValidatorFn=be(this._rawValidators),this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===V}get invalid(){return this.status===ne}get pending(){return this.status==pe}get disabled(){return this.status===ue}get enabled(){return this.status!==ue}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._rawValidators=q,this._composedValidatorFn=be(q)}setAsyncValidators(q){this._rawAsyncValidators=q,this._composedAsyncValidatorFn=Dt(q)}addValidators(q){this.setValidators(dr(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(dr(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Lr(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Lr(q,this._rawAsyncValidators))}hasValidator(q){return Kn(this._rawValidators,q)}hasAsyncValidator(q){return Kn(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=pe,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const j=this._parentMarkedDirty(q.onlySelf);this.status=ue,this.errors=null,this._forEachChild(Te=>{Te.disable({...q,onlySelf:!0})}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:j}),this._onDisabledChange.forEach(Te=>Te(!0))}enable(q={}){const j=this._parentMarkedDirty(q.onlySelf);this.status=V,this._forEachChild(Te=>{Te.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:j}),this._onDisabledChange.forEach(Te=>Te(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===V||this.status===pe)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ue:V}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;const j=Je(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(Te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Te,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,j={}){this.errors=q,this._updateControlsErrors(!1!==j.emitEvent)}get(q){let j=q;return null==j||(Array.isArray(j)||(j=j.split(".")),0===j.length)?null:j.reduce((Te,un)=>Te&&Te._find(un),this)}getError(q,j){const Te=j?this.get(j):this;return Te&&Te.errors?Te.errors[q]:null}hasError(q,j){return!!this.getError(q,j)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?ue:this.errors?ne:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(ne)?ne:V}_anyControlsHaveStatus(q){return this._anyControls(j=>j.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){jn(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}}class ke extends de{constructor(q,j,Te){super(se(j),ot(Te,j)),this.controls=q,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,j){return this.controls[q]?this.controls[q]:(this.controls[q]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(q,j,Te={}){this.registerControl(q,j),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}removeControl(q,j={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(q,j,Te={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],j&&this.registerControl(q,j),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,j={}){Un(this,0,q),Object.keys(q).forEach(Te=>{tr(this,!0,Te),this.controls[Te].setValue(q[Te],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(q,j={}){null!=q&&(Object.keys(q).forEach(Te=>{const un=this.controls[Te];un&&un.patchValue(q[Te],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(q={},j={}){this._forEachChild((Te,un)=>{Te.reset(q[un],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(q,j,Te)=>(q[Te]=j.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(j,Te)=>!!Te._syncPendingControls()||j);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(j=>{const Te=this.controls[j];Te&&q(Te,j)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[j,Te]of Object.entries(this.controls))if(this.contains(j)&&q(Te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(j,Te,un)=>((Te.enabled||this.disabled)&&(j[un]=Te.value),j))}_reduceChildren(q,j){let Te=q;return this._forEachChild((un,wr)=>{Te=j(Te,un,wr)}),Te}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}function Fn(J,q){return[...q.path,J]}function Nn(J,q){ce(J,q),q.valueAccessor.writeValue(J.value),J.disabled&&q.valueAccessor.setDisabledState?.(!0),function dt(J,q){q.valueAccessor.registerOnChange(j=>{J._pendingValue=j,J._pendingChange=!0,J._pendingDirty=!0,"change"===J.updateOn&&Zt(J,q)})}(J,q),function sr(J,q){const j=(Te,un)=>{q.valueAccessor.writeValue(Te),un&&q.viewToModelUpdate(Te)};J.registerOnChange(j),q._registerOnDestroy(()=>{J._unregisterOnChange(j)})}(J,q),function Vt(J,q){q.valueAccessor.registerOnTouched(()=>{J._pendingTouched=!0,"blur"===J.updateOn&&J._pendingChange&&Zt(J,q),"submit"!==J.updateOn&&J.markAsTouched()})}(J,q),function _e(J,q){if(q.valueAccessor.setDisabledState){const j=Te=>{q.valueAccessor.setDisabledState(Te)};J.registerOnDisabledChange(j),q._registerOnDestroy(()=>{J._unregisterOnDisabledChange(j)})}}(J,q)}function bt(J,q,j=!0){const Te=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(Te),q.valueAccessor.registerOnTouched(Te)),le(J,q),J&&(q._invokeOnDestroyCallbacks(),J._registerOnCollectionChange(()=>{}))}function ut(J,q){J.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(q)})}function ce(J,q){const j=mn(J);null!==q.validator?J.setValidators(cn(j,q.validator)):"function"==typeof j&&J.setValidators([j]);const Te=Wt(J);null!==q.asyncValidator?J.setAsyncValidators(cn(Te,q.asyncValidator)):"function"==typeof Te&&J.setAsyncValidators([Te]);const un=()=>J.updateValueAndValidity();ut(q._rawValidators,un),ut(q._rawAsyncValidators,un)}function le(J,q){let j=!1;if(null!==J){if(null!==q.validator){const un=mn(J);if(Array.isArray(un)&&un.length>0){const wr=un.filter(Fi=>Fi!==q.validator);wr.length!==un.length&&(j=!0,J.setValidators(wr))}}if(null!==q.asyncValidator){const un=Wt(J);if(Array.isArray(un)&&un.length>0){const wr=un.filter(Fi=>Fi!==q.asyncValidator);wr.length!==un.length&&(j=!0,J.setAsyncValidators(wr))}}}const Te=()=>{};return ut(q._rawValidators,Te),ut(q._rawAsyncValidators,Te),j}function Zt(J,q){J._pendingDirty&&J.markAsDirty(),J.setValue(J._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(J._pendingValue),J._pendingChange=!1}function nr(J,q){ce(J,q)}function Gn(J,q){if(!J.hasOwnProperty("model"))return!1;const j=J.model;return!!j.isFirstChange()||!Object.is(q,j.currentValue)}function Di(J,q){J._syncPendingControls(),q.forEach(j=>{const Te=j.control;"submit"===Te.updateOn&&Te._pendingChange&&(j.viewToModelUpdate(Te._pendingValue),Te._pendingChange=!1)})}function ni(J,q){if(!q)return null;let j,Te,un;return Array.isArray(q),q.forEach(wr=>{wr.constructor===Et?j=wr:function Qr(J){return Object.getPrototypeOf(J.constructor)===Ge}(wr)?Te=wr:un=wr}),un||Te||j||null}const lo={provide:Mr,useExisting:(0,_.Gpc)(()=>Ks)},co=(()=>Promise.resolve(null))();let Ks=(()=>{class J extends Mr{constructor(j,Te){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new _.vpe,this.form=new ke({},Kt(j),fn(Te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){co.then(()=>{const Te=this._findContainer(j.path);j.control=Te.registerControl(j.name,j.control),Nn(j.control,j),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){co.then(()=>{const Te=this._findContainer(j.path);Te&&Te.removeControl(j.name),this._directives.delete(j)})}addFormGroup(j){co.then(()=>{const Te=this._findContainer(j.path),un=new ke({});nr(un,j),Te.registerControl(j.name,un),un.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){co.then(()=>{const Te=this._findContainer(j.path);Te&&Te.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,Te){co.then(()=>{this.form.get(j.path).setValue(Te)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,Di(this.form,this._directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(At,10),_.Y36(en,10))},J.\u0275dir=_.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(j,Te){1&j&&_.NdJ("submit",function(wr){return Te.onSubmit(wr)})("reset",function(){return Te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([lo]),_.qOj]}),J})();function Ns(J,q){const j=J.indexOf(q);j>-1&&J.splice(j,1)}function ns(J){return"object"==typeof J&&null!==J&&2===Object.keys(J).length&&"value"in J&&"disabled"in J}const Zi=class extends de{constructor(q=null,j,Te){super(se(j),ot(Te,j)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jn(j)&&(j.nonNullable||j.initialValueIsDefault)&&(this.defaultValue=ns(q)?q.value:q)}setValue(q,j={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(Te=>Te(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(q,j={}){this.setValue(q,j)}reset(q=this.defaultValue,j={}){this._applyFormState(q),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){Ns(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){Ns(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){ns(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},Za={provide:di,useExisting:(0,_.Gpc)(()=>ba)},Xo=(()=>Promise.resolve(null))();let ba=(()=>{class J extends di{constructor(j,Te,un,wr,Fi){super(),this._changeDetectorRef=Fi,this.control=new Zi,this._registered=!1,this.update=new _.vpe,this._parent=j,this._setValidators(Te),this._setAsyncValidators(un),this.valueAccessor=ni(0,wr)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const Te=j.name.previousValue;this.formDirective.removeControl({name:Te,path:this._getPath(Te)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),Gn(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){Xo.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(j){const Te=j.isDisabled.currentValue,un=0!==Te&&(0,_.D6c)(Te);Xo.then(()=>{un&&!this.control.disabled?this.control.disable():!un&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(j){return this._parent?Fn(j,this._parent):[j]}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(Mr,9),_.Y36(At,10),_.Y36(en,10),_.Y36(Oe,10),_.Y36(_.sBO,8))},J.\u0275dir=_.lG2({type:J,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([Za]),_.qOj,_.TTD]}),J})(),pa=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275dir=_.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),J})();const Jo={provide:Oe,useExisting:(0,_.Gpc)(()=>to),multi:!0};let to=(()=>{class J extends Ge{writeValue(j){this.setProperty("value",j??"")}registerOnChange(j){this.onChange=Te=>{j(""==Te?null:parseFloat(Te))}}}return J.\u0275fac=function(){let q;return function(Te){return(q||(q=_.n5z(J)))(Te||J)}}(),J.\u0275dir=_.lG2({type:J,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(j,Te){1&j&&_.NdJ("input",function(wr){return Te.onChange(wr.target.value)})("blur",function(){return Te.onTouched()})},features:[_._Bn([Jo]),_.qOj]}),J})(),yn=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=_.oAB({type:J}),J.\u0275inj=_.cJS({}),J})();const Ls=new _.OlP("NgModelWithFormControlWarning"),Go={provide:Mr,useExisting:(0,_.Gpc)(()=>rs)};let rs=(()=>{class J extends Mr{constructor(j,Te){super(),this.validators=j,this.asyncValidators=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(j),this._setAsyncValidators(Te)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(le(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const Te=this.form.get(j.path);return Nn(Te,j),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),Te}getControl(j){return this.form.get(j.path)}removeControl(j){bt(j.control||null,j,!1),function Qo(J,q){const j=J.indexOf(q);j>-1&&J.splice(j,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,Te){this.form.get(j.path).setValue(Te)}onSubmit(j){return this.submitted=!0,Di(this.form,this.directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const Te=j.control,un=this.form.get(j.path);Te!==un&&(bt(Te||null,j),(J=>J instanceof Zi)(un)&&(Nn(un,j),j.control=un))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const Te=this.form.get(j.path);nr(Te,j),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const Te=this.form.get(j.path);Te&&function Xr(J,q){return le(J,q)}(Te,j)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ce(this.form,this),this._oldForm&&le(this._oldForm,this)}_checkFormPresent(){}}return J.\u0275fac=function(j){return new(j||J)(_.Y36(At,10),_.Y36(en,10))},J.\u0275dir=_.lG2({type:J,selectors:[["","formGroup",""]],hostBindings:function(j,Te){1&j&&_.NdJ("submit",function(wr){return Te.onSubmit(wr)})("reset",function(){return Te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Go]),_.qOj,_.TTD]}),J})();const wo={provide:di,useExisting:(0,_.Gpc)(()=>Eo)};let Eo=(()=>{class J extends di{constructor(j,Te,un,wr,Fi){super(),this._ngModelWarningConfig=Fi,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=j,this._setValidators(Te),this._setAsyncValidators(un),this.valueAccessor=ni(0,wr)}set isDisabled(j){}ngOnChanges(j){this._added||this._setUpControl(),Gn(j,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}get path(){return Fn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return J._ngModelWarningSentOnce=!1,J.\u0275fac=function(j){return new(j||J)(_.Y36(Mr,13),_.Y36(At,10),_.Y36(en,10),_.Y36(Oe,10),_.Y36(Ls,8))},J.\u0275dir=_.lG2({type:J,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([wo]),_.qOj,_.TTD]}),J})();let is=(()=>{class J{constructor(){this._validator=_t}ngOnChanges(j){if(this.inputName in j){const Te=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):_t,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275dir=_.lG2({type:J,features:[_.TTD]}),J})();const da={provide:At,useExisting:(0,_.Gpc)(()=>jo),multi:!0};let jo=(()=>{class J extends is{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=j=>function Qa(J){return"number"==typeof J?J:parseFloat(J)}(j),this.createValidator=j=>Ue(j)}}return J.\u0275fac=function(){let q;return function(Te){return(q||(q=_.n5z(J)))(Te||J)}}(),J.\u0275dir=_.lG2({type:J,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,Te){2&j&&_.uIk("min",Te._enabled?Te.min:null)},inputs:{min:"min"},features:[_._Bn([da]),_.qOj]}),J})();const Xa={provide:At,useExisting:(0,_.Gpc)(()=>fo),multi:!0},ma={provide:At,useExisting:(0,_.Gpc)(()=>Ei),multi:!0};let fo=(()=>{class J extends is{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=_.D6c,this.createValidator=j=>at}enabled(j){return j}}return J.\u0275fac=function(){let q;return function(Te){return(q||(q=_.n5z(J)))(Te||J)}}(),J.\u0275dir=_.lG2({type:J,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(j,Te){2&j&&_.uIk("required",Te._enabled?"":null)},inputs:{required:"required"},features:[_._Bn([Xa]),_.qOj]}),J})(),Ei=(()=>{class J extends fo{constructor(){super(...arguments),this.createValidator=j=>ze}}return J.\u0275fac=function(){let q;return function(Te){return(q||(q=_.n5z(J)))(Te||J)}}(),J.\u0275dir=_.lG2({type:J,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(j,Te){2&j&&_.uIk("required",Te._enabled?"":null)},features:[_._Bn([ma]),_.qOj]}),J})(),ki=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=_.oAB({type:J}),J.\u0275inj=_.cJS({imports:[yn]}),J})(),Ts=(()=>{class J{}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=_.oAB({type:J}),J.\u0275inj=_.cJS({imports:[ki]}),J})(),zi=(()=>{class J{static withConfig(j){return{ngModule:J,providers:[{provide:Ls,useValue:j.warnOnNgModelWithFormControl}]}}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275mod=_.oAB({type:J}),J.\u0275inj=_.cJS({imports:[ki]}),J})();class Ti extends de{constructor(q,j,Te){super(se(j),ot(Te,j)),this.controls=q,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[this._adjustIndex(q)]}push(q,j={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(q,j,Te={}){this.controls.splice(q,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:Te.emitEvent})}removeAt(q,j={}){let Te=this._adjustIndex(q);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(q,j,Te={}){let un=this._adjustIndex(q);un<0&&(un=0),this.controls[un]&&this.controls[un]._registerOnCollectionChange(()=>{}),this.controls.splice(un,1),j&&(this.controls.splice(un,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,j={}){Un(this,0,q),q.forEach((Te,un)=>{tr(this,!1,un),this.at(un).setValue(Te,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(q,j={}){null!=q&&(q.forEach((Te,un)=>{this.at(un)&&this.at(un).patchValue(Te,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(q=[],j={}){this._forEachChild((Te,un)=>{Te.reset(q[un],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(q=>q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_adjustIndex(q){return q<0?q+this.length:q}_syncPendingControls(){let q=this.controls.reduce((j,Te)=>!!Te._syncPendingControls()||j,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((j,Te)=>{q(j,Te)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(j=>j.enabled&&q(j))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}_find(q){return this.at(q)??null}}function Gi(J){return!!J&&(void 0!==J.asyncValidators||void 0!==J.validators||void 0!==J.updateOn)}let As=(()=>{class J{constructor(){this.useNonNullable=!1}get nonNullable(){const j=new J;return j.useNonNullable=!0,j}group(j,Te=null){const un=this._reduceControls(j);let wr={};return Gi(Te)?wr=Te:null!==Te&&(wr.validators=Te.validator,wr.asyncValidators=Te.asyncValidator),new ke(un,wr)}control(j,Te,un){let wr={};return this.useNonNullable?(Gi(Te)?wr=Te:(wr.validators=Te,wr.asyncValidators=un),new Zi(j,{...wr,nonNullable:!0})):new Zi(j,Te,un)}array(j,Te,un){const wr=j.map(Fi=>this._createControl(Fi));return new Ti(wr,Te,un)}_reduceControls(j){const Te={};return Object.keys(j).forEach(un=>{Te[un]=this._createControl(j[un])}),Te}_createControl(j){return j instanceof Zi||j instanceof de?j:Array.isArray(j)?this.control(j[0],j.length>1?j[1]:null,j.length>2?j[2]:null):this.control(j)}}return J.\u0275fac=function(j){return new(j||J)},J.\u0275prov=_.Yz7({token:J,factory:J.\u0275fac,providedIn:zi}),J})()},9101:(Zn,St,M)=>{M.d(St,{lW:()=>Ce,ot:()=>Fe});var _=M(4650),d=M(3238),H=M(2687);const ge=["mat-button",""],Re=["*"],Oe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],me=(0,d.pj)((0,d.Id)((0,d.Kr)(class{constructor(pt){this._elementRef=pt}})));let Ce=(()=>{class pt extends me{constructor(ct,jt,Ft){super(ct),this._focusMonitor=jt,this._animationMode=Ft,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const At of Oe)this._hasHostAttributes(At)&&this._getHostElement().classList.add(At);ct.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ct,jt){ct?this._focusMonitor.focusVia(this._getHostElement(),ct,jt):this._getHostElement().focus(jt)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...ct){return ct.some(jt=>this._getHostElement().hasAttribute(jt))}}return pt.\u0275fac=function(ct){return new(ct||pt)(_.Y36(_.SBq),_.Y36(H.tE),_.Y36(_.QbO,8))},pt.\u0275cmp=_.Xpm({type:pt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(ct,jt){if(1&ct&&_.Gf(d.wG,5),2&ct){let Ft;_.iGM(Ft=_.CRH())&&(jt.ripple=Ft.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(ct,jt){2&ct&&(_.uIk("disabled",jt.disabled||null),_.ekj("_mat-animation-noopable","NoopAnimations"===jt._animationMode)("mat-button-disabled",jt.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_.qOj],attrs:ge,ngContentSelectors:Re,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(ct,jt){1&ct&&(_.F$t(),_.TgZ(0,"span",0),_.Hsn(1),_.qZA(),_._UZ(2,"span",1)(3,"span",2)),2&ct&&(_.xp6(2),_.ekj("mat-button-ripple-round",jt.isRoundButton||jt.isIconButton),_.Q6J("matRippleDisabled",jt._isRippleDisabled())("matRippleCentered",jt.isIconButton)("matRippleTrigger",jt._getHostElement()))},dependencies:[d.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),pt})(),Fe=(()=>{class pt{}return pt.\u0275fac=function(ct){return new(ct||pt)},pt.\u0275mod=_.oAB({type:pt}),pt.\u0275inj=_.cJS({imports:[d.si,d.BQ,d.BQ]}),pt})()},3238:(Zn,St,M)=>{M.d(St,{rD:()=>cn,K7:()=>Rt,HF:()=>kt,BQ:()=>gn,ey:()=>Dn,Ng:()=>gt,wG:()=>hi,si:()=>Yt,CB:()=>vr,jH:()=>Xt,pj:()=>ze,Kr:()=>nt,Id:()=>at,FD:()=>Pe,sb:()=>Qe});var _=M(4650),d=M(2687),H=M(445),Re=M(6895),Ae=M(3353),Ge=M(1281),Oe=M(7579),me=M(9521);function Fe(Ke,Y){if(1&Ke&&_._UZ(0,"mat-pseudo-checkbox",4),2&Ke){const V=_.oxw();_.Q6J("state",V.selected?"checked":"unchecked")("disabled",V.disabled)}}function pt(Ke,Y){if(1&Ke&&(_.TgZ(0,"span",5),_._uU(1),_.qZA()),2&Ke){const V=_.oxw();_.xp6(1),_.hij("(",V.group.label,")")}}const Et=["*"],en=new _.OlP("mat-sanity-checks",{providedIn:"root",factory:function At(){return!0}});let gn=(()=>{class Ke{constructor(V,ne,pe){this._sanityChecks=ne,this._document=pe,this._hasDoneGlobalChecks=!1,V._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(V){return!(0,Ae.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[V])}}return Ke.\u0275fac=function(V){return new(V||Ke)(_.LFG(d.qm),_.LFG(en,8),_.LFG(Re.K0))},Ke.\u0275mod=_.oAB({type:Ke}),Ke.\u0275inj=_.cJS({imports:[H.vT,H.vT]}),Ke})();function at(Ke){return class extends Ke{constructor(...Y){super(...Y),this._disabled=!1}get disabled(){return this._disabled}set disabled(Y){this._disabled=(0,Ge.Ig)(Y)}}}function ze(Ke,Y){return class extends Ke{constructor(...V){super(...V),this.defaultColor=Y,this.color=Y}get color(){return this._color}set color(V){const ne=V||this.defaultColor;ne!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ne&&this._elementRef.nativeElement.classList.add(`mat-${ne}`),this._color=ne)}}}function nt(Ke){return class extends Ke{constructor(...Y){super(...Y),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Y){this._disableRipple=(0,Ge.Ig)(Y)}}}function Qe(Ke,Y=0){return class extends Ke{constructor(...V){super(...V),this._tabIndex=Y,this.defaultTabIndex=Y}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(V){this._tabIndex=null!=V?(0,Ge.su)(V):this.defaultTabIndex}}}function Pe(Ke){return class extends Ke{constructor(...Y){super(...Y),this.errorState=!1}updateErrorState(){const Y=this.errorState,ue=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ue!==Y&&(this.errorState=ue,this.stateChanges.next())}}}let cn=(()=>{class Ke{isErrorState(V,ne){return!!(V&&V.invalid&&(V.touched||ne&&ne.submitted))}}return Ke.\u0275fac=function(V){return new(V||Ke)},Ke.\u0275prov=_.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})();class dr{constructor(Y,V,ne,pe=!1){this._renderer=Y,this.element=V,this.config=ne,this._animationForciblyDisabledThroughCss=pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lr={enterDuration:225,exitDuration:150},Mr=(0,Ae.i$)({passive:!0}),di=["mousedown","touchstart"],jr=["mouseup","mouseleave","touchend","touchcancel"];class xi{constructor(Y,V,ne,pe){this._target=Y,this._ngZone=V,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,pe.isBrowser&&(this._containerElement=(0,Ge.fI)(ne))}fadeInRipple(Y,V,ne={}){const pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ue={...Lr,...ne.animation};ne.centered&&(Y=pe.left+pe.width/2,V=pe.top+pe.height/2);const se=ne.radius||function mr(Ke,Y,V){const ne=Math.max(Math.abs(Ke-V.left),Math.abs(Ke-V.right)),pe=Math.max(Math.abs(Y-V.top),Math.abs(Y-V.bottom));return Math.sqrt(ne*ne+pe*pe)}(Y,V,pe),be=Y-pe.left,ot=V-pe.top,Dt=ue.enterDuration,jn=document.createElement("div");jn.classList.add("mat-ripple-element"),jn.style.left=be-se+"px",jn.style.top=ot-se+"px",jn.style.height=2*se+"px",jn.style.width=2*se+"px",null!=ne.color&&(jn.style.backgroundColor=ne.color),jn.style.transitionDuration=`${Dt}ms`,this._containerElement.appendChild(jn);const tr=window.getComputedStyle(jn),de=tr.transitionDuration,ke="none"===tr.transitionProperty||"0s"===de||"0s, 0s"===de,ve=new dr(this,jn,ne,ke);jn.style.transform="scale3d(1, 1, 1)",ve.state=0,ne.persistent||(this._mostRecentTransientRipple=ve);let tt=null;return!ke&&(Dt||ue.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tt=()=>this._finishRippleTransition(ve),Ut=()=>this._destroyRipple(ve);jn.addEventListener("transitionend",Tt),jn.addEventListener("transitioncancel",Ut),tt={onTransitionEnd:Tt,onTransitionCancel:Ut}}),this._activeRipples.set(ve,tt),(ke||!Dt)&&this._finishRippleTransition(ve),ve}fadeOutRipple(Y){if(2===Y.state||3===Y.state)return;const V=Y.element,ne={...Lr,...Y.config.animation};V.style.transitionDuration=`${ne.exitDuration}ms`,V.style.opacity="0",Y.state=2,(Y._animationForciblyDisabledThroughCss||!ne.exitDuration)&&this._finishRippleTransition(Y)}fadeOutAll(){this._getActiveRipples().forEach(Y=>Y.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Y=>{Y.config.persistent||Y.fadeOut()})}setupTriggerEvents(Y){const V=(0,Ge.fI)(Y);!V||V===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=V,this._registerEvents(di))}handleEvent(Y){"mousedown"===Y.type?this._onMousedown(Y):"touchstart"===Y.type?this._onTouchStart(Y):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jr),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Y){0===Y.state?this._startFadeOutTransition(Y):2===Y.state&&this._destroyRipple(Y)}_startFadeOutTransition(Y){const V=Y===this._mostRecentTransientRipple,{persistent:ne}=Y.config;Y.state=1,!ne&&(!V||!this._isPointerDown)&&Y.fadeOut()}_destroyRipple(Y){const V=this._activeRipples.get(Y)??null;this._activeRipples.delete(Y),this._activeRipples.size||(this._containerRect=null),Y===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Y.state=3,null!==V&&(Y.element.removeEventListener("transitionend",V.onTransitionEnd),Y.element.removeEventListener("transitioncancel",V.onTransitionCancel)),Y.element.remove()}_onMousedown(Y){const V=(0,d.X6)(Y),ne=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!V&&!ne&&(this._isPointerDown=!0,this.fadeInRipple(Y.clientX,Y.clientY,this._target.rippleConfig))}_onTouchStart(Y){if(!this._target.rippleDisabled&&!(0,d.yG)(Y)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const V=Y.changedTouches;for(let ne=0;ne<V.length;ne++)this.fadeInRipple(V[ne].clientX,V[ne].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(Y=>{!Y.config.persistent&&(1===Y.state||Y.config.terminateOnPointerUp&&0===Y.state)&&Y.fadeOut()}))}_registerEvents(Y){this._ngZone.runOutsideAngular(()=>{Y.forEach(V=>{this._triggerElement.addEventListener(V,this,Mr)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(di.forEach(Y=>{this._triggerElement.removeEventListener(Y,this,Mr)}),this._pointerUpEventsRegistered&&jr.forEach(Y=>{this._triggerElement.removeEventListener(Y,this,Mr)}))}}const Hr=new _.OlP("mat-ripple-global-options");let hi=(()=>{class Ke{constructor(V,ne,pe,ue,se){this._elementRef=V,this._animationMode=se,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ue||{},this._rippleRenderer=new xi(this,ne,V,pe)}get disabled(){return this._disabled}set disabled(V){V&&this.fadeOutAllNonPersistent(),this._disabled=V,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(V){this._trigger=V,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(V,ne=0,pe){return"number"==typeof V?this._rippleRenderer.fadeInRipple(V,ne,{...this.rippleConfig,...pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...V})}}return Ke.\u0275fac=function(V){return new(V||Ke)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(Ae.t4),_.Y36(Hr,8),_.Y36(_.QbO,8))},Ke.\u0275dir=_.lG2({type:Ke,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(V,ne){2&V&&_.ekj("mat-ripple-unbounded",ne.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ke})(),Yt=(()=>{class Ke{}return Ke.\u0275fac=function(V){return new(V||Ke)},Ke.\u0275mod=_.oAB({type:Ke}),Ke.\u0275inj=_.cJS({imports:[gn,gn]}),Ke})(),fe=(()=>{class Ke{constructor(V){this._animationMode=V,this.state="unchecked",this.disabled=!1}}return Ke.\u0275fac=function(V){return new(V||Ke)(_.Y36(_.QbO,8))},Ke.\u0275cmp=_.Xpm({type:Ke,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(V,ne){2&V&&_.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ne.state)("mat-pseudo-checkbox-checked","checked"===ne.state)("mat-pseudo-checkbox-disabled",ne.disabled)("_mat-animation-noopable","NoopAnimations"===ne._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(V,ne){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),Ke})(),Xe=(()=>{class Ke{}return Ke.\u0275fac=function(V){return new(V||Ke)},Ke.\u0275mod=_.oAB({type:Ke}),Ke.\u0275inj=_.cJS({imports:[gn]}),Ke})();const kt=new _.OlP("MAT_OPTION_PARENT_COMPONENT"),Rt=new _.OlP("MatOptgroup");let Ye=0;class Ht{constructor(Y,V=!1){this.source=Y,this.isUserInput=V}}let vn=(()=>{class Ke{constructor(V,ne,pe,ue){this._element=V,this._changeDetectorRef=ne,this._parent=pe,this.group=ue,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ye++,this.onSelectionChange=new _.vpe,this._stateChanges=new Oe.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(V){this._disabled=(0,Ge.Ig)(V)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(V,ne){const pe=this._getHostElement();"function"==typeof pe.focus&&pe.focus(ne)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(V){(V.keyCode===me.K5||V.keyCode===me.L_)&&!(0,me.Vb)(V)&&(this._selectViaInteraction(),V.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const V=this.viewValue;V!==this._mostRecentViewValue&&(this._mostRecentViewValue=V,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(V=!1){this.onSelectionChange.emit(new Ht(this,V))}}return Ke.\u0275fac=function(V){_.$Z()},Ke.\u0275dir=_.lG2({type:Ke,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Ke})(),Dn=(()=>{class Ke extends vn{constructor(V,ne,pe,ue){super(V,ne,pe,ue)}}return Ke.\u0275fac=function(V){return new(V||Ke)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(kt,8),_.Y36(Rt,8))},Ke.\u0275cmp=_.Xpm({type:Ke,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(V,ne){1&V&&_.NdJ("click",function(){return ne._selectViaInteraction()})("keydown",function(ue){return ne._handleKeydown(ue)}),2&V&&(_.Ikx("id",ne.id),_.uIk("tabindex",ne._getTabIndex())("aria-selected",ne._getAriaSelected())("aria-disabled",ne.disabled.toString()),_.ekj("mat-selected",ne.selected)("mat-option-multiple",ne.multiple)("mat-active",ne.active)("mat-option-disabled",ne.disabled))},exportAs:["matOption"],features:[_.qOj],ngContentSelectors:Et,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(V,ne){1&V&&(_.F$t(),_.YNc(0,Fe,1,2,"mat-pseudo-checkbox",0),_.TgZ(1,"span",1),_.Hsn(2),_.qZA(),_.YNc(3,pt,2,1,"span",2),_._UZ(4,"div",3)),2&V&&(_.Q6J("ngIf",ne.multiple),_.xp6(3),_.Q6J("ngIf",ne.group&&ne.group._inert),_.xp6(1),_.Q6J("matRippleTrigger",ne._getHostElement())("matRippleDisabled",ne.disabled||ne.disableRipple))},dependencies:[hi,Re.O5,fe],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),Ke})();function vr(Ke,Y,V){if(V.length){let ne=Y.toArray(),pe=V.toArray(),ue=0;for(let se=0;se<Ke+1;se++)ne[se].group&&ne[se].group===pe[ue]&&ue++;return ue}return 0}function Xt(Ke,Y,V,ne){return Ke<V?Ke:Ke+Y>V+ne?Math.max(0,Ke-ne+Y):V}let gt=(()=>{class Ke{}return Ke.\u0275fac=function(V){return new(V||Ke)},Ke.\u0275mod=_.oAB({type:Ke}),Ke.\u0275inj=_.cJS({imports:[Yt,Re.ez,gn,Xe]}),Ke})()},3336:(Zn,St,M)=>{M.d(St,{Hw:()=>bt,Ps:()=>ut});var _=M(4650),d=M(3238),H=M(1281),ge=M(6895),Re=M(9646),Ae=M(2843),Ge=M(4128),Oe=M(727),me=M(8505),Ce=M(4004),xe=M(262),Fe=M(8746),pt=M(3099),Et=M(5698),ct=M(4351),jt=M(9300);class Ft{}class en{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(le=>{const dt=le.indexOf(":");if(dt>0){const Vt=le.slice(0,dt),Zt=Vt.toLowerCase(),sr=le.slice(dt+1).trim();this.maybeSetNormalizedName(Vt,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(sr):this.headers.set(Zt,[sr])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(le=>{let dt=ce[le];const Vt=le.toLowerCase();"string"==typeof dt&&(dt=[dt]),dt.length>0&&(this.headers.set(Vt,dt),this.maybeSetNormalizedName(le,Vt))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const le=this.headers.get(ce.toLowerCase());return le&&le.length>0?le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,le){return this.clone({name:ce,value:le,op:"a"})}set(ce,le){return this.clone({name:ce,value:le,op:"s"})}delete(ce,le){return this.clone({name:ce,value:le,op:"d"})}maybeSetNormalizedName(ce,le){this.normalizedNames.has(le)||this.normalizedNames.set(le,ce)}init(){this.lazyInit&&(this.lazyInit instanceof en?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(le=>{this.headers.set(le,ce.headers.get(le)),this.normalizedNames.set(le,ce.normalizedNames.get(le))})}clone(ce){const le=new en;return le.lazyInit=this.lazyInit&&this.lazyInit instanceof en?this.lazyInit:this,le.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),le}applyUpdate(ce){const le=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let dt=ce.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(ce.name,le);const Vt=("a"===ce.op?this.headers.get(le):void 0)||[];Vt.push(...dt),this.headers.set(le,Vt);break;case"d":const Zt=ce.value;if(Zt){let sr=this.headers.get(le);if(!sr)return;sr=sr.filter(nr=>-1===Zt.indexOf(nr)),0===sr.length?(this.headers.delete(le),this.normalizedNames.delete(le)):this.headers.set(le,sr)}else this.headers.delete(le),this.normalizedNames.delete(le)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(le=>ce(this.normalizedNames.get(le),this.headers.get(le)))}}class xt{encodeKey(ce){return ze(ce)}encodeValue(ce){return ze(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const Ve=/%(\d[a-f0-9])/gi,at={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(_e){return encodeURIComponent(_e).replace(Ve,(ce,le)=>at[le]??ce)}function nt(_e){return`${_e}`}class Qe{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new xt,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ue(_e,ce){const le=new Map;return _e.length>0&&_e.replace(/^\?/,"").split("&").forEach(Vt=>{const Zt=Vt.indexOf("="),[sr,nr]=-1==Zt?[ce.decodeKey(Vt),""]:[ce.decodeKey(Vt.slice(0,Zt)),ce.decodeValue(Vt.slice(Zt+1))],Xr=le.get(sr)||[];Xr.push(nr),le.set(sr,Xr)}),le}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(le=>{const dt=ce.fromObject[le],Vt=Array.isArray(dt)?dt.map(nt):[nt(dt)];this.map.set(le,Vt)})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const le=this.map.get(ce);return le?le[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,le){return this.clone({param:ce,value:le,op:"a"})}appendAll(ce){const le=[];return Object.keys(ce).forEach(dt=>{const Vt=ce[dt];Array.isArray(Vt)?Vt.forEach(Zt=>{le.push({param:dt,value:Zt,op:"a"})}):le.push({param:dt,value:Vt,op:"a"})}),this.clone(le)}set(ce,le){return this.clone({param:ce,value:le,op:"s"})}delete(ce,le){return this.clone({param:ce,value:le,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const le=this.encoder.encodeKey(ce);return this.map.get(ce).map(dt=>le+"="+this.encoder.encodeValue(dt)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const le=new Qe({encoder:this.encoder});return le.cloneFrom=this.cloneFrom||this,le.updates=(this.updates||[]).concat(ce),le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const le=("a"===ce.op?this.map.get(ce.param):void 0)||[];le.push(nt(ce.value)),this.map.set(ce.param,le);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let dt=this.map.get(ce.param)||[];const Vt=dt.indexOf(nt(ce.value));-1!==Vt&&dt.splice(Vt,1),dt.length>0?this.map.set(ce.param,dt):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class ae{constructor(){this.map=new Map}set(ce,le){return this.map.set(ce,le),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function Ne(_e){return typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer}function Je(_e){return typeof Blob<"u"&&_e instanceof Blob}function Gt(_e){return typeof FormData<"u"&&_e instanceof FormData}class Pn{constructor(ce,le,dt,Vt){let Zt;if(this.url=le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function _t(_e){switch(_e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Vt?(this.body=void 0!==dt?dt:null,Zt=Vt):Zt=dt,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new en),this.context||(this.context=new ae),this.params){const sr=this.params.toString();if(0===sr.length)this.urlWithParams=le;else{const nr=le.indexOf("?");this.urlWithParams=le+(-1===nr?"?":nr<le.length-1?"&":"")+sr}}else this.params=new Qe,this.urlWithParams=le}serializeBody(){return null===this.body?null:Ne(this.body)||Je(this.body)||Gt(this.body)||function qt(_e){return typeof URLSearchParams<"u"&&_e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gt(this.body)?null:Je(this.body)?this.body.type||null:Ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){const le=ce.method||this.method,dt=ce.url||this.url,Vt=ce.responseType||this.responseType,Zt=void 0!==ce.body?ce.body:this.body,sr=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,nr=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let Xr=ce.headers||this.headers,Ar=ce.params||this.params;const $e=ce.context??this.context;return void 0!==ce.setHeaders&&(Xr=Object.keys(ce.setHeaders).reduce((Jt,nn)=>Jt.set(nn,ce.setHeaders[nn]),Xr)),ce.setParams&&(Ar=Object.keys(ce.setParams).reduce((Jt,nn)=>Jt.set(nn,ce.setParams[nn]),Ar)),new Pn(le,dt,Zt,{params:Ar,headers:Xr,context:$e,reportProgress:nr,responseType:Vt,withCredentials:sr})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class kn extends class sn{constructor(ce,le=200,dt="OK"){this.headers=ce.headers||new en,this.status=void 0!==ce.status?ce.status:le,this.statusText=ce.statusText||dt,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(ce={}){super(ce),this.type=Vn.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new kn({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}function cn(_e,ce){return{body:ce,headers:_e.headers,context:_e.context,observe:_e.observe,params:_e.params,reportProgress:_e.reportProgress,responseType:_e.responseType,withCredentials:_e.withCredentials}}let mn=(()=>{class _e{constructor(le){this.handler=le}request(le,dt,Vt={}){let Zt;if(le instanceof Pn)Zt=le;else{let Xr,Ar;Xr=Vt.headers instanceof en?Vt.headers:new en(Vt.headers),Vt.params&&(Ar=Vt.params instanceof Qe?Vt.params:new Qe({fromObject:Vt.params})),Zt=new Pn(le,dt,void 0!==Vt.body?Vt.body:null,{headers:Xr,context:Vt.context,params:Ar,reportProgress:Vt.reportProgress,responseType:Vt.responseType||"json",withCredentials:Vt.withCredentials})}const sr=(0,Re.of)(Zt).pipe((0,ct.b)(Xr=>this.handler.handle(Xr)));if(le instanceof Pn||"events"===Vt.observe)return sr;const nr=sr.pipe((0,jt.h)(Xr=>Xr instanceof kn));switch(Vt.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return nr.pipe((0,Ce.U)(Xr=>{if(null!==Xr.body&&!(Xr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xr.body}));case"blob":return nr.pipe((0,Ce.U)(Xr=>{if(null!==Xr.body&&!(Xr.body instanceof Blob))throw new Error("Response is not a Blob.");return Xr.body}));case"text":return nr.pipe((0,Ce.U)(Xr=>{if(null!==Xr.body&&"string"!=typeof Xr.body)throw new Error("Response is not a string.");return Xr.body}));default:return nr.pipe((0,Ce.U)(Xr=>Xr.body))}case"response":return nr;default:throw new Error(`Unreachable: unhandled observe type ${Vt.observe}}`)}}delete(le,dt={}){return this.request("DELETE",le,dt)}get(le,dt={}){return this.request("GET",le,dt)}head(le,dt={}){return this.request("HEAD",le,dt)}jsonp(le,dt){return this.request("JSONP",le,{params:(new Qe).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,dt={}){return this.request("OPTIONS",le,dt)}patch(le,dt,Vt={}){return this.request("PATCH",le,cn(Vt,dt))}post(le,dt,Vt={}){return this.request("POST",le,cn(Vt,dt))}put(le,dt,Vt={}){return this.request("PUT",le,cn(Vt,dt))}}return _e.\u0275fac=function(le){return new(le||_e)(_.LFG(Ft))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac}),_e})();var Xt=M(1481);const gt=["*"];let Ke;function V(_e){return function Y(){if(void 0===Ke&&(Ke=null,typeof window<"u")){const _e=window;void 0!==_e.trustedTypes&&(Ke=_e.trustedTypes.createPolicy("angular#components",{createHTML:ce=>ce}))}return Ke}()?.createHTML(_e)||_e}function ne(_e){return Error(`Unable to find icon with the name "${_e}"`)}function ue(_e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${_e}".`)}function se(_e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${_e}".`)}class be{constructor(ce,le,dt){this.url=ce,this.svgText=le,this.options=dt}}let ot=(()=>{class _e{constructor(le,dt,Vt,Zt){this._httpClient=le,this._sanitizer=dt,this._errorHandler=Zt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Vt}addSvgIcon(le,dt,Vt){return this.addSvgIconInNamespace("",le,dt,Vt)}addSvgIconLiteral(le,dt,Vt){return this.addSvgIconLiteralInNamespace("",le,dt,Vt)}addSvgIconInNamespace(le,dt,Vt,Zt){return this._addSvgIconConfig(le,dt,new be(Vt,null,Zt))}addSvgIconResolver(le){return this._resolvers.push(le),this}addSvgIconLiteralInNamespace(le,dt,Vt,Zt){const sr=this._sanitizer.sanitize(_.q3G.HTML,Vt);if(!sr)throw se(Vt);const nr=V(sr);return this._addSvgIconConfig(le,dt,new be("",nr,Zt))}addSvgIconSet(le,dt){return this.addSvgIconSetInNamespace("",le,dt)}addSvgIconSetLiteral(le,dt){return this.addSvgIconSetLiteralInNamespace("",le,dt)}addSvgIconSetInNamespace(le,dt,Vt){return this._addSvgIconSetConfig(le,new be(dt,null,Vt))}addSvgIconSetLiteralInNamespace(le,dt,Vt){const Zt=this._sanitizer.sanitize(_.q3G.HTML,dt);if(!Zt)throw se(dt);const sr=V(Zt);return this._addSvgIconSetConfig(le,new be("",sr,Vt))}registerFontClassAlias(le,dt=le){return this._fontCssClassesByAlias.set(le,dt),this}classNameForFontAlias(le){return this._fontCssClassesByAlias.get(le)||le}setDefaultFontSetClass(...le){return this._defaultFontSetClass=le,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(le){const dt=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,le);if(!dt)throw ue(le);const Vt=this._cachedIconsByUrl.get(dt);return Vt?(0,Re.of)(tr(Vt)):this._loadSvgIconFromConfig(new be(le,null)).pipe((0,me.b)(Zt=>this._cachedIconsByUrl.set(dt,Zt)),(0,Ce.U)(Zt=>tr(Zt)))}getNamedSvgIcon(le,dt=""){const Vt=Un(dt,le);let Zt=this._svgIconConfigs.get(Vt);if(Zt)return this._getSvgFromConfig(Zt);if(Zt=this._getIconConfigFromResolvers(dt,le),Zt)return this._svgIconConfigs.set(Vt,Zt),this._getSvgFromConfig(Zt);const sr=this._iconSetConfigs.get(dt);return sr?this._getSvgFromIconSetConfigs(le,sr):(0,Ae._)(ne(Vt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(le){return le.svgText?(0,Re.of)(tr(this._svgElementFromConfig(le))):this._loadSvgIconFromConfig(le).pipe((0,Ce.U)(dt=>tr(dt)))}_getSvgFromIconSetConfigs(le,dt){const Vt=this._extractIconWithNameFromAnySet(le,dt);if(Vt)return(0,Re.of)(Vt);const Zt=dt.filter(sr=>!sr.svgText).map(sr=>this._loadSvgIconSetFromConfig(sr).pipe((0,xe.K)(nr=>{const Ar=`Loading icon set URL: ${this._sanitizer.sanitize(_.q3G.RESOURCE_URL,sr.url)} failed: ${nr.message}`;return this._errorHandler.handleError(new Error(Ar)),(0,Re.of)(null)})));return(0,Ge.D)(Zt).pipe((0,Ce.U)(()=>{const sr=this._extractIconWithNameFromAnySet(le,dt);if(!sr)throw ne(le);return sr}))}_extractIconWithNameFromAnySet(le,dt){for(let Vt=dt.length-1;Vt>=0;Vt--){const Zt=dt[Vt];if(Zt.svgText&&Zt.svgText.toString().indexOf(le)>-1){const sr=this._svgElementFromConfig(Zt),nr=this._extractSvgIconFromSet(sr,le,Zt.options);if(nr)return nr}}return null}_loadSvgIconFromConfig(le){return this._fetchIcon(le).pipe((0,me.b)(dt=>le.svgText=dt),(0,Ce.U)(()=>this._svgElementFromConfig(le)))}_loadSvgIconSetFromConfig(le){return le.svgText?(0,Re.of)(null):this._fetchIcon(le).pipe((0,me.b)(dt=>le.svgText=dt))}_extractSvgIconFromSet(le,dt,Vt){const Zt=le.querySelector(`[id="${dt}"]`);if(!Zt)return null;const sr=Zt.cloneNode(!0);if(sr.removeAttribute("id"),"svg"===sr.nodeName.toLowerCase())return this._setSvgAttributes(sr,Vt);if("symbol"===sr.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(sr),Vt);const nr=this._svgElementFromString(V("<svg></svg>"));return nr.appendChild(sr),this._setSvgAttributes(nr,Vt)}_svgElementFromString(le){const dt=this._document.createElement("DIV");dt.innerHTML=le;const Vt=dt.querySelector("svg");if(!Vt)throw Error("<svg> tag not found");return Vt}_toSvgElement(le){const dt=this._svgElementFromString(V("<svg></svg>")),Vt=le.attributes;for(let Zt=0;Zt<Vt.length;Zt++){const{name:sr,value:nr}=Vt[Zt];"id"!==sr&&dt.setAttribute(sr,nr)}for(let Zt=0;Zt<le.childNodes.length;Zt++)le.childNodes[Zt].nodeType===this._document.ELEMENT_NODE&&dt.appendChild(le.childNodes[Zt].cloneNode(!0));return dt}_setSvgAttributes(le,dt){return le.setAttribute("fit",""),le.setAttribute("height","100%"),le.setAttribute("width","100%"),le.setAttribute("preserveAspectRatio","xMidYMid meet"),le.setAttribute("focusable","false"),dt&&dt.viewBox&&le.setAttribute("viewBox",dt.viewBox),le}_fetchIcon(le){const{url:dt,options:Vt}=le,Zt=Vt?.withCredentials??!1;if(!this._httpClient)throw function pe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==dt)throw Error(`Cannot fetch icon from URL "${dt}".`);const sr=this._sanitizer.sanitize(_.q3G.RESOURCE_URL,dt);if(!sr)throw ue(dt);const nr=this._inProgressUrlFetches.get(sr);if(nr)return nr;const Xr=this._httpClient.get(sr,{responseType:"text",withCredentials:Zt}).pipe((0,Ce.U)(Ar=>V(Ar)),(0,Fe.x)(()=>this._inProgressUrlFetches.delete(sr)),(0,pt.B)());return this._inProgressUrlFetches.set(sr,Xr),Xr}_addSvgIconConfig(le,dt,Vt){return this._svgIconConfigs.set(Un(le,dt),Vt),this}_addSvgIconSetConfig(le,dt){const Vt=this._iconSetConfigs.get(le);return Vt?Vt.push(dt):this._iconSetConfigs.set(le,[dt]),this}_svgElementFromConfig(le){if(!le.svgElement){const dt=this._svgElementFromString(le.svgText);this._setSvgAttributes(dt,le.options),le.svgElement=dt}return le.svgElement}_getIconConfigFromResolvers(le,dt){for(let Vt=0;Vt<this._resolvers.length;Vt++){const Zt=this._resolvers[Vt](dt,le);if(Zt)return de(Zt)?new be(Zt.url,null,Zt.options):new be(Zt,null)}}}return _e.\u0275fac=function(le){return new(le||_e)(_.LFG(mn,8),_.LFG(Xt.H7),_.LFG(ge.K0,8),_.LFG(_.qLn))},_e.\u0275prov=_.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function tr(_e){return _e.cloneNode(!0)}function Un(_e,ce){return _e+":"+ce}function de(_e){return!(!_e.url||!_e.options)}const ke=(0,d.pj)(class{constructor(_e){this._elementRef=_e}}),ve=new _.OlP("MAT_ICON_DEFAULT_OPTIONS"),tt=new _.OlP("mat-icon-location",{providedIn:"root",factory:function Tt(){const _e=(0,_.f3M)(ge.K0),ce=_e?_e.location:null;return{getPathname:()=>ce?ce.pathname+ce.search:""}}}),Ut=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Fn=Ut.map(_e=>`[${_e}]`).join(", "),Nn=/^url\(['"]?#(.*?)['"]?\)$/;let bt=(()=>{class _e extends ke{constructor(le,dt,Vt,Zt,sr,nr){super(le),this._iconRegistry=dt,this._location=Zt,this._errorHandler=sr,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Oe.w0.EMPTY,nr&&(nr.color&&(this.color=this.defaultColor=nr.color),nr.fontSet&&(this.fontSet=nr.fontSet)),Vt||le.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(le){this._inline=(0,H.Ig)(le)}get svgIcon(){return this._svgIcon}set svgIcon(le){le!==this._svgIcon&&(le?this._updateSvgIcon(le):this._svgIcon&&this._clearSvgElement(),this._svgIcon=le)}get fontSet(){return this._fontSet}set fontSet(le){const dt=this._cleanupFontValue(le);dt!==this._fontSet&&(this._fontSet=dt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(le){const dt=this._cleanupFontValue(le);dt!==this._fontIcon&&(this._fontIcon=dt,this._updateFontIconClasses())}_splitIconName(le){if(!le)return["",""];const dt=le.split(":");switch(dt.length){case 1:return["",dt[0]];case 2:return dt;default:throw Error(`Invalid icon name: "${le}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const le=this._elementsWithExternalReferences;if(le&&le.size){const dt=this._location.getPathname();dt!==this._previousPath&&(this._previousPath=dt,this._prependPathToReferences(dt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(le){this._clearSvgElement();const dt=this._location.getPathname();this._previousPath=dt,this._cacheChildrenWithExternalReferences(le),this._prependPathToReferences(dt),this._elementRef.nativeElement.appendChild(le)}_clearSvgElement(){const le=this._elementRef.nativeElement;let dt=le.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();dt--;){const Vt=le.childNodes[dt];(1!==Vt.nodeType||"svg"===Vt.nodeName.toLowerCase())&&Vt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const le=this._elementRef.nativeElement,dt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Vt=>Vt.length>0);this._previousFontSetClass.forEach(Vt=>le.classList.remove(Vt)),dt.forEach(Vt=>le.classList.add(Vt)),this._previousFontSetClass=dt,this.fontIcon!==this._previousFontIconClass&&!dt.includes("mat-ligature-font")&&(this._previousFontIconClass&&le.classList.remove(this._previousFontIconClass),this.fontIcon&&le.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(le){return"string"==typeof le?le.trim().split(" ")[0]:le}_prependPathToReferences(le){const dt=this._elementsWithExternalReferences;dt&&dt.forEach((Vt,Zt)=>{Vt.forEach(sr=>{Zt.setAttribute(sr.name,`url('${le}#${sr.value}')`)})})}_cacheChildrenWithExternalReferences(le){const dt=le.querySelectorAll(Fn),Vt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Zt=0;Zt<dt.length;Zt++)Ut.forEach(sr=>{const nr=dt[Zt],Xr=nr.getAttribute(sr),Ar=Xr?Xr.match(Nn):null;if(Ar){let $e=Vt.get(nr);$e||($e=[],Vt.set(nr,$e)),$e.push({name:sr,value:Ar[1]})}})}_updateSvgIcon(le){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),le){const[dt,Vt]=this._splitIconName(le);dt&&(this._svgNamespace=dt),Vt&&(this._svgName=Vt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Vt,dt).pipe((0,Et.q)(1)).subscribe(Zt=>this._setSvgElement(Zt),Zt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${dt}:${Vt}! ${Zt.message}`))})}}}return _e.\u0275fac=function(le){return new(le||_e)(_.Y36(_.SBq),_.Y36(ot),_.$8M("aria-hidden"),_.Y36(tt),_.Y36(_.qLn),_.Y36(ve,8))},_e.\u0275cmp=_.Xpm({type:_e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(le,dt){2&le&&(_.uIk("data-mat-icon-type",dt._usingFontIcon()?"font":"svg")("data-mat-icon-name",dt._svgName||dt.fontIcon)("data-mat-icon-namespace",dt._svgNamespace||dt.fontSet),_.ekj("mat-icon-inline",dt.inline)("mat-icon-no-color","primary"!==dt.color&&"accent"!==dt.color&&"warn"!==dt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_.qOj],ngContentSelectors:gt,decls:1,vars:0,template:function(le,dt){1&le&&(_.F$t(),_.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),_e})(),ut=(()=>{class _e{}return _e.\u0275fac=function(le){return new(le||_e)},_e.\u0275mod=_.oAB({type:_e}),_e.\u0275inj=_.cJS({imports:[d.BQ,d.BQ]}),_e})()},455:(Zn,St,M)=>{M.d(St,{Rr:()=>jt,rP:()=>gn});var _=M(9643),d=M(4650),H=M(3238),ge=M(2687),Re=M(1281),Ae=M(4006);const Ge=["input"],Oe=function(xt){return{enterDuration:xt}},me=["*"],Ce=new d.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let xe=0;const Fe={provide:Ae.JU,useExisting:(0,d.Gpc)(()=>jt),multi:!0};class pt{constructor(Ue,Ve){this.source=Ue,this.checked=Ve}}const Et=(0,H.sb)((0,H.pj)((0,H.Kr)((0,H.Id)(class{constructor(xt){this._elementRef=xt}}))));let ct=(()=>{class xt extends Et{constructor(Ve,at,ze,nt,Qe,Pe,ae){super(Ve),this._focusMonitor=at,this._changeDetectorRef=ze,this.defaults=Qe,this._onChange=_t=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new d.vpe,this.toggleChange=new d.vpe,this.tabIndex=parseInt(nt)||0,this.color=this.defaultColor=Qe.color||"accent",this._noopAnimations="NoopAnimations"===Pe,this.id=this._uniqueId=`${ae}${++xe}`}get required(){return this._required}set required(Ve){this._required=(0,Re.Ig)(Ve)}get checked(){return this._checked}set checked(Ve){this._checked=(0,Re.Ig)(Ve),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(Ve=>{"keyboard"===Ve||"program"===Ve?this._focused=!0:Ve||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(Ve){this.checked=!!Ve}registerOnChange(Ve){this._onChange=Ve}registerOnTouched(Ve){this._onTouched=Ve}setDisabledState(Ve){this.disabled=Ve,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return xt.\u0275fac=function(Ve){d.$Z()},xt.\u0275dir=d.lG2({type:xt,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[d.qOj]}),xt})(),jt=(()=>{class xt extends ct{constructor(Ve,at,ze,nt,Qe,Pe){super(Ve,at,ze,nt,Qe,Pe,"mat-slide-toggle-")}_createChangeEvent(Ve){return new pt(this,Ve)}_onChangeEvent(Ve){Ve.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(Ve){Ve.stopPropagation()}focus(Ve,at){at?this._focusMonitor.focusVia(this._inputElement,at,Ve):this._inputElement.nativeElement.focus(Ve)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return xt.\u0275fac=function(Ve){return new(Ve||xt)(d.Y36(d.SBq),d.Y36(ge.tE),d.Y36(d.sBO),d.$8M("tabindex"),d.Y36(Ce),d.Y36(d.QbO,8))},xt.\u0275cmp=d.Xpm({type:xt,selectors:[["mat-slide-toggle"]],viewQuery:function(Ve,at){if(1&Ve&&d.Gf(Ge,5),2&Ve){let ze;d.iGM(ze=d.CRH())&&(at._inputElement=ze.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(Ve,at){2&Ve&&(d.Ikx("id",at.id),d.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),d.ekj("mat-checked",at.checked)("mat-disabled",at.disabled)("mat-slide-toggle-label-before","before"==at.labelPosition)("_mat-animation-noopable",at._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[d._Bn([Fe]),d.qOj],ngContentSelectors:me,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(Ve,at){if(1&Ve&&(d.F$t(),d.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),d.NdJ("change",function(nt){return at._onChangeEvent(nt)})("click",function(nt){return at._onInputClick(nt)}),d.qZA(),d.TgZ(5,"span",5),d._UZ(6,"span",6),d.TgZ(7,"span",7),d._UZ(8,"span",8),d.qZA()()(),d.TgZ(9,"span",9,10),d.NdJ("cdkObserveContent",function(){return at._onLabelTextChange()}),d.TgZ(11,"span",11),d._uU(12,"\xa0"),d.qZA(),d.Hsn(13),d.qZA()()),2&Ve){const ze=d.MAs(1),nt=d.MAs(10);d.uIk("for",at.inputId),d.xp6(2),d.ekj("mat-slide-toggle-bar-no-side-margin",!nt.textContent||!nt.textContent.trim()),d.xp6(1),d.Q6J("id",at.inputId)("required",at.required)("tabIndex",at.tabIndex)("checked",at.checked)("disabled",at.disabled),d.uIk("name",at.name)("aria-checked",at.checked)("aria-label",at.ariaLabel)("aria-labelledby",at.ariaLabelledby)("aria-describedby",at.ariaDescribedby),d.xp6(4),d.Q6J("matRippleTrigger",ze)("matRippleDisabled",at.disableRipple||at.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",d.VKq(18,Oe,at._noopAnimations?0:150))}},dependencies:[H.wG,_.wD],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),xt})(),en=(()=>{class xt{}return xt.\u0275fac=function(Ve){return new(Ve||xt)},xt.\u0275mod=d.oAB({type:xt}),xt.\u0275inj=d.cJS({}),xt})(),gn=(()=>{class xt{}return xt.\u0275fac=function(Ve){return new(Ve||xt)},xt.\u0275mod=d.oAB({type:xt}),xt.\u0275inj=d.cJS({imports:[en,H.si,H.BQ,_.Q8,en,H.BQ]}),xt})()},7009:(Zn,St,M)=>{M.d(St,{ZX:()=>at,ux:()=>Pe});var _=M(8184),d=M(4080),H=M(6895),ge=M(4650),Re=M(3238),Ae=M(9101),Ge=M(7579),Oe=M(3353),me=M(5698),Ce=M(2722),xe=M(7340),Fe=M(2687),pt=M(2289);function Et(ae,_t){if(1&ae){const Ne=ge.EpF();ge.TgZ(0,"div",2)(1,"button",3),ge.NdJ("click",function(){ge.CHM(Ne);const Gt=ge.oxw();return ge.KtG(Gt.action())}),ge._uU(2),ge.qZA()()}if(2&ae){const Ne=ge.oxw();ge.xp6(2),ge.Oqu(Ne.data.action)}}function ct(ae,_t){}const jt=new ge.OlP("MatSnackBarData");class Ft{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const At=Math.pow(2,31)-1;class en{constructor(_t,Ne){this._overlayRef=Ne,this._afterDismissed=new Ge.x,this._afterOpened=new Ge.x,this._onAction=new Ge.x,this._dismissedByAction=!1,this.containerInstance=_t,_t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(_t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(_t,At))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let gn=(()=>{class ae{constructor(Ne,Je){this.snackBarRef=Ne,this.data=Je}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return ae.\u0275fac=function(Ne){return new(Ne||ae)(ge.Y36(en),ge.Y36(jt))},ae.\u0275cmp=ge.Xpm({type:ae,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(Ne,Je){1&Ne&&(ge.TgZ(0,"span",0),ge._uU(1),ge.qZA(),ge.YNc(2,Et,3,1,"div",1)),2&Ne&&(ge.xp6(1),ge.Oqu(Je.data.message),ge.xp6(1),ge.Q6J("ngIf",Je.hasAction))},dependencies:[H.O5,Ae.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),ae})();const xt={snackBarState:(0,xe.X$)("state",[(0,xe.SB)("void, hidden",(0,xe.oB)({transform:"scale(0.8)",opacity:0})),(0,xe.SB)("visible",(0,xe.oB)({transform:"scale(1)",opacity:1})),(0,xe.eR)("* => visible",(0,xe.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,xe.eR)("* => void, * => hidden",(0,xe.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,xe.oB)({opacity:0})))])};let Ue=(()=>{class ae extends d.en{constructor(Ne,Je,Gt,qt,Pn){super(),this._ngZone=Ne,this._elementRef=Je,this._changeDetectorRef=Gt,this._platform=qt,this.snackBarConfig=Pn,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ge.x,this._onExit=new Ge.x,this._onEnter=new Ge.x,this._animationState="void",this.attachDomPortal=Vn=>{this._assertNotAttached();const sn=this._portalOutlet.attachDomPortal(Vn);return this._afterPortalAttached(),sn},this._live="assertive"!==Pn.politeness||Pn.announcementMessage?"off"===Pn.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ne){this._assertNotAttached();const Je=this._portalOutlet.attachComponentPortal(Ne);return this._afterPortalAttached(),Je}attachTemplatePortal(Ne){this._assertNotAttached();const Je=this._portalOutlet.attachTemplatePortal(Ne);return this._afterPortalAttached(),Je}onAnimationEnd(Ne){const{fromState:Je,toState:Gt}=Ne;if(("void"===Gt&&"void"!==Je||"hidden"===Gt)&&this._completeExit(),"visible"===Gt){const qt=this._onEnter;this._ngZone.run(()=>{qt.next(),qt.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,me.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ne=this._elementRef.nativeElement,Je=this.snackBarConfig.panelClass;Je&&(Array.isArray(Je)?Je.forEach(Gt=>Ne.classList.add(Gt)):Ne.classList.add(Je))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ne=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Je=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ne&&Je){let Gt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ne.contains(document.activeElement)&&(Gt=document.activeElement),Ne.removeAttribute("aria-hidden"),Je.appendChild(Ne),Gt?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return ae.\u0275fac=function(Ne){return new(Ne||ae)(ge.Y36(ge.R0b),ge.Y36(ge.SBq),ge.Y36(ge.sBO),ge.Y36(Oe.t4),ge.Y36(Ft))},ae.\u0275dir=ge.lG2({type:ae,viewQuery:function(Ne,Je){if(1&Ne&&ge.Gf(d.Pl,7),2&Ne){let Gt;ge.iGM(Gt=ge.CRH())&&(Je._portalOutlet=Gt.first)}},features:[ge.qOj]}),ae})(),Ve=(()=>{class ae extends Ue{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return ae.\u0275fac=function(){let _t;return function(Je){return(_t||(_t=ge.n5z(ae)))(Je||ae)}}(),ae.\u0275cmp=ge.Xpm({type:ae,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(Ne,Je){1&Ne&&ge.WFA("@state.done",function(qt){return Je.onAnimationEnd(qt)}),2&Ne&&ge.d8E("@state",Je._animationState)},features:[ge.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ne,Je){1&Ne&&(ge.TgZ(0,"div",0),ge.YNc(1,ct,0,0,"ng-template",1),ge.qZA(),ge._UZ(2,"div")),2&Ne&&(ge.xp6(2),ge.uIk("aria-live",Je._live)("role",Je._role))},dependencies:[d.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[xt.snackBarState]}}),ae})(),at=(()=>{class ae{}return ae.\u0275fac=function(Ne){return new(Ne||ae)},ae.\u0275mod=ge.oAB({type:ae}),ae.\u0275inj=ge.cJS({imports:[_.U8,d.eL,H.ez,Ae.ot,Re.BQ,Re.BQ]}),ae})();const ze=new ge.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function nt(){return new Ft}});let Qe=(()=>{class ae{constructor(Ne,Je,Gt,qt,Pn,Vn){this._overlay=Ne,this._live=Je,this._injector=Gt,this._breakpointObserver=qt,this._parentSnackBar=Pn,this._defaultConfig=Vn,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const Ne=this._parentSnackBar;return Ne?Ne._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ne){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ne:this._snackBarRefAtThisLevel=Ne}openFromComponent(Ne,Je){return this._attach(Ne,Je)}openFromTemplate(Ne,Je){return this._attach(Ne,Je)}open(Ne,Je="",Gt){const qt={...this._defaultConfig,...Gt};return qt.data={message:Ne,action:Je},qt.announcementMessage===Ne&&(qt.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,qt)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ne,Je){const qt=ge.zs3.create({parent:Je&&Je.viewContainerRef&&Je.viewContainerRef.injector||this._injector,providers:[{provide:Ft,useValue:Je}]}),Pn=new d.C5(this.snackBarContainerComponent,Je.viewContainerRef,qt),Vn=Ne.attach(Pn);return Vn.instance.snackBarConfig=Je,Vn.instance}_attach(Ne,Je){const Gt={...new Ft,...this._defaultConfig,...Je},qt=this._createOverlay(Gt),Pn=this._attachSnackBarContainer(qt,Gt),Vn=new en(Pn,qt);if(Ne instanceof ge.Rgc){const sn=new d.UE(Ne,null,{$implicit:Gt.data,snackBarRef:Vn});Vn.instance=Pn.attachTemplatePortal(sn)}else{const sn=this._createInjector(Gt,Vn),Kt=new d.C5(Ne,void 0,sn),kn=Pn.attachComponentPortal(Kt);Vn.instance=kn.instance}return this._breakpointObserver.observe(pt.u3.HandsetPortrait).pipe((0,Ce.R)(qt.detachments())).subscribe(sn=>{qt.overlayElement.classList.toggle(this.handsetCssClass,sn.matches)}),Gt.announcementMessage&&Pn._onAnnounce.subscribe(()=>{this._live.announce(Gt.announcementMessage,Gt.politeness)}),this._animateSnackBar(Vn,Gt),this._openedSnackBarRef=Vn,this._openedSnackBarRef}_animateSnackBar(Ne,Je){Ne.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ne&&(this._openedSnackBarRef=null),Je.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ne.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ne.containerInstance.enter(),Je.duration&&Je.duration>0&&Ne.afterOpened().subscribe(()=>Ne._dismissAfter(Je.duration))}_createOverlay(Ne){const Je=new _.X_;Je.direction=Ne.direction;let Gt=this._overlay.position().global();const qt="rtl"===Ne.direction,Pn="left"===Ne.horizontalPosition||"start"===Ne.horizontalPosition&&!qt||"end"===Ne.horizontalPosition&&qt,Vn=!Pn&&"center"!==Ne.horizontalPosition;return Pn?Gt.left("0"):Vn?Gt.right("0"):Gt.centerHorizontally(),"top"===Ne.verticalPosition?Gt.top("0"):Gt.bottom("0"),Je.positionStrategy=Gt,this._overlay.create(Je)}_createInjector(Ne,Je){return ge.zs3.create({parent:Ne&&Ne.viewContainerRef&&Ne.viewContainerRef.injector||this._injector,providers:[{provide:en,useValue:Je},{provide:jt,useValue:Ne.data}]})}}return ae.\u0275fac=function(Ne){return new(Ne||ae)(ge.LFG(_.aV),ge.LFG(Fe.Kd),ge.LFG(ge.zs3),ge.LFG(pt.Yg),ge.LFG(ae,12),ge.LFG(ze))},ae.\u0275prov=ge.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),Pe=(()=>{class ae extends Qe{constructor(Ne,Je,Gt,qt,Pn,Vn){super(Ne,Je,Gt,qt,Pn,Vn),this.simpleSnackBarComponent=gn,this.snackBarContainerComponent=Ve,this.handsetCssClass="mat-snack-bar-handset"}}return ae.\u0275fac=function(Ne){return new(Ne||ae)(ge.LFG(_.aV),ge.LFG(Fe.Kd),ge.LFG(ge.zs3),ge.LFG(pt.Yg),ge.LFG(ae,12),ge.LFG(ze))},ae.\u0275prov=ge.Yz7({token:ae,factory:ae.\u0275fac,providedIn:at}),ae})()},1481:(Zn,St,M)=>{M.d(St,{Dx:()=>Hn,H7:()=>Tt,b2:()=>fe,q6:()=>mr,se:()=>Ne});var _=M(6895),d=M(4650);class H extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends H{static makeCurrent(){(0,_.HT)(new ge)}onAndCancel(ut,_e,ce){return ut.addEventListener(_e,ce,!1),()=>{ut.removeEventListener(_e,ce,!1)}}dispatchEvent(ut,_e){ut.dispatchEvent(_e)}remove(ut){ut.parentNode&&ut.parentNode.removeChild(ut)}createElement(ut,_e){return(_e=_e||this.getDefaultDocument()).createElement(ut)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ut){return ut.nodeType===Node.ELEMENT_NODE}isShadowRoot(ut){return ut instanceof DocumentFragment}getGlobalEventTarget(ut,_e){return"window"===_e?window:"document"===_e?ut:"body"===_e?ut.body:null}getBaseHref(ut){const _e=function Ae(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==_e?null:function Oe(bt){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",bt);const ut=Ge.pathname;return"/"===ut.charAt(0)?ut:`/${ut}`}(_e)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ut){return(0,_.Mx)(document.cookie,ut)}}let Ge,Re=null;const me=new d.OlP("TRANSITION_ID"),xe=[{provide:d.ip1,useFactory:function Ce(bt,ut,_e){return()=>{_e.get(d.CZH).donePromise.then(()=>{const ce=(0,_.q)(),le=ut.querySelectorAll(`style[ng-transition="${bt}"]`);for(let dt=0;dt<le.length;dt++)ce.remove(le[dt])})}},deps:[me,_.K0,d.zs3],multi:!0}];let pt=(()=>{class bt{build(){return new XMLHttpRequest}}return bt.\u0275fac=function(_e){return new(_e||bt)},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const Et=new d.OlP("EventManagerPlugins");let ct=(()=>{class bt{constructor(_e,ce){this._zone=ce,this._eventNameToPlugin=new Map,_e.forEach(le=>le.manager=this),this._plugins=_e.slice().reverse()}addEventListener(_e,ce,le){return this._findPluginFor(ce).addEventListener(_e,ce,le)}addGlobalEventListener(_e,ce,le){return this._findPluginFor(ce).addGlobalEventListener(_e,ce,le)}getZone(){return this._zone}_findPluginFor(_e){const ce=this._eventNameToPlugin.get(_e);if(ce)return ce;const le=this._plugins;for(let dt=0;dt<le.length;dt++){const Vt=le[dt];if(Vt.supports(_e))return this._eventNameToPlugin.set(_e,Vt),Vt}throw new Error(`No event manager plugin found for event ${_e}`)}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(Et),d.LFG(d.R0b))},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();class jt{constructor(ut){this._doc=ut}addGlobalEventListener(ut,_e,ce){const le=(0,_.q)().getGlobalEventTarget(this._doc,ut);if(!le)throw new Error(`Unsupported event target ${le} for event ${_e}`);return this.addEventListener(le,_e,ce)}}let Ft=(()=>{class bt{constructor(){this._stylesSet=new Set}addStyles(_e){const ce=new Set;_e.forEach(le=>{this._stylesSet.has(le)||(this._stylesSet.add(le),ce.add(le))}),this.onStylesAdded(ce)}onStylesAdded(_e){}getAllStyles(){return Array.from(this._stylesSet)}}return bt.\u0275fac=function(_e){return new(_e||bt)},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})(),At=(()=>{class bt extends Ft{constructor(_e){super(),this._doc=_e,this._hostNodes=new Map,this._hostNodes.set(_e.head,[])}_addStylesToHost(_e,ce,le){_e.forEach(dt=>{const Vt=this._doc.createElement("style");Vt.textContent=dt,le.push(ce.appendChild(Vt))})}addHost(_e){const ce=[];this._addStylesToHost(this._stylesSet,_e,ce),this._hostNodes.set(_e,ce)}removeHost(_e){const ce=this._hostNodes.get(_e);ce&&ce.forEach(en),this._hostNodes.delete(_e)}onStylesAdded(_e){this._hostNodes.forEach((ce,le)=>{this._addStylesToHost(_e,le,ce)})}ngOnDestroy(){this._hostNodes.forEach(_e=>_e.forEach(en))}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(_.K0))},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();function en(bt){(0,_.q)().remove(bt)}const gn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xt=/%COMP%/g;function Pe(bt,ut,_e){for(let ce=0;ce<ut.length;ce++){let le=ut[ce];Array.isArray(le)?Pe(bt,le,_e):(le=le.replace(xt,bt),_e.push(le))}return _e}function ae(bt){return ut=>{if("__ngUnwrap__"===ut)return bt;!1===bt(ut)&&(ut.preventDefault(),ut.returnValue=!1)}}let Ne=(()=>{class bt{constructor(_e,ce,le){this.eventManager=_e,this.sharedStylesHost=ce,this.appId=le,this.rendererByCompId=new Map,this.defaultRenderer=new Je(_e)}createRenderer(_e,ce){if(!_e||!ce)return this.defaultRenderer;switch(ce.encapsulation){case d.ifc.Emulated:{let le=this.rendererByCompId.get(ce.id);return le||(le=new Vn(this.eventManager,this.sharedStylesHost,ce,this.appId),this.rendererByCompId.set(ce.id,le)),le.applyToHost(_e),le}case 1:case d.ifc.ShadowDom:return new sn(this.eventManager,this.sharedStylesHost,_e,ce);default:if(!this.rendererByCompId.has(ce.id)){const le=Pe(ce.id,ce.styles,[]);this.sharedStylesHost.addStyles(le),this.rendererByCompId.set(ce.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(ct),d.LFG(At),d.LFG(d.AFp))},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();class Je{constructor(ut){this.eventManager=ut,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ut,_e){return _e?document.createElementNS(gn[_e]||_e,ut):document.createElement(ut)}createComment(ut){return document.createComment(ut)}createText(ut){return document.createTextNode(ut)}appendChild(ut,_e){(Pn(ut)?ut.content:ut).appendChild(_e)}insertBefore(ut,_e,ce){ut&&(Pn(ut)?ut.content:ut).insertBefore(_e,ce)}removeChild(ut,_e){ut&&ut.removeChild(_e)}selectRootElement(ut,_e){let ce="string"==typeof ut?document.querySelector(ut):ut;if(!ce)throw new Error(`The selector "${ut}" did not match any elements`);return _e||(ce.textContent=""),ce}parentNode(ut){return ut.parentNode}nextSibling(ut){return ut.nextSibling}setAttribute(ut,_e,ce,le){if(le){_e=le+":"+_e;const dt=gn[le];dt?ut.setAttributeNS(dt,_e,ce):ut.setAttribute(_e,ce)}else ut.setAttribute(_e,ce)}removeAttribute(ut,_e,ce){if(ce){const le=gn[ce];le?ut.removeAttributeNS(le,_e):ut.removeAttribute(`${ce}:${_e}`)}else ut.removeAttribute(_e)}addClass(ut,_e){ut.classList.add(_e)}removeClass(ut,_e){ut.classList.remove(_e)}setStyle(ut,_e,ce,le){le&(d.JOm.DashCase|d.JOm.Important)?ut.style.setProperty(_e,ce,le&d.JOm.Important?"important":""):ut.style[_e]=ce}removeStyle(ut,_e,ce){ce&d.JOm.DashCase?ut.style.removeProperty(_e):ut.style[_e]=""}setProperty(ut,_e,ce){ut[_e]=ce}setValue(ut,_e){ut.nodeValue=_e}listen(ut,_e,ce){return"string"==typeof ut?this.eventManager.addGlobalEventListener(ut,_e,ae(ce)):this.eventManager.addEventListener(ut,_e,ae(ce))}}function Pn(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class Vn extends Je{constructor(ut,_e,ce,le){super(ut),this.component=ce;const dt=Pe(le+"-"+ce.id,ce.styles,[]);_e.addStyles(dt),this.contentAttr=function nt(bt){return"_ngcontent-%COMP%".replace(xt,bt)}(le+"-"+ce.id),this.hostAttr=function Qe(bt){return"_nghost-%COMP%".replace(xt,bt)}(le+"-"+ce.id)}applyToHost(ut){super.setAttribute(ut,this.hostAttr,"")}createElement(ut,_e){const ce=super.createElement(ut,_e);return super.setAttribute(ce,this.contentAttr,""),ce}}class sn extends Je{constructor(ut,_e,ce,le){super(ut),this.sharedStylesHost=_e,this.hostEl=ce,this.shadowRoot=ce.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dt=Pe(le.id,le.styles,[]);for(let Vt=0;Vt<dt.length;Vt++){const Zt=document.createElement("style");Zt.textContent=dt[Vt],this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot(ut){return ut===this.hostEl?this.shadowRoot:ut}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ut,_e){return super.appendChild(this.nodeOrShadowRoot(ut),_e)}insertBefore(ut,_e,ce){return super.insertBefore(this.nodeOrShadowRoot(ut),_e,ce)}removeChild(ut,_e){return super.removeChild(this.nodeOrShadowRoot(ut),_e)}parentNode(ut){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ut)))}}let Kt=(()=>{class bt extends jt{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,ce,le){return _e.addEventListener(ce,le,!1),()=>this.removeEventListener(_e,ce,le)}removeEventListener(_e,ce,le){return _e.removeEventListener(ce,le)}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(_.K0))},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const kn=["alt","control","meta","shift"],cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wt={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let An=(()=>{class bt extends jt{constructor(_e){super(_e)}supports(_e){return null!=bt.parseEventName(_e)}addEventListener(_e,ce,le){const dt=bt.parseEventName(ce),Vt=bt.eventCallback(dt.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(_e,dt.domEventName,Vt))}static parseEventName(_e){const ce=_e.toLowerCase().split("."),le=ce.shift();if(0===ce.length||"keydown"!==le&&"keyup"!==le)return null;const dt=bt._normalizeKey(ce.pop());let Vt="";if(kn.forEach(sr=>{const nr=ce.indexOf(sr);nr>-1&&(ce.splice(nr,1),Vt+=sr+".")}),Vt+=dt,0!=ce.length||0===dt.length)return null;const Zt={};return Zt.domEventName=le,Zt.fullKey=Vt,Zt}static getEventFullKey(_e){let ce="",le=function Kn(bt){let ut=bt.key;if(null==ut){if(ut=bt.keyIdentifier,null==ut)return"Unidentified";ut.startsWith("U+")&&(ut=String.fromCharCode(parseInt(ut.substring(2),16)),3===bt.location&&mn.hasOwnProperty(ut)&&(ut=mn[ut]))}return cn[ut]||ut}(_e);return le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),kn.forEach(dt=>{dt!=le&&(0,Wt[dt])(_e)&&(ce+=dt+".")}),ce+=le,ce}static eventCallback(_e,ce,le){return dt=>{bt.getEventFullKey(dt)===_e&&le.runGuarded(()=>ce(dt))}}static _normalizeKey(_e){return"esc"===_e?"escape":_e}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(_.K0))},bt.\u0275prov=d.Yz7({token:bt,factory:bt.\u0275fac}),bt})();const mr=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:_.bD},{provide:d.g9A,useValue:function Mr(){ge.makeCurrent()},multi:!0},{provide:_.K0,useFactory:function jr(){return(0,d.RDi)(document),document},deps:[]}]),Hr=new d.OlP(""),hi=[{provide:d.rWj,useClass:class Fe{addToWindow(ut){d.dqk.getAngularTestability=(ce,le=!0)=>{const dt=ut.findTestabilityInTree(ce,le);if(null==dt)throw new Error("Could not find testability for element.");return dt},d.dqk.getAllAngularTestabilities=()=>ut.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>ut.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(ce=>{const le=d.dqk.getAllAngularTestabilities();let dt=le.length,Vt=!1;const Zt=function(sr){Vt=Vt||sr,dt--,0==dt&&ce(Vt)};le.forEach(function(sr){sr.whenStable(Zt)})})}findTestabilityInTree(ut,_e,ce){return null==_e?null:ut.getTestability(_e)??(ce?(0,_.q)().isShadowRoot(_e)?this.findTestabilityInTree(ut,_e.host,!0):this.findTestabilityInTree(ut,_e.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Yt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function di(){return new d.qLn},deps:[]},{provide:Et,useClass:Kt,multi:!0,deps:[_.K0,d.R0b,d.Lbi]},{provide:Et,useClass:An,multi:!0,deps:[_.K0]},{provide:Ne,useClass:Ne,deps:[ct,At,d.AFp]},{provide:d.FYo,useExisting:Ne},{provide:Ft,useExisting:At},{provide:At,useClass:At,deps:[_.K0]},{provide:ct,useClass:ct,deps:[Et,d.R0b]},{provide:_.JF,useClass:pt,deps:[]},[]];let fe=(()=>{class bt{constructor(_e){}static withServerTransition(_e){return{ngModule:bt,providers:[{provide:d.AFp,useValue:_e.appId},{provide:me,useExisting:d.AFp},xe]}}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(Hr,12))},bt.\u0275mod=d.oAB({type:bt}),bt.\u0275inj=d.cJS({providers:[...Yt,...hi],imports:[_.ez,d.hGG]}),bt})(),Hn=(()=>{class bt{constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(_.K0))},bt.\u0275prov=d.Yz7({token:bt,factory:function(_e){let ce=null;return ce=_e?new _e:function pn(){return new Hn((0,d.LFG)(_.K0))}(),ce},providedIn:"root"}),bt})();typeof window<"u"&&window;let Tt=(()=>{class bt{}return bt.\u0275fac=function(_e){return new(_e||bt)},bt.\u0275prov=d.Yz7({token:bt,factory:function(_e){let ce=null;return ce=_e?new(_e||bt):d.LFG(Fn),ce},providedIn:"root"}),bt})(),Fn=(()=>{class bt extends Tt{constructor(_e){super(),this._doc=_e}sanitize(_e,ce){if(null==ce)return null;switch(_e){case d.q3G.NONE:return ce;case d.q3G.HTML:return(0,d.qzn)(ce,"HTML")?(0,d.z3N)(ce):(0,d.EiD)(this._doc,String(ce)).toString();case d.q3G.STYLE:return(0,d.qzn)(ce,"Style")?(0,d.z3N)(ce):ce;case d.q3G.SCRIPT:if((0,d.qzn)(ce,"Script"))return(0,d.z3N)(ce);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(ce,"URL")?(0,d.z3N)(ce):(0,d.mCW)(String(ce));case d.q3G.RESOURCE_URL:if((0,d.qzn)(ce,"ResourceURL"))return(0,d.z3N)(ce);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${_e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(_e){return(0,d.JVY)(_e)}bypassSecurityTrustStyle(_e){return(0,d.L6k)(_e)}bypassSecurityTrustScript(_e){return(0,d.eBb)(_e)}bypassSecurityTrustUrl(_e){return(0,d.LAX)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,d.pB0)(_e)}}return bt.\u0275fac=function(_e){return new(_e||bt)(d.LFG(_.K0))},bt.\u0275prov=d.Yz7({token:bt,factory:function(_e){let ce=null;return ce=_e?new _e:function Ut(bt){return new Fn(bt.get(_.K0))}(d.LFG(d.zs3)),ce},providedIn:"root"}),bt})()},284:(Zn,St,M)=>{M.d(St,{F0:()=>ys,rH:()=>ra,yS:()=>xs,Bz:()=>vi,lC:()=>Co});var _=M(4650),d=M(9751),H=M(727),ge=M(4482),Re=M(5403);function Ae(){return(0,ge.e)((k,O)=>{let I=null;k._refCount++;const G=(0,Re.x)(O,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(I=null);const Z=k._connection,ye=I;I=null,Z&&(!ye||Z===ye)&&Z.unsubscribe(),O.unsubscribe()});k.subscribe(G),G.closed||(I=k.connect())})}class Ge extends d.y{constructor(O,I){super(),this.source=O,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(O)&&(this.lift=O.lift)}_subscribe(O){return this.getSubject().subscribe(O)}getSubject(){const O=this._subject;return(!O||O.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:O}=this;this._subject=this._connection=null,O?.unsubscribe()}connect(){let O=this._connection;if(!O){O=this._connection=new H.w0;const I=this.getSubject();O.add(this.source.subscribe((0,Re.x)(I,void 0,()=>{this._teardown(),I.complete()},G=>{this._teardown(),I.error(G)},()=>this._teardown()))),O.closed&&(this._connection=null,O=H.w0.EMPTY)}return O}refCount(){return Ae()(this)}}var Oe=M(8996),me=M(9646),Ce=M(1135),xe=M(6805),Fe=M(9841),pt=M(7272),Et=M(9770),ct=M(9635),jt=M(2843),Ft=M(515),At=M(7579),en=M(6895),gn=M(9300);function xt(k){return k<=0?()=>Ft.E:(0,ge.e)((O,I)=>{let G=[];O.subscribe((0,Re.x)(I,Z=>{G.push(Z),k<G.length&&G.shift()},()=>{for(const Z of G)I.next(Z);I.complete()},void 0,()=>{G=null}))})}var Ue=M(8068),Ve=M(6590),at=M(4671);function ze(k,O){const I=arguments.length>=2;return G=>G.pipe(k?(0,gn.h)((Z,ye)=>k(Z,ye,G)):at.y,xt(1),I?(0,Ve.d)(O):(0,Ue.T)(()=>new xe.K))}var nt=M(4004),Pe=M(3900),ae=M(5698),_t=M(8675),Ne=M(5577),Je=M(590),Gt=M(4351),qt=M(8505),Pn=M(262),Vn=M(5026),sn=M(2529),Kt=M(8746),kn=M(8189),fn=M(1481);const cn="primary";class mn{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I[0]:I}return null}getAll(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Wt(k){return new mn(k)}function An(k,O,I){const G=I.path.split("/");if(G.length>k.length||"full"===I.pathMatch&&(O.hasChildren()||G.length<k.length))return null;const Z={};for(let ye=0;ye<G.length;ye++){const qe=G[ye],yt=k[ye];if(qe.startsWith(":"))Z[qe.substring(1)]=yt;else if(qe!==yt.path)return null}return{consumed:k.slice(0,G.length),posParams:Z}}function dr(k,O){const I=k?Object.keys(k):void 0,G=O?Object.keys(O):void 0;if(!I||!G||I.length!=G.length)return!1;let Z;for(let ye=0;ye<I.length;ye++)if(Z=I[ye],!Lr(k[Z],O[Z]))return!1;return!0}function Lr(k,O){if(Array.isArray(k)&&Array.isArray(O)){if(k.length!==O.length)return!1;const I=[...k].sort(),G=[...O].sort();return I.every((Z,ye)=>G[ye]===Z)}return k===O}function ui(k){return Array.prototype.concat.apply([],k)}function Mr(k){return k.length>0?k[k.length-1]:null}function jr(k,O){for(const I in k)k.hasOwnProperty(I)&&O(k[I],I)}function xi(k){return(0,_.CqO)(k)?k:(0,_.QGY)(k)?(0,Oe.D)(Promise.resolve(k)):(0,me.of)(k)}const hi={exact:function kt(k,O,I){if(!Dn(k.segments,O.segments)||!Rt(k.segments,O.segments,I)||k.numberOfChildren!==O.numberOfChildren)return!1;for(const G in O.children)if(!k.children[G]||!kt(k.children[G],O.children[G],I))return!1;return!0},subset:pn},Yt={exact:function Xe(k,O){return dr(k,O)},subset:function tn(k,O){return Object.keys(O).length<=Object.keys(k).length&&Object.keys(O).every(I=>Lr(k[I],O[I]))},ignored:()=>!0};function fe(k,O,I){return hi[I.paths](k.root,O.root,I.matrixParams)&&Yt[I.queryParams](k.queryParams,O.queryParams)&&!("exact"===I.fragment&&k.fragment!==O.fragment)}function pn(k,O,I){return Hn(k,O,O.segments,I)}function Hn(k,O,I,G){if(k.segments.length>I.length){const Z=k.segments.slice(0,I.length);return!(!Dn(Z,I)||O.hasChildren()||!Rt(Z,I,G))}if(k.segments.length===I.length){if(!Dn(k.segments,I)||!Rt(k.segments,I,G))return!1;for(const Z in O.children)if(!k.children[Z]||!pn(k.children[Z],O.children[Z],G))return!1;return!0}{const Z=I.slice(0,k.segments.length),ye=I.slice(k.segments.length);return!!(Dn(k.segments,Z)&&Rt(k.segments,Z,G)&&k.children[cn])&&Hn(k.children[cn],O,ye,G)}}function Rt(k,O,I){return O.every((G,Z)=>Yt[I](k[Z].parameters,G.parameters))}class st{constructor(O,I,G){this.root=O,this.queryParams=I,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class Ye{constructor(O,I){this.segments=O,this.children=I,this.parent=null,jr(I,(G,Z)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Y(this)}}class Ht{constructor(O,I){this.path=O,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return Dt(this)}}function Dn(k,O){return k.length===O.length&&k.every((I,G)=>I.path===O[G].path)}let Xt=(()=>{class k{}return k.\u0275fac=function(I){return new(I||k)},k.\u0275prov=_.Yz7({token:k,factory:function(){return new gt},providedIn:"root"}),k})();class gt{parse(O){const I=new Ut(O);return new st(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(O){const I=`/${V(O.root,!0)}`,G=function tr(k){const O=Object.keys(k).map(I=>{const G=k[I];return Array.isArray(G)?G.map(Z=>`${pe(I)}=${pe(Z)}`).join("&"):`${pe(I)}=${pe(G)}`}).filter(I=>!!I);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${I}${G}${"string"==typeof O.fragment?`#${function ue(k){return encodeURI(k)}(O.fragment)}`:""}`}}const Ke=new gt;function Y(k){return k.segments.map(O=>Dt(O)).join("/")}function V(k,O){if(!k.hasChildren())return Y(k);if(O){const I=k.children[cn]?V(k.children[cn],!1):"",G=[];return jr(k.children,(Z,ye)=>{ye!==cn&&G.push(`${ye}:${V(Z,!1)}`)}),G.length>0?`${I}(${G.join("//")})`:I}{const I=function vr(k,O){let I=[];return jr(k.children,(G,Z)=>{Z===cn&&(I=I.concat(O(G,Z)))}),jr(k.children,(G,Z)=>{Z!==cn&&(I=I.concat(O(G,Z)))}),I}(k,(G,Z)=>Z===cn?[V(k.children[cn],!1)]:[`${Z}:${V(G,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[cn]?`${Y(k)}/${I[0]}`:`${Y(k)}/(${I.join("//")})`}}function ne(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pe(k){return ne(k).replace(/%3B/gi,";")}function se(k){return ne(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(k){return decodeURIComponent(k)}function ot(k){return be(k.replace(/\+/g,"%20"))}function Dt(k){return`${se(k.path)}${function jn(k){return Object.keys(k).map(O=>`;${se(O)}=${se(k[O])}`).join("")}(k.parameters)}`}const Un=/^[^\/()?;=#]+/;function de(k){const O=k.match(Un);return O?O[0]:""}const ke=/^[^=?&#]+/,tt=/^[^&#]+/;class Ut{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(O.length>0||Object.keys(I).length>0)&&(G[cn]=new Ye(O,I)),G}parseSegment(){const O=de(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new _.vHH(4009,!1);return this.capture(O),new Ht(be(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const I=de(this.remaining);if(!I)return;this.capture(I);let G="";if(this.consumeOptional("=")){const Z=de(this.remaining);Z&&(G=Z,this.capture(G))}O[be(I)]=be(G)}parseQueryParam(O){const I=function ve(k){const O=k.match(ke);return O?O[0]:""}(this.remaining);if(!I)return;this.capture(I);let G="";if(this.consumeOptional("=")){const qe=function Tt(k){const O=k.match(tt);return O?O[0]:""}(this.remaining);qe&&(G=qe,this.capture(G))}const Z=ot(I),ye=ot(G);if(O.hasOwnProperty(Z)){let qe=O[Z];Array.isArray(qe)||(qe=[qe],O[Z]=qe),qe.push(ye)}else O[Z]=ye}parseParens(O){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=de(this.remaining),Z=this.remaining[G.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new _.vHH(4010,!1);let ye;G.indexOf(":")>-1?(ye=G.slice(0,G.indexOf(":")),this.capture(ye),this.capture(":")):O&&(ye=cn);const qe=this.parseChildren();I[ye]=1===Object.keys(qe).length?qe[cn]:new Ye([],qe),this.consumeOptional("//")}return I}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new _.vHH(4011,!1)}}function Fn(k){return k.segments.length>0?new Ye([],{[cn]:k}):k}function Nn(k){const O={};for(const G of Object.keys(k.children)){const ye=Nn(k.children[G]);(ye.segments.length>0||ye.hasChildren())&&(O[G]=ye)}return function bt(k){if(1===k.numberOfChildren&&k.children[cn]){const O=k.children[cn];return new Ye(k.segments.concat(O.segments),O.children)}return k}(new Ye(k.segments,O))}function ut(k){return k instanceof st}function Vt(k,O,I,G,Z){if(0===I.length)return nr(O.root,O.root,O.root,G,Z);const ye=function $e(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new Ar(!0,0,k);let O=0,I=!1;const G=k.reduce((Z,ye,qe)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const yt={};return jr(ye.outlets,(xn,Er)=>{yt[Er]="string"==typeof xn?xn.split("/"):xn}),[...Z,{outlets:yt}]}if(ye.segmentPath)return[...Z,ye.segmentPath]}return"string"!=typeof ye?[...Z,ye]:0===qe?(ye.split("/").forEach((yt,xn)=>{0==xn&&"."===yt||(0==xn&&""===yt?I=!0:".."===yt?O++:""!=yt&&Z.push(yt))}),Z):[...Z,ye]},[]);return new Ar(I,O,G)}(I);return ye.toRoot()?nr(O.root,O.root,new Ye([],{}),G,Z):function qe(xn){const Er=function Gn(k,O,I,G){if(k.isAbsolute)return new Jt(O.root,!0,0);if(-1===G)return new Jt(I,I===O.root,0);return function Qr(k,O,I){let G=k,Z=O,ye=I;for(;ye>Z;){if(ye-=Z,G=G.parent,!G)throw new _.vHH(4005,!1);Z=G.segments.length}return new Jt(G,!1,Z-ye)}(I,G+(Zt(k.commands[0])?0:1),k.numberOfDoubleDots)}(ye,O,k.snapshot?._urlSegment,xn),fi=Er.processChildren?Qo(Er.segmentGroup,Er.index,ye.commands):ni(Er.segmentGroup,Er.index,ye.commands);return nr(O.root,Er.segmentGroup,fi,G,Z)}(k.snapshot?._lastPathIndex)}function Zt(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function sr(k){return"object"==typeof k&&null!=k&&k.outlets}function nr(k,O,I,G,Z){let qe,ye={};G&&jr(G,(xn,Er)=>{ye[Er]=Array.isArray(xn)?xn.map(fi=>`${fi}`):`${xn}`}),qe=k===O?I:Xr(k,O,I);const yt=Fn(Nn(qe));return new st(yt,ye,Z)}function Xr(k,O,I){const G={};return jr(k.children,(Z,ye)=>{G[ye]=Z===O?I:Xr(Z,O,I)}),new Ye(k.segments,G)}class Ar{constructor(O,I,G){if(this.isAbsolute=O,this.numberOfDoubleDots=I,this.commands=G,O&&G.length>0&&Zt(G[0]))throw new _.vHH(4003,!1);const Z=G.find(sr);if(Z&&Z!==Mr(G))throw new _.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jt{constructor(O,I,G){this.segmentGroup=O,this.processChildren=I,this.index=G}}function ni(k,O,I){if(k||(k=new Ye([],{})),0===k.segments.length&&k.hasChildren())return Qo(k,O,I);const G=function ai(k,O,I){let G=0,Z=O;const ye={match:!1,pathIndex:0,commandIndex:0};for(;Z<k.segments.length;){if(G>=I.length)return ye;const qe=k.segments[Z],yt=I[G];if(sr(yt))break;const xn=`${yt}`,Er=G<I.length-1?I[G+1]:null;if(Z>0&&void 0===xn)break;if(xn&&Er&&"object"==typeof Er&&void 0===Er.outlets){if(!Ns(xn,Er,qe))return ye;G+=2}else{if(!Ns(xn,{},qe))return ye;G++}Z++}return{match:!0,pathIndex:Z,commandIndex:G}}(k,O,I),Z=I.slice(G.commandIndex);if(G.match&&G.pathIndex<k.segments.length){const ye=new Ye(k.segments.slice(0,G.pathIndex),{});return ye.children[cn]=new Ye(k.segments.slice(G.pathIndex),k.children),Qo(ye,0,Z)}return G.match&&0===Z.length?new Ye(k.segments,{}):G.match&&!k.hasChildren()?lo(k,O,I):G.match?Qo(k,0,Z):lo(k,O,I)}function Qo(k,O,I){if(0===I.length)return new Ye(k.segments,{});{const G=function Di(k){return sr(k[0])?k[0].outlets:{[cn]:k}}(I),Z={};return jr(G,(ye,qe)=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(Z[qe]=ni(k.children[qe],O,ye))}),jr(k.children,(ye,qe)=>{void 0===G[qe]&&(Z[qe]=ye)}),new Ye(k.segments,Z)}}function lo(k,O,I){const G=k.segments.slice(0,O);let Z=0;for(;Z<I.length;){const ye=I[Z];if(sr(ye)){const xn=co(ye.outlets);return new Ye(G,xn)}if(0===Z&&Zt(I[0])){G.push(new Ht(k.segments[O].path,Ks(I[0]))),Z++;continue}const qe=sr(ye)?ye.outlets[cn]:`${ye}`,yt=Z<I.length-1?I[Z+1]:null;qe&&yt&&Zt(yt)?(G.push(new Ht(qe,Ks(yt))),Z+=2):(G.push(new Ht(qe,{})),Z++)}return new Ye(G,{})}function co(k){const O={};return jr(k,(I,G)=>{"string"==typeof I&&(I=[I]),null!==I&&(O[G]=lo(new Ye([],{}),0,I))}),O}function Ks(k){const O={};return jr(k,(I,G)=>O[G]=`${I}`),O}function Ns(k,O,I){return k==I.path&&dr(O,I.parameters)}class ns{constructor(O,I){this.id=O,this.url=I}}class Zi extends ns{constructor(O,I,G="imperative",Z=null){super(O,I),this.type=0,this.navigationTrigger=G,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ps extends ns{constructor(O,I,G){super(O,I),this.urlAfterRedirects=G,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ki extends ns{constructor(O,I,G,Z){super(O,I),this.reason=G,this.code=Z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ds extends ns{constructor(O,I,G,Z){super(O,I),this.error=G,this.target=Z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Po extends ns{constructor(O,I,G,Z){super(O,I),this.urlAfterRedirects=G,this.state=Z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ol extends ns{constructor(O,I,G,Z){super(O,I),this.urlAfterRedirects=G,this.state=Z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aa extends ns{constructor(O,I,G,Z,ye){super(O,I),this.urlAfterRedirects=G,this.state=Z,this.shouldActivate=ye,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uo extends ns{constructor(O,I,G,Z){super(O,I),this.urlAfterRedirects=G,this.state=Z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class la extends ns{constructor(O,I,G,Z){super(O,I),this.urlAfterRedirects=G,this.state=Z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ra{constructor(O){this.route=O,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Za{constructor(O){this.route=O,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xo{constructor(O){this.snapshot=O,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ba{constructor(O){this.snapshot=O,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pa{constructor(O){this.snapshot=O,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(O){this.snapshot=O,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(O,I,G){this.routerEvent=O,this.position=I,this.anchor=G,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pt{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const I=this.pathFromRoot(O);return I.length>1?I[I.length-2]:null}children(O){const I=yn(O,this._root);return I?I.children.map(G=>G.value):[]}firstChild(O){const I=yn(O,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(O){const I=zn(O,this._root);return I.length<2?[]:I[I.length-2].children.map(Z=>Z.value).filter(Z=>Z!==O)}pathFromRoot(O){return zn(O,this._root).map(I=>I.value)}}function yn(k,O){if(k===O.value)return O;for(const I of O.children){const G=yn(k,I);if(G)return G}return null}function zn(k,O){if(k===O.value)return[O];for(const I of O.children){const G=zn(k,I);if(G.length)return G.unshift(O),G}return[]}class fr{constructor(O,I){this.value=O,this.children=I}toString(){return`TreeNode(${this.value})`}}function Br(k){const O={};return k&&k.children.forEach(I=>O[I.value.outlet]=I),O}class si extends Pt{constructor(O,I){super(O),this.snapshot=I,Ca(this,O)}toString(){return this.snapshot.toString()}}function Ls(k,O){const I=function Hi(k,O){const qe=new ea([],{},{},"",{},cn,O,null,k.root,-1,{});return new ca("",new fr(qe,[]))}(k,O),G=new Ce.X([new Ht("",{})]),Z=new Ce.X({}),ye=new Ce.X({}),qe=new Ce.X({}),yt=new Ce.X(""),xn=new no(G,Z,qe,yt,ye,cn,O,I.root);return xn.snapshot=I.root,new si(new fr(xn,[]),I)}class no{constructor(O,I,G,Z,ye,qe,yt,xn){this.url=O,this.params=I,this.queryParams=G,this.fragment=Z,this.data=ye,this.outlet=qe,this.component=yt,this._futureSnapshot=xn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(O=>Wt(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(O=>Wt(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Go(k,O="emptyOnly"){const I=k.pathFromRoot;let G=0;if("always"!==O)for(G=I.length-1;G>=1;){const Z=I[G],ye=I[G-1];if(Z.routeConfig&&""===Z.routeConfig.path)G--;else{if(ye.component)break;G--}}return function rs(k){return k.reduce((O,I)=>({params:{...O.params,...I.params},data:{...O.data,...I.data},resolve:{...I.data,...O.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(G))}class ea{constructor(O,I,G,Z,ye,qe,yt,xn,Er,fi,Pr,Ji){this.url=O,this.params=I,this.queryParams=G,this.fragment=Z,this.data=ye,this.outlet=qe,this.component=yt,this.routeConfig=xn,this._urlSegment=Er,this._lastPathIndex=fi,this._correctedLastPathIndex=Ji??fi,this._resolve=Pr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ca extends Pt{constructor(O,I){super(I),this.url=O,Ca(this,I)}toString(){return js(this._root)}}function Ca(k,O){O.value._routerState=k,O.children.forEach(I=>Ca(k,I))}function js(k){const O=k.children.length>0?` { ${k.children.map(js).join(", ")} } `:"";return`${k.value}${O}`}function Bs(k){if(k.snapshot){const O=k.snapshot,I=k._futureSnapshot;k.snapshot=I,dr(O.queryParams,I.queryParams)||k.queryParams.next(I.queryParams),O.fragment!==I.fragment&&k.fragment.next(I.fragment),dr(O.params,I.params)||k.params.next(I.params),function Kn(k,O){if(k.length!==O.length)return!1;for(let I=0;I<k.length;++I)if(!dr(k[I],O[I]))return!1;return!0}(O.url,I.url)||k.url.next(I.url),dr(O.data,I.data)||k.data.next(I.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function wo(k,O){const I=dr(k.params,O.params)&&function vn(k,O){return Dn(k,O)&&k.every((I,G)=>dr(I.parameters,O[G].parameters))}(k.url,O.url);return I&&!(!k.parent!=!O.parent)&&(!k.parent||wo(k.parent,O.parent))}function bo(k,O,I){if(I&&k.shouldReuseRoute(O.value,I.value.snapshot)){const G=I.value;G._futureSnapshot=O.value;const Z=function _c(k,O,I){return O.children.map(G=>{for(const Z of I.children)if(k.shouldReuseRoute(G.value,Z.value.snapshot))return bo(k,G,Z);return bo(k,G)})}(k,O,I);return new fr(G,Z)}{if(k.shouldAttach(O.value)){const ye=k.retrieve(O.value);if(null!==ye){const qe=ye.route;return qe.value._futureSnapshot=O.value,qe.children=O.children.map(yt=>bo(k,yt)),qe}}const G=function ta(k){return new no(new Ce.X(k.url),new Ce.X(k.params),new Ce.X(k.queryParams),new Ce.X(k.fragment),new Ce.X(k.data),k.outlet,k.component,k)}(O.value),Z=O.children.map(ye=>bo(k,ye));return new fr(G,Z)}}const ho="ngNavigationCancelingError";function _l(k,O){const{redirectTo:I,navigationBehaviorOptions:G}=ut(O)?{redirectTo:O,navigationBehaviorOptions:void 0}:O,Z=Ss(!1,0,O);return Z.url=I,Z.navigationBehaviorOptions=G,Z}function Ss(k,O,I){const G=new Error("NavigationCancelingError: "+(k||""));return G[ho]=!0,G.cancellationCode=O,I&&(G.url=I),G}function No(k){return cs(k)&&ut(k.url)}function cs(k){return k&&k[ho]}class Ni{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ua,this.attachRef=null}}let ua=(()=>{class k{constructor(){this.contexts=new Map}onChildOutletCreated(I,G){const Z=this.getOrCreateContext(I);Z.outlet=G,this.contexts.set(I,Z)}onChildOutletDestroyed(I){const G=this.getContext(I);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let G=this.getContext(I);return G||(G=new Ni,this.contexts.set(I,G)),G}getContext(I){return this.contexts.get(I)||null}}return k.\u0275fac=function(I){return new(I||k)},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const ga=!1;let Co=(()=>{class k{constructor(I,G,Z,ye,qe){this.parentContexts=I,this.location=G,this.changeDetector=ye,this.environmentInjector=qe,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=Z||cn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.vHH(4012,ga);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.vHH(4012,ga);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.vHH(4012,ga);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,G){this.activated=I,this._activatedRoute=G,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,G){if(this.isActivated)throw new _.vHH(4013,ga);this._activatedRoute=I;const Z=this.location,qe=I._futureSnapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,xn=new Qa(I,yt,Z.injector);if(G&&function is(k){return!!k.resolveComponentFactory}(G)){const Er=G.resolveComponentFactory(qe);this.activated=Z.createComponent(Er,Z.length,xn)}else this.activated=Z.createComponent(qe,{index:Z.length,injector:xn,environmentInjector:G??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(I){return new(I||k)(_.Y36(ua),_.Y36(_.s_b),_.$8M("name"),_.Y36(_.sBO),_.Y36(_.lqb))},k.\u0275dir=_.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class Qa{constructor(O,I,G){this.route=O,this.childContexts=I,this.parent=G}get(O,I){return O===no?this.route:O===ua?this.childContexts:this.parent.get(O,I)}}let vl=(()=>{class k{}return k.\u0275fac=function(I){return new(I||k)},k.\u0275cmp=_.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,G){1&I&&_._UZ(0,"router-outlet")},dependencies:[Co],encapsulation:2}),k})();function ti(k,O){return k.providers&&!k._injector&&(k._injector=(0,_.MMx)(k.providers,O,`Route: ${k.path}`)),k._injector??O}function X(k){const O=k.children&&k.children.map(X),I=O?{...k,children:O}:{...k};return!I.component&&!I.loadComponent&&(O||I.loadChildren)&&I.outlet&&I.outlet!==cn&&(I.component=vl),I}function Ie(k){return k.outlet||cn}function Ot(k,O){const I=k.filter(G=>Ie(G)===O);return I.push(...k.filter(G=>Ie(G)!==O)),I}function wn(k){if(!k)return null;if(k.routeConfig?._injector)return k.routeConfig._injector;for(let O=k.parent;O;O=O.parent){const I=O.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class kr{constructor(O,I,G,Z){this.routeReuseStrategy=O,this.futureState=I,this.currState=G,this.forwardEvent=Z}activate(O){const I=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,G,O),Bs(this.futureState.root),this.activateChildRoutes(I,G,O)}deactivateChildRoutes(O,I,G){const Z=Br(I);O.children.forEach(ye=>{const qe=ye.value.outlet;this.deactivateRoutes(ye,Z[qe],G),delete Z[qe]}),jr(Z,(ye,qe)=>{this.deactivateRouteAndItsChildren(ye,G)})}deactivateRoutes(O,I,G){const Z=O.value,ye=I?I.value:null;if(Z===ye)if(Z.component){const qe=G.getContext(Z.outlet);qe&&this.deactivateChildRoutes(O,I,qe.children)}else this.deactivateChildRoutes(O,I,G);else ye&&this.deactivateRouteAndItsChildren(I,G)}deactivateRouteAndItsChildren(O,I){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,I):this.deactivateRouteAndOutlet(O,I)}detachAndStoreRouteSubtree(O,I){const G=I.getContext(O.value.outlet),Z=G&&O.value.component?G.children:I,ye=Br(O);for(const qe of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[qe],Z);if(G&&G.outlet){const qe=G.outlet.detach(),yt=G.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:qe,route:O,contexts:yt})}}deactivateRouteAndOutlet(O,I){const G=I.getContext(O.value.outlet),Z=G&&O.value.component?G.children:I,ye=Br(O);for(const qe of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[qe],Z);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(O,I,G){const Z=Br(I);O.children.forEach(ye=>{this.activateRoutes(ye,Z[ye.value.outlet],G),this.forwardEvent(new Jo(ye.value.snapshot))}),O.children.length&&this.forwardEvent(new ba(O.value.snapshot))}activateRoutes(O,I,G){const Z=O.value,ye=I?I.value:null;if(Bs(Z),Z===ye)if(Z.component){const qe=G.getOrCreateContext(Z.outlet);this.activateChildRoutes(O,I,qe.children)}else this.activateChildRoutes(O,I,G);else if(Z.component){const qe=G.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const yt=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),qe.children.onOutletReAttached(yt.contexts),qe.attachRef=yt.componentRef,qe.route=yt.route.value,qe.outlet&&qe.outlet.attach(yt.componentRef,yt.route.value),Bs(yt.route.value),this.activateChildRoutes(O,null,qe.children)}else{const yt=wn(Z.snapshot),xn=yt?.get(_._Vd)??null;qe.attachRef=null,qe.route=Z,qe.resolver=xn,qe.injector=yt,qe.outlet&&qe.outlet.activateWith(Z,qe.injector),this.activateChildRoutes(O,null,qe.children)}}else this.activateChildRoutes(O,null,G)}}class ds{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class ji{constructor(O,I){this.component=O,this.route=I}}function hs(k,O,I){const G=k._root;return zi(G,O?O._root:null,I,[G.value])}function Ts(k,O,I){return(wn(O)??I).get(k)}function zi(k,O,I,G,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Br(O);return k.children.forEach(qe=>{(function Ti(k,O,I,G,Z={canDeactivateChecks:[],canActivateChecks:[]}){const ye=k.value,qe=O?O.value:null,yt=I?I.getContext(k.value.outlet):null;if(qe&&ye.routeConfig===qe.routeConfig){const xn=function Wn(k,O,I){if("function"==typeof I)return I(k,O);switch(I){case"pathParamsChange":return!Dn(k.url,O.url);case"pathParamsOrQueryParamsChange":return!Dn(k.url,O.url)||!dr(k.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(k,O)||!dr(k.queryParams,O.queryParams);default:return!wo(k,O)}}(qe,ye,ye.routeConfig.runGuardsAndResolvers);xn?Z.canActivateChecks.push(new ds(G)):(ye.data=qe.data,ye._resolvedData=qe._resolvedData),zi(k,O,ye.component?yt?yt.children:null:I,G,Z),xn&&yt&&yt.outlet&&yt.outlet.isActivated&&Z.canDeactivateChecks.push(new ji(yt.outlet.component,qe))}else qe&&Or(O,yt,Z),Z.canActivateChecks.push(new ds(G)),zi(k,null,ye.component?yt?yt.children:null:I,G,Z)})(qe,ye[qe.value.outlet],I,G.concat([qe.value]),Z),delete ye[qe.value.outlet]}),jr(ye,(qe,yt)=>Or(qe,I.getContext(yt),Z)),Z}function Or(k,O,I){const G=Br(k),Z=k.value;jr(G,(ye,qe)=>{Or(ye,Z.component?O?O.children.getContext(qe):null:O,I)}),I.canDeactivateChecks.push(new ji(Z.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,Z))}function Gi(k){return"function"==typeof k}function un(k){return k instanceof xe.K||"EmptyError"===k?.name}const wr=Symbol("INITIAL_VALUE");function Fi(){return(0,Pe.w)(k=>(0,Fe.a)(k.map(O=>O.pipe((0,ae.q)(1),(0,_t.O)(wr)))).pipe((0,nt.U)(O=>{for(const I of O)if(!0!==I){if(I===wr)return wr;if(!1===I||I instanceof st)return I}return!0}),(0,gn.h)(O=>O!==wr),(0,ae.q)(1)))}function tc(k){return(0,ct.z)((0,qt.b)(O=>{if(ut(O))throw _l(0,O)}),(0,nt.U)(O=>!0===O))}const al={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nl(k,O,I,G,Z){const ye=bi(k,O,I);return ye.matched?function ko(k,O,I,G){const Z=O.canMatch;if(!Z||0===Z.length)return(0,me.of)(!0);const ye=Z.map(qe=>{const yt=k.get(qe),xn=function q(k){return k&&Gi(k.canMatch)}(yt)?yt.canMatch(O,I):yt(O,I);return xi(xn)});return(0,me.of)(ye).pipe(Fi(),tc())}(G=ti(O,G),O,I).pipe((0,nt.U)(qe=>!0===qe?ye:{...al})):(0,me.of)(ye)}function bi(k,O,I){if(""===O.path)return"full"===O.pathMatch&&(k.hasChildren()||I.length>0)?{...al}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Z=(O.matcher||An)(I,k,O);if(!Z)return{...al};const ye={};jr(Z.posParams,(yt,xn)=>{ye[xn]=yt.path});const qe=Z.consumed.length>0?{...ye,...Z.consumed[Z.consumed.length-1].parameters}:ye;return{matched:!0,consumedSegments:Z.consumed,remainingSegments:I.slice(Z.consumed.length),parameters:qe,positionalParamSegments:Z.posParams??{}}}function na(k,O,I,G,Z="corrected"){if(I.length>0&&function Yi(k,O,I){return I.some(G=>xl(k,O,G)&&Ie(G)!==cn)}(k,I,G)){const qe=new Ye(O,function yc(k,O,I,G){const Z={};Z[cn]=G,G._sourceSegment=k,G._segmentIndexShift=O.length;for(const ye of I)if(""===ye.path&&Ie(ye)!==cn){const qe=new Ye([],{});qe._sourceSegment=k,qe._segmentIndexShift=O.length,Z[Ie(ye)]=qe}return Z}(k,O,G,new Ye(I,k.children)));return qe._sourceSegment=k,qe._segmentIndexShift=O.length,{segmentGroup:qe,slicedSegments:[]}}if(0===I.length&&function nc(k,O,I){return I.some(G=>xl(k,O,G))}(k,I,G)){const qe=new Ye(k.segments,function ll(k,O,I,G,Z,ye){const qe={};for(const yt of G)if(xl(k,I,yt)&&!Z[Ie(yt)]){const xn=new Ye([],{});xn._sourceSegment=k,xn._segmentIndexShift="legacy"===ye?k.segments.length:O.length,qe[Ie(yt)]=xn}return{...Z,...qe}}(k,O,I,G,k.children,Z));return qe._sourceSegment=k,qe._segmentIndexShift=O.length,{segmentGroup:qe,slicedSegments:I}}const ye=new Ye(k.segments,k.children);return ye._sourceSegment=k,ye._segmentIndexShift=O.length,{segmentGroup:ye,slicedSegments:I}}function xl(k,O,I){return(!(k.hasChildren()||O.length>0)||"full"!==I.pathMatch)&&""===I.path}function ss(k,O,I,G){return!!(Ie(k)===G||G!==cn&&xl(O,I,k))&&("**"===k.path||bi(O,k,I).matched)}function rc(k,O,I){return 0===O.length&&!k.children[I]}const wl=!1;class Ys{constructor(O){this.segmentGroup=O||null}}class Pa{constructor(O){this.urlTree=O}}function Qi(k){return(0,jt._)(new Ys(k))}function gu(k){return(0,jt._)(new Pa(k))}class Ll{constructor(O,I,G,Z,ye){this.injector=O,this.configLoader=I,this.urlSerializer=G,this.urlTree=Z,this.config=ye,this.allowRedirects=!0}apply(){const O=na(this.urlTree.root,[],[],this.config).segmentGroup,I=new Ye(O.segments,O.children);return this.expandSegmentGroup(this.injector,this.config,I,cn).pipe((0,nt.U)(ye=>this.createUrlTree(Nn(ye),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Pn.K)(ye=>{if(ye instanceof Pa)return this.allowRedirects=!1,this.match(ye.urlTree);throw ye instanceof Ys?this.noMatchError(ye):ye}))}match(O){return this.expandSegmentGroup(this.injector,this.config,O.root,cn).pipe((0,nt.U)(Z=>this.createUrlTree(Nn(Z),O.queryParams,O.fragment))).pipe((0,Pn.K)(Z=>{throw Z instanceof Ys?this.noMatchError(Z):Z}))}noMatchError(O){return new _.vHH(4002,wl)}createUrlTree(O,I,G){const Z=Fn(O);return new st(Z,I,G)}expandSegmentGroup(O,I,G,Z){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(O,I,G).pipe((0,nt.U)(ye=>new Ye([],ye))):this.expandSegment(O,G,I,G.segments,Z,!0)}expandChildren(O,I,G){const Z=[];for(const ye of Object.keys(G.children))"primary"===ye?Z.unshift(ye):Z.push(ye);return(0,Oe.D)(Z).pipe((0,Gt.b)(ye=>{const qe=G.children[ye],yt=Ot(I,ye);return this.expandSegmentGroup(O,yt,qe,ye).pipe((0,nt.U)(xn=>({segment:xn,outlet:ye})))}),(0,Vn.R)((ye,qe)=>(ye[qe.outlet]=qe.segment,ye),{}),ze())}expandSegment(O,I,G,Z,ye,qe){return(0,Oe.D)(G).pipe((0,Gt.b)(yt=>this.expandSegmentAgainstRoute(O,I,G,yt,Z,ye,qe).pipe((0,Pn.K)(Er=>{if(Er instanceof Ys)return(0,me.of)(null);throw Er}))),(0,Je.P)(yt=>!!yt),(0,Pn.K)((yt,xn)=>{if(un(yt))return rc(I,Z,ye)?(0,me.of)(new Ye([],{})):Qi(I);throw yt}))}expandSegmentAgainstRoute(O,I,G,Z,ye,qe,yt){return ss(Z,I,ye,qe)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(O,I,Z,ye,qe):yt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,I,G,Z,ye,qe):Qi(I):Qi(I)}expandSegmentAgainstRouteUsingRedirect(O,I,G,Z,ye,qe){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,G,Z,qe):this.expandRegularSegmentAgainstRouteUsingRedirect(O,I,G,Z,ye,qe)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,I,G,Z){const ye=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?gu(ye):this.lineralizeSegments(G,ye).pipe((0,Ne.z)(qe=>{const yt=new Ye(qe,{});return this.expandSegment(O,yt,I,qe,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,I,G,Z,ye,qe){const{matched:yt,consumedSegments:xn,remainingSegments:Er,positionalParamSegments:fi}=bi(I,Z,ye);if(!yt)return Qi(I);const Pr=this.applyRedirectCommands(xn,Z.redirectTo,fi);return Z.redirectTo.startsWith("/")?gu(Pr):this.lineralizeSegments(Z,Pr).pipe((0,Ne.z)(Ji=>this.expandSegment(O,I,G,Ji.concat(Er),qe,!1)))}matchSegmentAgainstRoute(O,I,G,Z,ye){return"**"===G.path?(O=ti(G,O),G.loadChildren?(G._loadedRoutes?(0,me.of)({routes:G._loadedRoutes,injector:G._loadedInjector}):this.configLoader.loadChildren(O,G)).pipe((0,nt.U)(yt=>(G._loadedRoutes=yt.routes,G._loadedInjector=yt.injector,new Ye(Z,{})))):(0,me.of)(new Ye(Z,{}))):Nl(I,G,Z,O).pipe((0,Pe.w)(({matched:qe,consumedSegments:yt,remainingSegments:xn})=>qe?this.getChildConfig(O=G._injector??O,G,Z).pipe((0,Ne.z)(fi=>{const Pr=fi.injector??O,Ji=fi.routes,{segmentGroup:Mi,slicedSegments:To}=na(I,yt,xn,Ji),Xs=new Ye(Mi.segments,Mi.children);if(0===To.length&&Xs.hasChildren())return this.expandChildren(Pr,Ji,Xs).pipe((0,nt.U)(bc=>new Ye(yt,bc)));if(0===Ji.length&&0===To.length)return(0,me.of)(new Ye(yt,{}));const Ui=Ie(G)===ye;return this.expandSegment(Pr,Xs,Ji,To,Ui?cn:ye,!0).pipe((0,nt.U)(Ha=>new Ye(yt.concat(Ha.segments),Ha.children)))})):Qi(I)))}getChildConfig(O,I,G){return I.children?(0,me.of)({routes:I.children,injector:O}):I.loadChildren?void 0!==I._loadedRoutes?(0,me.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Fa(k,O,I,G){const Z=O.canLoad;if(void 0===Z||0===Z.length)return(0,me.of)(!0);const ye=Z.map(qe=>{const yt=k.get(qe),xn=function Is(k){return k&&Gi(k.canLoad)}(yt)?yt.canLoad(O,I):yt(O,I);return xi(xn)});return(0,me.of)(ye).pipe(Fi(),tc())}(O,I,G).pipe((0,Ne.z)(Z=>Z?this.configLoader.loadChildren(O,I).pipe((0,qt.b)(ye=>{I._loadedRoutes=ye.routes,I._loadedInjector=ye.injector})):function Uc(k){return(0,jt._)(Ss(wl,3))}())):(0,me.of)({routes:[],injector:O})}lineralizeSegments(O,I){let G=[],Z=I.root;for(;;){if(G=G.concat(Z.segments),0===Z.numberOfChildren)return(0,me.of)(G);if(Z.numberOfChildren>1||!Z.children[cn])return(0,jt._)(new _.vHH(4e3,wl));Z=Z.children[cn]}}applyRedirectCommands(O,I,G){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),O,G)}applyRedirectCreateUrlTree(O,I,G,Z){const ye=this.createSegmentGroup(O,I.root,G,Z);return new st(ye,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(O,I){const G={};return jr(O,(Z,ye)=>{if("string"==typeof Z&&Z.startsWith(":")){const yt=Z.substring(1);G[ye]=I[yt]}else G[ye]=Z}),G}createSegmentGroup(O,I,G,Z){const ye=this.createSegments(O,I.segments,G,Z);let qe={};return jr(I.children,(yt,xn)=>{qe[xn]=this.createSegmentGroup(O,yt,G,Z)}),new Ye(ye,qe)}createSegments(O,I,G,Z){return I.map(ye=>ye.path.startsWith(":")?this.findPosParam(O,ye,Z):this.findOrReturn(ye,G))}findPosParam(O,I,G){const Z=G[I.path.substring(1)];if(!Z)throw new _.vHH(4001,wl);return Z}findOrReturn(O,I){let G=0;for(const Z of I){if(Z.path===O.path)return I.splice(G),Z;G++}return O}}class Na{}class La{constructor(O,I,G,Z,ye,qe,yt,xn){this.injector=O,this.rootComponentType=I,this.config=G,this.urlTree=Z,this.url=ye,this.paramsInheritanceStrategy=qe,this.relativeLinkResolution=yt,this.urlSerializer=xn}recognize(){const O=na(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,O,cn).pipe((0,nt.U)(I=>{if(null===I)return null;const G=new ea([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new fr(G,I),ye=new ca(this.url,Z);return this.inheritParamsAndData(ye._root),ye}))}inheritParamsAndData(O){const I=O.value,G=Go(I,this.paramsInheritanceStrategy);I.params=Object.freeze(G.params),I.data=Object.freeze(G.data),O.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(O,I,G,Z){return 0===G.segments.length&&G.hasChildren()?this.processChildren(O,I,G):this.processSegment(O,I,G,G.segments,Z)}processChildren(O,I,G){return(0,Oe.D)(Object.keys(G.children)).pipe((0,Gt.b)(Z=>{const ye=G.children[Z],qe=Ot(I,Z);return this.processSegmentGroup(O,qe,ye,Z)}),(0,Vn.R)((Z,ye)=>Z&&ye?(Z.push(...ye),Z):null),(0,sn.o)(Z=>null!==Z),(0,Ve.d)(null),ze(),(0,nt.U)(Z=>{if(null===Z)return null;const ye=Gc(Z);return function rf(k){k.sort((O,I)=>O.value.outlet===cn?-1:I.value.outlet===cn?1:O.value.outlet.localeCompare(I.value.outlet))}(ye),ye}))}processSegment(O,I,G,Z,ye){return(0,Oe.D)(I).pipe((0,Gt.b)(qe=>this.processSegmentAgainstRoute(qe._injector??O,qe,G,Z,ye)),(0,Je.P)(qe=>!!qe),(0,Pn.K)(qe=>{if(un(qe))return rc(G,Z,ye)?(0,me.of)([]):(0,me.of)(null);throw qe}))}processSegmentAgainstRoute(O,I,G,Z,ye){if(I.redirectTo||!ss(I,G,Z,ye))return(0,me.of)(null);let qe;if("**"===I.path){const yt=Z.length>0?Mr(Z).parameters:{},xn=_r(G)+Z.length,Er=new ea(Z,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mu(I),Ie(I),I.component??I._loadedComponent??null,I,_a(G),xn,Ju(I),xn);qe=(0,me.of)({snapshot:Er,consumedSegments:[],remainingSegments:[]})}else qe=Nl(G,I,Z,O).pipe((0,nt.U)(({matched:yt,consumedSegments:xn,remainingSegments:Er,parameters:fi})=>{if(!yt)return null;const Pr=_r(G)+xn.length;return{snapshot:new ea(xn,fi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mu(I),Ie(I),I.component??I._loadedComponent??null,I,_a(G),Pr,Ju(I),Pr),consumedSegments:xn,remainingSegments:Er}}));return qe.pipe((0,Pe.w)(yt=>{if(null===yt)return(0,me.of)(null);const{snapshot:xn,consumedSegments:Er,remainingSegments:fi}=yt;O=I._injector??O;const Pr=I._loadedInjector??O,Ji=function Ja(k){return k.children?k.children:k.loadChildren?k._loadedRoutes:[]}(I),{segmentGroup:Mi,slicedSegments:To}=na(G,Er,fi,Ji.filter(Ui=>void 0===Ui.redirectTo),this.relativeLinkResolution);if(0===To.length&&Mi.hasChildren())return this.processChildren(Pr,Ji,Mi).pipe((0,nt.U)(Ui=>null===Ui?null:[new fr(xn,Ui)]));if(0===Ji.length&&0===To.length)return(0,me.of)([new fr(xn,[])]);const Xs=Ie(I)===ye;return this.processSegment(Pr,Ji,Mi,To,Xs?cn:ye).pipe((0,nt.U)(Ui=>null===Ui?null:[new fr(xn,Ui)]))}))}}function cl(k){const O=k.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Gc(k){const O=[],I=new Set;for(const G of k){if(!cl(G)){O.push(G);continue}const Z=O.find(ye=>G.value.routeConfig===ye.value.routeConfig);void 0!==Z?(Z.children.push(...G.children),I.add(Z)):O.push(G)}for(const G of I){const Z=Gc(G.children);O.push(new fr(G.value,Z))}return O.filter(G=>!I.has(G))}function _a(k){let O=k;for(;O._sourceSegment;)O=O._sourceSegment;return O}function _r(k){let O=k,I=O._segmentIndexShift??0;for(;O._sourceSegment;)O=O._sourceSegment,I+=O._segmentIndexShift??0;return I-1}function mu(k){return k.data||{}}function Ju(k){return k.resolve||{}}const Rs=Symbol("RouteTitle");function Vl(k){return"string"==typeof k.title||null===k.title}function hr(k){return(0,Pe.w)(O=>{const I=k(O);return I?(0,Oe.D)(I).pipe((0,nt.U)(()=>O)):(0,me.of)(O)})}let Pi=(()=>{class k{buildTitle(I){let G,Z=I.root;for(;void 0!==Z;)G=this.getResolvedTitleForRoute(Z)??G,Z=Z.children.find(ye=>ye.outlet===cn);return G}getResolvedTitleForRoute(I){return I.data[Rs]}}return k.\u0275fac=function(I){return new(I||k)},k.\u0275prov=_.Yz7({token:k,factory:function(){return(0,_.f3M)(ul)},providedIn:"root"}),k})(),ul=(()=>{class k extends Pi{constructor(I){super(),this.title=I}updateTitle(I){const G=this.buildTitle(I);void 0!==G&&this.title.setTitle(G)}}return k.\u0275fac=function(I){return new(I||k)(_.LFG(fn.Dx))},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class Jr{}class sc extends class gi{shouldDetach(O){return!1}store(O,I){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,I){return O.routeConfig===I.routeConfig}}{}const on=new _.OlP("",{providedIn:"root",factory:()=>({})}),gs=new _.OlP("ROUTES");let Cl=(()=>{class k{constructor(I,G){this.injector=I,this.compiler=G,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,me.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const G=xi(I.loadComponent()).pipe((0,qt.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ye}),(0,Kt.x)(()=>{this.componentLoaders.delete(I)})),Z=new Ge(G,()=>new At.x).pipe(Ae());return this.componentLoaders.set(I,Z),Z}loadChildren(I,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,me.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const ye=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,nt.U)(yt=>{this.onLoadEndListener&&this.onLoadEndListener(G);let xn,Er,fi=!1;Array.isArray(yt)?Er=yt:(xn=yt.create(I).injector,Er=ui(xn.get(gs,[],_.XFs.Self|_.XFs.Optional)));return{routes:Er.map(X),injector:xn}}),(0,Kt.x)(()=>{this.childrenLoaders.delete(G)})),qe=new Ge(ye,()=>new At.x).pipe(Ae());return this.childrenLoaders.set(G,qe),qe}loadModuleFactoryOrRoutes(I){return xi(I()).pipe((0,Ne.z)(G=>G instanceof _.YKP||Array.isArray(G)?(0,me.of)(G):(0,Oe.D)(this.compiler.compileModuleAsync(G))))}}return k.\u0275fac=function(I){return new(I||k)(_.LFG(_.zs3),_.LFG(_.Sil))},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();class Hl{}class xc{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,I){return O}}function _u(k){throw k}function zc(k,O,I){return O.parse("/")}const Dl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ua(){const k=(0,_.f3M)(Xt),O=(0,_.f3M)(ua),I=(0,_.f3M)(en.Ye),G=(0,_.f3M)(_.zs3),Z=(0,_.f3M)(_.Sil),ye=(0,_.f3M)(gs,{optional:!0})??[],qe=(0,_.f3M)(on,{optional:!0})??{},yt=(0,_.f3M)(ul),xn=(0,_.f3M)(Pi,{optional:!0}),Er=(0,_.f3M)(Hl,{optional:!0}),fi=(0,_.f3M)(Jr,{optional:!0}),Pr=new ys(null,k,O,I,G,Z,ui(ye));return Er&&(Pr.urlHandlingStrategy=Er),fi&&(Pr.routeReuseStrategy=fi),Pr.titleStrategy=xn??yt,function wc(k,O){k.errorHandler&&(O.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(O.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(O.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(O.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(O.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(O.canceledNavigationResolution=k.canceledNavigationResolution)}(qe,Pr),Pr}let ys=(()=>{class k{constructor(I,G,Z,ye,qe,yt,xn){this.rootComponentType=I,this.urlSerializer=G,this.rootContexts=Z,this.location=ye,this.config=xn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new At.x,this.errorHandler=_u,this.malformedUriErrorHandler=zc,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,me.of)(void 0),this.urlHandlingStrategy=new xc,this.routeReuseStrategy=new sc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=qe.get(Cl),this.configLoader.onLoadEndListener=Ji=>this.triggerEvent(new Za(Ji)),this.configLoader.onLoadStartListener=Ji=>this.triggerEvent(new Ra(Ji)),this.ngModule=qe.get(_.h0i),this.console=qe.get(_.c2e);const Pr=qe.get(_.R0b);this.isNgZoneEnabled=Pr instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(xn),this.currentUrlTree=function Hr(){return new st(new Ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ls(this.currentUrlTree,this.rootComponentType),this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const G=this.events;return I.pipe((0,gn.h)(Z=>0!==Z.id),(0,nt.U)(Z=>({...Z,extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,Pe.w)(Z=>{let ye=!1,qe=!1;return(0,me.of)(Z).pipe((0,qt.b)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Pe.w)(yt=>{const xn=this.browserUrlTree.toString(),Er=!this.navigated||yt.extractedUrl.toString()!==xn||xn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Er)&&this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return Vs(yt.source)&&(this.browserUrlTree=yt.extractedUrl),(0,me.of)(yt).pipe((0,Pe.w)(Pr=>{const Ji=this.transitions.getValue();return G.next(new Zi(Pr.id,this.serializeUrl(Pr.extractedUrl),Pr.source,Pr.restoredState)),Ji!==this.transitions.getValue()?Ft.E:Promise.resolve(Pr)}),function ic(k,O,I,G){return(0,Pe.w)(Z=>function Hc(k,O,I,G,Z){return new Ll(k,O,I,G,Z).apply()}(k,O,I,Z.extractedUrl,G).pipe((0,nt.U)(ye=>({...Z,urlAfterRedirects:ye}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qt.b)(Pr=>{this.currentNavigation={...this.currentNavigation,finalUrl:Pr.urlAfterRedirects},Z.urlAfterRedirects=Pr.urlAfterRedirects}),function El(k,O,I,G,Z,ye){return(0,Ne.z)(qe=>function Bl(k,O,I,G,Z,ye,qe="emptyOnly",yt="legacy"){return new La(k,O,I,G,Z,qe,yt,ye).recognize().pipe((0,Pe.w)(xn=>null===xn?function Xu(k){return new d.y(O=>O.error(k))}(new Na):(0,me.of)(xn)))}(k,O,I,qe.urlAfterRedirects,G.serialize(qe.urlAfterRedirects),G,Z,ye).pipe((0,nt.U)(yt=>({...qe,targetSnapshot:yt}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qt.b)(Pr=>{if(Z.targetSnapshot=Pr.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Pr.extras.skipLocationChange){const Mi=this.urlHandlingStrategy.merge(Pr.urlAfterRedirects,Pr.rawUrl);this.setBrowserUrl(Mi,Pr)}this.browserUrlTree=Pr.urlAfterRedirects}const Ji=new Po(Pr.id,this.serializeUrl(Pr.extractedUrl),this.serializeUrl(Pr.urlAfterRedirects),Pr.targetSnapshot);G.next(Ji)}));if(Er&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ji,extractedUrl:Mi,source:To,restoredState:Xs,extras:Ui}=yt,dl=new Zi(Ji,this.serializeUrl(Mi),To,Xs);G.next(dl);const Ha=Ls(Mi,this.rootComponentType).snapshot;return Z={...yt,targetSnapshot:Ha,urlAfterRedirects:Mi,extras:{...Ui,skipLocationChange:!1,replaceUrl:!1}},(0,me.of)(Z)}return this.rawUrlTree=yt.rawUrl,yt.resolve(null),Ft.E}),(0,qt.b)(yt=>{const xn=new ol(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(xn)}),(0,nt.U)(yt=>Z={...yt,guards:hs(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)}),function zs(k,O){return(0,Ne.z)(I=>{const{targetSnapshot:G,currentSnapshot:Z,guards:{canActivateChecks:ye,canDeactivateChecks:qe}}=I;return 0===qe.length&&0===ye.length?(0,me.of)({...I,guardsResult:!0}):function Lo(k,O,I,G){return(0,Oe.D)(k).pipe((0,Ne.z)(Z=>function pu(k,O,I,G,Z){const ye=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,me.of)(!0);const qe=ye.map(yt=>{const xn=Ts(yt,O,Z);return xi(function J(k){return k&&Gi(k.canDeactivate)}(xn)?xn.canDeactivate(k,O,I,G):xn(k,O,I,G)).pipe((0,Je.P)())});return(0,me.of)(qe).pipe(Fi())}(Z.component,Z.route,I,O,G)),(0,Je.P)(Z=>!0!==Z,!0))}(qe,G,Z,k).pipe((0,Ne.z)(yt=>yt&&function As(k){return"boolean"==typeof k}(yt)?function Ai(k,O,I,G){return(0,Oe.D)(O).pipe((0,Gt.b)(Z=>(0,pt.z)(function Da(k,O){return null!==k&&O&&O(new Xo(k)),(0,me.of)(!0)}(Z.route.parent,G),function yl(k,O){return null!==k&&O&&O(new pa(k)),(0,me.of)(!0)}(Z.route,G),function ks(k,O,I){const G=O[O.length-1],ye=O.slice(0,O.length-1).reverse().map(qe=>function ki(k){const O=k.routeConfig?k.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:k,guards:O}:null}(qe)).filter(qe=>null!==qe).map(qe=>(0,Et.P)(()=>{const yt=qe.guards.map(xn=>{const Er=Ts(xn,qe.node,I);return xi(function Oa(k){return k&&Gi(k.canActivateChild)}(Er)?Er.canActivateChild(G,k):Er(G,k)).pipe((0,Je.P)())});return(0,me.of)(yt).pipe(Fi())}));return(0,me.of)(ye).pipe(Fi())}(k,Z.path,I),function vc(k,O,I){const G=O.routeConfig?O.routeConfig.canActivate:null;if(!G||0===G.length)return(0,me.of)(!0);const Z=G.map(ye=>(0,Et.P)(()=>{const qe=Ts(ye,O,I);return xi(function Io(k){return k&&Gi(k.canActivate)}(qe)?qe.canActivate(O,k):qe(O,k)).pipe((0,Je.P)())}));return(0,me.of)(Z).pipe(Fi())}(k,Z.route,I))),(0,Je.P)(Z=>!0!==Z,!0))}(G,ye,k,O):(0,me.of)(yt)),(0,nt.U)(yt=>({...I,guardsResult:yt})))})}(this.ngModule.injector,yt=>this.triggerEvent(yt)),(0,qt.b)(yt=>{if(Z.guardsResult=yt.guardsResult,ut(yt.guardsResult))throw _l(0,yt.guardsResult);const xn=new aa(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.triggerEvent(xn)}),(0,gn.h)(yt=>!!yt.guardsResult||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"",3),!1)),hr(yt=>{if(yt.guards.canActivateChecks.length)return(0,me.of)(yt).pipe((0,qt.b)(xn=>{const Er=new uo(xn.id,this.serializeUrl(xn.extractedUrl),this.serializeUrl(xn.urlAfterRedirects),xn.targetSnapshot);this.triggerEvent(Er)}),(0,Pe.w)(xn=>{let Er=!1;return(0,me.of)(xn).pipe(function Ba(k,O){return(0,Ne.z)(I=>{const{targetSnapshot:G,guards:{canActivateChecks:Z}}=I;if(!Z.length)return(0,me.of)(I);let ye=0;return(0,Oe.D)(Z).pipe((0,Gt.b)(qe=>function Xi(k,O,I,G){const Z=k.routeConfig,ye=k._resolve;return void 0!==Z?.title&&!Vl(Z)&&(ye[Rs]=Z.title),function Va(k,O,I,G){const Z=function bl(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}(k);if(0===Z.length)return(0,me.of)({});const ye={};return(0,Oe.D)(Z).pipe((0,Ne.z)(qe=>function jc(k,O,I,G){const Z=Ts(k,O,G);return xi(Z.resolve?Z.resolve(O,I):Z(O,I))}(k[qe],O,I,G).pipe((0,Je.P)(),(0,qt.b)(yt=>{ye[qe]=yt}))),xt(1),function Qe(k){return(0,nt.U)(()=>k)}(ye),(0,Pn.K)(qe=>un(qe)?Ft.E:(0,jt._)(qe)))}(ye,k,O,G).pipe((0,nt.U)(qe=>(k._resolvedData=qe,k.data=Go(k,I).resolve,Z&&Vl(Z)&&(k.data[Rs]=Z.title),null)))}(qe.route,G,k,O)),(0,qt.b)(()=>ye++),xt(1),(0,Ne.z)(qe=>ye===Z.length?(0,me.of)(I):Ft.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qt.b)({next:()=>Er=!0,complete:()=>{Er||(this.restoreHistory(xn),this.cancelNavigationTransition(xn,"",2))}}))}),(0,qt.b)(xn=>{const Er=new la(xn.id,this.serializeUrl(xn.extractedUrl),this.serializeUrl(xn.urlAfterRedirects),xn.targetSnapshot);this.triggerEvent(Er)}))}),hr(yt=>{const xn=Er=>{const fi=[];Er.routeConfig?.loadComponent&&!Er.routeConfig._loadedComponent&&fi.push(this.configLoader.loadComponent(Er.routeConfig).pipe((0,qt.b)(Pr=>{Er.component=Pr}),(0,nt.U)(()=>{})));for(const Pr of Er.children)fi.push(...xn(Pr));return fi};return(0,Fe.a)(xn(yt.targetSnapshot.root)).pipe((0,Ve.d)(),(0,ae.q)(1))}),hr(()=>this.afterPreactivation()),(0,nt.U)(yt=>{const xn=function Eo(k,O,I){const G=bo(k,O._root,I?I._root:void 0);return new si(G,O)}(this.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return Z={...yt,targetRouterState:xn}}),(0,qt.b)(yt=>{this.currentUrlTree=yt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(yt.urlAfterRedirects,yt.rawUrl),this.routerState=yt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(yt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,yt),this.browserUrlTree=yt.urlAfterRedirects)}),((k,O,I)=>(0,nt.U)(G=>(new kr(O,G.targetRouterState,G.currentRouterState,I).activate(k),G)))(this.rootContexts,this.routeReuseStrategy,yt=>this.triggerEvent(yt)),(0,qt.b)({next(){ye=!0},complete(){ye=!0}}),(0,Kt.x)(()=>{ye||qe||this.cancelNavigationTransition(Z,"",1),this.currentNavigation?.id===Z.id&&(this.currentNavigation=null)}),(0,Pn.K)(yt=>{if(qe=!0,cs(yt)){No(yt)||(this.navigated=!0,this.restoreHistory(Z,!0));const xn=new Ki(Z.id,this.serializeUrl(Z.extractedUrl),yt.message,yt.cancellationCode);if(G.next(xn),No(yt)){const Er=this.urlHandlingStrategy.merge(yt.url,this.rawUrlTree),fi={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vs(Z.source)};this.scheduleNavigation(Er,"imperative",null,fi,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})}else Z.resolve(!1)}else{this.restoreHistory(Z,!0);const xn=new Ds(Z.id,this.serializeUrl(Z.extractedUrl),yt,Z.targetSnapshot??void 0);G.next(xn);try{Z.resolve(this.errorHandler(yt))}catch(Er){Z.reject(Er)}}return Ft.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const G="popstate"===I.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{const Z={replaceUrl:!0},ye=I.state?.navigationId?I.state:null;if(ye){const yt={...ye};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(Z.state=yt)}const qe=this.parseUrl(I.url);this.scheduleNavigation(qe,G,ye,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(X),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,G={}){const{relativeTo:Z,queryParams:ye,fragment:qe,queryParamsHandling:yt,preserveFragment:xn}=G,Er=Z||this.routerState.root,fi=xn?this.currentUrlTree.fragment:qe;let Pr=null;switch(yt){case"merge":Pr={...this.currentUrlTree.queryParams,...ye};break;case"preserve":Pr=this.currentUrlTree.queryParams;break;default:Pr=ye||null}return null!==Pr&&(Pr=this.removeEmptyProps(Pr)),Vt(Er,this.currentUrlTree,I,Pr,fi??null)}navigateByUrl(I,G={skipLocationChange:!1}){const Z=ut(I)?I:this.parseUrl(I),ye=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(ye,"imperative",null,G)}navigate(I,G={skipLocationChange:!1}){return function _i(k){for(let O=0;O<k.length;O++){if(null==k[O])throw new _.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,G),G)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let G;try{G=this.urlSerializer.parse(I)}catch(Z){G=this.malformedUriErrorHandler(Z,this.urlSerializer,I)}return G}isActive(I,G){let Z;if(Z=!0===G?{...Dl}:!1===G?{...oc}:G,ut(I))return fe(this.currentUrlTree,I,Z);const ye=this.parseUrl(I);return fe(this.currentUrlTree,ye,Z)}removeEmptyProps(I){return Object.keys(I).reduce((G,Z)=>{const ye=I[Z];return null!=ye&&(G[Z]=ye),G},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new ps(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,G,Z,ye,qe){if(this.disposed)return Promise.resolve(!1);let yt,xn,Er;qe?(yt=qe.resolve,xn=qe.reject,Er=qe.promise):Er=new Promise((Ji,Mi)=>{yt=Ji,xn=Mi});const fi=++this.navigationId;let Pr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),Pr=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:ye.replaceUrl||ye.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Pr=0,this.setTransition({id:fi,targetPageId:Pr,source:G,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:ye,resolve:yt,reject:xn,promise:Er,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Er.catch(Ji=>Promise.reject(Ji))}setBrowserUrl(I,G){const Z=this.urlSerializer.serialize(I),ye={...G.extras.state,...this.generateNgRouterState(G.id,G.targetPageId)};this.location.isCurrentPathEqualTo(Z)||G.extras.replaceUrl?this.location.replaceState(Z,"",ye):this.location.go(Z,"",ye)}restoreHistory(I,G=!1){if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===Z?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===Z&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,G,Z){const ye=new Ki(I.id,this.serializeUrl(I.extractedUrl),G,Z);this.triggerEvent(ye),I.resolve(!1)}generateNgRouterState(I,G){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:G}:{navigationId:I}}}return k.\u0275fac=function(I){_.$Z()},k.\u0275prov=_.Yz7({token:k,factory:function(){return Ua()},providedIn:"root"}),k})();function Vs(k){return"imperative"!==k}let ra=(()=>{class k{constructor(I,G,Z,ye,qe){this.router=I,this.route=G,this.tabIndexAttribute=Z,this.renderer=ye,this.el=qe,this.commands=null,this.onChanges=new At.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const G=this.renderer,Z=this.el.nativeElement;null!==I?G.setAttribute(Z,"tabindex",I):G.removeAttribute(Z,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:(0,_.D6c)(this.skipLocationChange),replaceUrl:(0,_.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,_.D6c)(this.preserveFragment)})}}return k.\u0275fac=function(I){return new(I||k)(_.Y36(ys),_.Y36(no),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},k.\u0275dir=_.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,G){1&I&&_.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),k})(),xs=(()=>{class k{constructor(I,G,Z){this.router=I,this.route=G,this.locationStrategy=Z,this.commands=null,this.href=null,this.onChanges=new At.x,this.subscription=I.events.subscribe(ye=>{ye instanceof ps&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,G,Z,ye,qe){if(0!==I||G||Z||ye||qe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const yt={skipLocationChange:(0,_.D6c)(this.skipLocationChange),replaceUrl:(0,_.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,yt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,_.D6c)(this.preserveFragment)})}}return k.\u0275fac=function(I){return new(I||k)(_.Y36(ys),_.Y36(no),_.Y36(en.S$))},k.\u0275dir=_.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,G){1&I&&_.NdJ("click",function(ye){return G.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&I&&_.uIk("target",G.target)("href",G.href,_.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),k})();class Wi{}let br=(()=>{class k{constructor(I,G,Z,ye,qe){this.router=I,this.injector=Z,this.preloadingStrategy=ye,this.loader=qe}setUpPreloading(){this.subscription=this.router.events.pipe((0,gn.h)(I=>I instanceof ps),(0,Gt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,G){const Z=[];for(const ye of G){ye.providers&&!ye._injector&&(ye._injector=(0,_.MMx)(ye.providers,I,`Route: ${ye.path}`));const qe=ye._injector??I,yt=ye._loadedInjector??qe;ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent?Z.push(this.preloadConfig(qe,ye)):(ye.children||ye._loadedRoutes)&&Z.push(this.processRoutes(yt,ye.children??ye._loadedRoutes))}return(0,Oe.D)(Z).pipe((0,kn.J)())}preloadConfig(I,G){return this.preloadingStrategy.preload(G,()=>{let Z;Z=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(I,G):(0,me.of)(null);const ye=Z.pipe((0,Ne.z)(qe=>null===qe?(0,me.of)(void 0):(G._loadedRoutes=qe.routes,G._loadedInjector=qe.injector,this.processRoutes(qe.injector??I,qe.routes))));if(G.loadComponent&&!G._loadedComponent){const qe=this.loader.loadComponent(G);return(0,Oe.D)([ye,qe]).pipe((0,kn.J)())}return ye})}}return k.\u0275fac=function(I){return new(I||k)(_.LFG(ys),_.LFG(_.Sil),_.LFG(_.lqb),_.LFG(Wi),_.LFG(Cl))},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})();const Zs=new _.OlP("");let Us=(()=>{class k{constructor(I,G,Z={}){this.router=I,this.viewportScroller=G,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof ps&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof to&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,G){this.router.triggerEvent(new to(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(I){_.$Z()},k.\u0275prov=_.Yz7({token:k,factory:k.\u0275fac}),k})();const po=new _.OlP("ROUTER_FORROOT_GUARD"),Qn=new _.OlP(""),Bo=[en.Ye,{provide:Xt,useClass:gt},{provide:ys,useFactory:Ua},ua,{provide:no,useFactory:function td(k){return k.routerState.root},deps:[ys]},Cl];function ac(){return new _.PXZ("Router",ys)}let vi=(()=>{class k{constructor(I){}static forRoot(I,G){return{ngModule:k,providers:[Bo,[],vu(I),{provide:po,useFactory:Sl,deps:[[ys,new _.FiY,new _.tp0]]},{provide:on,useValue:G||{}},G?.useHash?{provide:en.S$,useClass:en.Do}:{provide:en.S$,useClass:en.b0},{provide:Zs,useFactory:()=>{const k=(0,_.f3M)(ys),O=(0,_.f3M)(en.EM),I=(0,_.f3M)(on);return I.scrollOffset&&O.setOffset(I.scrollOffset),new Us(k,O,I)}},G?.preloadingStrategy?nd(G.preloadingStrategy):[],{provide:_.PXZ,multi:!0,useFactory:ac},G?.initialNavigation?zo(G):[],[{provide:yu,useFactory:rn},{provide:_.tb,multi:!0,useExisting:yu}]]}}static forChild(I){return{ngModule:k,providers:[vu(I)]}}}return k.\u0275fac=function(I){return new(I||k)(_.LFG(po,8))},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({}),k})();function Sl(k){return"guarded"}function vu(k){return[{provide:gs,multi:!0,useValue:k}]}function rn(){const k=(0,_.f3M)(_.zs3);return O=>{const I=k.get(_.z2F);if(O!==I.components[0])return;const G=k.get(ys),Z=k.get(Hs);1===k.get(Vo)&&G.initialNavigation(),k.get(Qn,null,_.XFs.Optional)?.setUpPreloading(),k.get(Zs,null,_.XFs.Optional)?.init(),G.resetRootComponentType(I.componentTypes[0]),Z.next(),Z.complete()}}const yu=new _.OlP("");function zo(k){return["disabled"===k.initialNavigation?[{provide:_.ip1,multi:!0,useFactory:()=>{const k=(0,_.f3M)(ys);return()=>{k.setUpLocationChangeListener()}}},{provide:Vo,useValue:2}]:[],"enabledBlocking"===k.initialNavigation?[{provide:Vo,useValue:0},{provide:_.ip1,multi:!0,deps:[_.zs3],useFactory:k=>{const O=k.get(en.V_,Promise.resolve(null));let I=!1;return()=>O.then(()=>new Promise(Z=>{const ye=k.get(ys),qe=k.get(Hs);(function G(Z){k.get(ys).events.pipe((0,gn.h)(qe=>qe instanceof ps||qe instanceof Ki||qe instanceof Ds),(0,nt.U)(qe=>qe instanceof ps||qe instanceof Ki&&(0===qe.code||1===qe.code)&&null),(0,gn.h)(qe=>null!==qe),(0,ae.q)(1)).subscribe(()=>{Z()})})(()=>{Z(!0),I=!0}),ye.afterPreactivation=()=>(Z(!0),I||qe.closed?(0,me.of)(void 0):qe),ye.initialNavigation()}))}}]:[]]}const Hs=new _.OlP("",{factory:()=>new At.x}),Vo=new _.OlP("",{providedIn:"root",factory:()=>1});function nd(k){return[br,{provide:Qn,useExisting:br},{provide:Wi,useExisting:k}]}},3942:(Zn,St,M)=>{M.d(St,{Z:()=>ct});var _=M(2090),d=M(4859),H=M(9681),ge=M(1877);class Re{constructor(Ft,At){this._delegate=Ft,this.firebase=At,(0,H._addComponent)(Ft,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ft){this._delegate.automaticDataCollectionEnabled=Ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ft=>{this._delegate.checkDestroyed(),Ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ft,At=H._DEFAULT_ENTRY_NAME){var en;this._delegate.checkDestroyed();const gn=this._delegate.container.getProvider(Ft);return!gn.isInitialized()&&"EXPLICIT"===(null===(en=gn.getComponent())||void 0===en?void 0:en.instantiationMode)&&gn.initialize(),gn.getImmediate({identifier:At})}_removeServiceInstance(Ft,At=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ft).clearInstance(At)}_addComponent(Ft){(0,H._addComponent)(this._delegate,Ft)}_addOrOverwriteComponent(Ft){(0,H._addOrOverwriteComponent)(this._delegate,Ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function me(){const jt=function Oe(jt){const Ft={},At={__esModule:!0,initializeApp:function xt(ze,nt={}){const Qe=H.initializeApp(ze,nt);if((0,_.r3)(Ft,Qe.name))return Ft[Qe.name];const Pe=new jt(Qe,At);return Ft[Qe.name]=Pe,Pe},app:gn,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Ve(ze){const nt=ze.name,Qe=nt.replace("-compat","");if(H._registerComponent(ze)&&"PUBLIC"===ze.type){const Pe=(ae=gn())=>{if("function"!=typeof ae[Qe])throw Ge.create("invalid-app-argument",{appName:nt});return ae[Qe]()};void 0!==ze.serviceProps&&(0,_.ZB)(Pe,ze.serviceProps),At[Qe]=Pe,jt.prototype[Qe]=function(...ae){return this._getService.bind(this,nt).apply(this,ze.multipleInstances?ae:[])}}return"PUBLIC"===ze.type?At[Qe]:null},removeApp:function en(ze){delete Ft[ze]},useAsService:function at(ze,nt){return"serverAuth"===nt?null:nt},modularAPIs:H}};function gn(ze){if(!(0,_.r3)(Ft,ze=ze||H._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:ze});return Ft[ze]}return At.default=At,Object.defineProperty(At,"apps",{get:function Ue(){return Object.keys(Ft).map(ze=>Ft[ze])}}),gn.App=jt,At}(Re);return jt.INTERNAL=Object.assign(Object.assign({},jt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function Ft(At){(0,_.ZB)(jt,At)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),jt}(),xe=new ge.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const jt=self.firebase.SDK_VERSION;jt&&jt.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Ce;!function Et(jt){(0,H.registerVersion)("@firebase/app-compat","0.1.31",jt)}()},9681:(Zn,St,M)=>{M.r(St),M.d(St,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>fn,_addOrOverwriteComponent:()=>cn,_apps:()=>Kt,_clearComponents:()=>Kn,_components:()=>kn,_getProvider:()=>Wt,_registerComponent:()=>mn,_removeServiceInstance:()=>An,deleteApp:()=>mr,getApp:()=>jr,getApps:()=>xi,initializeApp:()=>di,onLog:()=>Yt,registerVersion:()=>hi,setLogLevel:()=>fe});var _=M(5861),d=M(4859),H=M(1877),ge=M(2090),Re=M(8766);class Ae{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(se=>{if(function Ge(pe){return"VERSION"===pe.getComponent()?.type}(se)){const be=se.getImmediate();return`${be.library}/${be.version}`}return null}).filter(se=>se).join(" ")}}const Oe="@firebase/app",Ce=new H.Yd("@firebase/app"),Vn="[DEFAULT]",sn={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,kn=new Map;function fn(pe,ue){try{pe.container.addComponent(ue)}catch(se){Ce.debug(`Component ${ue.name} failed to register with FirebaseApp ${pe.name}`,se)}}function cn(pe,ue){pe.container.addOrOverwriteComponent(ue)}function mn(pe){const ue=pe.name;if(kn.has(ue))return Ce.debug(`There were multiple attempts to register component ${ue}.`),!1;kn.set(ue,pe);for(const se of Kt.values())fn(se,pe);return!0}function Wt(pe,ue){const se=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return se&&se.triggerHeartbeat(),pe.container.getProvider(ue)}function An(pe,ue,se=Vn){Wt(pe,ue).clearInstance(se)}function Kn(){kn.clear()}const Lr=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ui{constructor(ue,se,be){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},se),this._name=se.name,this._automaticDataCollectionEnabled=se.automaticDataCollectionEnabled,this._container=be,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const Mr="9.9.2";function di(pe,ue={}){"object"!=typeof ue&&(ue={name:ue});const se=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},ue),be=se.name;if("string"!=typeof be||!be)throw Lr.create("bad-app-name",{appName:String(be)});const ot=Kt.get(be);if(ot){if((0,ge.vZ)(pe,ot.options)&&(0,ge.vZ)(se,ot.config))return ot;throw Lr.create("duplicate-app",{appName:be})}const Dt=new d.H0(be);for(const tr of kn.values())Dt.addComponent(tr);const jn=new ui(pe,se,Dt);return Kt.set(be,jn),jn}function jr(pe=Vn){const ue=Kt.get(pe);if(!ue)throw Lr.create("no-app",{appName:pe});return ue}function xi(){return Array.from(Kt.values())}function mr(pe){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,_.Z)(function*(pe){const ue=pe.name;Kt.has(ue)&&(Kt.delete(ue),yield Promise.all(pe.container.getProviders().map(se=>se.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function hi(pe,ue,se){var be;let ot=null!==(be=sn[pe])&&void 0!==be?be:pe;se&&(ot+=`-${se}`);const Dt=ot.match(/\s|\//),jn=ue.match(/\s|\//);if(Dt||jn){const tr=[`Unable to register library "${ot}" with version "${ue}":`];return Dt&&tr.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),Dt&&jn&&tr.push("and"),jn&&tr.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void Ce.warn(tr.join(" "))}mn(new d.wA(`${ot}-version`,()=>({library:ot,version:ue}),"VERSION"))}function Yt(pe,ue){if(null!==pe&&"function"!=typeof pe)throw Lr.create("invalid-log-argument");(0,H.Am)(pe,ue)}function fe(pe){(0,H.Ub)(pe)}const tn="firebase-heartbeat-store";let pn=null;function Hn(){return pn||(pn=(0,Re.X3)("firebase-heartbeat-database",1,{upgrade:(pe,ue)=>{0===ue&&pe.createObjectStore(tn)}}).catch(pe=>{throw Lr.create("idb-open",{originalErrorMessage:pe.message})})),pn}function st(){return(st=(0,_.Z)(function*(pe){var ue;try{return(yield Hn()).transaction(tn).objectStore(tn).get(vn(pe))}catch(se){if(se instanceof ge.ZR)Ce.warn(se.message);else{const be=Lr.create("idb-get",{originalErrorMessage:null===(ue=se)||void 0===ue?void 0:ue.message});Ce.warn(be.message)}}})).apply(this,arguments)}function Ye(pe,ue){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(pe,ue){var se;try{const ot=(yield Hn()).transaction(tn,"readwrite");return yield ot.objectStore(tn).put(ue,vn(pe)),ot.done}catch(be){if(be instanceof ge.ZR)Ce.warn(be.message);else{const ot=Lr.create("idb-set",{originalErrorMessage:null===(se=be)||void 0===se?void 0:se.message});Ce.warn(ot.message)}}})).apply(this,arguments)}function vn(pe){return`${pe.name}!${pe.options.appId}`}class Xt{constructor(ue){this.container=ue,this._heartbeatsCache=null;const se=this.container.getProvider("app").getImmediate();this._storage=new Y(se),this._heartbeatsCachePromise=this._storage.read().then(be=>(this._heartbeatsCache=be,be))}triggerHeartbeat(){var ue=this;return(0,_.Z)(function*(){const be=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=gt();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==ot&&!ue._heartbeatsCache.heartbeats.some(Dt=>Dt.date===ot))return ue._heartbeatsCache.heartbeats.push({date:ot,agent:be}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(Dt=>{const jn=new Date(Dt.date).valueOf();return Date.now()-jn<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,_.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const se=gt(),{heartbeatsToSend:be,unsentEntries:ot}=function Ke(pe,ue=1024){const se=[];let be=pe.slice();for(const ot of pe){const Dt=se.find(jn=>jn.agent===ot.agent);if(Dt){if(Dt.dates.push(ot.date),V(se)>ue){Dt.dates.pop();break}}else if(se.push({agent:ot.agent,dates:[ot.date]}),V(se)>ue){se.pop();break}be=be.slice(1)}return{heartbeatsToSend:se,unsentEntries:be}}(ue._heartbeatsCache.heartbeats),Dt=(0,ge.L)(JSON.stringify({version:2,heartbeats:be}));return ue._heartbeatsCache.lastSentHeartbeatDate=se,ot.length>0?(ue._heartbeatsCache.heartbeats=ot,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),Dt})()}}function gt(){return(new Date).toISOString().substring(0,10)}class Y{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,_.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function Rt(pe){return st.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var se=this;return(0,_.Z)(function*(){var be;if(yield se._canUseIndexedDBPromise){const Dt=yield se.read();return Ye(se.app,{lastSentHeartbeatDate:null!==(be=ue.lastSentHeartbeatDate)&&void 0!==be?be:Dt.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var se=this;return(0,_.Z)(function*(){var be;if(yield se._canUseIndexedDBPromise){const Dt=yield se.read();return Ye(se.app,{lastSentHeartbeatDate:null!==(be=ue.lastSentHeartbeatDate)&&void 0!==be?be:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...ue.heartbeats]})}})()}}function V(pe){return(0,ge.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function ne(pe){mn(new d.wA("platform-logger",ue=>new Ae(ue),"PRIVATE")),mn(new d.wA("heartbeat",ue=>new Xt(ue),"PRIVATE")),hi(Oe,"0.7.30",pe),hi(Oe,"0.7.30","esm2017"),hi("fire-js","")}("")},4859:(Zn,St,M)=>{M.d(St,{H0:()=>Oe,wA:()=>H,zt:()=>Re});var _=M(5861),d=M(2090);class H{constructor(Ce,xe,Fe){this.name=Ce,this.instanceFactory=xe,this.type=Fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const ge="[DEFAULT]";class Re{constructor(Ce,xe){this.name=Ce,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const xe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(xe)){const Fe=new d.BH;if(this.instancesDeferred.set(xe,Fe),this.isInitialized(xe)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:xe});pt&&Fe.resolve(pt)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(Ce){var xe;const Fe=this.normalizeInstanceIdentifier(Ce?.identifier),pt=null!==(xe=Ce?.optional)&&void 0!==xe&&xe;if(!this.isInitialized(Fe)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Fe})}catch(Et){if(pt)return null;throw Et}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function Ge(me){return"EAGER"===me.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[xe,Fe]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(xe);try{const Et=this.getOrInitializeService({instanceIdentifier:pt});Fe.resolve(Et)}catch{}}}}clearInstance(Ce=ge){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,_.Z)(function*(){const xe=Array.from(Ce.instances.values());yield Promise.all([...xe.filter(Fe=>"INTERNAL"in Fe).map(Fe=>Fe.INTERNAL.delete()),...xe.filter(Fe=>"_delete"in Fe).map(Fe=>Fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=ge){return this.instances.has(Ce)}getOptions(Ce=ge){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:xe={}}=Ce,Fe=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(Fe))throw Error(`${this.name}(${Fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Fe,options:xe});for(const[Et,ct]of this.instancesDeferred.entries())Fe===this.normalizeInstanceIdentifier(Et)&&ct.resolve(pt);return pt}onInit(Ce,xe){var Fe;const pt=this.normalizeInstanceIdentifier(xe),Et=null!==(Fe=this.onInitCallbacks.get(pt))&&void 0!==Fe?Fe:new Set;Et.add(Ce),this.onInitCallbacks.set(pt,Et);const ct=this.instances.get(pt);return ct&&Ce(ct,pt),()=>{Et.delete(Ce)}}invokeOnInitCallbacks(Ce,xe){const Fe=this.onInitCallbacks.get(xe);if(Fe)for(const pt of Fe)try{pt(Ce,xe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:xe={}}){let Fe=this.instances.get(Ce);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:(me=Ce,me===ge?void 0:me),options:xe}),this.instances.set(Ce,Fe),this.instancesOptions.set(Ce,xe),this.invokeOnInitCallbacks(Fe,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Fe)}catch{}var me;return Fe||null}normalizeInstanceIdentifier(Ce=ge){return this.component?this.component.multipleInstances?Ce:ge:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const xe=this.getProvider(Ce.name);if(xe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);xe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const xe=new Re(Ce,this);return this.providers.set(Ce,xe),xe}getProviders(){return Array.from(this.providers.values())}}},1877:(Zn,St,M)=>{M.d(St,{Am:()=>me,Ub:()=>Oe,Yd:()=>Ge,in:()=>d});const _=[];var d=(()=>{return(Ce=d||(d={}))[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",d;var Ce})();const H={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},ge=d.INFO,Re={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},Ae=(Ce,xe,...Fe)=>{if(xe<Ce.logLevel)return;const pt=(new Date).toISOString(),Et=Re[xe];if(!Et)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[Et](`[${pt}]  ${Ce.name}:`,...Fe)};class Ge{constructor(xe){this.name=xe,this._logLevel=ge,this._logHandler=Ae,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in d))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?H[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...xe),this._logHandler(this,d.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...xe),this._logHandler(this,d.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,d.INFO,...xe),this._logHandler(this,d.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,d.WARN,...xe),this._logHandler(this,d.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...xe),this._logHandler(this,d.ERROR,...xe)}}function Oe(Ce){_.forEach(xe=>{xe.setLogLevel(Ce)})}function me(Ce,xe){for(const Fe of _){let pt=null;xe&&xe.level&&(pt=H[xe.level]),Fe.userLogHandler=null===Ce?null:(Et,ct,...jt)=>{const Ft=jt.map(At=>{if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch{return null}}).filter(At=>At).join(" ");ct>=(pt??Et.logLevel)&&Ce({level:d[ct].toLowerCase(),message:Ft,args:jt,type:Et.name})}}}},8766:(Zn,St,M)=>{M.d(St,{Lj:()=>xt,X3:()=>gn});var _=M(5861);let H,ge;const Ge=new WeakMap,Oe=new WeakMap,me=new WeakMap,Ce=new WeakMap,xe=new WeakMap;let Et={get(nt,Qe,Pe){if(nt instanceof IDBTransaction){if("done"===Qe)return Oe.get(nt);if("objectStoreNames"===Qe)return nt.objectStoreNames||me.get(nt);if("store"===Qe)return Pe.objectStoreNames[1]?void 0:Pe.objectStore(Pe.objectStoreNames[0])}return At(nt[Qe])},set:(nt,Qe,Pe)=>(nt[Qe]=Pe,!0),has:(nt,Qe)=>nt instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in nt};function Ft(nt){return"function"==typeof nt?function jt(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...Qe){return nt.apply(en(this),Qe),At(Ge.get(this))}:function(...Qe){return At(nt.apply(en(this),Qe))}:function(Qe,...Pe){const ae=nt.call(en(this),Qe,...Pe);return me.set(ae,Qe.sort?Qe.sort():[Qe]),At(ae)}}(nt):(nt instanceof IDBTransaction&&function pt(nt){if(Oe.has(nt))return;const Qe=new Promise((Pe,ae)=>{const _t=()=>{nt.removeEventListener("complete",Ne),nt.removeEventListener("error",Je),nt.removeEventListener("abort",Je)},Ne=()=>{Pe(),_t()},Je=()=>{ae(nt.error||new DOMException("AbortError","AbortError")),_t()};nt.addEventListener("complete",Ne),nt.addEventListener("error",Je),nt.addEventListener("abort",Je)});Oe.set(nt,Qe)}(nt),((nt,Qe)=>Qe.some(Pe=>nt instanceof Pe))(nt,function Re(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,Et):nt)}function At(nt){if(nt instanceof IDBRequest)return function Fe(nt){const Qe=new Promise((Pe,ae)=>{const _t=()=>{nt.removeEventListener("success",Ne),nt.removeEventListener("error",Je)},Ne=()=>{Pe(At(nt.result)),_t()},Je=()=>{ae(nt.error),_t()};nt.addEventListener("success",Ne),nt.addEventListener("error",Je)});return Qe.then(Pe=>{Pe instanceof IDBCursor&&Ge.set(Pe,nt)}).catch(()=>{}),xe.set(Qe,nt),Qe}(nt);if(Ce.has(nt))return Ce.get(nt);const Qe=Ft(nt);return Qe!==nt&&(Ce.set(nt,Qe),xe.set(Qe,nt)),Qe}const en=nt=>xe.get(nt);function gn(nt,Qe,{blocked:Pe,upgrade:ae,blocking:_t,terminated:Ne}={}){const Je=indexedDB.open(nt,Qe),Gt=At(Je);return ae&&Je.addEventListener("upgradeneeded",qt=>{ae(At(Je.result),qt.oldVersion,qt.newVersion,At(Je.transaction))}),Pe&&Je.addEventListener("blocked",()=>Pe()),Gt.then(qt=>{Ne&&qt.addEventListener("close",()=>Ne()),_t&&qt.addEventListener("versionchange",()=>_t())}).catch(()=>{}),Gt}function xt(nt,{blocked:Qe}={}){const Pe=indexedDB.deleteDatabase(nt);return Qe&&Pe.addEventListener("blocked",()=>Qe()),At(Pe).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],at=new Map;function ze(nt,Qe){if(!(nt instanceof IDBDatabase)||Qe in nt||"string"!=typeof Qe)return;if(at.get(Qe))return at.get(Qe);const Pe=Qe.replace(/FromIndex$/,""),ae=Qe!==Pe,_t=Ve.includes(Pe);if(!(Pe in(ae?IDBIndex:IDBObjectStore).prototype)||!_t&&!Ue.includes(Pe))return;const Ne=function(){var Je=(0,_.Z)(function*(Gt,...qt){const Pn=this.transaction(Gt,_t?"readwrite":"readonly");let Vn=Pn.store;return ae&&(Vn=Vn.index(qt.shift())),(yield Promise.all([Vn[Pe](...qt),_t&&Pn.done]))[0]});return function(qt){return Je.apply(this,arguments)}}();return at.set(Qe,Ne),Ne}!function ct(nt){Et=nt(Et)}(nt=>({...nt,get:(Qe,Pe,ae)=>ze(Qe,Pe)||nt.get(Qe,Pe,ae),has:(Qe,Pe)=>!!ze(Qe,Pe)||nt.has(Qe,Pe)}))},5609:(Zn,St,M)=>{M.d(St,{RJ:()=>ze,q:()=>nt});var _=M(4650),d=M(6895);const H=function(Qe){return{"full-screen":Qe}},ge=function(Qe,Pe,ae,_t){return{"border-top-color":Qe,"border-right-color":Pe,"border-bottom-color":ae,"border-left-color":_t}};function Re(Qe,Pe){if(1&Qe&&_._UZ(0,"div",14),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(2,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))("ngStyle",_.l5B(4,ge,null==ae.config?null:ae.config.secondaryColour,null==ae.config?null:ae.config.secondaryColour,null==ae.config?null:ae.config.secondaryColour,null==ae.config?null:ae.config.primaryColour))}}const Ae=function(Qe){return{"background-color":Qe}};function Ge(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",15),_._UZ(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",22)(8,"div",23)(9,"div",24),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(10,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(12,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(14,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(16,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(18,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(20,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(22,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(24,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(26,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(28,Ae,null==ae.config?null:ae.config.primaryColour))}}function Oe(Qe,Pe){if(1&Qe&&_._UZ(0,"div",25),2&Qe){const ae=_.oxw(2);_.Q6J("ngStyle",_.VKq(2,Ae,null==ae.config?null:ae.config.primaryColour))("ngClass",_.VKq(4,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))}}function me(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",26),_._UZ(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30)(5,"div",31),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(6,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(8,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(10,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(12,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(14,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(16,Ae,null==ae.config?null:ae.config.primaryColour))}}function Ce(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",32),_._UZ(1,"div",33)(2,"div",34),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(3,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(5,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(7,Ae,null==ae.config?null:ae.config.secondaryColour))}}function xe(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",35),_._UZ(1,"div",36)(2,"div",37),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(3,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(5,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(7,Ae,null==ae.config?null:ae.config.secondaryColour))}}function Fe(Qe,Pe){if(1&Qe&&_._UZ(0,"div",38),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(2,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))("ngStyle",_.VKq(4,Ae,null==ae.config?null:ae.config.primaryColour))}}function pt(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",39),_._UZ(1,"div",40)(2,"div",41),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(3,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(5,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(7,Ae,null==ae.config?null:ae.config.secondaryColour))}}const Et=function(Qe){return{color:Qe}};function ct(Qe,Pe){if(1&Qe&&_._UZ(0,"div",42),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(2,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))("ngStyle",_.VKq(4,Et,null==ae.config?null:ae.config.primaryColour))}}function jt(Qe,Pe){if(1&Qe&&_._UZ(0,"div",43),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(1,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))}}function Ft(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div",44),_._UZ(1,"div",45)(2,"div",46)(3,"div",47),_.qZA()),2&Qe){const ae=_.oxw(2);_.Q6J("ngClass",_.VKq(4,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop))),_.xp6(1),_.Q6J("ngStyle",_.VKq(6,Ae,null==ae.config?null:ae.config.primaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(8,Ae,null==ae.config?null:ae.config.secondaryColour)),_.xp6(1),_.Q6J("ngStyle",_.VKq(10,Ae,null==ae.config?null:ae.config.tertiaryColour))}}function At(Qe,Pe){1&Qe&&_.GkF(0)}function en(Qe,Pe){if(1&Qe&&(_.ynx(0),_.YNc(1,At,1,0,"ng-container",48),_.BQk()),2&Qe){const ae=_.oxw(2);_.xp6(1),_.Q6J("ngTemplateOutlet",ae.template)}}const gn=function(Qe,Pe){return{"border-radius":Qe,"background-color":Pe}};function xt(Qe,Pe){if(1&Qe&&(_.TgZ(0,"div"),_._UZ(1,"div",1),_.TgZ(2,"div",2),_.YNc(3,Re,1,9,"div",3),_.YNc(4,Ge,10,30,"div",4),_.YNc(5,Oe,1,6,"div",5),_.YNc(6,me,6,18,"div",6),_.YNc(7,Ce,3,9,"div",7),_.YNc(8,xe,3,9,"div",8),_.YNc(9,Fe,1,6,"div",9),_.YNc(10,pt,3,9,"div",10),_.YNc(11,ct,1,6,"div",11),_.YNc(12,jt,1,3,"div",12),_.YNc(13,Ft,4,12,"div",13),_.YNc(14,en,2,1,"ng-container",0),_.qZA()()),2&Qe){const ae=_.oxw();_.xp6(1),_.Q6J("ngClass",_.VKq(14,H,!0===(null==ae.config?null:ae.config.fullScreenBackdrop)))("ngStyle",_.WLB(16,gn,null==ae.config?null:ae.config.backdropBorderRadius,null==ae.config?null:ae.config.backdropBackgroundColour)),_.xp6(1),_.Q6J("ngSwitch",null==ae.config?null:ae.config.animationType),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.circle),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.cubeGrid),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.rotatingPlane),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.rectangleBounce),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.wanderingCubes),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.doubleBounce),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.pulse),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.chasingDots),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.circleSwish),_.xp6(1),_.Q6J("ngSwitchCase",ae.ngxLoadingAnimationTypes.none),_.xp6(2),_.Q6J("ngIf",ae.template)}}class Ue{constructor(Pe={}){this.backdropBorderRadius=Pe.backdropBorderRadius,this.backdropBackgroundColour=Pe.backdropBackgroundColour,this.fullScreenBackdrop=Pe.fullScreenBackdrop,this.animationType=Pe.animationType,this.primaryColour=Pe.primaryColour,this.secondaryColour=Pe.secondaryColour,this.tertiaryColour=Pe.tertiaryColour}}const Ve={chasingDots:"chasing-dots",circle:"sk-circle",circleSwish:"circleSwish",cubeGrid:"sk-cube-grid",doubleBounce:"double-bounce",none:"none",pulse:"pulse",rectangleBounce:"rectangle-bounce",rotatingPlane:"rotating-plane",threeBounce:"three-bounce",wanderingCubes:"wandering-cubes"};let at=(()=>{class Qe{constructor(ae){this.config=ae,this.loadingConfig=this.config||new Ue}}return Qe.\u0275fac=function(ae){return new(ae||Qe)(_.LFG("loadingConfig",8))},Qe.\u0275prov=_.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})(),ze=(()=>{class Qe{constructor(ae){this.LoadingService=ae,this.show=!1,this.config=new Ue,this.defaultConfig={animationType:Ve.threeBounce,backdropBackgroundColour:"rgba(0, 0, 0, 0.3)",backdropBorderRadius:"0px",fullScreenBackdrop:!1,primaryColour:"#ffffff",secondaryColour:"#ffffff",tertiaryColour:"#ffffff"},this.ngxLoadingAnimationTypes=Ve}ngOnInit(){this.setupConfig()}setupConfig(){for(const ae in this.defaultConfig)null==this.config[ae]&&(this.config[ae]=null!=this.LoadingService.loadingConfig[ae]?this.LoadingService.loadingConfig[ae]:this.defaultConfig[ae])}}return Qe.\u0275fac=function(ae){return new(ae||Qe)(_.Y36(at))},Qe.\u0275cmp=_.Xpm({type:Qe,selectors:[["ngx-loading"]],inputs:{show:"show",config:"config",template:"template"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"backdrop",3,"ngClass","ngStyle"],[3,"ngSwitch"],["class","spinner-circle",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","sk-cube-grid",3,"ngClass",4,"ngSwitchCase"],["class","spinner-sk-rotateplane",3,"ngStyle","ngClass",4,"ngSwitchCase"],["class","spinner-rectangle-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-wandering-cubes",3,"ngClass",4,"ngSwitchCase"],["class","spinner-double-bounce",3,"ngClass",4,"ngSwitchCase"],["class","spinner-pulse",3,"ngClass","ngStyle",4,"ngSwitchCase"],["class","spinner-chasing-dots",3,"ngClass",4,"ngSwitchCase"],["class","spinner-circle-swish",3,"ngClass","ngStyle",4,"ngSwitchCase"],[3,"ngClass",4,"ngSwitchCase"],["class","spinner-three-bounce",3,"ngClass",4,"ngSwitchDefault"],[1,"spinner-circle",3,"ngClass","ngStyle"],[1,"sk-cube-grid",3,"ngClass"],[1,"sk-cube","sk-cube1",3,"ngStyle"],[1,"sk-cube","sk-cube2",3,"ngStyle"],[1,"sk-cube","sk-cube3",3,"ngStyle"],[1,"sk-cube","sk-cube4",3,"ngStyle"],[1,"sk-cube","sk-cube5",3,"ngStyle"],[1,"sk-cube","sk-cube6",3,"ngStyle"],[1,"sk-cube","sk-cube7",3,"ngStyle"],[1,"sk-cube","sk-cube8",3,"ngStyle"],[1,"sk-cube","sk-cube9",3,"ngStyle"],[1,"spinner-sk-rotateplane",3,"ngStyle","ngClass"],[1,"spinner-rectangle-bounce",3,"ngClass"],[1,"rect1",3,"ngStyle"],[1,"rect2",3,"ngStyle"],[1,"rect3",3,"ngStyle"],[1,"rect4",3,"ngStyle"],[1,"rect5",3,"ngStyle"],[1,"spinner-wandering-cubes",3,"ngClass"],[1,"cube1",3,"ngStyle"],[1,"cube2",3,"ngStyle"],[1,"spinner-double-bounce",3,"ngClass"],[1,"double-bounce1",3,"ngStyle"],[1,"double-bounce2",3,"ngStyle"],[1,"spinner-pulse",3,"ngClass","ngStyle"],[1,"spinner-chasing-dots",3,"ngClass"],[1,"dot1",3,"ngStyle"],[1,"dot2",3,"ngStyle"],[1,"spinner-circle-swish",3,"ngClass","ngStyle"],[3,"ngClass"],[1,"spinner-three-bounce",3,"ngClass"],[1,"bounce1",3,"ngStyle"],[1,"bounce2",3,"ngStyle"],[1,"bounce3",3,"ngStyle"],[4,"ngTemplateOutlet"]],template:function(ae,_t){1&ae&&_.YNc(0,xt,15,19,"div",0),2&ae&&_.Q6J("ngIf",_t.show)},dependencies:[d.mk,d.O5,d.tP,d.PC,d.RF,d.n9,d.ED],styles:['.backdrop[_ngcontent-%COMP%]{z-index:1999;position:absolute;top:0;left:0;right:0;bottom:0;background-color:#0000004d}.spinner-circle[_ngcontent-%COMP%], .spinner-circle[_ngcontent-%COMP%]:after{border-radius:50%;width:10em;height:10em}.spinner-circle[_ngcontent-%COMP%]{font-size:6px;border-top:1.1em solid rgba(255,255,255,.2);border-right:1.1em solid rgba(255,255,255,.2);border-bottom:1.1em solid rgba(255,255,255,.2);border-left:1.1em solid #ffffff;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000;transform:translateZ(0);animation:load8 1.1s infinite linear}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-circle-swish[_ngcontent-%COMP%]{font-size:60px;overflow:hidden;width:1em;height:1em;border-radius:50%;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000;transform:translateZ(0);animation:load6 1.7s infinite ease,round 1.7s infinite ease}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes round{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sk-cube-grid[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{width:33%;height:33%;background-color:#333;float:left;animation:sk-cubeGridScaleDelay 1.3s infinite ease-in-out}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube1[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{animation-delay:.4s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube5[_ngcontent-%COMP%]{animation-delay:.2s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube6[_ngcontent-%COMP%]{animation-delay:.3s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube7[_ngcontent-%COMP%]{animation-delay:0s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube8[_ngcontent-%COMP%]{animation-delay:.1s}.sk-cube-grid[_ngcontent-%COMP%]   .sk-cube9[_ngcontent-%COMP%]{animation-delay:.2s}@keyframes sk-cubeGridScaleDelay{0%,70%,to{transform:scaleZ(1)}35%{transform:scale3D(0,0,1)}}.spinner-double-bounce[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000}.double-bounce1[_ngcontent-%COMP%], .double-bounce2[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#333;opacity:.6;position:absolute;top:0;left:0;animation:sk-bounce 2s infinite ease-in-out}.double-bounce2[_ngcontent-%COMP%]{animation-delay:-1s}.spinner-pulse[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#333;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000;border-radius:100%;animation:sk-scaleout 1s infinite ease-in-out}@keyframes sk-scaleout{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.spinner-three-bounce[_ngcontent-%COMP%]{width:70px;text-align:center;position:absolute;top:0;left:0;right:0;bottom:0;height:20px;margin:auto;z-index:2000}.spinner-three-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:18px;height:18px;background-color:#fff;border-radius:100%;display:inline-block;animation:sk-bouncedelay 1.4s infinite ease-in-out both}.spinner-three-bounce[_ngcontent-%COMP%]   .bounce1[_ngcontent-%COMP%]{animation-delay:-.32s}.spinner-three-bounce[_ngcontent-%COMP%]   .bounce2[_ngcontent-%COMP%]{animation-delay:-.16s}@keyframes sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.spinner-sk-rotateplane[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#fff;text-align:center;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000;animation:sk-rotateplane 1.2s infinite ease-in-out}@keyframes sk-rotateplane{0%{transform:perspective(120px) rotateX(0) rotateY(0);-webkit-transform:perspective(120px) rotateX(0deg) rotateY(0deg)}50%{transform:perspective(120px) rotateX(-180.1deg) rotateY(0);-webkit-transform:perspective(120px) rotateX(-180.1deg) rotateY(0deg)}to{transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg);-webkit-transform:perspective(120px) rotateX(-180deg) rotateY(-179.9deg)}}.spinner-rectangle-bounce[_ngcontent-%COMP%]{width:50px;height:40px;font-size:10px;text-align:center;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000}.spinner-rectangle-bounce[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:6px;display:inline-block;animation:sk-stretchdelay 1.2s infinite ease-in-out}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect2[_ngcontent-%COMP%]{animation-delay:-1.1s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect3[_ngcontent-%COMP%]{animation-delay:-1s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect4[_ngcontent-%COMP%]{animation-delay:-.9s}.spinner-rectangle-bounce[_ngcontent-%COMP%]   .rect5[_ngcontent-%COMP%]{animation-delay:-.8s}@keyframes sk-stretchdelay{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}.spinner-wandering-cubes[_ngcontent-%COMP%]{width:60px;height:58px;font-size:10px;text-align:center;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000}.cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%]{background-color:#fff;width:15px;height:15px;position:absolute;top:0;left:0;animation:sk-cubemove 1.8s infinite ease-in-out}.cube2[_ngcontent-%COMP%]{animation-delay:-.9s}@keyframes sk-cubemove{25%{transform:translate(42px) rotate(-90deg) scale(.5);-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{transform:translate(42px) translateY(42px) rotate(-179deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-179deg)}50.1%{transform:translate(42px) translateY(42px) rotate(-180deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{transform:translate(0) translateY(42px) rotate(-270deg) scale(.5);-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}}.sk-circle[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0}.sk-circle[_ngcontent-%COMP%]   .sk-child[_ngcontent-%COMP%]:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;animation:sk-circleBounceDelay 1.2s infinite ease-in-out both}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]{transform:rotate(30deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]{transform:rotate(60deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]{transform:rotate(90deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]{transform:rotate(120deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]{transform:rotate(150deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]{transform:rotate(180deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]{transform:rotate(210deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]{transform:rotate(240deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]{transform:rotate(270deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]{transform:rotate(300deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]{transform:rotate(330deg)}.sk-circle[_ngcontent-%COMP%]   .sk-circle2[_ngcontent-%COMP%]:before{animation-delay:-1.1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle3[_ngcontent-%COMP%]:before{animation-delay:-1s}.sk-circle[_ngcontent-%COMP%]   .sk-circle4[_ngcontent-%COMP%]:before{animation-delay:-.9s}.sk-circle[_ngcontent-%COMP%]   .sk-circle5[_ngcontent-%COMP%]:before{animation-delay:-.8s}.sk-circle[_ngcontent-%COMP%]   .sk-circle6[_ngcontent-%COMP%]:before{animation-delay:-.7s}.sk-circle[_ngcontent-%COMP%]   .sk-circle7[_ngcontent-%COMP%]:before{animation-delay:-.6s}.sk-circle[_ngcontent-%COMP%]   .sk-circle8[_ngcontent-%COMP%]:before{animation-delay:-.5s}.sk-circle[_ngcontent-%COMP%]   .sk-circle9[_ngcontent-%COMP%]:before{animation-delay:-.4s}.sk-circle[_ngcontent-%COMP%]   .sk-circle10[_ngcontent-%COMP%]:before{animation-delay:-.3s}.sk-circle[_ngcontent-%COMP%]   .sk-circle11[_ngcontent-%COMP%]:before{animation-delay:-.2s}.sk-circle[_ngcontent-%COMP%]   .sk-circle12[_ngcontent-%COMP%]:before{animation-delay:-.1s}@keyframes sk-circleBounceDelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.spinner-chasing-dots[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:2000;text-align:center;animation:sk-rotate 2s infinite linear}.dot1[_ngcontent-%COMP%], .dot2[_ngcontent-%COMP%]{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:#333;border-radius:100%;animation:sk-bounce 2s infinite ease-in-out}.dot2[_ngcontent-%COMP%]{top:auto;bottom:0;animation-delay:-1s}@keyframes sk-rotate{to{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}@keyframes sk-bounce{0%,to{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}.full-screen[_ngcontent-%COMP%]{position:fixed;position:-ms-page}']}),Qe})(),nt=(()=>{class Qe{static forRoot(ae){return{ngModule:Qe,providers:[{provide:"loadingConfig",useValue:ae}]}}}return Qe.\u0275fac=function(ae){return new(ae||Qe)},Qe.\u0275mod=_.oAB({type:Qe}),Qe.\u0275inj=_.cJS({imports:[d.ez]}),Qe})()},5861:(Zn,St,M)=>{function _(H,ge,Re,Ae,Ge,Oe,me){try{var Ce=H[Oe](me),xe=Ce.value}catch(Fe){return void Re(Fe)}Ce.done?ge(xe):Promise.resolve(xe).then(Ae,Ge)}function d(H){return function(){var ge=this,Re=arguments;return new Promise(function(Ae,Ge){var Oe=H.apply(ge,Re);function me(xe){_(Oe,Ae,Ge,me,Ce,"next",xe)}function Ce(xe){_(Oe,Ae,Ge,me,Ce,"throw",xe)}me(void 0)})}}M.d(St,{Z:()=>d})}},Zn=>{Zn(Zn.s=1528)}]);